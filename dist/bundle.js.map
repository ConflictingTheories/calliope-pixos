{"version":3,"file":"bundle.js","mappings":"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N,KAAM,MACN,KAAM,eACN,KAAM,QACN,KAAM,SACN,KAAM,UACN,KAAM,gBACN,KAAM,kBACN,KAAM,QACN,KAAM,MACN,KAAM,OACN,KAAM,YACN,KAAM,kBACN,KAAM,OACN,KAAM,UACN,KAAM,OACN,KAAM,OACN,KAAM,SACN,KAAM,WACN,KAAM,UACN,KAAM,UACN,KAAM,SACN,KAAM,yBACN,KAAM,wBACN,KAAM,wBACN,KAAM,uBACN,MAAO,qBACP,MAAO,qBACP,MAAO,iBACP,MAAO,iBACP,MAAO,SACP,MAAO,uBACP,MAAO,mBACP,MAAO,iBACP,MAAO,2BACP,MAAO,iBACP,MAAO,2BACP,MAAO,cACP,MAAO,WACP,MAAO,qBACP,MAAO,gBACP,MAAO,wBACP,MAAO,yBACP,MAAO,yBACP,MAAO,sBACP,MAAO,wBACP,MAAO,QACP,MAAO,UACP,MAAO,qBACP,MAAO,2BACP,MAAO,kBACP,MAAO,iBACP,MAAO,UACP,MAAO,wBACP,MAAO,yBACP,MAAO,gBACP,MAAO,gBACP,MAAO,kBACP,MAAO,kBACP,MAAO,gBACP,MAAO,uBACP,MAAO,oBACP,MAAO,2BACP,MAAO,uBACP,MAAO,kBACP,MAAO,2BACP,MAAO,2BACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,WACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,KAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,YACP,MAAO,iBACP,MAAO,wBACP,MAAO,gBACP,MAAO,YACP,MAAO,YACP,MAAO,mBACP,MAAO,2BACP,MAAO,8BACP,MAAO,8BACP,MAAO,8BACP,MAAO,8BACP,MAAO,8BACP,MAAO,8BACP,MAAO,4BACP,MAAO,8BACP,MAAO,2BACP,MA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BACA,iBACA,uBACA,cACA,oBACA,kBACA,oCCnEJhnB,EAAOC,QAAU,CAEf,MACE,OACA,MACA,MACA,OACA,OACA,OACA,QACA,MACA,QACA,OACA,OACA,UACA,WACA,MACA,QACA,MACA,OACA,cACA,QACA,QACA,eACA,2BACA,sBACA,kBACA,wBACA,eACA,gBACA,WACA,gBACA,0BACA,eACA,eACA,eACA,eACA,SACA,cACA,kBACA,mBACA,eACA,eACA,cACA,eACA,kBACA,gBACA,iBACA,4BACA,uBACA,mBACA,yBACA,gBACA,0BACA,wBACA,mBACA,iBACA,2BACA,wBACA,mBACA,kCACA,oBACA,kCACA,eACA,sBACA,0BACA,qBACA,sBACA,sBACA,gCACA,gCACA,qBACA,4BACA,qCACA,8BACA,+BACA,sCACA,+CACA,wCACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,YACA,kBACA,iBACA,kBACA,kBACA,kBACA,kBACA,WACA,gBACA,qBACA,eACA,cACA,sBACA,6BACA,sCACA,+BACA,oBACA,cACA,qBACA,mBACA,0BACA,mCACA,4BACA,YACA,cACA,mBACA,cACA,SACA,WACA,gBACA,MACA,OACA,iBACA,MACA,MACA,MACA,MACA,YACA,MACA,WACA,MACA,UACA,UACA,UACA,OACA,MACA,aACA,OACA,OACA,MACA,YACA,eACA,gBACA,mBACA,cACA,iBACA,kBACA,sBACA,oBACA,mBACA,uBACA,sCCpJJ,IAAIyrD,EAAO,EAAQ,MAEnB1rD,EAAOC,QAAUyrD,EAAK9rC,QAAQoH,OAAO,CAClC,SACC,WACA,SACA,OACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,QACA,QACA,QACA,oBACA,iBACA,uBACA,aACA,aACA,eACA,kBACA,aACA,aACA,eACA,kBACA,WACA,WACA,WACA,YACA,WACA,cACA,gBACA,QACA,SACA,aACA,SACA,YACA,SACA,SACA,UACA,UACA,UACA,YACA,WACA,WACA,WACA,aACA,WACA,WACA,WACA,aACA,eACA,eACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,qBACA,qBACA,cACA,eACA,eACA,iBACA,uBACA,aACA,kBACA,aACA,kBACA,iBACA,iBACA,gBACA,iBACA,iBACA,cACA,eACA,eACA,mBACA,oBACA,gCCrFJhnB,EAAOC,QAAU,CAEb,YACA,QACA,UACA,OACA,YACA,QACA,UACA,UACA,QACA,WACA,KACA,MACA,QACA,KACA,OACA,KACA,MACA,QACA,QACA,MACA,OACA,OACA,OACA,OACA,QACA,UACA,SACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,QACA,QACA,QACA,QACA,YACA,YACA,YACA,cACA,kBACA,kBACA,SAGA,MACA,QACA,QACA,OACA,UACA,WACA,OACA,SACA,OACA,SACA,UACA,SACA,WACA,WACA,SACA,SACA,SACA,WACA,YACA,OACA,QACA,SACA,OACA,QACA,WACA,QACA,SACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,gBACA,gBACA,sBACA,SACA,OACA,YACA,mBC5FJD,EAAOC,QAAU,CACb,MACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,qBC7CJ,IAAImW,EAAW,EAAQ,MAEvBpW,EAAOC,QAEP,SAAwBe,EAAKooD,GAC3B,IAAIuC,EAAYv1C,EAASgzC,GACrBD,EAAS,GAKb,OAHAA,EAASA,EAAOniC,OAAO2kC,EAAU3qD,KACjBgmB,OAAO2kC,EAAU,MAGnC,+BCVA,IAAIC,EAAU,EAAQ,MAMlBC,EAAgB,CAClBC,mBAAmB,EACnBC,aAAa,EACbC,cAAc,EACdC,cAAc,EACdC,aAAa,EACbC,iBAAiB,EACjBC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,QAAQ,EACRC,WAAW,EACXr0C,MAAM,GAEJs0C,EAAgB,CAClBj1C,MAAM,EACN9W,QAAQ,EACR8T,WAAW,EACXk4C,QAAQ,EACRC,QAAQ,EACRvgD,WAAW,EACXwgD,OAAO,GASLC,EAAe,CACjB,UAAY,EACZ/X,SAAS,EACToX,cAAc,EACdC,aAAa,EACbK,WAAW,EACXr0C,MAAM,GAEJ20C,EAAe,CAAC,EAIpB,SAASC,EAAWC,GAElB,OAAInB,EAAQoB,OAAOD,GACVH,EAIFC,EAAaE,EAAoB,WAAMlB,CAChD,CAXAgB,EAAajB,EAAQqB,YAhBK,CACxB,UAAY,EACZC,QAAQ,EACRjB,cAAc,EACdC,aAAa,EACbK,WAAW,GAYbM,EAAajB,EAAQuB,MAAQP,EAY7B,IAAIpY,EAAiBrqC,OAAOqqC,eACxB4Y,EAAsBjjD,OAAOijD,oBAC7BC,EAAwBljD,OAAOkjD,sBAC/BC,EAA2BnjD,OAAOmjD,yBAClCC,EAAiBpjD,OAAOojD,eACxBC,EAAkBrjD,OAAOoK,UAsC7BvU,EAAOC,QArCP,SAASwtD,EAAqBC,EAAiBC,EAAiBC,GAC9D,GAA+B,iBAApBD,EAA8B,CAEvC,GAAIH,EAAiB,CACnB,IAAIK,EAAqBN,EAAeI,GAEpCE,GAAsBA,IAAuBL,GAC/CC,EAAqBC,EAAiBG,EAAoBD,EAE9D,CAEA,IAAIxjD,EAAOgjD,EAAoBO,GAE3BN,IACFjjD,EAAOA,EAAK4c,OAAOqmC,EAAsBM,KAM3C,IAHA,IAAIG,EAAgBhB,EAAWY,GAC3BK,EAAgBjB,EAAWa,GAEtB/sD,EAAI,EAAGA,EAAIwJ,EAAK3J,SAAUG,EAAG,CACpC,IAAIyJ,EAAMD,EAAKxJ,GAEf,KAAK4rD,EAAcniD,IAAUujD,GAAaA,EAAUvjD,IAAW0jD,GAAiBA,EAAc1jD,IAAWyjD,GAAiBA,EAAczjD,IAAO,CAC7I,IAAI2jD,EAAaV,EAAyBK,EAAiBtjD,GAE3D,IAEEmqC,EAAekZ,EAAiBrjD,EAAK2jD,EACvC,CAAE,MAAOppC,GAAI,CACf,CACF,CACF,CAEA,OAAO8oC,CACT,eCnGAztD,EAAQuyC,KAAO,SAAUzc,EAAQjuB,EAAQmmD,EAAMC,EAAMC,GACnD,IAAIvpC,EAAGnS,EACH27C,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBE,GAAS,EACT3tD,EAAIqtD,EAAQE,EAAS,EAAK,EAC1B/hC,EAAI6hC,GAAQ,EAAI,EAChB11C,EAAIwd,EAAOjuB,EAASlH,GAOxB,IALAA,GAAKwrB,EAELxH,EAAIrM,GAAM,IAAOg2C,GAAU,EAC3Bh2C,KAAQg2C,EACRA,GAASH,EACFG,EAAQ,EAAG3pC,EAAS,IAAJA,EAAWmR,EAAOjuB,EAASlH,GAAIA,GAAKwrB,EAAGmiC,GAAS,GAKvE,IAHA97C,EAAImS,GAAM,IAAO2pC,GAAU,EAC3B3pC,KAAQ2pC,EACRA,GAASL,EACFK,EAAQ,EAAG97C,EAAS,IAAJA,EAAWsjB,EAAOjuB,EAASlH,GAAIA,GAAKwrB,EAAGmiC,GAAS,GAEvE,GAAU,IAAN3pC,EACFA,EAAI,EAAI0pC,MACH,IAAI1pC,IAAMypC,EACf,OAAO57C,EAAIuG,IAAsBD,KAAdR,GAAK,EAAI,GAE5B9F,GAAQtQ,KAAKsS,IAAI,EAAGy5C,GACpBtpC,GAAQ0pC,CACV,CACA,OAAQ/1C,GAAK,EAAI,GAAK9F,EAAItQ,KAAKsS,IAAI,EAAGmQ,EAAIspC,EAC5C,EAEAjuD,EAAQkwC,MAAQ,SAAUpa,EAAQrkB,EAAO5J,EAAQmmD,EAAMC,EAAMC,GAC3D,IAAIvpC,EAAGnS,EAAG5R,EACNutD,EAAiB,EAATD,EAAcD,EAAO,EAC7BG,GAAQ,GAAKD,GAAQ,EACrBE,EAAQD,GAAQ,EAChBG,EAAe,KAATN,EAAc/rD,KAAKsS,IAAI,GAAI,IAAMtS,KAAKsS,IAAI,GAAI,IAAM,EAC1D7T,EAAIqtD,EAAO,EAAKE,EAAS,EACzB/hC,EAAI6hC,EAAO,GAAK,EAChB11C,EAAI7G,EAAQ,GAAgB,IAAVA,GAAe,EAAIA,EAAQ,EAAK,EAAI,EAmC1D,IAjCAA,EAAQvP,KAAK8R,IAAIvC,GAEbqC,MAAMrC,IAAUA,IAAUqH,KAC5BtG,EAAIsB,MAAMrC,GAAS,EAAI,EACvBkT,EAAIypC,IAEJzpC,EAAIziB,KAAKC,MAAMD,KAAKb,IAAIoQ,GAASvP,KAAKssD,KAClC/8C,GAAS7Q,EAAIsB,KAAKsS,IAAI,GAAImQ,IAAM,IAClCA,IACA/jB,GAAK,IAGL6Q,GADEkT,EAAI0pC,GAAS,EACNE,EAAK3tD,EAEL2tD,EAAKrsD,KAAKsS,IAAI,EAAG,EAAI65C,IAEpBztD,GAAK,IACf+jB,IACA/jB,GAAK,GAGH+jB,EAAI0pC,GAASD,GACf57C,EAAI,EACJmS,EAAIypC,GACKzpC,EAAI0pC,GAAS,GACtB77C,GAAMf,EAAQ7Q,EAAK,GAAKsB,KAAKsS,IAAI,EAAGy5C,GACpCtpC,GAAQ0pC,IAER77C,EAAIf,EAAQvP,KAAKsS,IAAI,EAAG65C,EAAQ,GAAKnsD,KAAKsS,IAAI,EAAGy5C,GACjDtpC,EAAI,IAIDspC,GAAQ,EAAGn4B,EAAOjuB,EAASlH,GAAS,IAAJ6R,EAAU7R,GAAKwrB,EAAG3Z,GAAK,IAAKy7C,GAAQ,GAI3E,IAFAtpC,EAAKA,GAAKspC,EAAQz7C,EAClB27C,GAAQF,EACDE,EAAO,EAAGr4B,EAAOjuB,EAASlH,GAAS,IAAJgkB,EAAUhkB,GAAKwrB,EAAGxH,GAAK,IAAKwpC,GAAQ,GAE1Er4B,EAAOjuB,EAASlH,EAAIwrB,IAAU,IAAJ7T,CAC5B,uCCxEqEvY,EAAOC,QAAmN,SAASsY,EAAExH,EAAEqB,EAAEvH,GAAG,SAAS6jD,EAAE3oC,EAAE5T,GAAG,IAAIC,EAAE2T,GAAG,CAAC,IAAIhV,EAAEgV,GAAG,CAAmE,GAAGjS,EAAE,OAAOA,EAAEiS,GAAE,GAAI,IAAInlB,EAAE,IAAIuT,MAAM,uBAAuB4R,EAAE,KAAK,MAAMnlB,EAAE6tB,KAAK,mBAAmB7tB,CAAC,CAAC,IAAIyY,EAAEjH,EAAE2T,GAAG,CAAC9lB,QAAQ,CAAC,GAAG8Q,EAAEgV,GAAG,GAAGla,KAAKwN,EAAEpZ,SAAQ,SAASkS,GAAoB,OAAOu8C,EAAlB39C,EAAEgV,GAAG,GAAG5T,IAAeA,EAAE,GAAEkH,EAAEA,EAAEpZ,QAAQsY,EAAExH,EAAEqB,EAAEvH,EAAE,CAAC,OAAOuH,EAAE2T,GAAG9lB,OAAO,CAAC,IAAI,IAAI6T,OAAE,EAAoC3B,EAAE,EAAEA,EAAEtH,EAAEpK,OAAO0R,IAAIu8C,EAAE7jD,EAAEsH,IAAI,OAAOu8C,CAAC,CAAlb,CAAob,CAAC,EAAE,CAAC,SAASv8C,EAAEyS,EAAEmB,GAAG,aAAa,IAAIllB,EAAEsR,EAAE,WAAWia,EAAEja,EAAE,aAAahB,EAAE,oEAAoE4U,EAAE4oC,OAAO,SAASx8C,GAAG,IAAI,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAEvH,EAAE,GAAG6jD,EAAE,EAAE56C,EAAE3B,EAAE1R,OAAOkkB,EAAE7Q,EAAEsY,EAAE,WAAWvrB,EAAE+tD,UAAUz8C,GAAGu8C,EAAEv8C,EAAE1R,QAAQkkB,EAAE7Q,EAAE46C,EAAE9tD,EAAEwrB,GAAGxH,EAAEzS,EAAEu8C,KAAK3oC,EAAE2oC,EAAE56C,EAAE3B,EAAEu8C,KAAK,EAAEA,EAAE56C,EAAE3B,EAAEu8C,KAAK,IAAI9pC,EAAEzS,EAAEO,WAAWg8C,KAAK3oC,EAAE2oC,EAAE56C,EAAE3B,EAAEO,WAAWg8C,KAAK,EAAEA,EAAE56C,EAAE3B,EAAEO,WAAWg8C,KAAK,GAAGr1C,EAAEuL,GAAG,EAAErM,GAAG,EAAEqM,IAAI,EAAEmB,GAAG,EAAEhV,EAAE,EAAE4T,GAAG,GAAGoB,IAAI,EAAEnlB,GAAG,EAAE,GAAGwR,EAAE,EAAEuS,EAAE,GAAG/jB,EAAE,GAAGiK,EAAEoB,KAAKkF,EAAEkC,OAAOgG,GAAGlI,EAAEkC,OAAOkF,GAAGpH,EAAEkC,OAAOtC,GAAGI,EAAEkC,OAAOjB,IAAI,OAAOvH,EAAE9J,KAAK,GAAG,EAAEglB,EAAE8oC,OAAO,SAAS18C,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAE,EAAEvH,EAAE,EAAE6jD,EAAE,QAAQ,GAAGv8C,EAAEmB,OAAO,EAAEo7C,KAAYA,EAAE,MAAM,IAAIv6C,MAAM,mDAAmD,IAAIL,EAAE6Q,EAAE,GAAGxS,EAAEA,EAAEgD,QAAQ,sBAAsB,KAAK1U,OAAO,EAAE,GAAG0R,EAAEkB,OAAOlB,EAAE1R,OAAO,KAAK0Q,EAAEkC,OAAO,KAAKsR,IAAIxS,EAAEkB,OAAOlB,EAAE1R,OAAO,KAAK0Q,EAAEkC,OAAO,KAAKsR,IAAIA,EAAE,GAAG,EAAE,MAAM,IAAIxQ,MAAM,6CAA6C,IAAIL,EAAEsY,EAAE0iC,WAAW,IAAItoD,WAAW,EAAEme,GAAG,IAAIzS,MAAM,EAAEyS,GAAGvS,EAAED,EAAE1R,QAAQmkB,EAAEzT,EAAE+B,QAAQf,EAAEkB,OAAOjB,OAAO,GAAGiH,EAAElI,EAAE+B,QAAQf,EAAEkB,OAAOjB,QAAQ,EAAE2T,GAAG,GAAG1M,IAAI,GAAGd,EAAEpH,EAAE+B,QAAQf,EAAEkB,OAAOjB,QAAQ,EAAExR,GAAG,EAAE2X,IAAI,GAAGxH,EAAEI,EAAE+B,QAAQf,EAAEkB,OAAOjB,OAAO0B,EAAEjJ,KAAK+Z,EAAE,KAAKrM,IAAIzE,EAAEjJ,KAAKkb,GAAG,KAAKhV,IAAI+C,EAAEjJ,KAAKjK,GAAG,OAAOkT,CAAC,CAAC,EAAE,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE,CAAC,SAAS3B,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,cAAckH,EAAElH,EAAE,uBAAuBoG,EAAEpG,EAAE,uBAAuBpB,EAAEoB,EAAE,4BAA4B,SAASC,EAAED,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,GAAG7X,KAAKutD,eAAe58C,EAAE3Q,KAAKwtD,iBAAiBpqC,EAAEpjB,KAAKytD,MAAMlpC,EAAEvkB,KAAK0tD,YAAYtuD,EAAEY,KAAK2tD,kBAAkB91C,CAAC,CAACjH,EAAEmC,UAAU,CAAC66C,iBAAiB,WAAW,IAAIj9C,EAAE,IAAIkH,EAAEzY,EAAEyH,QAAQmB,QAAQhI,KAAK2tD,oBAAoBE,KAAK7tD,KAAK0tD,YAAYI,oBAAoBD,KAAK,IAAIt+C,EAAE,gBAAgB6T,EAAEpjB,KAAK,OAAO2Q,EAAEo9C,GAAG,OAAM,WAAW,GAAG/tD,KAAKguD,WAAWC,cAAc7qC,EAAEoqC,iBAAiB,MAAM,IAAI76C,MAAM,wCAAwC,IAAGhC,CAAC,EAAEu9C,oBAAoB,WAAW,OAAO,IAAIr2C,EAAEzY,EAAEyH,QAAQmB,QAAQhI,KAAK2tD,oBAAoBQ,eAAe,iBAAiBnuD,KAAKutD,gBAAgBY,eAAe,mBAAmBnuD,KAAKwtD,kBAAkBW,eAAe,QAAQnuD,KAAKytD,OAAOU,eAAe,cAAcnuD,KAAK0tD,YAAY,GAAG98C,EAAEw9C,iBAAiB,SAASz9C,EAAEyS,EAAEmB,GAAG,OAAO5T,EAAEk9C,KAAK,IAAI92C,GAAG82C,KAAK,IAAIt+C,EAAE,qBAAqBs+C,KAAKzqC,EAAEirC,eAAe9pC,IAAIspC,KAAK,IAAIt+C,EAAE,mBAAmB4+C,eAAe,cAAc/qC,EAAE,EAAEA,EAAE3kB,QAAQmS,CAAC,EAAE,CAAC,aAAa,EAAE,sBAAsB,GAAG,2BAA2B,GAAG,sBAAsB,KAAK,EAAE,CAAC,SAASD,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,0BAA0B4T,EAAE+pC,MAAM,CAACC,MAAM,OAAOF,eAAe,SAAS19C,GAAG,OAAO,IAAIvR,EAAE,oBAAoB,EAAE0uD,iBAAiB,WAAW,OAAO,IAAI1uD,EAAE,sBAAsB,GAAGmlB,EAAEiqC,QAAQ79C,EAAE,UAAU,EAAE,CAAC,UAAU,EAAE,yBAAyB,KAAK,EAAE,CAAC,SAASA,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,WAAeC,EAAE,WAAW,IAAI,IAAID,EAAEyS,EAAE,GAAGmB,EAAE,EAAEA,EAAE,IAAIA,IAAI,CAAC5T,EAAE4T,EAAE,IAAI,IAAInlB,EAAE,EAAEA,EAAE,EAAEA,IAAIuR,EAAE,EAAEA,EAAE,WAAWA,IAAI,EAAEA,IAAI,EAAEyS,EAAEmB,GAAG5T,CAAC,CAAC,OAAOyS,CAAC,CAA7G,GAAiHA,EAAE3kB,QAAQ,SAASkS,EAAEyS,GAAG,YAAO,IAASzS,GAAGA,EAAE1R,OAAO,WAAWG,EAAEguD,UAAUz8C,GAAG,SAASA,EAAEyS,EAAEmB,GAAK,IAAI1M,EAAEjH,EAAEmG,EAAmF,EAA/EwN,EAAE5T,IAAI,EAAE,IAAI,IAAIpB,EAA+D,EAA3DA,EAAEwH,EAAExH,IAAIoB,EAAEA,IAAI,EAAEkH,EAAE,KAAKlH,EAAEyS,EAAE7T,KAAK,OAASoB,CAAC,CAA5F,CAA8F,EAAEyS,EAAEzS,EAAEA,EAAE1R,QAAU,SAAS0R,EAAEyS,EAAEmB,GAAK,IAAI1M,EAAEjH,EAAEmG,EAA8F,EAA1FwN,EAAE5T,IAAI,EAAE,IAAI,IAAIpB,EAA0E,EAAtEA,EAAEwH,EAAExH,IAAIoB,EAAEA,IAAI,EAAEkH,EAAE,KAAKlH,EAAEyS,EAAElS,WAAW3B,KAAK,OAASoB,CAAC,CAAvG,CAAyG,EAAEyS,EAAEzS,EAAEA,EAAE1R,QAAU,CAAC,CAAC,EAAE,CAAC,UAAU,KAAK,EAAE,CAAC,SAAS0R,EAAEyS,EAAEmB,GAAG,aAAaA,EAAEkpB,QAAO,EAAGlpB,EAAEkqC,QAAO,EAAGlqC,EAAEsO,KAAI,EAAGtO,EAAEmqC,eAAc,EAAGnqC,EAAEsF,KAAK,KAAKtF,EAAEmpC,YAAY,KAAKnpC,EAAEoqC,mBAAmB,KAAKpqC,EAAEqqC,QAAQ,KAAKrqC,EAAEsqC,gBAAgB,KAAKtqC,EAAEuqC,eAAe,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,SAASn+C,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAOA,EAAE,oBAAoByH,QAAQA,QAAQ8J,EAAE,OAAOyS,EAAE3kB,QAAQ,CAACoI,QAAQzH,EAAE,EAAE,CAAC2vD,IAAI,KAAK,EAAE,CAAC,SAASp+C,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAE,oBAAoB4F,YAAY,oBAAoBgqD,aAAa,oBAAoBC,YAAYp3C,EAAElH,EAAE,QAAQoG,EAAEpG,EAAE,WAAWpB,EAAEoB,EAAE,0BAA0BC,EAAExR,EAAE,aAAa,QAAQ,SAASiK,EAAEsH,EAAEyS,GAAG7T,EAAElF,KAAKrK,KAAK,eAAe2Q,GAAG3Q,KAAKkvD,MAAM,KAAKlvD,KAAKmvD,YAAYx+C,EAAE3Q,KAAKovD,aAAahsC,EAAEpjB,KAAKqvD,KAAK,CAAC,CAAC,CAAC9qC,EAAEgqC,MAAM,OAAOx3C,EAAEu4C,SAASjmD,EAAEkG,GAAGlG,EAAE0J,UAAUw8C,aAAa,SAAS5+C,GAAG3Q,KAAKqvD,KAAK1+C,EAAE0+C,KAAK,OAAOrvD,KAAKkvD,OAAOlvD,KAAKwvD,cAAcxvD,KAAKkvD,MAAMzkD,KAAKsM,EAAE04C,YAAY7+C,EAAED,EAAE5F,OAAM,EAAG,EAAE1B,EAAE0J,UAAU28C,MAAM,WAAWngD,EAAEwD,UAAU28C,MAAMrlD,KAAKrK,MAAM,OAAOA,KAAKkvD,OAAOlvD,KAAKwvD,cAAcxvD,KAAKkvD,MAAMzkD,KAAK,IAAG,EAAG,EAAEpB,EAAE0J,UAAU48C,QAAQ,WAAWpgD,EAAEwD,UAAU48C,QAAQtlD,KAAKrK,MAAMA,KAAKkvD,MAAM,IAAI,EAAE7lD,EAAE0J,UAAUy8C,YAAY,WAAWxvD,KAAKkvD,MAAM,IAAIr3C,EAAE7X,KAAKmvD,aAAa,CAACS,KAAI,EAAGC,MAAM7vD,KAAKovD,aAAaS,QAAQ,IAAI,IAAIzsC,EAAEpjB,KAAKA,KAAKkvD,MAAMY,OAAO,SAASn/C,GAAGyS,EAAE3Y,KAAK,CAACM,KAAK4F,EAAE0+C,KAAKjsC,EAAEisC,MAAM,CAAC,EAAE9qC,EAAE8pC,eAAe,SAAS19C,GAAG,OAAO,IAAItH,EAAE,UAAUsH,EAAE,EAAE4T,EAAEupC,iBAAiB,WAAW,OAAO,IAAIzkD,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,yBAAyB,GAAG,UAAU,GAAG0mD,KAAK,KAAK,EAAE,CAAC,SAASp/C,EAAEyS,EAAEmB,GAAG,aAAa,SAASsG,EAAEla,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAE,GAAG,IAAImlB,EAAE,EAAEA,EAAEnB,EAAEmB,IAAInlB,GAAGJ,OAAOoT,aAAa,IAAIzB,GAAGA,KAAK,EAAE,OAAOvR,CAAC,CAAC,SAASA,EAAEuR,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,GAAG,IAAIxH,EAAEqB,EAAEvH,EAAEsH,EAAEkoB,KAAKq0B,EAAEv8C,EAAE+8C,YAAYp7C,EAAEyE,IAAI5F,EAAE6+C,WAAW7sC,EAAEnD,EAAEyvC,YAAY,SAAS14C,EAAE1N,EAAE0M,OAAO6U,EAAE5K,EAAEyvC,YAAY,SAASt+C,EAAE6+C,WAAW3mD,EAAE0M,OAAO1W,EAAEgK,EAAEulD,QAAQj/C,EAAEqQ,EAAEyvC,YAAY,SAAS14C,EAAE1X,IAAI4R,EAAE+O,EAAEyvC,YAAY,SAASt+C,EAAE6+C,WAAW3wD,IAAIqc,EAAEkP,EAAE3rB,SAASoK,EAAE0M,KAAK9W,OAAO28C,EAAE3qC,EAAEhS,SAASI,EAAEJ,OAAOuQ,EAAE,GAAGmG,EAAE,GAAG/T,EAAE,GAAGwH,EAAEC,EAAEwpB,IAAIgI,EAAExxB,EAAEwgB,KAAKloB,EAAE,CAAC8rD,MAAM,EAAEF,eAAe,EAAEC,iBAAiB,GAAGpqC,IAAImB,IAAI5iB,EAAE8rD,MAAM98C,EAAE88C,MAAM9rD,EAAE4rD,eAAe58C,EAAE48C,eAAe5rD,EAAE6rD,iBAAiB78C,EAAE68C,kBAAkB,IAAIpuC,EAAE,EAAEgE,IAAIhE,GAAG,GAAG9M,IAAIoJ,IAAIkgC,IAAIx8B,GAAG,MAAM,IAAI1c,EAAE,EAAEitB,EAAE,EAAEvmB,IAAI1G,GAAG,IAAI,SAASmV,GAAG8X,EAAE,IAAIjtB,GAAG,SAASiO,EAAEyS,GAAG,IAAImB,EAAE5T,EAAE,OAAOA,IAAI4T,EAAEnB,EAAE,MAAM,QAAQ,MAAMmB,IAAI,EAAE,CAA/D,CAAiElb,EAAEwlD,gBAAgBzlD,KAAKumB,EAAE,GAAGjtB,GAAG,SAASiO,GAAG,OAAO,IAAIA,GAAG,EAAE,CAA5B,CAA8BtH,EAAEylD,iBAAiBv/C,EAAEsrB,EAAE5P,cAAc1b,IAAI,EAAEA,GAAGsrB,EAAE1P,gBAAgB5b,IAAI,EAAEA,GAAGsrB,EAAExP,gBAAgB,EAAEza,EAAEiqB,EAAE9Q,iBAAiB,KAAKnZ,IAAI,EAAEA,GAAGiqB,EAAE5Q,cAAc,EAAErZ,IAAI,EAAEA,GAAGiqB,EAAEvQ,aAAa5O,IAAI/F,EAAEkV,EAAE,EAAE,GAAGA,EAAE3K,EAAEiD,GAAG,GAAGyH,EAAEpb,GAAG,KAAKqb,EAAElV,EAAE1W,OAAO,GAAG0W,GAAGimC,IAAIh6C,EAAEipB,EAAE,EAAE,GAAGA,EAAE3K,EAAEvQ,GAAG,GAAGsB,EAAEzB,GAAG,KAAKqb,EAAEjpB,EAAE3C,OAAO,GAAG2C,GAAG,IAAI2R,EAAE,GAAG,OAAOA,GAAG,OAAOA,GAAGsX,EAAEzL,EAAE,GAAG7L,GAAG25C,EAAEqB,MAAMh7C,GAAGsX,EAAEtb,EAAE,GAAGgE,GAAGsX,EAAEja,EAAE,GAAG2C,GAAGsX,EAAElpB,EAAE8rD,MAAM,GAAGl6C,GAAGsX,EAAElpB,EAAE4rD,eAAe,GAAGh6C,GAAGsX,EAAElpB,EAAE6rD,iBAAiB,GAAGj6C,GAAGsX,EAAE1H,EAAElkB,OAAO,GAAGsU,GAAGsX,EAAErb,EAAEvQ,OAAO,GAAG,CAACgxD,WAAWC,EAAEC,kBAAkB58C,EAAE4P,EAAE3T,EAAE4gD,UAAUF,EAAEG,oBAAoBxlC,EAAE8E,EAAE,GAAGpc,EAAEsX,EAAElb,EAAE1Q,OAAO,GAAG,WAAW4rB,EAAEnoB,EAAE,GAAGmoB,EAAEzrB,EAAE,GAAG+jB,EAAE3T,EAAEG,EAAE,CAAC,IAAIqQ,EAAErP,EAAE,YAAYkH,EAAElH,EAAE,2BAA2BQ,EAAER,EAAE,WAAWuP,EAAEvP,EAAE,YAAYu/C,EAAEv/C,EAAE,gBAAgB,SAASoG,EAAEpG,EAAEyS,EAAEmB,EAAEnlB,GAAGyY,EAAExN,KAAKrK,KAAK,iBAAiBA,KAAKswD,aAAa,EAAEtwD,KAAKuwD,WAAWntC,EAAEpjB,KAAKwwD,YAAYjsC,EAAEvkB,KAAKywD,eAAerxD,EAAEY,KAAK0wD,YAAY//C,EAAE3Q,KAAK2wD,YAAW,EAAG3wD,KAAK4wD,cAAc,GAAG5wD,KAAK6wD,WAAW,GAAG7wD,KAAK8wD,oBAAoB,EAAE9wD,KAAK+wD,aAAa,EAAE/wD,KAAKgxD,YAAY,KAAKhxD,KAAKixD,SAAS,EAAE,CAACjxC,EAAEsvC,SAASv4C,EAAEc,GAAGd,EAAEhE,UAAUtI,KAAK,SAASkG,GAAG,IAAIyS,EAAEzS,EAAE0+C,KAAK6B,SAAS,EAAE3sC,EAAEvkB,KAAK+wD,aAAa3xD,EAAEY,KAAKixD,SAAShyD,OAAOe,KAAK2wD,WAAW3wD,KAAK4wD,cAAcnmD,KAAKkG,IAAI3Q,KAAKswD,cAAc3/C,EAAE5F,KAAK9L,OAAO4Y,EAAE9E,UAAUtI,KAAKJ,KAAKrK,KAAK,CAAC+K,KAAK4F,EAAE5F,KAAKskD,KAAK,CAAC2B,YAAYhxD,KAAKgxD,YAAYE,QAAQ3sC,GAAGnB,EAAE,KAAKmB,EAAEnlB,EAAE,IAAImlB,EAAE,OAAO,EAAExN,EAAEhE,UAAUo+C,aAAa,SAASxgD,GAAG3Q,KAAK8wD,oBAAoB9wD,KAAKswD,aAAatwD,KAAKgxD,YAAYrgD,EAAEkoB,KAAK9iB,KAAK,IAAIqN,EAAEpjB,KAAK0wD,cAAc//C,EAAEkoB,KAAKhG,IAAI,GAAGzP,EAAE,CAAC,IAAImB,EAAEnlB,EAAEuR,EAAEyS,GAAE,EAAGpjB,KAAK8wD,oBAAoB9wD,KAAKwwD,YAAYxwD,KAAKywD,gBAAgBzwD,KAAKyK,KAAK,CAACM,KAAKwZ,EAAE0rC,WAAWZ,KAAK,CAAC6B,QAAQ,IAAI,MAAMlxD,KAAK2wD,YAAW,CAAE,EAAE55C,EAAEhE,UAAUq+C,aAAa,SAASzgD,GAAG3Q,KAAK2wD,YAAW,EAAG,IAAIvtC,EAAEpjB,KAAK0wD,cAAc//C,EAAEkoB,KAAKhG,IAAItO,EAAEnlB,EAAEuR,EAAEyS,GAAE,EAAGpjB,KAAK8wD,oBAAoB9wD,KAAKwwD,YAAYxwD,KAAKywD,gBAAgB,GAAGzwD,KAAK6wD,WAAWpmD,KAAK8Z,EAAE6rC,WAAWhtC,EAAEpjB,KAAKyK,KAAK,CAACM,KAAK,SAAS4F,GAAG,OAAOu/C,EAAEmB,gBAAgBxmC,EAAEla,EAAE88C,MAAM,GAAG5iC,EAAEla,EAAE48C,eAAe,GAAG1iC,EAAEla,EAAE68C,iBAAiB,EAAE,CAA/F,CAAiG78C,GAAG0+C,KAAK,CAAC6B,QAAQ,YAAY,IAAIlxD,KAAKyK,KAAK,CAACM,KAAKwZ,EAAE0rC,WAAWZ,KAAK,CAAC6B,QAAQ,KAAKlxD,KAAK4wD,cAAc3xD,QAAQe,KAAKyK,KAAKzK,KAAK4wD,cAAclrD,SAAS1F,KAAKgxD,YAAY,IAAI,EAAEj6C,EAAEhE,UAAU28C,MAAM,WAAW,IAAI,IAAI/+C,EAAE3Q,KAAKswD,aAAaltC,EAAE,EAAEA,EAAEpjB,KAAK6wD,WAAW5xD,OAAOmkB,IAAIpjB,KAAKyK,KAAK,CAACM,KAAK/K,KAAK6wD,WAAWztC,GAAGisC,KAAK,CAAC6B,QAAQ,OAAO,IAAI3sC,EAAEvkB,KAAKswD,aAAa3/C,EAAEvR,EAAE,SAASuR,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,GAAG,IAAId,EAAEiJ,EAAEyvC,YAAY,SAAS53C,EAAEzY,IAAI,OAAO8wD,EAAEoB,sBAAsB,WAAWzmC,EAAEla,EAAE,GAAGka,EAAEla,EAAE,GAAGka,EAAEzH,EAAE,GAAGyH,EAAEtG,EAAE,GAAGsG,EAAE9T,EAAE9X,OAAO,GAAG8X,CAAC,CAA5I,CAA8I/W,KAAK6wD,WAAW5xD,OAAOslB,EAAE5T,EAAE3Q,KAAKuwD,WAAWvwD,KAAKywD,gBAAgBzwD,KAAKyK,KAAK,CAACM,KAAK3L,EAAEiwD,KAAK,CAAC6B,QAAQ,MAAM,EAAEn6C,EAAEhE,UAAUw+C,kBAAkB,WAAWvxD,KAAKwxD,SAASxxD,KAAKixD,SAASvrD,QAAQ1F,KAAKmxD,aAAanxD,KAAKwxD,SAASxD,YAAYhuD,KAAKyxD,SAASzxD,KAAKwxD,SAASl3B,QAAQt6B,KAAKwxD,SAASE,QAAQ,EAAE36C,EAAEhE,UAAU4+C,iBAAiB,SAAShhD,GAAG3Q,KAAKixD,SAASxmD,KAAKkG,GAAG,IAAIyS,EAAEpjB,KAAK,OAAO2Q,EAAEo9C,GAAG,QAAO,SAASp9C,GAAGyS,EAAEmsC,aAAa5+C,EAAE,IAAGA,EAAEo9C,GAAG,OAAM,WAAW3qC,EAAEguC,aAAahuC,EAAEouC,SAASxD,YAAY5qC,EAAE6tC,SAAShyD,OAAOmkB,EAAEmuC,oBAAoBnuC,EAAEhI,KAAK,IAAGzK,EAAEo9C,GAAG,SAAQ,SAASp9C,GAAGyS,EAAET,MAAMhS,EAAE,IAAG3Q,IAAI,EAAE+W,EAAEhE,UAAU2+C,OAAO,WAAW,QAAQ75C,EAAE9E,UAAU2+C,OAAOrnD,KAAKrK,SAASA,KAAKwxD,UAAUxxD,KAAKixD,SAAShyD,QAAQe,KAAKuxD,qBAAoB,GAAIvxD,KAAKwxD,UAAUxxD,KAAKixD,SAAShyD,QAAQe,KAAK4xD,oBAAe,GAAQ5xD,KAAKob,OAAM,GAAI,EAAErE,EAAEhE,UAAU4P,MAAM,SAAShS,GAAG,IAAIyS,EAAEpjB,KAAKixD,SAAS,IAAIp5C,EAAE9E,UAAU4P,MAAMtY,KAAKrK,KAAK2Q,GAAG,OAAM,EAAG,IAAI,IAAI4T,EAAE,EAAEA,EAAEnB,EAAEnkB,OAAOslB,IAAI,IAAInB,EAAEmB,GAAG5B,MAAMhS,EAAE,CAAC,MAAMA,GAAG,CAAC,OAAM,CAAE,EAAEoG,EAAEhE,UAAU8+C,KAAK,WAAWh6C,EAAE9E,UAAU8+C,KAAKxnD,KAAKrK,MAAM,IAAI,IAAI2Q,EAAE3Q,KAAKixD,SAAS7tC,EAAE,EAAEA,EAAEzS,EAAE1R,OAAOmkB,IAAIzS,EAAEyS,GAAGyuC,MAAM,EAAEzuC,EAAE3kB,QAAQsY,CAAC,EAAE,CAAC,WAAW,EAAE,eAAe,GAAG,0BAA0B,GAAG,UAAU,GAAG,WAAW,KAAK,EAAE,CAAC,SAASpG,EAAEyS,EAAEmB,GAAG,aAAa,IAAI2oC,EAAEv8C,EAAE,mBAAmBvR,EAAEuR,EAAE,mBAAmB4T,EAAEutC,eAAe,SAASnhD,EAAEpB,EAAE6T,GAAG,IAAIxS,EAAE,IAAIxR,EAAEmQ,EAAEmhD,YAAYttC,EAAE7T,EAAEwiD,SAASxiD,EAAEkhD,gBAAgBpnD,EAAE,EAAE,IAAIsH,EAAE0N,SAAQ,SAAS1N,EAAEyS,GAAG/Z,IAAI,IAAIkb,EAAE,SAAS5T,EAAEyS,GAAG,IAAImB,EAAE5T,GAAGyS,EAAEhkB,EAAE8tD,EAAE3oC,GAAG,IAAInlB,EAAE,MAAM,IAAIuT,MAAM4R,EAAE,wCAAwC,OAAOnlB,CAAC,CAAxG,CAA0GgkB,EAAEtgB,QAAQ4qD,YAAYn+C,EAAEm+C,aAAatuD,EAAEgkB,EAAEtgB,QAAQ6rD,oBAAoBp/C,EAAEo/C,oBAAoB,CAAC,EAAE92C,EAAEuL,EAAEyP,IAAI9b,EAAEqM,EAAEyG,KAAKzG,EAAE4uC,gBAAgBztC,EAAEnlB,GAAG+uD,eAAe,OAAO,CAACp4C,KAAKpF,EAAEkiB,IAAIhb,EAAEgS,KAAK9S,EAAE63C,QAAQxrC,EAAEwrC,SAAS,GAAGC,gBAAgBzrC,EAAEyrC,gBAAgBC,eAAe1rC,EAAE0rC,iBAAiBjB,KAAKj9C,EAAE,IAAGA,EAAEmgD,aAAa1nD,CAAC,CAAC,MAAMsH,GAAGC,EAAE+R,MAAMhS,EAAE,CAAC,OAAOC,CAAC,CAAC,EAAE,CAAC,kBAAkB,EAAE,kBAAkB,IAAI,GAAG,CAAC,SAASD,EAAEyS,EAAEmB,GAAG,aAAa,SAASnlB,IAAI,KAAKY,gBAAgBZ,GAAG,OAAO,IAAIA,EAAE,GAAGuL,UAAU1L,OAAO,MAAM,IAAI0T,MAAM,kGAAkG3S,KAAKiyD,MAAMtpD,OAAOwQ,OAAO,MAAMnZ,KAAK4uD,QAAQ,KAAK5uD,KAAKkyD,KAAK,GAAGlyD,KAAKmyD,MAAM,WAAW,IAAIxhD,EAAE,IAAIvR,EAAE,IAAI,IAAIgkB,KAAKpjB,KAAK,mBAAmBA,KAAKojB,KAAKzS,EAAEyS,GAAGpjB,KAAKojB,IAAI,OAAOzS,CAAC,CAAC,EAAEvR,EAAE2T,UAAUpC,EAAE,aAAayhD,UAAUzhD,EAAE,UAAUvR,EAAEizD,QAAQ1hD,EAAE,aAAavR,EAAEkzD,SAAS3hD,EAAE,cAAcvR,EAAEipD,QAAQ,QAAQjpD,EAAEgzD,UAAU,SAASzhD,EAAEyS,GAAG,OAAM,IAAKhkB,GAAGgzD,UAAUzhD,EAAEyS,EAAE,EAAEhkB,EAAEmzD,SAAS5hD,EAAE,cAAcyS,EAAE3kB,QAAQW,CAAC,EAAE,CAAC,aAAa,EAAE,aAAa,EAAE,SAAS,GAAG,WAAW,GAAG,YAAY,KAAK,GAAG,CAAC,SAASuR,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,WAAWkH,EAAElH,EAAE,cAAcC,EAAED,EAAE,UAAUtH,EAAEsH,EAAE,gBAAgBoG,EAAEpG,EAAE,uBAAuBu8C,EAAEv8C,EAAE,iBAAiB,SAAS2B,EAAElT,GAAG,OAAO,IAAIyY,EAAEhR,SAAQ,SAAS8J,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEozD,aAAa5E,mBAAmBC,KAAK,IAAI92C,GAAGwN,EAAEwpC,GAAG,SAAQ,SAASp9C,GAAGyS,EAAEzS,EAAE,IAAGo9C,GAAG,OAAM,WAAWxpC,EAAEypC,WAAWP,QAAQruD,EAAEozD,aAAa/E,MAAMrqC,EAAE,IAAIzQ,MAAM,mCAAmChC,GAAG,IAAG+gD,QAAQ,GAAE,CAACtuC,EAAE3kB,QAAQ,SAASkS,EAAEoG,GAAG,IAAIxH,EAAEvP,KAAK,OAAO+W,EAAE3X,EAAE6Z,OAAOlC,GAAG,CAAC,EAAE,CAAC02B,QAAO,EAAGglB,YAAW,EAAGC,uBAAsB,EAAGhE,eAAc,EAAGiE,eAAe/hD,EAAEgiD,aAAa1F,EAAE2F,QAAQ3F,EAAE4F,SAASniD,GAAGkH,EAAEhR,QAAQksD,OAAO,IAAIpgD,MAAM,yDAAyDvT,EAAE4zD,eAAe,sBAAsBriD,GAAE,EAAGoG,EAAE27C,sBAAsB37C,EAAE02B,QAAQloC,MAAK,SAASoL,GAAG,IAAIyS,EAAE,IAAI/Z,EAAE0N,GAAG,OAAOqM,EAAEkM,KAAK3e,GAAGyS,CAAC,IAAG7d,MAAK,SAASoL,GAAG,IAAIyS,EAAE,CAACvL,EAAEhR,QAAQmB,QAAQ2I,IAAI4T,EAAE5T,EAAEshD,MAAM,GAAGl7C,EAAE07C,WAAW,IAAI,IAAIrzD,EAAE,EAAEA,EAAEmlB,EAAEtlB,OAAOG,IAAIgkB,EAAE3Y,KAAK6H,EAAEiS,EAAEnlB,KAAK,OAAOyY,EAAEhR,QAAQC,IAAIsc,EAAE,IAAG7d,MAAK,SAASoL,GAAG,IAAI,IAAIyS,EAAEzS,EAAEjL,QAAQ6e,EAAEnB,EAAE6uC,MAAM7yD,EAAE,EAAEA,EAAEmlB,EAAEtlB,OAAOG,IAAI,CAAC,IAAIyY,EAAE0M,EAAEnlB,GAAGmQ,EAAEspB,KAAKhhB,EAAEo7C,YAAYp7C,EAAE26C,aAAa,CAAC/D,QAAO,EAAGiE,uBAAsB,EAAG7oC,KAAKhS,EAAEgS,KAAKgJ,IAAIhb,EAAEgb,IAAI+7B,QAAQ/2C,EAAEq7C,eAAej0D,OAAO4Y,EAAEq7C,eAAe,KAAKrE,gBAAgBh3C,EAAEg3C,gBAAgBC,eAAej3C,EAAEi3C,eAAeJ,cAAc33C,EAAE23C,eAAe,CAAC,OAAOtrC,EAAEmtC,WAAWtxD,SAASsQ,EAAEq/C,QAAQxrC,EAAEmtC,YAAYhhD,CAAC,GAAE,CAAC,EAAE,CAAC,aAAa,EAAE,gBAAgB,GAAG,sBAAsB,GAAG,SAAS,GAAG,UAAU,GAAG,eAAe,KAAK,GAAG,CAAC,SAASoB,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,YAAYkH,EAAElH,EAAE,2BAA2B,SAASoG,EAAEpG,EAAEyS,GAAGvL,EAAExN,KAAKrK,KAAK,mCAAmC2Q,GAAG3Q,KAAKmzD,gBAAe,EAAGnzD,KAAKozD,YAAYhwC,EAAE,CAAChkB,EAAEkwD,SAASv4C,EAAEc,GAAGd,EAAEhE,UAAUqgD,YAAY,SAASziD,GAAG,IAAIyS,EAAEpjB,MAAMA,KAAKqzD,QAAQ1iD,GAAG2pB,QAAQ3pB,EAAEo9C,GAAG,QAAO,SAASp9C,GAAGyS,EAAE3Y,KAAK,CAACM,KAAK4F,EAAE0+C,KAAK,CAAC6B,QAAQ,IAAI,IAAGnD,GAAG,SAAQ,SAASp9C,GAAGyS,EAAEquC,SAASzxD,KAAK4xD,eAAejhD,EAAEyS,EAAET,MAAMhS,EAAE,IAAGo9C,GAAG,OAAM,WAAW3qC,EAAEquC,SAASruC,EAAE+vC,gBAAe,EAAG/vC,EAAEhI,KAAK,GAAE,EAAErE,EAAEhE,UAAUunB,MAAM,WAAW,QAAQziB,EAAE9E,UAAUunB,MAAMjwB,KAAKrK,QAAQA,KAAKqzD,QAAQ/4B,SAAQ,EAAG,EAAEvjB,EAAEhE,UAAU2+C,OAAO,WAAW,QAAQ75C,EAAE9E,UAAU2+C,OAAOrnD,KAAKrK,QAAQA,KAAKmzD,eAAenzD,KAAKob,MAAMpb,KAAKqzD,QAAQ3B,UAAS,EAAG,EAAEtuC,EAAE3kB,QAAQsY,CAAC,EAAE,CAAC,0BAA0B,GAAG,WAAW,KAAK,GAAG,CAAC,SAASpG,EAAEyS,EAAEmB,GAAG,aAAa,IAAI1M,EAAElH,EAAE,mBAAmB2iD,SAAS,SAASl0D,EAAEuR,EAAEyS,EAAEmB,GAAG1M,EAAExN,KAAKrK,KAAKojB,GAAGpjB,KAAKuzD,QAAQ5iD,EAAE,IAAIvR,EAAEY,KAAK2Q,EAAEo9C,GAAG,QAAO,SAASp9C,EAAEyS,GAAGhkB,EAAEqL,KAAKkG,IAAIvR,EAAEm0D,QAAQj5B,QAAQ/V,GAAGA,EAAEnB,EAAE,IAAG2qC,GAAG,SAAQ,SAASp9C,GAAGvR,EAAEo0D,KAAK,QAAQ7iD,EAAE,IAAGo9C,GAAG,OAAM,WAAW3uD,EAAEqL,KAAK,KAAK,GAAE,CAACkG,EAAE,YAAY2+C,SAASlwD,EAAEyY,GAAGzY,EAAE2T,UAAU0gD,MAAM,WAAWzzD,KAAKuzD,QAAQ7B,QAAQ,EAAEtuC,EAAE3kB,QAAQW,CAAC,EAAE,CAAC,WAAW,GAAG,kBAAkB,KAAK,GAAG,CAAC,SAASuR,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,CAACo0D,YAAO,IAAoBhlB,EAAO6lB,cAAc,SAAS/iD,EAAEyS,GAAG,GAAGyqB,EAAO7sC,MAAM6sC,EAAO7sC,OAAOgE,WAAWhE,KAAK,OAAO6sC,EAAO7sC,KAAK2P,EAAEyS,GAAG,GAAG,iBAAiBzS,EAAE,MAAM,IAAIgC,MAAM,4CAA4C,OAAO,IAAIk7B,EAAOl9B,EAAEyS,EAAE,EAAEuwC,YAAY,SAAShjD,GAAG,GAAGk9B,EAAOE,MAAM,OAAOF,EAAOE,MAAMp9B,GAAG,IAAIyS,EAAE,IAAIyqB,EAAOl9B,GAAG,OAAOyS,EAAEnB,KAAK,GAAGmB,CAAC,EAAEmsB,SAAS,SAAS5+B,GAAG,OAAOk9B,EAAO0B,SAAS5+B,EAAE,EAAEmiD,SAAS,SAASniD,GAAG,OAAOA,GAAG,mBAAmBA,EAAEo9C,IAAI,mBAAmBp9C,EAAE2pB,OAAO,mBAAmB3pB,EAAE+gD,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS/gD,EAAEyS,EAAEmB,GAAG,aAAa,SAASxN,EAAEpG,EAAEyS,EAAEmB,GAAG,IAAInlB,EAAEyY,EAAEq1C,EAAEE,UAAUhqC,GAAGrM,EAAEm2C,EAAEj0C,OAAOsL,GAAG,CAAC,EAAEpB,GAAGpM,EAAE8S,KAAK9S,EAAE8S,MAAM,IAAI1mB,KAAK,OAAO4T,EAAE22C,cAAc32C,EAAE22C,YAAY32C,EAAE22C,YAAY16C,eAAe,iBAAiB+D,EAAE83C,kBAAkB93C,EAAE83C,gBAAgBl9C,SAASoF,EAAE83C,gBAAgB,IAAI93C,EAAE83C,iBAAiB,MAAM93C,EAAE83C,kBAAkB93C,EAAE8b,KAAI,GAAI9b,EAAE+3C,gBAAgB,GAAG/3C,EAAE+3C,iBAAiB/3C,EAAE8b,KAAI,GAAI9b,EAAE8b,MAAMliB,EAAEirC,EAAEjrC,IAAIoG,EAAE23C,gBAAgBtvD,EAAEsc,EAAE/K,KAAKnB,EAAEnF,KAAKrK,KAAKZ,GAAE,GAAI,IAAImQ,EAAE,WAAWsI,IAAG,IAAKd,EAAE03C,SAAQ,IAAK13C,EAAE02B,OAAOlpB,QAAG,IAASA,EAAEkqC,SAAS13C,EAAE03C,QAAQl/C,IAAI6T,aAAawH,GAAG,IAAIxH,EAAEoqC,kBAAkBz2C,EAAE8b,MAAMzP,GAAG,IAAIA,EAAEnkB,UAAU8X,EAAE02B,QAAO,EAAG12B,EAAE03C,QAAO,EAAGrrC,EAAE,GAAGrM,EAAE22C,YAAY,QAAQ71C,EAAE,UAAU,IAAIjH,EAAOA,EAAEwS,aAAawH,GAAGxH,aAAa9Q,EAAE8Q,EAAEzT,EAAEkjD,QAAQljD,EAAEmjD,SAAS1vC,GAAG,IAAInS,EAAEN,EAAEyS,GAAG8pC,EAAE8F,eAAeriD,EAAEyS,EAAErM,EAAE03C,OAAO13C,EAAE27C,sBAAsB37C,EAAE02B,QAAQ,IAAIpkC,EAAE,IAAIhK,EAAEsR,EAAEC,EAAEmG,GAAG/W,KAAKiyD,MAAMthD,GAAGtH,CAAC,CAAC,IAAIwO,EAAElH,EAAE,UAAUu8C,EAAEv8C,EAAE,WAAW2B,EAAE3B,EAAE,0BAA0BpB,EAAEoB,EAAE,yBAAyBwS,EAAExS,EAAE,cAAcia,EAAEja,EAAE,sBAAsBtR,EAAEsR,EAAE,eAAeC,EAAED,EAAE,cAAchB,EAAEgB,EAAE,iBAAiBM,EAAEN,EAAE,qCAAqC+K,EAAE,SAAS/K,GAAG,MAAMA,EAAEyN,OAAO,KAAKzN,EAAEA,EAAEyC,UAAU,EAAEzC,EAAE1R,OAAO,IAAI,IAAImkB,EAAEzS,EAAEigC,YAAY,KAAK,OAAO,EAAExtB,EAAEzS,EAAEyC,UAAU,EAAEgQ,GAAG,EAAE,EAAEw4B,EAAE,SAASjrC,GAAG,MAAM,MAAMA,EAAEyN,OAAO,KAAKzN,GAAG,KAAKA,CAAC,EAAEnB,EAAE,SAASmB,EAAEyS,GAAG,OAAOA,OAAE,IAASA,EAAEA,EAAED,EAAEurC,cAAc/9C,EAAEirC,EAAEjrC,GAAG3Q,KAAKiyD,MAAMthD,IAAIoG,EAAE1M,KAAKrK,KAAK2Q,EAAE,KAAK,CAACkiB,KAAI,EAAG67B,cAActrC,IAAIpjB,KAAKiyD,MAAMthD,EAAE,EAAE,SAAStH,EAAEsH,GAAG,MAAM,oBAAoBhI,OAAOoK,UAAUP,SAASnI,KAAKsG,EAAE,CAAC,IAAIvR,EAAE,CAACkwB,KAAK,WAAW,MAAM,IAAI3c,MAAM,6EAA6E,EAAE0L,QAAQ,SAAS1N,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAE,IAAIgkB,KAAKpjB,KAAKiyD,MAAM7yD,EAAEY,KAAKiyD,MAAM7uC,IAAImB,EAAEnB,EAAEhF,MAAMpe,KAAKkyD,KAAKjzD,OAAOmkB,EAAEnkB,UAAUmkB,EAAEhF,MAAM,EAAEpe,KAAKkyD,KAAKjzD,UAAUe,KAAKkyD,MAAMvhD,EAAE4T,EAAEnlB,EAAE,EAAEqH,OAAO,SAAS8d,GAAG,IAAInlB,EAAE,GAAG,OAAOY,KAAKqe,SAAQ,SAAS1N,EAAEyS,GAAGmB,EAAE5T,EAAEyS,IAAIhkB,EAAEqL,KAAK2Y,EAAE,IAAGhkB,CAAC,EAAEy5B,KAAK,SAASloB,EAAEyS,EAAEmB,GAAG,GAAG,IAAI5Z,UAAU1L,OAAO,OAAO0R,EAAE3Q,KAAKkyD,KAAKvhD,EAAEoG,EAAE1M,KAAKrK,KAAK2Q,EAAEyS,EAAEmB,GAAGvkB,KAAK,GAAGqJ,EAAEsH,GAAG,CAAC,IAAIvR,EAAEuR,EAAE,OAAO3Q,KAAKyG,QAAO,SAASkK,EAAEyS,GAAG,OAAOA,EAAEyP,KAAKzzB,EAAEwhB,KAAKjQ,EAAE,GAAE,CAAC,IAAIkH,EAAE7X,KAAKiyD,MAAMjyD,KAAKkyD,KAAKvhD,GAAG,OAAOkH,IAAIA,EAAEgb,IAAIhb,EAAE,IAAI,EAAE+7C,OAAO,SAASrvC,GAAG,IAAIA,EAAE,OAAOvkB,KAAK,GAAGqJ,EAAEkb,GAAG,OAAOvkB,KAAKyG,QAAO,SAASkK,EAAEyS,GAAG,OAAOA,EAAEyP,KAAKtO,EAAE3D,KAAKjQ,EAAE,IAAG,IAAIA,EAAE3Q,KAAKkyD,KAAK3tC,EAAEnB,EAAE5T,EAAEnF,KAAKrK,KAAK2Q,GAAGvR,EAAEY,KAAKmyD,QAAQ,OAAO/yD,EAAE8yD,KAAK9uC,EAAErN,KAAK3W,CAAC,EAAEgqB,OAAO,SAAS7E,GAAGA,EAAEvkB,KAAKkyD,KAAK3tC,EAAE,IAAI5T,EAAE3Q,KAAKiyD,MAAM1tC,GAAG,GAAG5T,IAAI,MAAM4T,EAAEnG,OAAO,KAAKmG,GAAG,KAAK5T,EAAE3Q,KAAKiyD,MAAM1tC,IAAI5T,IAAIA,EAAEkiB,WAAW7yB,KAAKiyD,MAAM1tC,QAAQ,IAAI,IAAInB,EAAEpjB,KAAKyG,QAAO,SAASkK,EAAEyS,GAAG,OAAOA,EAAErN,KAAKqI,MAAM,EAAEmG,EAAEtlB,UAAUslB,CAAC,IAAGnlB,EAAE,EAAEA,EAAEgkB,EAAEnkB,OAAOG,WAAWY,KAAKiyD,MAAM7uC,EAAEhkB,GAAG2W,MAAM,OAAO/V,IAAI,EAAE6Z,SAAS,SAASlJ,GAAG,MAAM,IAAIgC,MAAM,6EAA6E,EAAEkhD,uBAAuB,SAASljD,GAAG,IAAIyS,EAAEmB,EAAE,CAAC,EAAE,IAAI,IAAIA,EAAE2oC,EAAEj0C,OAAOtI,GAAG,CAAC,EAAE,CAAC+/C,aAAY,EAAGhD,YAAY,QAAQiB,mBAAmB,KAAKj4C,KAAK,GAAGq7C,SAAS,MAAMnD,QAAQ,KAAKkF,SAAS,kBAAkBrD,eAAe54C,EAAEm4C,cAAct5C,KAAK6N,EAAE7N,KAAKhE,cAAc6R,EAAEmpC,YAAYnpC,EAAEmpC,YAAY16C,cAAc,iBAAiBuR,EAAE7N,OAAO6N,EAAE7N,KAAK,WAAW6N,EAAE7N,KAAK,MAAM,IAAI/D,MAAM,6BAA6Bu6C,EAAE6G,aAAaxvC,EAAE7N,MAAM,WAAW6N,EAAEwtC,UAAU,YAAYxtC,EAAEwtC,UAAU,UAAUxtC,EAAEwtC,UAAU,UAAUxtC,EAAEwtC,WAAWxtC,EAAEwtC,SAAS,QAAQ,UAAUxtC,EAAEwtC,WAAWxtC,EAAEwtC,SAAS,OAAO,IAAI3yD,EAAEmlB,EAAEqqC,SAAS5uD,KAAK4uD,SAAS,GAAGxrC,EAAExS,EAAEkhD,eAAe9xD,KAAKukB,EAAEnlB,EAAE,CAAC,MAAMuR,IAAIyS,EAAE,IAAI9Q,EAAE,UAAUqQ,MAAMhS,EAAE,CAAC,OAAO,IAAIpB,EAAE6T,EAAEmB,EAAE7N,MAAM,SAAS6N,EAAEuvC,SAAS,EAAEE,cAAc,SAASrjD,EAAEyS,GAAG,OAAOpjB,KAAK6zD,uBAAuBljD,GAAGggD,WAAWvtC,EAAE,EAAE6wC,mBAAmB,SAAStjD,EAAEyS,GAAG,OAAOzS,EAAEA,GAAG,CAAC,GAAG+F,OAAO/F,EAAE+F,KAAK,cAAc1W,KAAK6zD,uBAAuBljD,GAAGujD,eAAe9wC,EAAE,GAAGA,EAAE3kB,QAAQW,CAAC,EAAE,CAAC,qBAAqB,EAAE,aAAa,EAAE,aAAa,EAAE,oCAAoC,GAAG,gBAAgB,GAAG,yBAAyB,GAAG,wBAAwB,GAAG,SAAS,GAAG,UAAU,GAAG,cAAc,KAAK,GAAG,CAAC,SAASuR,EAAEyS,EAAEmB,GAAGnB,EAAE3kB,QAAQkS,EAAE,SAAS,EAAE,CAACwjD,YAAO,IAAS,GAAG,CAAC,SAASxjD,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,gBAAgB,SAASkH,EAAElH,GAAGvR,EAAEiL,KAAKrK,KAAK2Q,GAAG,IAAI,IAAIyS,EAAE,EAAEA,EAAEpjB,KAAK+K,KAAK9L,OAAOmkB,IAAIzS,EAAEyS,GAAG,IAAIzS,EAAEyS,EAAE,CAACzS,EAAE,YAAY2+C,SAASz3C,EAAEzY,GAAGyY,EAAE9E,UAAUqhD,OAAO,SAASzjD,GAAG,OAAO3Q,KAAK+K,KAAK/K,KAAKq0D,KAAK1jD,EAAE,EAAEkH,EAAE9E,UAAUuhD,qBAAqB,SAAS3jD,GAAG,IAAI,IAAIyS,EAAEzS,EAAEO,WAAW,GAAGqT,EAAE5T,EAAEO,WAAW,GAAG9R,EAAEuR,EAAEO,WAAW,GAAG2G,EAAElH,EAAEO,WAAW,GAAG6F,EAAE/W,KAAKf,OAAO,EAAE,GAAG8X,IAAIA,EAAE,GAAG/W,KAAK+K,KAAKgM,KAAKqM,GAAGpjB,KAAK+K,KAAKgM,EAAE,KAAKwN,GAAGvkB,KAAK+K,KAAKgM,EAAE,KAAK3X,GAAGY,KAAK+K,KAAKgM,EAAE,KAAKc,EAAE,OAAOd,EAAE/W,KAAKq0D,KAAK,OAAO,CAAC,EAAEx8C,EAAE9E,UAAUwhD,sBAAsB,SAAS5jD,GAAG,IAAIyS,EAAEzS,EAAEO,WAAW,GAAGqT,EAAE5T,EAAEO,WAAW,GAAG9R,EAAEuR,EAAEO,WAAW,GAAG2G,EAAElH,EAAEO,WAAW,GAAG6F,EAAE/W,KAAKw0D,SAAS,GAAG,OAAOpxC,IAAIrM,EAAE,IAAIwN,IAAIxN,EAAE,IAAI3X,IAAI2X,EAAE,IAAIc,IAAId,EAAE,EAAE,EAAEc,EAAE9E,UAAUyhD,SAAS,SAAS7jD,GAAG,GAAG3Q,KAAKm0C,YAAYxjC,GAAG,IAAIA,EAAE,MAAM,GAAG,IAAIyS,EAAEpjB,KAAK+K,KAAKqT,MAAMpe,KAAKq0D,KAAKr0D,KAAK4V,MAAM5V,KAAKq0D,KAAKr0D,KAAK4V,MAAMjF,GAAG,OAAO3Q,KAAK4V,OAAOjF,EAAEyS,CAAC,EAAEA,EAAE3kB,QAAQoZ,CAAC,EAAE,CAAC,WAAW,GAAG,eAAe,KAAK,GAAG,CAAC,SAASlH,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,YAAY,SAASkH,EAAElH,GAAG3Q,KAAK+K,KAAK4F,EAAE3Q,KAAKf,OAAO0R,EAAE1R,OAAOe,KAAK4V,MAAM,EAAE5V,KAAKq0D,KAAK,CAAC,CAACx8C,EAAE9E,UAAU,CAACohC,YAAY,SAASxjC,GAAG3Q,KAAKy0D,WAAWz0D,KAAK4V,MAAMjF,EAAE,EAAE8jD,WAAW,SAAS9jD,GAAG,GAAG3Q,KAAKf,OAAOe,KAAKq0D,KAAK1jD,GAAGA,EAAE,EAAE,MAAM,IAAIgC,MAAM,sCAAsC3S,KAAKf,OAAO,mBAAmB0R,EAAE,qBAAqB,EAAE+jD,SAAS,SAAS/jD,GAAG3Q,KAAKy0D,WAAW9jD,GAAG3Q,KAAK4V,MAAMjF,CAAC,EAAEgkD,KAAK,SAAShkD,GAAG3Q,KAAK00D,SAAS10D,KAAK4V,MAAMjF,EAAE,EAAEyjD,OAAO,SAASzjD,GAAG,EAAEikD,QAAQ,SAASjkD,GAAG,IAAIyS,EAAEmB,EAAE,EAAE,IAAIvkB,KAAKm0C,YAAYxjC,GAAGyS,EAAEpjB,KAAK4V,MAAMjF,EAAE,EAAEyS,GAAGpjB,KAAK4V,MAAMwN,IAAImB,GAAGA,GAAG,GAAGvkB,KAAKo0D,OAAOhxC,GAAG,OAAOpjB,KAAK4V,OAAOjF,EAAE4T,CAAC,EAAEswC,WAAW,SAASlkD,GAAG,OAAOvR,EAAEqwD,YAAY,SAASzvD,KAAKw0D,SAAS7jD,GAAG,EAAE6jD,SAAS,SAAS7jD,GAAG,EAAE2jD,qBAAqB,SAAS3jD,GAAG,EAAE4jD,sBAAsB,SAAS5jD,GAAG,EAAEmkD,SAAS,WAAW,IAAInkD,EAAE3Q,KAAK40D,QAAQ,GAAG,OAAO,IAAIzxD,KAAKA,KAAK4xD,IAAI,MAAMpkD,GAAG,GAAG,MAAMA,GAAG,GAAG,IAAI,EAAEA,GAAG,GAAG,GAAGA,GAAG,GAAG,GAAGA,GAAG,EAAE,IAAI,GAAGA,IAAI,GAAG,GAAGyS,EAAE3kB,QAAQoZ,CAAC,EAAE,CAAC,WAAW,KAAK,GAAG,CAAC,SAASlH,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,sBAAsB,SAASkH,EAAElH,GAAGvR,EAAEiL,KAAKrK,KAAK2Q,EAAE,CAACA,EAAE,YAAY2+C,SAASz3C,EAAEzY,GAAGyY,EAAE9E,UAAUyhD,SAAS,SAAS7jD,GAAG3Q,KAAKm0C,YAAYxjC,GAAG,IAAIyS,EAAEpjB,KAAK+K,KAAKqT,MAAMpe,KAAKq0D,KAAKr0D,KAAK4V,MAAM5V,KAAKq0D,KAAKr0D,KAAK4V,MAAMjF,GAAG,OAAO3Q,KAAK4V,OAAOjF,EAAEyS,CAAC,EAAEA,EAAE3kB,QAAQoZ,CAAC,EAAE,CAAC,WAAW,GAAG,qBAAqB,KAAK,GAAG,CAAC,SAASlH,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,gBAAgB,SAASkH,EAAElH,GAAGvR,EAAEiL,KAAKrK,KAAK2Q,EAAE,CAACA,EAAE,YAAY2+C,SAASz3C,EAAEzY,GAAGyY,EAAE9E,UAAUqhD,OAAO,SAASzjD,GAAG,OAAO3Q,KAAK+K,KAAKmG,WAAWlR,KAAKq0D,KAAK1jD,EAAE,EAAEkH,EAAE9E,UAAUuhD,qBAAqB,SAAS3jD,GAAG,OAAO3Q,KAAK+K,KAAK6lC,YAAYjgC,GAAG3Q,KAAKq0D,IAAI,EAAEx8C,EAAE9E,UAAUwhD,sBAAsB,SAAS5jD,GAAG,OAAOA,IAAI3Q,KAAKw0D,SAAS,EAAE,EAAE38C,EAAE9E,UAAUyhD,SAAS,SAAS7jD,GAAG3Q,KAAKm0C,YAAYxjC,GAAG,IAAIyS,EAAEpjB,KAAK+K,KAAKqT,MAAMpe,KAAKq0D,KAAKr0D,KAAK4V,MAAM5V,KAAKq0D,KAAKr0D,KAAK4V,MAAMjF,GAAG,OAAO3Q,KAAK4V,OAAOjF,EAAEyS,CAAC,EAAEA,EAAE3kB,QAAQoZ,CAAC,EAAE,CAAC,WAAW,GAAG,eAAe,KAAK,GAAG,CAAC,SAASlH,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,iBAAiB,SAASkH,EAAElH,GAAGvR,EAAEiL,KAAKrK,KAAK2Q,EAAE,CAACA,EAAE,YAAY2+C,SAASz3C,EAAEzY,GAAGyY,EAAE9E,UAAUyhD,SAAS,SAAS7jD,GAAG,GAAG3Q,KAAKm0C,YAAYxjC,GAAG,IAAIA,EAAE,OAAO,IAAI3L,WAAW,GAAG,IAAIoe,EAAEpjB,KAAK+K,KAAKiqC,SAASh1C,KAAKq0D,KAAKr0D,KAAK4V,MAAM5V,KAAKq0D,KAAKr0D,KAAK4V,MAAMjF,GAAG,OAAO3Q,KAAK4V,OAAOjF,EAAEyS,CAAC,EAAEA,EAAE3kB,QAAQoZ,CAAC,EAAE,CAAC,WAAW,GAAG,gBAAgB,KAAK,GAAG,CAAC,SAASlH,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,YAAYkH,EAAElH,EAAE,cAAcoG,EAAEpG,EAAE,iBAAiBpB,EAAEoB,EAAE,kBAAkBC,EAAED,EAAE,sBAAsBtH,EAAEsH,EAAE,sBAAsByS,EAAE3kB,QAAQ,SAASkS,GAAG,IAAIyS,EAAEhkB,EAAEguD,UAAUz8C,GAAG,OAAOvR,EAAE20D,aAAa3wC,GAAG,WAAWA,GAAGvL,EAAEy1C,WAAW,eAAelqC,EAAE,IAAIxS,EAAED,GAAGkH,EAAEy1C,WAAW,IAAIjkD,EAAEjK,EAAEqwD,YAAY,aAAa9+C,IAAI,IAAIoG,EAAE3X,EAAEqwD,YAAY,QAAQ9+C,IAAI,IAAIpB,EAAEoB,EAAE,CAAC,EAAE,CAAC,aAAa,GAAG,WAAW,GAAG,gBAAgB,GAAG,qBAAqB,GAAG,iBAAiB,GAAG,qBAAqB,KAAK,GAAG,CAAC,SAASA,EAAEyS,EAAEmB,GAAG,aAAaA,EAAE4rC,kBAAkB,OAAO5rC,EAAE8rC,oBAAoB,OAAO9rC,EAAE+sC,sBAAsB,OAAO/sC,EAAEywC,gCAAgC,OAAOzwC,EAAE0wC,4BAA4B,OAAO1wC,EAAE8sC,gBAAgB,OAAO,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS1gD,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,mBAAmBkH,EAAElH,EAAE,YAAY,SAASoG,EAAEpG,GAAGvR,EAAEiL,KAAKrK,KAAK,oBAAoB2Q,GAAG3Q,KAAKk1D,SAASvkD,CAAC,CAACkH,EAAEy3C,SAASv4C,EAAE3X,GAAG2X,EAAEhE,UAAUw8C,aAAa,SAAS5+C,GAAG3Q,KAAKyK,KAAK,CAACM,KAAK8M,EAAE43C,YAAYzvD,KAAKk1D,SAASvkD,EAAE5F,MAAMskD,KAAK1+C,EAAE0+C,MAAM,EAAEjsC,EAAE3kB,QAAQsY,CAAC,EAAE,CAAC,WAAW,GAAG,kBAAkB,KAAK,GAAG,CAAC,SAASpG,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,mBAAmBkH,EAAElH,EAAE,YAAY,SAASoG,IAAI3X,EAAEiL,KAAKrK,KAAK,cAAcA,KAAKmuD,eAAe,QAAQ,EAAE,CAACx9C,EAAE,YAAY2+C,SAASv4C,EAAE3X,GAAG2X,EAAEhE,UAAUw8C,aAAa,SAAS5+C,GAAG3Q,KAAKguD,WAAWP,MAAM51C,EAAElH,EAAE5F,KAAK/K,KAAKguD,WAAWP,OAAO,GAAGztD,KAAKyK,KAAKkG,EAAE,EAAEyS,EAAE3kB,QAAQsY,CAAC,EAAE,CAAC,WAAW,EAAE,WAAW,GAAG,kBAAkB,KAAK,GAAG,CAAC,SAASpG,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,YAAYkH,EAAElH,EAAE,mBAAmB,SAASoG,EAAEpG,GAAGkH,EAAExN,KAAKrK,KAAK,uBAAuB2Q,GAAG3Q,KAAKm1D,SAASxkD,EAAE3Q,KAAKmuD,eAAex9C,EAAE,EAAE,CAACvR,EAAEkwD,SAASv4C,EAAEc,GAAGd,EAAEhE,UAAUw8C,aAAa,SAAS5+C,GAAG,GAAGA,EAAE,CAAC,IAAIyS,EAAEpjB,KAAKguD,WAAWhuD,KAAKm1D,WAAW,EAAEn1D,KAAKguD,WAAWhuD,KAAKm1D,UAAU/xC,EAAEzS,EAAE5F,KAAK9L,MAAM,CAAC4Y,EAAE9E,UAAUw8C,aAAallD,KAAKrK,KAAK2Q,EAAE,EAAEyS,EAAE3kB,QAAQsY,CAAC,EAAE,CAAC,WAAW,GAAG,kBAAkB,KAAK,GAAG,CAAC,SAASpG,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,YAAYkH,EAAElH,EAAE,mBAAmB,SAASoG,EAAEpG,GAAGkH,EAAExN,KAAKrK,KAAK,cAAc,IAAIojB,EAAEpjB,KAAKA,KAAKo1D,aAAY,EAAGp1D,KAAK4V,MAAM,EAAE5V,KAAKunB,IAAI,EAAEvnB,KAAK+K,KAAK,KAAK/K,KAAK0W,KAAK,GAAG1W,KAAKq1D,gBAAe,EAAG1kD,EAAEpL,MAAK,SAASoL,GAAGyS,EAAEgyC,aAAY,EAAGhyC,EAAErY,KAAK4F,EAAEyS,EAAEmE,IAAI5W,GAAGA,EAAE1R,QAAQ,EAAEmkB,EAAE1M,KAAKtX,EAAEguD,UAAUz8C,GAAGyS,EAAEquC,UAAUruC,EAAEkyC,gBAAgB,IAAE,SAAS3kD,GAAGyS,EAAET,MAAMhS,EAAE,GAAE,CAACvR,EAAEkwD,SAASv4C,EAAEc,GAAGd,EAAEhE,UAAU48C,QAAQ,WAAW93C,EAAE9E,UAAU48C,QAAQtlD,KAAKrK,MAAMA,KAAK+K,KAAK,IAAI,EAAEgM,EAAEhE,UAAU2+C,OAAO,WAAW,QAAQ75C,EAAE9E,UAAU2+C,OAAOrnD,KAAKrK,SAASA,KAAKq1D,gBAAgBr1D,KAAKo1D,cAAcp1D,KAAKq1D,gBAAe,EAAGj2D,EAAEm2D,MAAMv1D,KAAKs1D,eAAe,GAAGt1D,QAAO,EAAG,EAAE+W,EAAEhE,UAAUuiD,eAAe,WAAWt1D,KAAKq1D,gBAAe,EAAGr1D,KAAKyxD,UAAUzxD,KAAKw1D,aAAax1D,KAAKy1D,QAAQz1D,KAAKw1D,aAAap2D,EAAEm2D,MAAMv1D,KAAKs1D,eAAe,GAAGt1D,MAAMA,KAAKq1D,gBAAe,GAAI,EAAEt+C,EAAEhE,UAAU0iD,MAAM,WAAW,GAAGz1D,KAAKyxD,UAAUzxD,KAAKw1D,WAAW,OAAM,EAAG,IAAI7kD,EAAE,KAAKyS,EAAEziB,KAAK8mB,IAAIznB,KAAKunB,IAAIvnB,KAAK4V,MAAM,OAAO,GAAG5V,KAAK4V,OAAO5V,KAAKunB,IAAI,OAAOvnB,KAAKob,MAAM,OAAOpb,KAAK0W,MAAM,IAAI,SAAS/F,EAAE3Q,KAAK+K,KAAKqI,UAAUpT,KAAK4V,MAAMwN,GAAG,MAAM,IAAI,aAAazS,EAAE3Q,KAAK+K,KAAKiqC,SAASh1C,KAAK4V,MAAMwN,GAAG,MAAM,IAAI,QAAQ,IAAI,aAAazS,EAAE3Q,KAAK+K,KAAKqT,MAAMpe,KAAK4V,MAAMwN,GAAG,OAAOpjB,KAAK4V,MAAMwN,EAAEpjB,KAAKyK,KAAK,CAACM,KAAK4F,EAAE0+C,KAAK,CAAC6B,QAAQlxD,KAAKunB,IAAIvnB,KAAK4V,MAAM5V,KAAKunB,IAAI,IAAI,IAAI,EAAEnE,EAAE3kB,QAAQsY,CAAC,EAAE,CAAC,WAAW,GAAG,kBAAkB,KAAK,GAAG,CAAC,SAASpG,EAAEyS,EAAEmB,GAAG,aAAa,SAASnlB,EAAEuR,GAAG3Q,KAAK+V,KAAKpF,GAAG,UAAU3Q,KAAKguD,WAAW,CAAC,EAAEhuD,KAAK4xD,eAAe,KAAK5xD,KAAK01D,gBAAgB,CAAC,EAAE11D,KAAKyxD,UAAS,EAAGzxD,KAAKw1D,YAAW,EAAGx1D,KAAK21D,UAAS,EAAG31D,KAAK41D,WAAW,CAAC7qD,KAAK,GAAGqQ,IAAI,GAAGuH,MAAM,IAAI3iB,KAAKwxD,SAAS,IAAI,CAACpyD,EAAE2T,UAAU,CAACtI,KAAK,SAASkG,GAAG3Q,KAAKwzD,KAAK,OAAO7iD,EAAE,EAAEyK,IAAI,WAAW,GAAGpb,KAAKw1D,WAAW,OAAM,EAAGx1D,KAAK0vD,QAAQ,IAAI1vD,KAAKwzD,KAAK,OAAOxzD,KAAK2vD,UAAU3vD,KAAKw1D,YAAW,CAAE,CAAC,MAAM7kD,GAAG3Q,KAAKwzD,KAAK,QAAQ7iD,EAAE,CAAC,OAAM,CAAE,EAAEgS,MAAM,SAAShS,GAAG,OAAO3Q,KAAKw1D,aAAax1D,KAAKyxD,SAASzxD,KAAK4xD,eAAejhD,GAAG3Q,KAAKw1D,YAAW,EAAGx1D,KAAKwzD,KAAK,QAAQ7iD,GAAG3Q,KAAKwxD,UAAUxxD,KAAKwxD,SAAS7uC,MAAMhS,GAAG3Q,KAAK2vD,YAAW,EAAG,EAAE5B,GAAG,SAASp9C,EAAEyS,GAAG,OAAOpjB,KAAK41D,WAAWjlD,GAAGlG,KAAK2Y,GAAGpjB,IAAI,EAAE2vD,QAAQ,WAAW3vD,KAAKguD,WAAWhuD,KAAK4xD,eAAe5xD,KAAK01D,gBAAgB,KAAK11D,KAAK41D,WAAW,EAAE,EAAEpC,KAAK,SAAS7iD,EAAEyS,GAAG,GAAGpjB,KAAK41D,WAAWjlD,GAAG,IAAI,IAAI4T,EAAE,EAAEA,EAAEvkB,KAAK41D,WAAWjlD,GAAG1R,OAAOslB,IAAIvkB,KAAK41D,WAAWjlD,GAAG4T,GAAGla,KAAKrK,KAAKojB,EAAE,EAAEyqC,KAAK,SAASl9C,GAAG,OAAOA,EAAEghD,iBAAiB3xD,KAAK,EAAE2xD,iBAAiB,SAAShhD,GAAG,GAAG3Q,KAAK21D,SAAS,MAAM,IAAIhjD,MAAM,eAAe3S,KAAK,4BAA4BA,KAAKguD,WAAWr9C,EAAEq9C,WAAWhuD,KAAK61D,kBAAkB71D,KAAKwxD,SAAS7gD,EAAE,IAAIyS,EAAEpjB,KAAK,OAAO2Q,EAAEo9C,GAAG,QAAO,SAASp9C,GAAGyS,EAAEmsC,aAAa5+C,EAAE,IAAGA,EAAEo9C,GAAG,OAAM,WAAW3qC,EAAEhI,KAAK,IAAGzK,EAAEo9C,GAAG,SAAQ,SAASp9C,GAAGyS,EAAET,MAAMhS,EAAE,IAAG3Q,IAAI,EAAEs6B,MAAM,WAAW,OAAOt6B,KAAKyxD,WAAWzxD,KAAKw1D,aAAax1D,KAAKyxD,UAAS,EAAGzxD,KAAKwxD,UAAUxxD,KAAKwxD,SAASl3B,SAAQ,EAAG,EAAEo3B,OAAO,WAAW,IAAI1xD,KAAKyxD,UAAUzxD,KAAKw1D,WAAW,OAAM,EAAG,IAAI7kD,EAAE3Q,KAAKyxD,UAAS,EAAG,OAAOzxD,KAAK4xD,iBAAiB5xD,KAAK2iB,MAAM3iB,KAAK4xD,gBAAgBjhD,GAAE,GAAI3Q,KAAKwxD,UAAUxxD,KAAKwxD,SAASE,UAAU/gD,CAAC,EAAE++C,MAAM,WAAW,EAAEH,aAAa,SAAS5+C,GAAG3Q,KAAKyK,KAAKkG,EAAE,EAAEw9C,eAAe,SAASx9C,EAAEyS,GAAG,OAAOpjB,KAAK01D,gBAAgB/kD,GAAGyS,EAAEpjB,KAAK61D,kBAAkB71D,IAAI,EAAE61D,gBAAgB,WAAW,IAAI,IAAIllD,KAAK3Q,KAAK01D,gBAAgB11D,KAAK01D,gBAAgBp9C,eAAe3H,KAAK3Q,KAAKguD,WAAWr9C,GAAG3Q,KAAK01D,gBAAgB/kD,GAAG,EAAEkhD,KAAK,WAAW,GAAG7xD,KAAK21D,SAAS,MAAM,IAAIhjD,MAAM,eAAe3S,KAAK,4BAA4BA,KAAK21D,UAAS,EAAG31D,KAAKwxD,UAAUxxD,KAAKwxD,SAASK,MAAM,EAAEr/C,SAAS,WAAW,IAAI7B,EAAE,UAAU3Q,KAAK+V,KAAK,OAAO/V,KAAKwxD,SAASxxD,KAAKwxD,SAAS,OAAO7gD,EAAEA,CAAC,GAAGyS,EAAE3kB,QAAQW,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAASuR,EAAEyS,EAAEmB,GAAG,aAAa,IAAIlb,EAAEsH,EAAE,YAAYkH,EAAElH,EAAE,mBAAmBoG,EAAEpG,EAAE,mBAAmBu8C,EAAEv8C,EAAE,aAAavR,EAAEuR,EAAE,cAAcpB,EAAEoB,EAAE,eAAeC,EAAE,KAAK,GAAGxR,EAAE02D,WAAW,IAAIllD,EAAED,EAAE,sCAAsC,CAAC,MAAMA,GAAG,CAAyxB,SAASwS,EAAExS,EAAEyS,EAAEmB,GAAG,IAAInlB,EAAEgkB,EAAE,OAAOA,GAAG,IAAI,OAAO,IAAI,cAAchkB,EAAE,aAAa,MAAM,IAAI,SAASA,EAAE,SAAS,IAAIY,KAAK+1D,cAAc32D,EAAEY,KAAKg2D,YAAY5yC,EAAEpjB,KAAKi2D,UAAU1xC,EAAElb,EAAE0qD,aAAa30D,GAAGY,KAAKk2D,QAAQvlD,EAAEk9C,KAAK,IAAIh2C,EAAEzY,IAAIuR,EAAEkhD,MAAM,CAAC,MAAMlhD,GAAG3Q,KAAKk2D,QAAQ,IAAIn/C,EAAE,SAAS/W,KAAKk2D,QAAQvzC,MAAMhS,EAAE,CAAC,CAACwS,EAAEpQ,UAAU,CAAC49C,WAAW,SAAShgD,GAAG,OAA5lC,SAAWA,EAAEC,GAAG,OAAO,IAAIrB,EAAE1I,SAAQ,SAASuc,EAAEmB,GAAG,IAAInlB,EAAE,GAAGyY,EAAElH,EAAEolD,cAAch/C,EAAEpG,EAAEqlD,YAAYzmD,EAAEoB,EAAEslD,UAAUtlD,EAAEo9C,GAAG,QAAO,SAASp9C,EAAEyS,GAAGhkB,EAAEqL,KAAKkG,GAAGC,GAAGA,EAAEwS,EAAE,IAAG2qC,GAAG,SAAQ,SAASp9C,GAAGvR,EAAE,GAAGmlB,EAAE5T,EAAE,IAAGo9C,GAAG,OAAM,WAAW,IAAI,IAAIp9C,EAAE,SAASA,EAAEyS,EAAEmB,GAAG,OAAO5T,GAAG,IAAI,OAAO,OAAOtH,EAAE8sD,QAAQ9sD,EAAEomD,YAAY,cAAcrsC,GAAGmB,GAAG,IAAI,SAAS,OAAO2oC,EAAEC,OAAO/pC,GAAG,QAAQ,OAAO/Z,EAAEomD,YAAY9+C,EAAEyS,GAAG,CAA1J,CAA4JrM,EAAE,SAASpG,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAE,EAAEyY,EAAE,KAAKd,EAAE,EAAE,IAAIwN,EAAE,EAAEA,EAAEnB,EAAEnkB,OAAOslB,IAAIxN,GAAGqM,EAAEmB,GAAGtlB,OAAO,OAAO0R,GAAG,IAAI,SAAS,OAAOyS,EAAE7jB,KAAK,IAAI,IAAI,QAAQ,OAAOmR,MAAMqC,UAAUyS,OAAO6iB,MAAM,GAAGjlB,GAAG,IAAI,aAAa,IAAIvL,EAAE,IAAI7S,WAAW+R,GAAGwN,EAAE,EAAEA,EAAEnB,EAAEnkB,OAAOslB,IAAI1M,EAAEhW,IAAIuhB,EAAEmB,GAAGnlB,GAAGA,GAAGgkB,EAAEmB,GAAGtlB,OAAO,OAAO4Y,EAAE,IAAI,aAAa,OAAOg2B,EAAOroB,OAAOpC,GAAG,QAAQ,MAAM,IAAIzQ,MAAM,8BAA8BhC,EAAE,KAAK,CAAhX,CAAkXkH,EAAEzY,GAAGmQ,GAAG6T,EAAEzS,EAAE,CAAC,MAAMA,GAAG4T,EAAE5T,EAAE,CAACvR,EAAE,EAAE,IAAGsyD,QAAQ,GAAE,CAA4Up/C,CAAEtS,KAAK2Q,EAAE,EAAEo9C,GAAG,SAASp9C,EAAEyS,GAAG,IAAImB,EAAEvkB,KAAK,MAAM,SAAS2Q,EAAE3Q,KAAKk2D,QAAQnI,GAAGp9C,GAAE,SAASA,GAAGyS,EAAE/Y,KAAKka,EAAE5T,EAAE5F,KAAK4F,EAAE0+C,KAAK,IAAGrvD,KAAKk2D,QAAQnI,GAAGp9C,GAAE,WAAWtH,EAAEksD,MAAMnyC,EAAEzY,UAAU4Z,EAAE,IAAGvkB,IAAI,EAAE0xD,OAAO,WAAW,OAAOroD,EAAEksD,MAAMv1D,KAAKk2D,QAAQxE,OAAO,GAAG1xD,KAAKk2D,SAASl2D,IAAI,EAAEs6B,MAAM,WAAW,OAAOt6B,KAAKk2D,QAAQ57B,QAAQt6B,IAAI,EAAEk0D,eAAe,SAASvjD,GAAG,GAAGtH,EAAE0qD,aAAa,cAAc,eAAe/zD,KAAKg2D,YAAY,MAAM,IAAIrjD,MAAM3S,KAAKg2D,YAAY,oCAAoC,OAAO,IAAIplD,EAAE5Q,KAAK,CAACo2D,WAAW,eAAep2D,KAAKg2D,aAAarlD,EAAE,GAAGyS,EAAE3kB,QAAQ0kB,CAAC,EAAE,CAAC,YAAY,EAAE,cAAc,EAAE,sCAAsC,GAAG,aAAa,GAAG,WAAW,GAAG,kBAAkB,GAAG,kBAAkB,KAAK,GAAG,CAAC,SAASxS,EAAEyS,EAAEmB,GAAG,aAAa,GAAGA,EAAEkpB,QAAO,EAAGlpB,EAAEsrB,OAAM,EAAGtrB,EAAE7lB,QAAO,EAAG6lB,EAAE8xC,YAAY,oBAAoBxnB,aAAa,oBAAoB7pC,WAAWuf,EAAE+xC,gBAAW,IAAoBzoB,EAAOtpB,EAAE+oC,WAAW,oBAAoBtoD,WAAW,oBAAoB6pC,YAAYtqB,EAAE0U,MAAK,MAAO,CAAC,IAAI75B,EAAE,IAAIyvC,YAAY,GAAG,IAAItqB,EAAE0U,KAAK,IAAI,IAAID,KAAK,CAAC55B,GAAG,CAACsX,KAAK,oBAAoBolB,IAAI,CAAC,MAAMnrB,GAAG,IAAI,IAAIkH,EAAE,IAAIpO,KAAK8sD,aAAa9sD,KAAK+sD,mBAAmB/sD,KAAKgtD,gBAAgBhtD,KAAKitD,eAAe7+C,EAAE8+C,OAAOv3D,GAAGmlB,EAAE0U,KAAK,IAAIphB,EAAE++C,QAAQ,mBAAmB96B,IAAI,CAAC,MAAMnrB,GAAG4T,EAAE0U,MAAK,CAAE,CAAC,CAAC,CAAC,IAAI1U,EAAEuxC,aAAanlD,EAAE,mBAAmB2iD,QAAQ,CAAC,MAAM3iD,GAAG4T,EAAEuxC,YAAW,CAAE,CAAC,EAAE,CAAC,kBAAkB,KAAK,GAAG,CAAC,SAASnlD,EAAEyS,EAAErM,GAAG,aAAa,IAAI,IAAInG,EAAED,EAAE,WAAWtH,EAAEsH,EAAE,aAAa4T,EAAE5T,EAAE,iBAAiBvR,EAAEuR,EAAE,0BAA0Bu8C,EAAE,IAAIx8C,MAAM,KAAKmH,EAAE,EAAEA,EAAE,IAAIA,IAAIq1C,EAAEr1C,GAAG,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,EAAkB,SAAStI,IAAInQ,EAAEiL,KAAKrK,KAAK,gBAAgBA,KAAK62D,SAAS,IAAI,CAAC,SAASvkD,IAAIlT,EAAEiL,KAAKrK,KAAK,eAAe,CAApHktD,EAAE,KAAKA,EAAE,KAAK,EAAuGn2C,EAAEi5C,WAAW,SAASr/C,GAAG,OAAOtH,EAAEitD,WAAW/xC,EAAEmvC,cAAc/iD,EAAE,SAAS,SAASA,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEoB,EAAE1R,OAAO2R,EAAE,EAAE,IAAIiH,EAAE,EAAEA,EAAEtI,EAAEsI,IAAI,QAAQ,OAAO0M,EAAE5T,EAAEO,WAAW2G,MAAMA,EAAE,EAAEtI,GAAG,QAAQ,OAAOnQ,EAAEuR,EAAEO,WAAW2G,EAAE,OAAO0M,EAAE,OAAOA,EAAE,OAAO,KAAKnlB,EAAE,OAAOyY,KAAKjH,GAAG2T,EAAE,IAAI,EAAEA,EAAE,KAAK,EAAEA,EAAE,MAAM,EAAE,EAAE,IAAInB,EAAE/Z,EAAEikD,WAAW,IAAItoD,WAAW4L,GAAG,IAAIF,MAAME,GAAGiH,EAAEd,EAAE,EAAEA,EAAEnG,EAAEiH,IAAI,QAAQ,OAAO0M,EAAE5T,EAAEO,WAAW2G,MAAMA,EAAE,EAAEtI,GAAG,QAAQ,OAAOnQ,EAAEuR,EAAEO,WAAW2G,EAAE,OAAO0M,EAAE,OAAOA,EAAE,OAAO,KAAKnlB,EAAE,OAAOyY,KAAK0M,EAAE,IAAInB,EAAErM,KAAKwN,GAAGA,EAAE,KAAKnB,EAAErM,KAAK,IAAIwN,IAAI,GAAGA,EAAE,MAAMnB,EAAErM,KAAK,IAAIwN,IAAI,IAAInB,EAAErM,KAAK,IAAIwN,IAAI,GAAGnB,EAAErM,KAAK,IAAIwN,IAAI,GAAG,IAAInB,EAAErM,KAAK,IAAIwN,IAAI,EAAE,IAAInB,EAAErM,KAAK,IAAI,GAAGwN,GAAG,OAAOnB,CAAC,CAAjiB,CAAmiBzS,EAAE,EAAEoG,EAAE67C,WAAW,SAASjiD,GAAG,OAAOtH,EAAEitD,WAAW1lD,EAAE6+C,YAAY,aAAa9+C,GAAG6B,SAAS,SAAS,SAAS7B,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAEpG,EAAE1R,OAAOsQ,EAAE,IAAImB,MAAM,EAAEqG,GAAG,IAAIqM,EAAEmB,EAAE,EAAEnB,EAAErM,GAAG,IAAI3X,EAAEuR,EAAEyS,MAAM,IAAI7T,EAAEgV,KAAKnlB,OAAO,GAAG,GAAGyY,EAAEq1C,EAAE9tD,IAAImQ,EAAEgV,KAAK,MAAMnB,GAAGvL,EAAE,MAAM,CAAC,IAAIzY,GAAG,IAAIyY,EAAE,GAAG,IAAIA,EAAE,GAAG,EAAE,EAAEA,GAAGuL,EAAErM,GAAG3X,EAAEA,GAAG,EAAE,GAAGuR,EAAEyS,KAAKvL,IAAI,EAAEA,EAAEtI,EAAEgV,KAAK,MAAMnlB,EAAE,MAAMmQ,EAAEgV,KAAKnlB,GAAGA,GAAG,MAAMmQ,EAAEgV,KAAK,MAAMnlB,GAAG,GAAG,KAAKmQ,EAAEgV,KAAK,MAAM,KAAKnlB,EAAE,CAAC,OAAOmQ,EAAEtQ,SAASslB,IAAIhV,EAAEylC,SAASzlC,EAAEA,EAAEylC,SAAS,EAAEzwB,GAAGhV,EAAEtQ,OAAOslB,GAAG3T,EAAEkmD,kBAAkBvnD,EAAE,CAAlX,CAAoXoB,EAAEC,EAAE6+C,YAAYpmD,EAAEikD,WAAW,aAAa,QAAQ38C,GAAG,EAAEC,EAAE0+C,SAAS//C,EAAEnQ,GAAGmQ,EAAEwD,UAAUw8C,aAAa,SAAS5+C,GAAG,IAAIyS,EAAExS,EAAE6+C,YAAYpmD,EAAEikD,WAAW,aAAa,QAAQ38C,EAAE5F,MAAM,GAAG/K,KAAK62D,UAAU72D,KAAK62D,SAAS53D,OAAO,CAAC,GAAGoK,EAAEikD,WAAW,CAAC,IAAI/oC,EAAEnB,GAAGA,EAAE,IAAIpe,WAAWuf,EAAEtlB,OAAOe,KAAK62D,SAAS53D,SAAS4C,IAAI7B,KAAK62D,SAAS,GAAGzzC,EAAEvhB,IAAI0iB,EAAEvkB,KAAK62D,SAAS53D,OAAO,MAAMmkB,EAAEpjB,KAAK62D,SAASrxC,OAAOpC,GAAGpjB,KAAK62D,SAAS,IAAI,CAAC,IAAIz3D,EAAE,SAASuR,EAAEyS,GAAG,IAAImB,EAAE,KAAKnB,EAAEA,GAAGzS,EAAE1R,QAAQ0R,EAAE1R,SAASmkB,EAAEzS,EAAE1R,QAAQslB,EAAEnB,EAAE,EAAE,GAAGmB,GAAG,MAAM,IAAI5T,EAAE4T,KAAKA,IAAI,OAAOA,EAAE,GAAI,IAAIA,EAANnB,EAAUmB,EAAE2oC,EAAEv8C,EAAE4T,IAAInB,EAAEmB,EAAEnB,CAAC,CAApI,CAAsIA,GAAGvL,EAAEuL,EAAEhkB,IAAIgkB,EAAEnkB,SAASoK,EAAEikD,YAAYz1C,EAAEuL,EAAE4xB,SAAS,EAAE51C,GAAGY,KAAK62D,SAASzzC,EAAE4xB,SAAS51C,EAAEgkB,EAAEnkB,UAAU4Y,EAAEuL,EAAEhF,MAAM,EAAEhf,GAAGY,KAAK62D,SAASzzC,EAAEhF,MAAMhf,EAAEgkB,EAAEnkB,UAAUe,KAAKyK,KAAK,CAACM,KAAKgM,EAAE67C,WAAW/6C,GAAGw3C,KAAK1+C,EAAE0+C,MAAM,EAAE9/C,EAAEwD,UAAU28C,MAAM,WAAW1vD,KAAK62D,UAAU72D,KAAK62D,SAAS53D,SAASe,KAAKyK,KAAK,CAACM,KAAKgM,EAAE67C,WAAW5yD,KAAK62D,UAAUxH,KAAK,CAAC,IAAIrvD,KAAK62D,SAAS,KAAK,EAAE9/C,EAAEggD,iBAAiBxnD,EAAEqB,EAAE0+C,SAASh9C,EAAElT,GAAGkT,EAAES,UAAUw8C,aAAa,SAAS5+C,GAAG3Q,KAAKyK,KAAK,CAACM,KAAKgM,EAAEi5C,WAAWr/C,EAAE5F,MAAMskD,KAAK1+C,EAAE0+C,MAAM,EAAEt4C,EAAEigD,iBAAiB1kD,CAAC,EAAE,CAAC,gBAAgB,GAAG,yBAAyB,GAAG,YAAY,GAAG,UAAU,KAAK,GAAG,CAAC,SAAS3B,EAAEyS,EAAE7T,GAAG,aAAa,IAAIqB,EAAED,EAAE,aAAatH,EAAEsH,EAAE,YAAY4T,EAAE5T,EAAE,iBAAiBvR,EAAEuR,EAAE,sBAAsBu8C,EAAEv8C,EAAE,cAAc,SAASkH,EAAElH,GAAG,OAAOA,CAAC,CAAC,SAAS2B,EAAE3B,EAAEyS,GAAG,IAAI,IAAImB,EAAE,EAAEA,EAAE5T,EAAE1R,SAASslB,EAAEnB,EAAEmB,GAAG,IAAI5T,EAAEO,WAAWqT,GAAG,OAAOnB,CAAC,CAAC7T,EAAE4mD,QAAQ,SAAS/yC,EAAEmB,GAAGhV,EAAEwkD,aAAa,QAAQ,IAAI,OAAO,IAAI/6B,KAAK,CAAC5V,GAAG,CAAC1M,KAAK6N,GAAG,CAAC,MAAM5T,GAAG,IAAI,IAAIvR,EAAE,IAAIqK,KAAK8sD,aAAa9sD,KAAK+sD,mBAAmB/sD,KAAKgtD,gBAAgBhtD,KAAKitD,eAAe,OAAOt3D,EAAEu3D,OAAOvzC,GAAGhkB,EAAEw3D,QAAQryC,EAAE,CAAC,MAAM5T,GAAG,MAAM,IAAIgC,MAAM,kCAAkC,CAAC,CAAC,EAAE,IAAIoE,EAAE,CAACkgD,iBAAiB,SAAStmD,EAAEyS,EAAEmB,GAAG,IAAInlB,EAAE,GAAGyY,EAAE,EAAEd,EAAEpG,EAAE1R,OAAO,GAAG8X,GAAGwN,EAAE,OAAOvlB,OAAOoT,aAAai2B,MAAM,KAAK13B,GAAG,KAAKkH,EAAEd,GAAG,UAAUqM,GAAG,eAAeA,EAAEhkB,EAAEqL,KAAKzL,OAAOoT,aAAai2B,MAAM,KAAK13B,EAAEyN,MAAMvG,EAAElX,KAAK8mB,IAAI5P,EAAE0M,EAAExN,MAAM3X,EAAEqL,KAAKzL,OAAOoT,aAAai2B,MAAM,KAAK13B,EAAEqkC,SAASn9B,EAAElX,KAAK8mB,IAAI5P,EAAE0M,EAAExN,MAAMc,GAAG0M,EAAE,OAAOnlB,EAAEG,KAAK,GAAG,EAAE23D,gBAAgB,SAASvmD,GAAG,IAAI,IAAIyS,EAAE,GAAGmB,EAAE,EAAEA,EAAE5T,EAAE1R,OAAOslB,IAAInB,GAAGpkB,OAAOoT,aAAazB,EAAE4T,IAAI,OAAOnB,CAAC,EAAE+zC,eAAe,CAAC7J,WAAW,WAAW,IAAI,OAAO18C,EAAE08C,YAAY,IAAItuD,OAAOoT,aAAai2B,MAAM,KAAK,IAAIrjC,WAAW,IAAI/F,MAAM,CAAC,MAAM0R,GAAG,OAAM,CAAE,CAAC,CAAnH,GAAuH2lD,WAAW,WAAW,IAAI,OAAO1lD,EAAE0lD,YAAY,IAAIt3D,OAAOoT,aAAai2B,MAAM,KAAK9jB,EAAEovC,YAAY,IAAI10D,MAAM,CAAC,MAAM0R,GAAG,OAAM,CAAE,CAAC,CAAlH,KAAwH,SAASwS,EAAExS,GAAG,IAAIyS,EAAE,MAAMmB,EAAEhV,EAAE69C,UAAUz8C,GAAGvR,GAAE,EAAG,GAAG,eAAemlB,EAAEnlB,EAAE2X,EAAEogD,eAAe7J,WAAW,eAAe/oC,IAAInlB,EAAE2X,EAAEogD,eAAeb,YAAYl3D,EAAE,KAAK,EAAEgkB,GAAG,IAAI,OAAOrM,EAAEkgD,iBAAiBtmD,EAAE4T,EAAEnB,EAAE,CAAC,MAAMzS,GAAGyS,EAAEziB,KAAKC,MAAMwiB,EAAE,EAAE,CAAC,OAAOrM,EAAEmgD,gBAAgBvmD,EAAE,CAAC,SAASia,EAAEja,EAAEyS,GAAG,IAAI,IAAImB,EAAE,EAAEA,EAAE5T,EAAE1R,OAAOslB,IAAInB,EAAEmB,GAAG5T,EAAE4T,GAAG,OAAOnB,CAAC,CAAC7T,EAAEunD,kBAAkB3zC,EAAE,IAAI9jB,EAAE,CAAC,EAAEA,EAAEX,OAAO,CAACA,OAAOmZ,EAAEg4B,MAAM,SAASl/B,GAAG,OAAO2B,EAAE3B,EAAE,IAAID,MAAMC,EAAE1R,QAAQ,EAAEo3D,YAAY,SAAS1lD,GAAG,OAAOtR,EAAEX,OAAO4uD,WAAW38C,GAAG4jB,MAAM,EAAE+4B,WAAW,SAAS38C,GAAG,OAAO2B,EAAE3B,EAAE,IAAI3L,WAAW2L,EAAE1R,QAAQ,EAAEq3D,WAAW,SAAS3lD,GAAG,OAAO2B,EAAE3B,EAAE4T,EAAEovC,YAAYhjD,EAAE1R,QAAQ,GAAGI,EAAEwwC,MAAM,CAACnxC,OAAOykB,EAAE0sB,MAAMh4B,EAAEw+C,YAAY,SAAS1lD,GAAG,OAAO,IAAI3L,WAAW2L,GAAG4jB,MAAM,EAAE+4B,WAAW,SAAS38C,GAAG,OAAO,IAAI3L,WAAW2L,EAAE,EAAE2lD,WAAW,SAAS3lD,GAAG,OAAO4T,EAAEmvC,cAAc/iD,EAAE,GAAGtR,EAAEg3D,YAAY,CAAC33D,OAAO,SAASiS,GAAG,OAAOwS,EAAE,IAAIne,WAAW2L,GAAG,EAAEk/B,MAAM,SAASl/B,GAAG,OAAOia,EAAE,IAAI5lB,WAAW2L,GAAG,IAAID,MAAMC,EAAE07B,YAAY,EAAEgqB,YAAYx+C,EAAEy1C,WAAW,SAAS38C,GAAG,OAAO,IAAI3L,WAAW2L,EAAE,EAAE2lD,WAAW,SAAS3lD,GAAG,OAAO4T,EAAEmvC,cAAc,IAAI1uD,WAAW2L,GAAG,GAAGtR,EAAEiuD,WAAW,CAAC5uD,OAAOykB,EAAE0sB,MAAM,SAASl/B,GAAG,OAAOia,EAAEja,EAAE,IAAID,MAAMC,EAAE1R,QAAQ,EAAEo3D,YAAY,SAAS1lD,GAAG,OAAOA,EAAE4jB,MAAM,EAAE+4B,WAAWz1C,EAAEy+C,WAAW,SAAS3lD,GAAG,OAAO4T,EAAEmvC,cAAc/iD,EAAE,GAAGtR,EAAEi3D,WAAW,CAAC53D,OAAOykB,EAAE0sB,MAAM,SAASl/B,GAAG,OAAOia,EAAEja,EAAE,IAAID,MAAMC,EAAE1R,QAAQ,EAAEo3D,YAAY,SAAS1lD,GAAG,OAAOtR,EAAEi3D,WAAWhJ,WAAW38C,GAAG4jB,MAAM,EAAE+4B,WAAW,SAAS38C,GAAG,OAAOia,EAAEja,EAAE,IAAI3L,WAAW2L,EAAE1R,QAAQ,EAAEq3D,WAAWz+C,GAAGtI,EAAEkgD,YAAY,SAAS9+C,EAAEyS,GAAG,GAAGA,EAAEA,GAAG,IAAIzS,EAAE,OAAOyS,EAAE7T,EAAEwkD,aAAapjD,GAAG,IAAI4T,EAAEhV,EAAE69C,UAAUhqC,GAAG,OAAO/jB,EAAEklB,GAAG5T,GAAGyS,EAAE,EAAE7T,EAAE69C,UAAU,SAASz8C,GAAG,MAAM,iBAAiBA,EAAE,SAAS,mBAAmBhI,OAAOoK,UAAUP,SAASnI,KAAKsG,GAAG,QAAQC,EAAE0lD,YAAY/xC,EAAEgrB,SAAS5+B,GAAG,aAAaC,EAAE08C,YAAY38C,aAAa3L,WAAW,aAAa4L,EAAEylD,aAAa1lD,aAAak+B,YAAY,mBAAc,CAAM,EAAEt/B,EAAEwkD,aAAa,SAASpjD,GAAG,IAAIC,EAAED,EAAE+B,eAAe,MAAM,IAAIC,MAAMhC,EAAE,qCAAqC,EAAEpB,EAAE6nD,iBAAiB,MAAM7nD,EAAE8nD,kBAAkB,EAAE9nD,EAAE+nD,OAAO,SAAS3mD,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAE,GAAG,IAAImlB,EAAE,EAAEA,GAAG5T,GAAG,IAAI1R,OAAOslB,IAAInlB,GAAG,QAAQgkB,EAAEzS,EAAEO,WAAWqT,IAAI,GAAG,IAAI,IAAInB,EAAE5Q,SAAS,IAAIQ,cAAc,OAAO5T,CAAC,EAAEmQ,EAAEgmD,MAAM,SAAS5kD,EAAEyS,EAAEmB,GAAGnlB,GAAE,WAAWuR,EAAE03B,MAAM9jB,GAAG,KAAKnB,GAAG,GAAG,GAAE,EAAE7T,EAAE+/C,SAAS,SAAS3+C,EAAEyS,GAAG,SAASmB,IAAI,CAACA,EAAExR,UAAUqQ,EAAErQ,UAAUpC,EAAEoC,UAAU,IAAIwR,CAAC,EAAEhV,EAAE0J,OAAO,WAAW,IAAItI,EAAEyS,EAAEmB,EAAE,CAAC,EAAE,IAAI5T,EAAE,EAAEA,EAAEhG,UAAU1L,OAAO0R,IAAI,IAAIyS,KAAKzY,UAAUgG,GAAGhG,UAAUgG,GAAG2H,eAAe8K,SAAI,IAASmB,EAAEnB,KAAKmB,EAAEnB,GAAGzY,UAAUgG,GAAGyS,IAAI,OAAOmB,CAAC,EAAEhV,EAAEyjD,eAAe,SAASzuC,EAAE5T,EAAEvR,EAAEyY,EAAEd,GAAG,OAAOm2C,EAAErmD,QAAQmB,QAAQ2I,GAAGpL,MAAK,SAASnG,GAAG,OAAOwR,EAAEqoB,OAAO75B,aAAa45B,OAAO,IAAI,CAAC,gBAAgB,iBAAiBtnB,QAAQ/I,OAAOoK,UAAUP,SAASnI,KAAKjL,MAAM,oBAAoBo+C,WAAW,IAAI0P,EAAErmD,SAAQ,SAASuc,EAAEmB,GAAG,IAAI5T,EAAE,IAAI6sC,WAAW7sC,EAAEgrC,OAAO,SAAShrC,GAAGyS,EAAEzS,EAAEzC,OAAOhH,OAAO,EAAEyJ,EAAEkrC,QAAQ,SAASlrC,GAAG4T,EAAE5T,EAAEzC,OAAOyU,MAAM,EAAEhS,EAAE4mD,kBAAkBn4D,EAAE,IAAGA,CAAC,IAAGmG,MAAK,SAASoL,GAAG,IAAIyS,EAAE7T,EAAE69C,UAAUz8C,GAAG,OAAOyS,GAAG,gBAAgBA,EAAEzS,EAAEpB,EAAEkgD,YAAY,aAAa9+C,GAAG,WAAWyS,IAAIrM,EAAEpG,EAAEtH,EAAEgkD,OAAO18C,GAAGvR,IAAG,IAAKyY,IAAIlH,EAAE,SAASA,GAAG,OAAO2B,EAAE3B,EAAEC,EAAE08C,WAAW,IAAItoD,WAAW2L,EAAE1R,QAAQ,IAAIyR,MAAMC,EAAE1R,QAAQ,CAAjF,CAAmF0R,KAAKA,GAAGu8C,EAAErmD,QAAQksD,OAAO,IAAIpgD,MAAM,2BAA2B4R,EAAE,8EAA8E,GAAE,CAAC,EAAE,CAAC,WAAW,EAAE,aAAa,EAAE,gBAAgB,GAAG,YAAY,GAAG,qBAAqB,KAAK,GAAG,CAAC,SAAS5T,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,sBAAsBkH,EAAElH,EAAE,WAAWoG,EAAEpG,EAAE,eAAepB,EAAEoB,EAAE,cAAcC,GAAGD,EAAE,UAAUA,EAAE,cAAc,SAAStH,EAAEsH,GAAG3Q,KAAKiyD,MAAM,GAAGjyD,KAAKw3D,YAAY7mD,CAAC,CAACtH,EAAE0J,UAAU,CAAC0kD,eAAe,SAAS9mD,GAAG,IAAI3Q,KAAK03D,OAAOnD,sBAAsB5jD,GAAG,CAAC3Q,KAAK03D,OAAO9hD,OAAO,EAAE,IAAIwN,EAAEpjB,KAAK03D,OAAO7C,WAAW,GAAG,MAAM,IAAIliD,MAAM,+CAA+CkF,EAAEy/C,OAAOl0C,GAAG,cAAcvL,EAAEy/C,OAAO3mD,GAAG,IAAI,CAAC,EAAEgnD,YAAY,SAAShnD,EAAEyS,GAAG,IAAImB,EAAEvkB,KAAK03D,OAAO9hD,MAAM5V,KAAK03D,OAAOhD,SAAS/jD,GAAG,IAAIvR,EAAEY,KAAK03D,OAAO7C,WAAW,KAAKzxC,EAAE,OAAOpjB,KAAK03D,OAAOhD,SAASnwC,GAAGnlB,CAAC,EAAEw4D,sBAAsB,WAAW53D,KAAK63D,WAAW73D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAK83D,wBAAwB93D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAK+3D,4BAA4B/3D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKg4D,kBAAkBh4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKi4D,eAAej4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKk4D,iBAAiBl4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKm4D,iBAAiBn4D,KAAK03D,OAAO9C,QAAQ,GAAG,IAAIjkD,EAAE3Q,KAAK03D,OAAOlD,SAASx0D,KAAKm4D,kBAAkB/0C,EAAExS,EAAE08C,WAAW,aAAa,QAAQ/oC,EAAE1M,EAAE43C,YAAYrsC,EAAEzS,GAAG3Q,KAAKuwD,WAAWvwD,KAAKw3D,YAAY7E,eAAepuC,EAAE,EAAE6zC,2BAA2B,WAAWp4D,KAAKq4D,sBAAsBr4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAK03D,OAAO/C,KAAK,GAAG30D,KAAK63D,WAAW73D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAK83D,wBAAwB93D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAK+3D,4BAA4B/3D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKg4D,kBAAkBh4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKi4D,eAAej4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKk4D,iBAAiBl4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKs4D,oBAAoB,CAAC,EAAE,IAAI,IAAI3nD,EAAEyS,EAAEmB,EAAEnlB,EAAEY,KAAKq4D,sBAAsB,GAAG,EAAEj5D,GAAGuR,EAAE3Q,KAAK03D,OAAO9C,QAAQ,GAAGxxC,EAAEpjB,KAAK03D,OAAO9C,QAAQ,GAAGrwC,EAAEvkB,KAAK03D,OAAOlD,SAASpxC,GAAGpjB,KAAKs4D,oBAAoB3nD,GAAG,CAACzO,GAAGyO,EAAE1R,OAAOmkB,EAAElT,MAAMqU,EAAE,EAAEg0C,kCAAkC,WAAW,GAAGv4D,KAAKw4D,6BAA6Bx4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAKy4D,mCAAmCz4D,KAAK03D,OAAO9C,QAAQ,GAAG50D,KAAK04D,WAAW14D,KAAK03D,OAAO9C,QAAQ,GAAG,EAAE50D,KAAK04D,WAAW,MAAM,IAAI/lD,MAAM,sCAAsC,EAAEgmD,eAAe,WAAW,IAAIhoD,EAAEyS,EAAE,IAAIzS,EAAE,EAAEA,EAAE3Q,KAAKiyD,MAAMhzD,OAAO0R,IAAIyS,EAAEpjB,KAAKiyD,MAAMthD,GAAG3Q,KAAK03D,OAAOhD,SAAStxC,EAAEw1C,mBAAmB54D,KAAKy3D,eAAe1gD,EAAEo5C,mBAAmB/sC,EAAEy1C,cAAc74D,KAAK03D,QAAQt0C,EAAE01C,aAAa11C,EAAE21C,mBAAmB,EAAEC,eAAe,WAAW,IAAIroD,EAAE,IAAI3Q,KAAK03D,OAAOhD,SAAS10D,KAAKk4D,kBAAkBl4D,KAAK03D,OAAOnD,sBAAsBx9C,EAAEs5C,uBAAuB1/C,EAAE,IAAIpB,EAAE,CAAC0pD,MAAMj5D,KAAKi5D,OAAOj5D,KAAKw3D,cAAc0B,gBAAgBl5D,KAAK03D,QAAQ13D,KAAKiyD,MAAMxnD,KAAKkG,GAAG,GAAG3Q,KAAKg4D,oBAAoBh4D,KAAKiyD,MAAMhzD,QAAQ,IAAIe,KAAKg4D,mBAAmB,IAAIh4D,KAAKiyD,MAAMhzD,OAAO,MAAM,IAAI0T,MAAM,kCAAkC3S,KAAKg4D,kBAAkB,gCAAgCh4D,KAAKiyD,MAAMhzD,OAAO,EAAEk6D,iBAAiB,WAAW,IAAIxoD,EAAE3Q,KAAK03D,OAAOpD,qBAAqBv9C,EAAEu6C,uBAAuB,GAAG3gD,EAAE,EAAE,MAAM3Q,KAAK23D,YAAY,EAAE5gD,EAAEo5C,mBAAwK,IAAIx9C,MAAM,sDAA/J,IAAIA,MAAM,2IAA2M3S,KAAK03D,OAAOhD,SAAS/jD,GAAG,IAAIyS,EAAEzS,EAAE,GAAG3Q,KAAKy3D,eAAe1gD,EAAEu6C,uBAAuBtxD,KAAK43D,wBAAwB53D,KAAK63D,aAAahgD,EAAEu/C,kBAAkBp3D,KAAK83D,0BAA0BjgD,EAAEu/C,kBAAkBp3D,KAAK+3D,8BAA8BlgD,EAAEu/C,kBAAkBp3D,KAAKg4D,oBAAoBngD,EAAEu/C,kBAAkBp3D,KAAKi4D,iBAAiBpgD,EAAEw/C,kBAAkBr3D,KAAKk4D,mBAAmBrgD,EAAEw/C,iBAAiB,CAAC,GAAGr3D,KAAKi5D,OAAM,GAAItoD,EAAE3Q,KAAK03D,OAAOpD,qBAAqBv9C,EAAEi+C,kCAAkC,EAAE,MAAM,IAAIriD,MAAM,wEAAwE,GAAG3S,KAAK03D,OAAOhD,SAAS/jD,GAAG3Q,KAAKy3D,eAAe1gD,EAAEi+C,iCAAiCh1D,KAAKu4D,qCAAqCv4D,KAAK23D,YAAY33D,KAAKy4D,mCAAmC1hD,EAAEk+C,+BAA+Bj1D,KAAKy4D,mCAAmCz4D,KAAK03D,OAAOpD,qBAAqBv9C,EAAEk+C,6BAA6Bj1D,KAAKy4D,mCAAmC,GAAG,MAAM,IAAI9lD,MAAM,gEAAgE3S,KAAK03D,OAAOhD,SAAS10D,KAAKy4D,oCAAoCz4D,KAAKy3D,eAAe1gD,EAAEk+C,6BAA6Bj1D,KAAKo4D,4BAA4B,CAAC,IAAI7zC,EAAEvkB,KAAKk4D,iBAAiBl4D,KAAKi4D,eAAej4D,KAAKi5D,QAAQ10C,GAAG,GAAGA,GAAG,GAAGvkB,KAAKq4D,uBAAuB,IAAIj5D,EAAEgkB,EAAEmB,EAAE,GAAG,EAAEnlB,EAAEY,KAAK23D,YAAYv0C,EAAErM,EAAEs5C,uBAAuBrwD,KAAK03D,OAAOrD,KAAKj1D,QAAQ,GAAGA,EAAE,EAAE,MAAM,IAAIuT,MAAM,0BAA0BhS,KAAK8R,IAAIrT,GAAG,UAAU,EAAEg6D,cAAc,SAASzoD,GAAG3Q,KAAK03D,OAAOt4D,EAAEuR,EAAE,EAAE2e,KAAK,SAAS3e,GAAG3Q,KAAKo5D,cAAczoD,GAAG3Q,KAAKm5D,mBAAmBn5D,KAAKg5D,iBAAiBh5D,KAAK24D,gBAAgB,GAAGv1C,EAAE3kB,QAAQ4K,CAAC,EAAE,CAAC,qBAAqB,GAAG,cAAc,GAAG,YAAY,GAAG,SAAS,GAAG,UAAU,GAAG,aAAa,KAAK,GAAG,CAAC,SAASsH,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAEuR,EAAE,sBAAsBoG,EAAEpG,EAAE,WAAWkH,EAAElH,EAAE,sBAAsBpB,EAAEoB,EAAE,WAAWC,EAAED,EAAE,UAAUtH,EAAEsH,EAAE,kBAAkBu8C,EAAEv8C,EAAE,aAAa,SAAS2B,EAAE3B,EAAEyS,GAAGpjB,KAAK8C,QAAQ6N,EAAE3Q,KAAKw3D,YAAYp0C,CAAC,CAAC9Q,EAAES,UAAU,CAACsmD,YAAY,WAAW,QAAO,GAAMr5D,KAAKs5D,QAAQ,EAAEC,QAAQ,WAAW,QAAO,MAAYv5D,KAAKs5D,QAAQ,EAAET,cAAc,SAASloD,GAAG,IAAIyS,EAAEmB,EAAE,GAAG5T,EAAEgkD,KAAK,IAAI30D,KAAKw5D,eAAe7oD,EAAEikD,QAAQ,GAAGrwC,EAAE5T,EAAEikD,QAAQ,GAAG50D,KAAKy5D,SAAS9oD,EAAE6jD,SAASx0D,KAAKw5D,gBAAgB7oD,EAAEgkD,KAAKpwC,IAAI,IAAIvkB,KAAKutD,iBAAiB,IAAIvtD,KAAKwtD,iBAAiB,MAAM,IAAI76C,MAAM,sIAAsI,GAAG,QAAQyQ,EAAE,SAASzS,GAAG,IAAI,IAAIyS,KAAK/Z,EAAE,GAAGA,EAAEiP,eAAe8K,IAAI/Z,EAAE+Z,GAAGmrC,QAAQ59C,EAAE,OAAOtH,EAAE+Z,GAAG,OAAO,IAAI,CAAzF,CAA2FpjB,KAAK05D,oBAAoB,MAAM,IAAI/mD,MAAM,+BAA+BoE,EAAEugD,OAAOt3D,KAAK05D,mBAAmB,0BAA0B3iD,EAAE04C,YAAY,SAASzvD,KAAKy5D,UAAU,KAAKz5D,KAAKwyD,aAAa,IAAI36C,EAAE7X,KAAKutD,eAAevtD,KAAKwtD,iBAAiBxtD,KAAKytD,MAAMrqC,EAAEzS,EAAE6jD,SAASx0D,KAAKutD,gBAAgB,EAAE2L,gBAAgB,SAASvoD,GAAG3Q,KAAK25D,cAAchpD,EAAEikD,QAAQ,GAAGjkD,EAAEgkD,KAAK,GAAG30D,KAAKs5D,QAAQ3oD,EAAEikD,QAAQ,GAAG50D,KAAK05D,kBAAkB/oD,EAAEkkD,WAAW,GAAG70D,KAAK6pB,KAAKlZ,EAAEmkD,WAAW90D,KAAKytD,MAAM98C,EAAEikD,QAAQ,GAAG50D,KAAKutD,eAAe58C,EAAEikD,QAAQ,GAAG50D,KAAKwtD,iBAAiB78C,EAAEikD,QAAQ,GAAG,IAAIxxC,EAAEzS,EAAEikD,QAAQ,GAAG,GAAG50D,KAAK45D,kBAAkBjpD,EAAEikD,QAAQ,GAAG50D,KAAK65D,kBAAkBlpD,EAAEikD,QAAQ,GAAG50D,KAAK85D,gBAAgBnpD,EAAEikD,QAAQ,GAAG50D,KAAK+5D,uBAAuBppD,EAAEikD,QAAQ,GAAG50D,KAAKg6D,uBAAuBrpD,EAAEikD,QAAQ,GAAG50D,KAAK44D,kBAAkBjoD,EAAEikD,QAAQ,GAAG50D,KAAKq5D,cAAc,MAAM,IAAI1mD,MAAM,mCAAmChC,EAAEgkD,KAAKvxC,GAAGpjB,KAAKi6D,gBAAgBtpD,GAAG3Q,KAAKk6D,qBAAqBvpD,GAAG3Q,KAAKm6D,YAAYxpD,EAAE6jD,SAASx0D,KAAK65D,kBAAkB,EAAEd,kBAAkB,WAAW/4D,KAAK6uD,gBAAgB,KAAK7uD,KAAK8uD,eAAe,KAAK,IAAIn+C,EAAE3Q,KAAK25D,eAAe,EAAE35D,KAAK6yB,OAAO,GAAG7yB,KAAKg6D,wBAAwB,GAAGrpD,IAAI3Q,KAAK8uD,eAAe,GAAG9uD,KAAKg6D,wBAAwB,GAAGrpD,IAAI3Q,KAAK6uD,gBAAgB7uD,KAAKg6D,wBAAwB,GAAG,OAAOh6D,KAAK6yB,KAAK,MAAM7yB,KAAKizD,YAAY70C,OAAO,KAAKpe,KAAK6yB,KAAI,EAAG,EAAEqnC,qBAAqB,SAASvpD,GAAG,GAAG3Q,KAAKo6D,YAAY,GAAG,CAAC,IAAIh3C,EAAEhkB,EAAEY,KAAKo6D,YAAY,GAAGlqD,OAAOlQ,KAAKwtD,mBAAmBz2C,EAAEsgD,mBAAmBr3D,KAAKwtD,iBAAiBpqC,EAAEwxC,QAAQ,IAAI50D,KAAKutD,iBAAiBx2C,EAAEsgD,mBAAmBr3D,KAAKutD,eAAenqC,EAAEwxC,QAAQ,IAAI50D,KAAK44D,oBAAoB7hD,EAAEsgD,mBAAmBr3D,KAAK44D,kBAAkBx1C,EAAEwxC,QAAQ,IAAI50D,KAAK85D,kBAAkB/iD,EAAEsgD,mBAAmBr3D,KAAK85D,gBAAgB12C,EAAEwxC,QAAQ,GAAG,CAAC,EAAEqF,gBAAgB,SAAStpD,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAElH,EAAEiF,MAAM5V,KAAK45D,kBAAkB,IAAI55D,KAAKo6D,cAAcp6D,KAAKo6D,YAAY,CAAC,GAAGzpD,EAAEiF,MAAM,EAAEiC,GAAGuL,EAAEzS,EAAEikD,QAAQ,GAAGrwC,EAAE5T,EAAEikD,QAAQ,GAAGx1D,EAAEuR,EAAE6jD,SAASjwC,GAAGvkB,KAAKo6D,YAAYh3C,GAAG,CAAClhB,GAAGkhB,EAAEnkB,OAAOslB,EAAErU,MAAM9Q,GAAGuR,EAAE+jD,SAAS78C,EAAE,EAAEihD,WAAW,WAAW,IAAInoD,EAAEu8C,EAAEI,WAAW,aAAa,QAAQ,GAAGttD,KAAKu5D,UAAUv5D,KAAKizD,YAAYriD,EAAEgiD,WAAW5yD,KAAKy5D,UAAUz5D,KAAKkzD,eAAetiD,EAAEgiD,WAAW5yD,KAAKm6D,iBAAiB,CAAC,IAAI/2C,EAAEpjB,KAAKq6D,4BAA4B,GAAG,OAAOj3C,EAAEpjB,KAAKizD,YAAY7vC,MAAM,CAAC,IAAImB,EAAExN,EAAE04C,YAAY9+C,EAAE3Q,KAAKy5D,UAAUz5D,KAAKizD,YAAYjzD,KAAKw3D,YAAY7E,eAAepuC,EAAE,CAAC,IAAInlB,EAAEY,KAAKs6D,+BAA+B,GAAG,OAAOl7D,EAAEY,KAAKkzD,eAAe9zD,MAAM,CAAC,IAAIyY,EAAEd,EAAE04C,YAAY9+C,EAAE3Q,KAAKm6D,aAAan6D,KAAKkzD,eAAelzD,KAAKw3D,YAAY7E,eAAe96C,EAAE,CAAC,CAAC,EAAEwiD,0BAA0B,WAAW,IAAI1pD,EAAE3Q,KAAKo6D,YAAY,OAAO,GAAGzpD,EAAE,CAAC,IAAIyS,EAAEhkB,EAAEuR,EAAET,OAAO,OAAO,IAAIkT,EAAEwxC,QAAQ,IAAQrlD,EAAEvP,KAAKy5D,YAAYr2C,EAAEwxC,QAAQ,GAAlC,KAA0ChkD,EAAEgiD,WAAWxvC,EAAEoxC,SAAS7jD,EAAE1R,OAAO,GAAG,CAAC,OAAO,IAAI,EAAEq7D,6BAA6B,WAAW,IAAI3pD,EAAE3Q,KAAKo6D,YAAY,OAAO,GAAGzpD,EAAE,CAAC,IAAIyS,EAAEhkB,EAAEuR,EAAET,OAAO,OAAO,IAAIkT,EAAEwxC,QAAQ,IAAQrlD,EAAEvP,KAAKm6D,eAAe/2C,EAAEwxC,QAAQ,GAArC,KAA6ChkD,EAAEgiD,WAAWxvC,EAAEoxC,SAAS7jD,EAAE1R,OAAO,GAAG,CAAC,OAAO,IAAI,GAAGmkB,EAAE3kB,QAAQ6T,CAAC,EAAE,CAAC,qBAAqB,EAAE,iBAAiB,EAAE,UAAU,EAAE,qBAAqB,GAAG,YAAY,GAAG,SAAS,GAAG,UAAU,KAAK,GAAG,CAAC,SAAS3B,EAAEyS,EAAEmB,GAAG,aAAa,SAASnlB,EAAEuR,EAAEyS,EAAEmB,GAAGvkB,KAAK+V,KAAKpF,EAAE3Q,KAAK6yB,IAAItO,EAAEsO,IAAI7yB,KAAK6pB,KAAKtF,EAAEsF,KAAK7pB,KAAK4uD,QAAQrqC,EAAEqqC,QAAQ5uD,KAAK6uD,gBAAgBtqC,EAAEsqC,gBAAgB7uD,KAAK8uD,eAAevqC,EAAEuqC,eAAe9uD,KAAKu6D,MAAMn3C,EAAEpjB,KAAKw6D,YAAYj2C,EAAEkqC,OAAOzuD,KAAK8C,QAAQ,CAAC4qD,YAAYnpC,EAAEmpC,YAAYiB,mBAAmBpqC,EAAEoqC,mBAAmB,CAAC,IAAI53C,EAAEpG,EAAE,yBAAyBkH,EAAElH,EAAE,uBAAuBpB,EAAEoB,EAAE,UAAUC,EAAED,EAAE,sBAAsBtH,EAAEsH,EAAE,0BAA0BvR,EAAE2T,UAAU,CAAC0nD,eAAe,SAAS9pD,GAAG,IAAIyS,EAAE,KAAKmB,EAAE,SAAS,IAAI,IAAI5T,EAAE,MAAM,IAAIgC,MAAM,6BAA6B,IAAIvT,EAAE,YAAYmlB,EAAE5T,EAAE+B,gBAAgB,SAAS6R,EAAE,iBAAiBA,GAAG,SAASA,IAAIA,EAAE,UAAUnB,EAAEpjB,KAAK06D,oBAAoB,IAAI7iD,GAAG7X,KAAKw6D,YAAY3iD,IAAIzY,IAAIgkB,EAAEA,EAAEyqC,KAAK,IAAIt+C,EAAEynD,oBAAoBn/C,GAAGzY,IAAIgkB,EAAEA,EAAEyqC,KAAK,IAAIt+C,EAAEwnD,kBAAkB,CAAC,MAAMpmD,IAAIyS,EAAE,IAAI/Z,EAAE,UAAUsZ,MAAMhS,EAAE,CAAC,OAAO,IAAIoG,EAAEqM,EAAEmB,EAAE,GAAG,EAAEuU,MAAM,SAASnoB,EAAEyS,GAAG,OAAOpjB,KAAKy6D,eAAe9pD,GAAGggD,WAAWvtC,EAAE,EAAEu3C,WAAW,SAAShqD,EAAEyS,GAAG,OAAOpjB,KAAKy6D,eAAe9pD,GAAG,cAAcujD,eAAe9wC,EAAE,EAAE4uC,gBAAgB,SAASrhD,EAAEyS,GAAG,GAAGpjB,KAAKu6D,iBAAiB3pD,GAAG5Q,KAAKu6D,MAAM7M,YAAYa,QAAQ59C,EAAE49C,MAAM,OAAOvuD,KAAKu6D,MAAMrM,sBAAsB,IAAI3pC,EAAEvkB,KAAK06D,oBAAoB,OAAO16D,KAAKw6D,cAAcj2C,EAAEA,EAAEspC,KAAK,IAAIt+C,EAAEynD,mBAAmBpmD,EAAEw9C,iBAAiB7pC,EAAE5T,EAAEyS,EAAE,EAAEs3C,kBAAkB,WAAW,OAAO16D,KAAKu6D,iBAAiB3pD,EAAE5Q,KAAKu6D,MAAM3M,mBAAmB5tD,KAAKu6D,iBAAiBlxD,EAAErJ,KAAKu6D,MAAM,IAAI1iD,EAAE7X,KAAKu6D,MAAM,GAAG,IAAI,IAAIrN,EAAE,CAAC,SAAS,WAAW,eAAe,eAAe,iBAAiB56C,EAAE,WAAW,MAAM,IAAIK,MAAM,6EAA6E,EAAEwQ,EAAE,EAAEA,EAAE+pC,EAAEjuD,OAAOkkB,IAAI/jB,EAAE2T,UAAUm6C,EAAE/pC,IAAI7Q,EAAE8Q,EAAE3kB,QAAQW,CAAC,EAAE,CAAC,qBAAqB,EAAE,sBAAsB,GAAG,yBAAyB,GAAG,wBAAwB,GAAG,SAAS,KAAK,GAAG,CAAC,SAASuR,EAAE2B,EAAE8Q,IAAG,SAAUA,GAAG,aAAa,IAAImB,EAAEnlB,EAAEuR,EAAEyS,EAAEw3C,kBAAkBx3C,EAAEy3C,uBAAuB,GAAGlqD,EAAE,CAAC,IAAIkH,EAAE,EAAEd,EAAE,IAAIpG,EAAEu8C,GAAG39C,EAAE6T,EAAE84B,SAAS4e,eAAe,IAAI/jD,EAAEgkD,QAAQxrD,EAAE,CAACyrD,eAAc,IAAKz2C,EAAE,WAAWhV,EAAExE,KAAK8M,IAAIA,EAAE,CAAC,CAAC,MAAM,GAAGuL,EAAE63C,mBAAc,IAAS73C,EAAE83C,eAAe32C,EAAE,aAAanB,GAAG,uBAAuBA,EAAE84B,SAASS,cAAc,UAAU,WAAW,IAAIhsC,EAAEyS,EAAE84B,SAASS,cAAc,UAAUhsC,EAAEwqD,mBAAmB,WAAWjO,IAAIv8C,EAAEwqD,mBAAmB,KAAKxqD,EAAEyqD,WAAWC,YAAY1qD,GAAGA,EAAE,IAAI,EAAEyS,EAAE84B,SAASof,gBAAgBC,YAAY5qD,EAAE,EAAE,WAAWwnB,WAAW+0B,EAAE,EAAE,MAAM,CAAC,IAAIt8C,EAAE,IAAIwS,EAAE83C,eAAetqD,EAAE4qD,MAAMC,UAAUvO,EAAE3oC,EAAE,WAAW3T,EAAE8qD,MAAMC,YAAY,EAAE,CAAC,CAAC,IAAItyD,EAAE,GAAG,SAAS6jD,IAAI,IAAIv8C,EAAEyS,EAAEhkB,GAAE,EAAG,IAAI,IAAImlB,EAAElb,EAAEpK,OAAOslB,GAAG,CAAC,IAAInB,EAAE/Z,EAAEA,EAAE,GAAGsH,GAAG,IAAIA,EAAE4T,GAAGnB,EAAEzS,KAAK4T,EAAElb,EAAEpK,MAAM,CAACG,GAAE,CAAE,CAACkT,EAAE7T,QAAQ,SAASkS,GAAG,IAAItH,EAAEoB,KAAKkG,IAAIvR,GAAGmlB,GAAG,CAAE,GAAEla,KAAKrK,UAAK,IAAoB,EAAA47C,EAAO,EAAAA,EAAO,oBAAoBnyC,KAAKA,KAAK,oBAAoBzD,OAAOA,OAAO,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS2K,EAAEyS,EAAEmB,GAAG,aAAa,IAAI1M,EAAElH,EAAE,aAAa,SAASu8C,IAAI,CAAC,IAAI56C,EAAE,CAAC,EAAEyE,EAAE,CAAC,YAAYxH,EAAE,CAAC,aAAanQ,EAAE,CAAC,WAAW,SAASwR,EAAED,GAAG,GAAG,mBAAmBA,EAAE,MAAM,IAAI29B,UAAU,+BAA+BtuC,KAAKu1B,MAAMn2B,EAAEY,KAAK47D,MAAM,GAAG57D,KAAK67D,aAAQ,EAAOlrD,IAAIu8C,GAAG7tD,EAAEW,KAAK2Q,EAAE,CAAC,SAAStH,EAAEsH,EAAEyS,EAAEmB,GAAGvkB,KAAK87D,QAAQnrD,EAAE,mBAAmByS,IAAIpjB,KAAK+7D,YAAY34C,EAAEpjB,KAAKg8D,cAAch8D,KAAKi8D,oBAAoB,mBAAmB13C,IAAIvkB,KAAKk8D,WAAW33C,EAAEvkB,KAAKm8D,aAAan8D,KAAKo8D,kBAAkB,CAAC,SAASj5C,EAAEC,EAAEmB,EAAEnlB,GAAGyY,GAAE,WAAW,IAAIlH,EAAE,IAAIA,EAAE4T,EAAEnlB,EAAE,CAAC,MAAMuR,GAAG,OAAO2B,EAAEygD,OAAO3vC,EAAEzS,EAAE,CAACA,IAAIyS,EAAE9Q,EAAEygD,OAAO3vC,EAAE,IAAIkrB,UAAU,uCAAuCh8B,EAAEtK,QAAQob,EAAEzS,EAAE,GAAE,CAAC,SAASia,EAAEja,GAAG,IAAIyS,EAAEzS,GAAGA,EAAEpL,KAAK,GAAGoL,IAAI,iBAAiBA,GAAG,mBAAmBA,IAAI,mBAAmByS,EAAE,OAAO,WAAWA,EAAEilB,MAAM13B,EAAEhG,UAAU,CAAC,CAAC,SAAStL,EAAE+jB,EAAEzS,GAAG,IAAI4T,GAAE,EAAG,SAASnlB,EAAEuR,GAAG4T,IAAIA,GAAE,EAAGjS,EAAEygD,OAAO3vC,EAAEzS,GAAG,CAAC,SAASkH,EAAElH,GAAG4T,IAAIA,GAAE,EAAGjS,EAAEtK,QAAQob,EAAEzS,GAAG,CAAC,IAAIoG,EAAEpH,GAAE,WAAWgB,EAAEkH,EAAEzY,EAAE,IAAG,UAAU2X,EAAEglC,QAAQ38C,EAAE2X,EAAE7G,MAAM,CAAC,SAASP,EAAEgB,EAAEyS,GAAG,IAAImB,EAAE,CAAC,EAAE,IAAIA,EAAErU,MAAMS,EAAEyS,GAAGmB,EAAEw3B,OAAO,SAAS,CAAC,MAAMprC,GAAG4T,EAAEw3B,OAAO,QAAQx3B,EAAErU,MAAMS,CAAC,CAAC,OAAO4T,CAAC,EAAEnB,EAAE3kB,QAAQmS,GAAGmC,UAAUspD,QAAQ,SAASj5C,GAAG,GAAG,mBAAmBA,EAAE,OAAOpjB,KAAK,IAAIukB,EAAEvkB,KAAK8U,YAAY,OAAO9U,KAAKuF,MAAK,SAASoL,GAAG,OAAO4T,EAAEvc,QAAQob,KAAK7d,MAAK,WAAW,OAAOoL,CAAC,GAAE,IAAE,SAASA,GAAG,OAAO4T,EAAEvc,QAAQob,KAAK7d,MAAK,WAAW,MAAMoL,CAAC,GAAE,GAAE,EAAEC,EAAEmC,UAAUupD,MAAM,SAAS3rD,GAAG,OAAO3Q,KAAKuF,KAAK,KAAKoL,EAAE,EAAEC,EAAEmC,UAAUxN,KAAK,SAASoL,EAAEyS,GAAG,GAAG,mBAAmBzS,GAAG3Q,KAAKu1B,QAAQhmB,GAAG,mBAAmB6T,GAAGpjB,KAAKu1B,QAAQxe,EAAE,OAAO/W,KAAK,IAAIukB,EAAE,IAAIvkB,KAAK8U,YAAYo4C,GAAqF,OAAlFltD,KAAKu1B,QAAQn2B,EAAE+jB,EAAEoB,EAAEvkB,KAAKu1B,QAAQhmB,EAAEoB,EAAEyS,EAAEpjB,KAAK67D,SAAS77D,KAAK47D,MAAMnxD,KAAK,IAAIpB,EAAEkb,EAAE5T,EAAEyS,IAAWmB,CAAC,EAAElb,EAAE0J,UAAUipD,cAAc,SAASrrD,GAAG2B,EAAEtK,QAAQhI,KAAK87D,QAAQnrD,EAAE,EAAEtH,EAAE0J,UAAUkpD,mBAAmB,SAAStrD,GAAGwS,EAAEnjB,KAAK87D,QAAQ97D,KAAK+7D,YAAYprD,EAAE,EAAEtH,EAAE0J,UAAUopD,aAAa,SAASxrD,GAAG2B,EAAEygD,OAAO/yD,KAAK87D,QAAQnrD,EAAE,EAAEtH,EAAE0J,UAAUqpD,kBAAkB,SAASzrD,GAAGwS,EAAEnjB,KAAK87D,QAAQ97D,KAAKk8D,WAAWvrD,EAAE,EAAE2B,EAAEtK,QAAQ,SAAS2I,EAAEyS,GAAG,IAAImB,EAAE5U,EAAEib,EAAExH,GAAG,GAAG,UAAUmB,EAAEw3B,OAAO,OAAOzpC,EAAEygD,OAAOpiD,EAAE4T,EAAErU,OAAO,IAAI9Q,EAAEmlB,EAAErU,MAAM,GAAG9Q,EAAEC,EAAEsR,EAAEvR,OAAO,CAACuR,EAAE4kB,MAAMhmB,EAAEoB,EAAEkrD,QAAQz4C,EAAE,IAAI,IAAIvL,GAAG,EAAEd,EAAEpG,EAAEirD,MAAM38D,SAAS4Y,EAAEd,GAAGpG,EAAEirD,MAAM/jD,GAAGmkD,cAAc54C,EAAE,CAAC,OAAOzS,CAAC,EAAE2B,EAAEygD,OAAO,SAASpiD,EAAEyS,GAAGzS,EAAE4kB,MAAMxe,EAAEpG,EAAEkrD,QAAQz4C,EAAE,IAAI,IAAImB,GAAG,EAAEnlB,EAAEuR,EAAEirD,MAAM38D,SAASslB,EAAEnlB,GAAGuR,EAAEirD,MAAMr3C,GAAG43C,aAAa/4C,GAAG,OAAOzS,CAAC,EAAEC,EAAE5I,QAAQ,SAAS2I,GAAG,OAAGA,aAAa3Q,KAAY2Q,EAAS2B,EAAEtK,QAAQ,IAAIhI,KAAKktD,GAAGv8C,EAAE,EAAEC,EAAEmiD,OAAO,SAASpiD,GAAG,IAAIyS,EAAE,IAAIpjB,KAAKktD,GAAG,OAAO56C,EAAEygD,OAAO3vC,EAAEzS,EAAE,EAAEC,EAAE9J,IAAI,SAAS6J,GAAG,IAAI4T,EAAEvkB,KAAK,GAAG,mBAAmB2I,OAAOoK,UAAUP,SAASnI,KAAKsG,GAAG,OAAO3Q,KAAK+yD,OAAO,IAAIzkB,UAAU,qBAAqB,IAAIlvC,EAAEuR,EAAE1R,OAAO4Y,GAAE,EAAG,IAAIzY,EAAE,OAAOY,KAAKgI,QAAQ,IAA8C,IAA1C,IAAI+O,EAAE,IAAIrG,MAAMtR,GAAGmQ,EAAE,EAAE6T,GAAG,EAAExS,EAAE,IAAI5Q,KAAKktD,KAAU9pC,EAAEhkB,GAAGiK,EAAEsH,EAAEyS,GAAGA,GAAG,OAAOxS,EAAE,SAASvH,EAAEsH,EAAEyS,GAAGmB,EAAEvc,QAAQ2I,GAAGpL,MAAK,SAASoL,GAAGoG,EAAEqM,GAAGzS,IAAIpB,IAAInQ,GAAGyY,IAAIA,GAAE,EAAGvF,EAAEtK,QAAQ4I,EAAEmG,GAAG,IAAE,SAASpG,GAAGkH,IAAIA,GAAE,EAAGvF,EAAEygD,OAAOniD,EAAED,GAAG,GAAE,CAAC,EAAEC,EAAE2rD,KAAK,SAAS5rD,GAAc,GAAG,mBAAmBhI,OAAOoK,UAAUP,SAASnI,KAAKsG,GAAG,OAAO3Q,KAAK+yD,OAAO,IAAIzkB,UAAU,qBAAqB,IAAI/pB,EAAE5T,EAAE1R,OAAOG,GAAE,EAAG,IAAImlB,EAAE,OAAOvkB,KAAKgI,QAAQ,IAA2B,IAAvB,IAA4IuH,EAAxIsI,GAAG,EAAEd,EAAE,IAAI/W,KAAKktD,KAAUr1C,EAAE0M,GAAGhV,EAAEoB,EAAEkH,GAA5M7X,KAAiNgI,QAAQuH,GAAGhK,MAAK,SAASoL,GAAGvR,IAAIA,GAAE,EAAGkT,EAAEtK,QAAQ+O,EAAEpG,GAAG,IAAE,SAASA,GAAGvR,IAAIA,GAAE,EAAGkT,EAAEygD,OAAOh8C,EAAEpG,GAAG,IAAS,OAAOoG,CAAC,CAAC,EAAE,CAACylD,UAAU,KAAK,GAAG,CAAC,SAAS7rD,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAE,CAAC,GAAE,EAAGuR,EAAE,sBAAsB3F,QAAQ5L,EAAEuR,EAAE,iBAAiBA,EAAE,iBAAiBA,EAAE,yBAAyByS,EAAE3kB,QAAQW,CAAC,EAAE,CAAC,gBAAgB,GAAG,gBAAgB,GAAG,qBAAqB,GAAG,uBAAuB,KAAK,GAAG,CAAC,SAASuR,EAAEyS,EAAEmB,GAAG,aAAa,IAAIhV,EAAEoB,EAAE,kBAAkBC,EAAED,EAAE,kBAAkBtH,EAAEsH,EAAE,mBAAmBkH,EAAElH,EAAE,mBAAmBoG,EAAEpG,EAAE,kBAAkBu8C,EAAEvkD,OAAOoK,UAAUP,SAA0B,SAAS7C,EAAEgB,GAAG,KAAK3Q,gBAAgB2P,GAAG,OAAO,IAAIA,EAAEgB,GAAG3Q,KAAK8C,QAAQ8N,EAAE5F,OAAO,CAAC6kD,OAAxF,EAAgG4M,OAAvF,EAAgGC,UAAU,MAAMC,WAAW,GAAGC,SAAS,EAAEC,SAA7I,EAAwJ37D,GAAG,IAAIyP,GAAG,CAAC,GAAG,IAAIyS,EAAEpjB,KAAK8C,QAAQsgB,EAAEwsC,KAAK,EAAExsC,EAAEu5C,WAAWv5C,EAAEu5C,YAAYv5C,EAAEu5C,WAAWv5C,EAAE05C,MAAM,EAAE15C,EAAEu5C,YAAYv5C,EAAEu5C,WAAW,KAAKv5C,EAAEu5C,YAAY,IAAI38D,KAAK+5B,IAAI,EAAE/5B,KAAKD,IAAI,GAAGC,KAAK+8D,OAAM,EAAG/8D,KAAKg9D,OAAO,GAAGh9D,KAAKi9D,KAAK,IAAIlmD,EAAE/W,KAAKi9D,KAAKC,UAAU,EAAE,IAAI34C,EAAEhV,EAAE4tD,aAAan9D,KAAKi9D,KAAK75C,EAAEysC,MAAMzsC,EAAEq5C,OAAOr5C,EAAEu5C,WAAWv5C,EAAEw5C,SAASx5C,EAAEy5C,UAAU,GAA7d,IAAget4C,EAAM,MAAM,IAAI5R,MAAMkF,EAAE0M,IAAI,GAAGnB,EAAE9G,QAAQ/M,EAAE6tD,iBAAiBp9D,KAAKi9D,KAAK75C,EAAE9G,QAAQ8G,EAAEi6C,WAAW,CAAC,IAAIj+D,EAAE,GAAGA,EAAE,iBAAiBgkB,EAAEi6C,WAAWh0D,EAAEi0D,WAAWl6C,EAAEi6C,YAAY,yBAAyBnQ,EAAE7iD,KAAK+Y,EAAEi6C,YAAY,IAAIr4D,WAAWoe,EAAEi6C,YAAYj6C,EAAEi6C,WAA/sB,KAA2tB94C,EAAEhV,EAAEguD,qBAAqBv9D,KAAKi9D,KAAK79D,IAAQ,MAAM,IAAIuT,MAAMkF,EAAE0M,IAAIvkB,KAAKw9D,WAAU,CAAE,CAAC,CAAC,SAASp+D,EAAEuR,EAAEyS,GAAG,IAAImB,EAAE,IAAI5U,EAAEyT,GAAG,GAAGmB,EAAE9Z,KAAKkG,GAAE,GAAI4T,EAAEwV,IAAI,MAAMxV,EAAExkB,KAAK8X,EAAE0M,EAAEwV,KAAK,OAAOxV,EAAErd,MAAM,CAACyI,EAAEoD,UAAUtI,KAAK,SAASkG,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAE7X,KAAKi9D,KAAKlmD,EAAE/W,KAAK8C,QAAQ45D,UAAU,GAAG18D,KAAK+8D,MAAM,OAAM,EAAG39D,EAAEgkB,MAAMA,EAAEA,GAAE,IAAKA,EAAE,EAAE,EAAE,iBAAiBzS,EAAEkH,EAAEmU,MAAM3iB,EAAEi0D,WAAW3sD,GAAG,yBAAyBu8C,EAAE7iD,KAAKsG,GAAGkH,EAAEmU,MAAM,IAAIhnB,WAAW2L,GAAGkH,EAAEmU,MAAMrb,EAAEkH,EAAE4lD,QAAQ,EAAE5lD,EAAE6lD,SAAS7lD,EAAEmU,MAAM/sB,OAAO,EAAE,CAAC,GAAG,IAAI4Y,EAAEqlD,YAAYrlD,EAAEqY,OAAO,IAAItf,EAAE+sD,KAAK5mD,GAAGc,EAAE+lD,SAAS,EAAE/lD,EAAEqlD,UAAUnmD,GAAG,KAAKwN,EAAEhV,EAAEsuD,QAAQhmD,EAAEzY,KAA1vC,IAA+vCmlB,EAAM,OAAOvkB,KAAK89D,MAAMv5C,KAAKvkB,KAAK+8D,OAAM,GAAI,IAAIllD,EAAEqlD,YAAY,IAAIrlD,EAAE6lD,UAAU,IAAIt+D,GAAG,IAAIA,KAAK,WAAWY,KAAK8C,QAAQ5B,GAAGlB,KAAK8vD,OAAOzmD,EAAE00D,cAAcntD,EAAEotD,UAAUnmD,EAAEqY,OAAOrY,EAAE+lD,YAAY59D,KAAK8vD,OAAOl/C,EAAEotD,UAAUnmD,EAAEqY,OAAOrY,EAAE+lD,WAAW,QAAQ,EAAE/lD,EAAE6lD,UAAU,IAAI7lD,EAAEqlD,YAAY,IAAI34C,GAAG,OAAO,IAAInlB,GAAGmlB,EAAEhV,EAAE0uD,WAAWj+D,KAAKi9D,MAAMj9D,KAAK89D,MAAMv5C,GAAGvkB,KAAK+8D,OAAM,EAArlD,IAAwlDx4C,GAAO,IAAInlB,IAAIY,KAAK89D,MAA5mD,KAAunDjmD,EAAEqlD,UAAU,GAAG,EAAEvtD,EAAEoD,UAAU+8C,OAAO,SAASn/C,GAAG3Q,KAAKg9D,OAAOvyD,KAAKkG,EAAE,EAAEhB,EAAEoD,UAAU+qD,MAAM,SAASntD,GAAvtD,IAA0tDA,IAAQ,WAAW3Q,KAAK8C,QAAQ5B,GAAGlB,KAAKkH,OAAOlH,KAAKg9D,OAAOz9D,KAAK,IAAIS,KAAKkH,OAAO0J,EAAEstD,cAAcl+D,KAAKg9D,SAASh9D,KAAKg9D,OAAO,GAAGh9D,KAAK+5B,IAAIppB,EAAE3Q,KAAKD,IAAIC,KAAKi9D,KAAKl9D,GAAG,EAAEwkB,EAAE45C,QAAQxuD,EAAE4U,EAAEs5C,QAAQz+D,EAAEmlB,EAAE65C,WAAW,SAASztD,EAAEyS,GAAG,OAAOA,EAAEA,GAAG,CAAC,GAAGwsC,KAAI,EAAGxwD,EAAEuR,EAAEyS,EAAE,EAAEmB,EAAEu4C,KAAK,SAASnsD,EAAEyS,GAAG,OAAOA,EAAEA,GAAG,CAAC,GAAG05C,MAAK,EAAG19D,EAAEuR,EAAEyS,EAAE,CAAC,EAAE,CAAC,iBAAiB,GAAG,kBAAkB,GAAG,iBAAiB,GAAG,kBAAkB,GAAG,iBAAiB,KAAK,GAAG,CAAC,SAASzS,EAAEyS,EAAEmB,GAAG,aAAa,IAAIqG,EAAEja,EAAE,kBAAkBtR,EAAEsR,EAAE,kBAAkBhB,EAAEgB,EAAE,mBAAmBM,EAAEN,EAAE,oBAAoBvR,EAAEuR,EAAE,mBAAmBkH,EAAElH,EAAE,kBAAkBoG,EAAEpG,EAAE,mBAAmB+K,EAAE/S,OAAOoK,UAAUP,SAAS,SAASjD,EAAEoB,GAAG,KAAK3Q,gBAAgBuP,GAAG,OAAO,IAAIA,EAAEoB,GAAG3Q,KAAK8C,QAAQzD,EAAE2L,OAAO,CAAC0xD,UAAU,MAAMC,WAAW,EAAEz7D,GAAG,IAAIyP,GAAG,CAAC,GAAG,IAAIyS,EAAEpjB,KAAK8C,QAAQsgB,EAAEwsC,KAAK,GAAGxsC,EAAEu5C,YAAYv5C,EAAEu5C,WAAW,KAAKv5C,EAAEu5C,YAAYv5C,EAAEu5C,WAAW,IAAIv5C,EAAEu5C,aAAav5C,EAAEu5C,YAAY,OAAO,GAAGv5C,EAAEu5C,YAAYv5C,EAAEu5C,WAAW,KAAKhsD,GAAGA,EAAEgsD,aAAav5C,EAAEu5C,YAAY,IAAI,GAAGv5C,EAAEu5C,YAAYv5C,EAAEu5C,WAAW,MAAQ,GAAGv5C,EAAEu5C,cAAcv5C,EAAEu5C,YAAY,IAAI38D,KAAK+5B,IAAI,EAAE/5B,KAAKD,IAAI,GAAGC,KAAK+8D,OAAM,EAAG/8D,KAAKg9D,OAAO,GAAGh9D,KAAKi9D,KAAK,IAAIplD,EAAE7X,KAAKi9D,KAAKC,UAAU,EAAE,IAAI34C,EAAEqG,EAAEyzC,aAAar+D,KAAKi9D,KAAK75C,EAAEu5C,YAAY,GAAGp4C,IAAItT,EAAEqtD,KAAK,MAAM,IAAI3rD,MAAMvT,EAAEmlB,IAAIvkB,KAAKsc,OAAO,IAAIvF,EAAE6T,EAAE2zC,iBAAiBv+D,KAAKi9D,KAAKj9D,KAAKsc,OAAO,CAAC,SAAS1L,EAAED,EAAEyS,GAAG,IAAImB,EAAE,IAAIhV,EAAE6T,GAAG,GAAGmB,EAAE9Z,KAAKkG,GAAE,GAAI4T,EAAEwV,IAAI,MAAMxV,EAAExkB,KAAKX,EAAEmlB,EAAEwV,KAAK,OAAOxV,EAAErd,MAAM,CAACqI,EAAEwD,UAAUtI,KAAK,SAASkG,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAEvH,EAAErJ,KAAKi9D,KAAK/P,EAAEltD,KAAK8C,QAAQ45D,UAAUpqD,EAAEtS,KAAK8C,QAAQu6D,WAAWl6C,GAAE,EAAG,GAAGnjB,KAAK+8D,MAAM,OAAM,EAAG39D,EAAEgkB,MAAMA,EAAEA,GAAE,IAAKA,EAAEnS,EAAEutD,SAASvtD,EAAEwtD,WAAW,iBAAiB9tD,EAAEtH,EAAE2iB,MAAMrc,EAAE+uD,cAAc/tD,GAAG,yBAAyB+K,EAAErR,KAAKsG,GAAGtH,EAAE2iB,MAAM,IAAIhnB,WAAW2L,GAAGtH,EAAE2iB,MAAMrb,EAAEtH,EAAEo0D,QAAQ,EAAEp0D,EAAEq0D,SAASr0D,EAAE2iB,MAAM/sB,OAAO,EAAE,CAAC,GAAG,IAAIoK,EAAE6zD,YAAY7zD,EAAE6mB,OAAO,IAAI7wB,EAAEs+D,KAAKzQ,GAAG7jD,EAAEu0D,SAAS,EAAEv0D,EAAE6zD,UAAUhQ,IAAI3oC,EAAEqG,EAAE+zC,QAAQt1D,EAAE4H,EAAEwtD,eAAextD,EAAE2tD,aAAatsD,IAAI1B,EAAE,iBAAiB0B,EAAE3C,EAAE2tD,WAAWhrD,GAAG,yBAAyBoJ,EAAErR,KAAKiI,GAAG,IAAItN,WAAWsN,GAAGA,EAAEiS,EAAEqG,EAAEi0C,qBAAqB7+D,KAAKi9D,KAAKrsD,IAAI2T,IAAItT,EAAE6tD,cAAa,IAAK37C,IAAIoB,EAAEtT,EAAEqtD,KAAKn7C,GAAE,GAAIoB,IAAItT,EAAE8tD,cAAcx6C,IAAItT,EAAEqtD,KAAK,OAAOt+D,KAAK89D,MAAMv5C,KAAKvkB,KAAK+8D,OAAM,GAAI1zD,EAAEu0D,WAAW,IAAIv0D,EAAE6zD,WAAW34C,IAAItT,EAAE8tD,eAAe,IAAI11D,EAAEq0D,UAAUt+D,IAAI6R,EAAEutD,UAAUp/D,IAAI6R,EAAE+tD,gBAAgB,WAAWh/D,KAAK8C,QAAQ5B,IAAI2W,EAAElI,EAAEsvD,WAAW51D,EAAE6mB,OAAO7mB,EAAEu0D,UAAU7mD,EAAE1N,EAAEu0D,SAAS/lD,EAAEtI,EAAEI,EAAEuvD,WAAW71D,EAAE6mB,OAAOrY,GAAGxO,EAAEu0D,SAAS7mD,EAAE1N,EAAE6zD,UAAUhQ,EAAEn2C,EAAEA,GAAG1X,EAAE8/D,SAAS91D,EAAE6mB,OAAO7mB,EAAE6mB,OAAOrY,EAAEd,EAAE,GAAG/W,KAAK8vD,OAAOvgD,IAAIvP,KAAK8vD,OAAOzwD,EAAE2+D,UAAU30D,EAAE6mB,OAAO7mB,EAAEu0D,aAAa,IAAIv0D,EAAEq0D,UAAU,IAAIr0D,EAAE6zD,YAAY/5C,GAAE,EAAG,QAAQ,EAAE9Z,EAAEq0D,UAAU,IAAIr0D,EAAE6zD,YAAY34C,IAAItT,EAAE8tD,cAAc,OAAOx6C,IAAItT,EAAE8tD,eAAe3/D,EAAE6R,EAAEutD,UAAUp/D,IAAI6R,EAAEutD,UAAUj6C,EAAEqG,EAAEw0C,WAAWp/D,KAAKi9D,MAAMj9D,KAAK89D,MAAMv5C,GAAGvkB,KAAK+8D,OAAM,EAAGx4C,IAAItT,EAAEqtD,MAAMl/D,IAAI6R,EAAE+tD,eAAeh/D,KAAK89D,MAAM7sD,EAAEqtD,QAAQj1D,EAAE6zD,UAAU,GAAG,EAAE3tD,EAAEwD,UAAU+8C,OAAO,SAASn/C,GAAG3Q,KAAKg9D,OAAOvyD,KAAKkG,EAAE,EAAEpB,EAAEwD,UAAU+qD,MAAM,SAASntD,GAAGA,IAAIM,EAAEqtD,OAAO,WAAWt+D,KAAK8C,QAAQ5B,GAAGlB,KAAKkH,OAAOlH,KAAKg9D,OAAOz9D,KAAK,IAAIS,KAAKkH,OAAO7H,EAAE6+D,cAAcl+D,KAAKg9D,SAASh9D,KAAKg9D,OAAO,GAAGh9D,KAAK+5B,IAAIppB,EAAE3Q,KAAKD,IAAIC,KAAKi9D,KAAKl9D,GAAG,EAAEwkB,EAAE86C,QAAQ9vD,EAAEgV,EAAEo6C,QAAQ/tD,EAAE2T,EAAE+6C,WAAW,SAAS3uD,EAAEyS,GAAG,OAAOA,EAAEA,GAAG,CAAC,GAAGwsC,KAAI,EAAGh/C,EAAED,EAAEyS,EAAE,EAAEmB,EAAEg7C,OAAO3uD,CAAC,EAAE,CAAC,iBAAiB,GAAG,kBAAkB,GAAG,mBAAmB,GAAG,kBAAkB,GAAG,iBAAiB,GAAG,kBAAkB,GAAG,iBAAiB,KAAK,GAAG,CAAC,SAASD,EAAEyS,EAAEmB,GAAG,aAAa,IAAInlB,EAAE,oBAAoB4F,YAAY,oBAAoBgqD,aAAa,oBAAoBwQ,WAAWj7C,EAAEvZ,OAAO,SAAS2F,GAAG,IAAI,IAAIyS,EAAE1S,MAAMqC,UAAUqL,MAAM/T,KAAKM,UAAU,GAAGyY,EAAEnkB,QAAQ,CAAC,IAAIslB,EAAEnB,EAAE1d,QAAQ,GAAG6e,EAAE,CAAC,GAAG,iBAAiBA,EAAE,MAAM,IAAI+pB,UAAU/pB,EAAE,sBAAsB,IAAI,IAAInlB,KAAKmlB,EAAEA,EAAEjM,eAAelZ,KAAKuR,EAAEvR,GAAGmlB,EAAEnlB,GAAG,CAAC,CAAC,OAAOuR,CAAC,EAAE4T,EAAEy5C,UAAU,SAASrtD,EAAEyS,GAAG,OAAOzS,EAAE1R,SAASmkB,EAAEzS,EAAEA,EAAEqkC,SAASrkC,EAAEqkC,SAAS,EAAE5xB,IAAIzS,EAAE1R,OAAOmkB,EAAEzS,EAAE,EAAE,IAAIkH,EAAE,CAACsnD,SAAS,SAASxuD,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,GAAG,GAAGuL,EAAE4xB,UAAUrkC,EAAEqkC,SAASrkC,EAAE9O,IAAIuhB,EAAE4xB,SAASzwB,EAAEA,EAAEnlB,GAAGyY,QAAQ,IAAI,IAAId,EAAE,EAAEA,EAAE3X,EAAE2X,IAAIpG,EAAEkH,EAAEd,GAAGqM,EAAEmB,EAAExN,EAAE,EAAEmnD,cAAc,SAASvtD,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAE,IAAI6T,EAAEhkB,EAAE,EAAEmlB,EAAE5T,EAAE1R,OAAOmkB,EAAEmB,EAAEnB,IAAIhkB,GAAGuR,EAAEyS,GAAGnkB,OAAO,IAAIsQ,EAAE,IAAIvK,WAAW5F,GAAGgkB,EAAEvL,EAAE,EAAE0M,EAAE5T,EAAE1R,OAAOmkB,EAAEmB,EAAEnB,IAAIrM,EAAEpG,EAAEyS,GAAG7T,EAAE1N,IAAIkV,EAAEc,GAAGA,GAAGd,EAAE9X,OAAO,OAAOsQ,CAAC,GAAGwH,EAAE,CAACooD,SAAS,SAASxuD,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,GAAG,IAAI,IAAId,EAAE,EAAEA,EAAE3X,EAAE2X,IAAIpG,EAAEkH,EAAEd,GAAGqM,EAAEmB,EAAExN,EAAE,EAAEmnD,cAAc,SAASvtD,GAAG,MAAM,GAAG6U,OAAO6iB,MAAM,GAAG13B,EAAE,GAAG4T,EAAEk7C,SAAS,SAAS9uD,GAAGA,GAAG4T,EAAEo5C,KAAK34D,WAAWuf,EAAEm7C,MAAM1Q,YAAYzqC,EAAEo7C,MAAMH,WAAWj7C,EAAEvZ,OAAOuZ,EAAE1M,KAAK0M,EAAEo5C,KAAKjtD,MAAM6T,EAAEm7C,MAAMhvD,MAAM6T,EAAEo7C,MAAMjvD,MAAM6T,EAAEvZ,OAAOuZ,EAAExN,GAAG,EAAEwN,EAAEk7C,SAASrgE,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,SAASuR,EAAEyS,EAAEmB,GAAG,aAAa,IAAIlb,EAAEsH,EAAE,YAAYkH,GAAE,EAAGd,GAAE,EAAG,IAAI/X,OAAOoT,aAAai2B,MAAM,KAAK,CAAC,GAAG,CAAC,MAAM13B,GAAGkH,GAAE,CAAE,CAAC,IAAI7Y,OAAOoT,aAAai2B,MAAM,KAAK,IAAIrjC,WAAW,GAAG,CAAC,MAAM2L,GAAGoG,GAAE,CAAE,CAAC,IAAI,IAAIm2C,EAAE,IAAI7jD,EAAEs0D,KAAK,KAAKv+D,EAAE,EAAEA,EAAE,IAAIA,IAAI8tD,EAAE9tD,GAAG,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,KAAKA,EAAE,EAAE,EAAE,SAASkT,EAAE3B,EAAEyS,GAAG,GAAGA,EAAE,QAAQzS,EAAEqkC,UAAUj+B,IAAIpG,EAAEqkC,UAAUn9B,GAAG,OAAO7Y,OAAOoT,aAAai2B,MAAM,KAAKh/B,EAAE20D,UAAUrtD,EAAEyS,IAAI,IAAI,IAAImB,EAAE,GAAGnlB,EAAE,EAAEA,EAAEgkB,EAAEhkB,IAAImlB,GAAGvlB,OAAOoT,aAAazB,EAAEvR,IAAI,OAAOmlB,CAAC,CAAC2oC,EAAE,KAAKA,EAAE,KAAK,EAAE3oC,EAAE+4C,WAAW,SAAS3sD,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEoB,EAAE1R,OAAO2R,EAAE,EAAE,IAAIiH,EAAE,EAAEA,EAAEtI,EAAEsI,IAAI,QAAQ,OAAO0M,EAAE5T,EAAEO,WAAW2G,MAAMA,EAAE,EAAEtI,GAAG,QAAQ,OAAOnQ,EAAEuR,EAAEO,WAAW2G,EAAE,OAAO0M,EAAE,OAAOA,EAAE,OAAO,KAAKnlB,EAAE,OAAOyY,KAAKjH,GAAG2T,EAAE,IAAI,EAAEA,EAAE,KAAK,EAAEA,EAAE,MAAM,EAAE,EAAE,IAAInB,EAAE,IAAI/Z,EAAEs0D,KAAK/sD,GAAGiH,EAAEd,EAAE,EAAEA,EAAEnG,EAAEiH,IAAI,QAAQ,OAAO0M,EAAE5T,EAAEO,WAAW2G,MAAMA,EAAE,EAAEtI,GAAG,QAAQ,OAAOnQ,EAAEuR,EAAEO,WAAW2G,EAAE,OAAO0M,EAAE,OAAOA,EAAE,OAAO,KAAKnlB,EAAE,OAAOyY,KAAK0M,EAAE,IAAInB,EAAErM,KAAKwN,GAAGA,EAAE,KAAKnB,EAAErM,KAAK,IAAIwN,IAAI,GAAGA,EAAE,MAAMnB,EAAErM,KAAK,IAAIwN,IAAI,IAAInB,EAAErM,KAAK,IAAIwN,IAAI,GAAGnB,EAAErM,KAAK,IAAIwN,IAAI,GAAG,IAAInB,EAAErM,KAAK,IAAIwN,IAAI,EAAE,IAAInB,EAAErM,KAAK,IAAI,GAAGwN,GAAG,OAAOnB,CAAC,EAAEmB,EAAEw5C,cAAc,SAASptD,GAAG,OAAO2B,EAAE3B,EAAEA,EAAE1R,OAAO,EAAEslB,EAAEm6C,cAAc,SAAS/tD,GAAG,IAAI,IAAIyS,EAAE,IAAI/Z,EAAEs0D,KAAKhtD,EAAE1R,QAAQslB,EAAE,EAAEnlB,EAAEgkB,EAAEnkB,OAAOslB,EAAEnlB,EAAEmlB,IAAInB,EAAEmB,GAAG5T,EAAEO,WAAWqT,GAAG,OAAOnB,CAAC,EAAEmB,EAAE26C,WAAW,SAASvuD,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAE6T,GAAGzS,EAAE1R,OAAO2R,EAAE,IAAIF,MAAM,EAAEnB,GAAG,IAAIgV,EAAEnlB,EAAE,EAAEmlB,EAAEhV,GAAG,IAAIsI,EAAElH,EAAE4T,MAAM,IAAI3T,EAAExR,KAAKyY,OAAO,GAAG,GAAGd,EAAEm2C,EAAEr1C,IAAIjH,EAAExR,KAAK,MAAMmlB,GAAGxN,EAAE,MAAM,CAAC,IAAIc,GAAG,IAAId,EAAE,GAAG,IAAIA,EAAE,GAAG,EAAE,EAAEA,GAAGwN,EAAEhV,GAAGsI,EAAEA,GAAG,EAAE,GAAGlH,EAAE4T,KAAKxN,IAAI,EAAEA,EAAEnG,EAAExR,KAAK,MAAMyY,EAAE,MAAMjH,EAAExR,KAAKyY,GAAGA,GAAG,MAAMjH,EAAExR,KAAK,MAAMyY,GAAG,GAAG,KAAKjH,EAAExR,KAAK,MAAM,KAAKyY,EAAE,CAAC,OAAOvF,EAAE1B,EAAExR,EAAE,EAAEmlB,EAAE06C,WAAW,SAAStuD,EAAEyS,GAAG,IAAImB,EAAE,KAAKnB,EAAEA,GAAGzS,EAAE1R,QAAQ0R,EAAE1R,SAASmkB,EAAEzS,EAAE1R,QAAQslB,EAAEnB,EAAE,EAAE,GAAGmB,GAAG,MAAM,IAAI5T,EAAE4T,KAAKA,IAAI,OAAOA,EAAE,GAAI,IAAIA,EAANnB,EAAUmB,EAAE2oC,EAAEv8C,EAAE4T,IAAInB,EAAEmB,EAAEnB,CAAC,CAAC,EAAE,CAAC,WAAW,KAAK,GAAG,CAAC,SAASzS,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,SAASkS,EAAEyS,EAAEmB,EAAEnlB,GAAG,IAAI,IAAIyY,EAAE,MAAMlH,EAAIoG,EAAEpG,IAAI,GAAG,MAAQpB,EAAE,EAAE,IAAIgV,GAAG,CAAC,IAAIA,GAAGhV,EAAE,IAAIgV,EAAE,IAAIA,EAAExN,EAAEA,GAAGc,EAAEA,EAAEuL,EAAEhkB,KAAK,GAAG,IAAImQ,IAAIsI,GAAG,MAAMd,GAAG,KAAK,CAAC,OAAOc,EAAEd,GAAG,EAAI,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAASpG,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,CAACggE,WAAW,EAAEmB,gBAAgB,EAAEZ,aAAa,EAAEa,aAAa,EAAErB,SAAS,EAAEsB,QAAQ,EAAEC,QAAQ,EAAEzB,KAAK,EAAES,aAAa,EAAEH,YAAY,EAAEoB,SAAS,EAAEC,gBAAgB,EAAEC,cAAc,EAAEpB,aAAa,EAAEqB,iBAAiB,EAAEC,aAAa,EAAEC,mBAAmB,EAAEC,uBAAuB,EAAEC,WAAW,EAAEC,eAAe,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,mBAAmB,EAAEC,SAAS,EAAEC,OAAO,EAAEC,UAAU,EAAEC,WAAW,EAAE,EAAE,CAAC,GAAG,GAAG,CAAC,SAASpwD,EAAEyS,EAAEmB,GAAG,aAAa,IAAI3T,EAAE,WAAW,IAAI,IAAID,EAAEyS,EAAE,GAAGmB,EAAE,EAAEA,EAAE,IAAIA,IAAI,CAAC5T,EAAE4T,EAAE,IAAI,IAAInlB,EAAE,EAAEA,EAAE,EAAEA,IAAIuR,EAAE,EAAEA,EAAE,WAAWA,IAAI,EAAEA,IAAI,EAAEyS,EAAEmB,GAAG5T,CAAC,CAAC,OAAOyS,CAAC,CAA7G,GAAiHA,EAAE3kB,QAAQ,SAASkS,EAAEyS,EAAEmB,EAAEnlB,GAAG,IAAIyY,EAAEjH,EAAEmG,EAAE3X,EAAEmlB,EAAE5T,IAAI,EAAE,IAAI,IAAIpB,EAAEnQ,EAAEmQ,EAAEwH,EAAExH,IAAIoB,EAAEA,IAAI,EAAEkH,EAAE,KAAKlH,EAAEyS,EAAE7T,KAAK,OAASoB,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAASA,EAAEyS,EAAEmB,GAAG,aAAa,IAAIlb,EAAEuhB,EAAEja,EAAE,mBAAmBu8C,EAAEv8C,EAAE,WAAWtR,EAAEsR,EAAE,aAAahB,EAAEgB,EAAE,WAAWvR,EAAEuR,EAAE,cAA0B+K,GAAG,EAAwD0D,EAAE,IAAI1c,EAAE0c,IAAW7L,EAAE,IAAoB,SAAS28C,EAAEv/C,EAAEyS,GAAG,OAAOzS,EAAE5Q,IAAIX,EAAEgkB,GAAGA,CAAC,CAAC,SAAS6F,EAAEtY,GAAG,OAAOA,GAAG,IAAI,EAAEA,EAAE,EAAE,EAAE,CAAC,SAASqwD,EAAErwD,GAAG,IAAI,IAAIyS,EAAEzS,EAAE1R,OAAO,KAAKmkB,GAAGzS,EAAEyS,GAAG,CAAC,CAAC,SAAS4F,EAAErY,GAAG,IAAIyS,EAAEzS,EAAE4kB,MAAMhR,EAAEnB,EAAE69C,QAAQ18C,EAAE5T,EAAEusD,YAAY34C,EAAE5T,EAAEusD,WAAW,IAAI34C,IAAIqG,EAAEu0C,SAASxuD,EAAEuf,OAAO9M,EAAE89C,YAAY99C,EAAE+9C,YAAY58C,EAAE5T,EAAEitD,UAAUjtD,EAAEitD,UAAUr5C,EAAEnB,EAAE+9C,aAAa58C,EAAE5T,EAAEywD,WAAW78C,EAAE5T,EAAEusD,WAAW34C,EAAEnB,EAAE69C,SAAS18C,EAAE,IAAInB,EAAE69C,UAAU79C,EAAE+9C,YAAY,GAAG,CAAC,SAAS//C,EAAEzQ,EAAEyS,GAAG8pC,EAAEmU,gBAAgB1wD,EAAE,GAAGA,EAAE2wD,YAAY3wD,EAAE2wD,aAAa,EAAE3wD,EAAE4wD,SAAS5wD,EAAE2wD,YAAYl+C,GAAGzS,EAAE2wD,YAAY3wD,EAAE4wD,SAASv4C,EAAErY,EAAEssD,KAAK,CAAC,SAAS9yC,EAAExZ,EAAEyS,GAAGzS,EAAEuwD,YAAYvwD,EAAEswD,WAAW79C,CAAC,CAAC,SAAShD,EAAEzP,EAAEyS,GAAGzS,EAAEuwD,YAAYvwD,EAAEswD,WAAW79C,IAAI,EAAE,IAAIzS,EAAEuwD,YAAYvwD,EAAEswD,WAAW,IAAI79C,CAAC,CAAC,SAASzO,EAAEhE,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAElH,EAAE6wD,iBAAiBzqD,EAAEpG,EAAE4wD,SAAShyD,EAAEoB,EAAE8wD,YAAY7wD,EAAED,EAAE+wD,WAAWr4D,EAAEsH,EAAE4wD,SAAS5wD,EAAEgxD,OAAOj/D,EAAEiO,EAAE4wD,UAAU5wD,EAAEgxD,OAAOj/D,GAAG,EAAEwqD,EAAEv8C,EAAE3K,OAAOsM,EAAE3B,EAAEixD,OAAOz+C,EAAExS,EAAEkxD,KAAKj3C,EAAEja,EAAE4wD,SAASniD,EAAE/f,EAAE6tD,EAAEn2C,EAAExH,EAAE,GAAGI,EAAEu9C,EAAEn2C,EAAExH,GAAGoB,EAAE8wD,aAAa9wD,EAAEmxD,aAAajqD,IAAI,GAAGjH,EAAED,EAAEoxD,YAAYnxD,EAAED,EAAEoxD,WAAW,GAAG,GAAG7U,GAAG3oC,EAAEnB,GAAG7T,KAAKI,GAAGu9C,EAAE3oC,EAAEhV,EAAE,KAAKlQ,GAAG6tD,EAAE3oC,KAAK2oC,EAAEn2C,IAAIm2C,IAAI3oC,KAAK2oC,EAAEn2C,EAAE,GAAG,CAACA,GAAG,EAAEwN,IAAI,UAAU2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAI2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAI2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAI2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAI2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAI2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAI2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAI2oC,IAAIn2C,KAAKm2C,IAAI3oC,IAAIxN,EAAE6T,GAAG,GAAGxrB,EAAEggB,GAAGwL,EAAE7T,GAAGA,EAAE6T,EAAExL,EAAE7P,EAAEnQ,EAAE,CAAC,GAAGuR,EAAEqxD,YAAY5+C,EAAExS,IAAIrB,EAAEnQ,GAAG,MAAMC,EAAE6tD,EAAEn2C,EAAExH,EAAE,GAAGI,EAAEu9C,EAAEn2C,EAAExH,EAAE,CAAC,SAAS6T,EAAED,EAAEC,EAAE9Q,IAAIjJ,GAAG,KAAKwO,GAAG,OAAOtI,GAAGoB,EAAEoxD,UAAUxyD,EAAEoB,EAAEoxD,SAAS,CAAC,SAASxrD,EAAE5F,GAAG,IAAIyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAEvH,EAAE6jD,EAAE56C,EAAE6Q,EAAExS,EAAEgxD,OAAO,EAAE,CAAC,GAAG9pD,EAAElH,EAAEsxD,YAAYtxD,EAAEoxD,UAAUpxD,EAAE4wD,SAAS5wD,EAAE4wD,UAAUp+C,GAAGA,EAAEzgB,GAAG,CAAC,IAAIkoB,EAAEu0C,SAASxuD,EAAE3K,OAAO2K,EAAE3K,OAAOmd,EAAEA,EAAE,GAAGxS,EAAEqxD,aAAa7+C,EAAExS,EAAE4wD,UAAUp+C,EAAExS,EAAE2wD,aAAan+C,EAAEC,EAAEmB,EAAE5T,EAAEuxD,UAAU9iE,EAAEuR,EAAEwxD,OAAO/+C,GAAGzS,EAAEwxD,KAAK/+C,GAAGD,GAAG/jB,EAAEA,EAAE+jB,EAAE,IAAIoB,IAAI,IAAInB,EAAEmB,EAAEpB,EAAE/jB,EAAEuR,EAAEkxD,OAAOz+C,GAAGzS,EAAEkxD,KAAKz+C,GAAGD,GAAG/jB,EAAEA,EAAE+jB,EAAE,IAAIoB,IAAI1M,GAAGsL,CAAC,CAAC,GAAG,IAAIxS,EAAEssD,KAAKS,SAAS,MAAM,GAAGnuD,EAAEoB,EAAEssD,KAAKrsD,EAAED,EAAE3K,OAAOqD,EAAEsH,EAAE4wD,SAAS5wD,EAAEoxD,UAAczvD,OAAE,GAAN46C,EAAEr1C,IAAWvF,EAAE/C,EAAEmuD,YAAeprD,EAAE46C,GAAG3oC,EAAE,IAAIjS,EAAE,GAAG/C,EAAEmuD,UAAUprD,EAAEsY,EAAEu0C,SAASvuD,EAAErB,EAAEyc,MAAMzc,EAAEkuD,QAAQnrD,EAAEjJ,GAAG,IAAIkG,EAAEgmB,MAAM6sC,KAAK7yD,EAAE8yD,MAAMhjE,EAAEkQ,EAAE8yD,MAAMzxD,EAAE0B,EAAEjJ,GAAG,IAAIkG,EAAEgmB,MAAM6sC,OAAO7yD,EAAE8yD,MAAM1yD,EAAEJ,EAAE8yD,MAAMzxD,EAAE0B,EAAEjJ,IAAIkG,EAAEkuD,SAASnrD,EAAE/C,EAAE+yD,UAAUhwD,EAAEA,GAAG3B,EAAEoxD,WAAWx9C,EAAE5T,EAAEoxD,UAAUpxD,EAAE4E,QAAr6D,EAA+6D,IAAIwB,EAAEpG,EAAE4wD,SAAS5wD,EAAE4E,OAAO5E,EAAE4xD,MAAM5xD,EAAE3K,OAAO+Q,GAAGpG,EAAE4xD,OAAO5xD,EAAE4xD,OAAO5xD,EAAE6xD,WAAW7xD,EAAE3K,OAAO+Q,EAAE,IAAIpG,EAAE8xD,UAAU9xD,EAAE4E,SAAS5E,EAAE4xD,OAAO5xD,EAAE4xD,OAAO5xD,EAAE6xD,WAAW7xD,EAAE3K,OAAO+Q,EAA1kE,EAA8kE,IAAIpG,EAAE8xD,UAAU9xD,EAAEkxD,KAAK9qD,EAAEpG,EAAEixD,QAAQjxD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAEwxD,KAAKxxD,EAAE4xD,OAAOxrD,EAAEA,IAAIpG,EAAE4E,WAAW5E,EAAEoxD,UAAUpxD,EAAE4E,OAAlrE,MAA+rE,OAAO5E,EAAEoxD,UAAUr/D,GAAG,IAAIiO,EAAEssD,KAAKS,SAAS,CAAC,SAASjyC,EAAE9a,EAAEyS,GAAG,IAAI,IAAImB,EAAEnlB,IAAI,CAAC,GAAGuR,EAAEoxD,UAAUr/D,EAAE,CAAC,GAAG6T,EAAE5F,GAAGA,EAAEoxD,UAAUr/D,GAAl3E,IAAq3E0gB,EAAM,OAA3xE,EAAoyE,GAAG,IAAIzS,EAAEoxD,UAAU,KAAK,CAAC,GAAGx9C,EAAE,EAAE5T,EAAEoxD,WAAn2E,IAAk3EpxD,EAAE4xD,OAAO5xD,EAAE4xD,OAAO5xD,EAAE6xD,WAAW7xD,EAAE3K,OAAO2K,EAAE4wD,SAA55E,EAAu6E,IAAI5wD,EAAE8xD,UAAUl+C,EAAE5T,EAAEkxD,KAAKlxD,EAAE4wD,SAAS5wD,EAAEixD,QAAQjxD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAE4wD,UAAU,IAAIh9C,GAAG5T,EAAE4wD,SAASh9C,GAAG5T,EAAEgxD,OAAOj/D,IAAIiO,EAAE+xD,aAAa/tD,EAAEhE,EAAE4T,IAAI5T,EAAE+xD,cAA5jF,EAA4kF,GAAGtjE,EAAE8tD,EAAEyV,UAAUhyD,EAAEA,EAAE4wD,SAAS5wD,EAAEqxD,YAAYrxD,EAAE+xD,aAA1nF,GAA0oF/xD,EAAEoxD,WAAWpxD,EAAE+xD,aAAa/xD,EAAE+xD,cAAc/xD,EAAEiyD,gBAAgBjyD,EAAEoxD,WAA1sF,EAAutF,CAAC,IAAIpxD,EAAE+xD,eAAe/xD,EAAE4wD,WAAW5wD,EAAE4xD,OAAO5xD,EAAE4xD,OAAO5xD,EAAE6xD,WAAW7xD,EAAE3K,OAAO2K,EAAE4wD,SAApyF,EAA+yF,IAAI5wD,EAAE8xD,UAAUl+C,EAAE5T,EAAEkxD,KAAKlxD,EAAE4wD,SAAS5wD,EAAEixD,QAAQjxD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAE4wD,SAAS,KAAK5wD,EAAE+xD,eAAe/xD,EAAE4wD,UAAU,MAAM5wD,EAAE4wD,UAAU5wD,EAAE+xD,aAAa/xD,EAAE+xD,aAAa,EAAE/xD,EAAE4xD,MAAM5xD,EAAE3K,OAAO2K,EAAE4wD,UAAU5wD,EAAE4xD,OAAO5xD,EAAE4xD,OAAO5xD,EAAE6xD,WAAW7xD,EAAE3K,OAAO2K,EAAE4wD,SAAS,IAAI5wD,EAAE8xD,eAAerjE,EAAE8tD,EAAEyV,UAAUhyD,EAAE,EAAEA,EAAE3K,OAAO2K,EAAE4wD,WAAW5wD,EAAEoxD,YAAYpxD,EAAE4wD,WAAW,GAAGniE,IAAIgiB,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAW,OAA5oG,CAAopG,CAAC,OAAOvsD,EAAE4E,OAAO5E,EAAE4wD,SAAS5/D,EAAIgP,EAAE4wD,SAAS5/D,EAA3xG,IAA+xGyhB,GAAOhC,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,UAArtG,EAAI,GAAguGvsD,EAAEkyD,WAAWzhD,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAA5wG,EAAI,CAAsxG,CAAC,SAAS7yC,EAAE1Z,EAAEyS,GAAG,IAAI,IAAImB,EAAEnlB,EAAEyY,IAAI,CAAC,GAAGlH,EAAEoxD,UAAUr/D,EAAE,CAAC,GAAG6T,EAAE5F,GAAGA,EAAEoxD,UAAUr/D,GAAl8G,IAAq8G0gB,EAAM,OAA32G,EAAo3G,GAAG,IAAIzS,EAAEoxD,UAAU,KAAK,CAAC,GAAGx9C,EAAE,EAAE5T,EAAEoxD,WAAn7G,IAAk8GpxD,EAAE4xD,OAAO5xD,EAAE4xD,OAAO5xD,EAAE6xD,WAAW7xD,EAAE3K,OAAO2K,EAAE4wD,SAA5+G,EAAu/G,IAAI5wD,EAAE8xD,UAAUl+C,EAAE5T,EAAEkxD,KAAKlxD,EAAE4wD,SAAS5wD,EAAEixD,QAAQjxD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAE4wD,UAAU5wD,EAAE8wD,YAAY9wD,EAAE+xD,aAAa/xD,EAAEmyD,WAAWnyD,EAAEqxD,YAAYrxD,EAAE+xD,aAAa/gE,EAAI,IAAI4iB,GAAG5T,EAAE8wD,YAAY9wD,EAAEiyD,gBAAgBjyD,EAAE4wD,SAASh9C,GAAG5T,EAAEgxD,OAAOj/D,IAAIiO,EAAE+xD,aAAa/tD,EAAEhE,EAAE4T,GAAG5T,EAAE+xD,cAAc,IAAI,IAAI/xD,EAAEksD,UAA9wH,IAAwxHlsD,EAAE+xD,cAAkB,KAAK/xD,EAAE4wD,SAAS5wD,EAAEqxD,eAAerxD,EAAE+xD,aAAa/gE,IAAMgP,EAAE8wD,aAAp2H,GAAo3H9wD,EAAE+xD,cAAc/xD,EAAE8wD,YAAY,CAAC,IAAI5pD,EAAElH,EAAE4wD,SAAS5wD,EAAEoxD,UAAt6H,EAAk7H3iE,EAAE8tD,EAAEyV,UAAUhyD,EAAEA,EAAE4wD,SAAS,EAAE5wD,EAAEmyD,WAAWnyD,EAAE8wD,YAA99H,GAA6+H9wD,EAAEoxD,WAAWpxD,EAAE8wD,YAAY,EAAE9wD,EAAE8wD,aAAa,IAAI9wD,EAAE4wD,UAAU1pD,IAAIlH,EAAE4xD,OAAO5xD,EAAE4xD,OAAO5xD,EAAE6xD,WAAW7xD,EAAE3K,OAAO2K,EAAE4wD,SAAvlI,EAAkmI,IAAI5wD,EAAE8xD,UAAUl+C,EAAE5T,EAAEkxD,KAAKlxD,EAAE4wD,SAAS5wD,EAAEixD,QAAQjxD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAEwxD,KAAKxxD,EAAE4xD,OAAO5xD,EAAE4wD,UAAU,KAAK5wD,EAAE8wD,cAAc,GAAG9wD,EAAEoyD,gBAAgB,EAAEpyD,EAAE+xD,aAAa/gE,EAAIgP,EAAE4wD,WAAWniE,IAAIgiB,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAW,OAA7wI,CAAqxI,MAAM,GAAGvsD,EAAEoyD,iBAAiB,IAAI3jE,EAAE8tD,EAAEyV,UAAUhyD,EAAE,EAAEA,EAAE3K,OAAO2K,EAAE4wD,SAAS,MAAMngD,EAAEzQ,GAAE,GAAIA,EAAE4wD,WAAW5wD,EAAEoxD,YAAY,IAAIpxD,EAAEssD,KAAKC,UAAU,OAAz5I,OAAu6IvsD,EAAEoyD,gBAAgB,EAAEpyD,EAAE4wD,WAAW5wD,EAAEoxD,WAAW,CAAC,OAAOpxD,EAAEoyD,kBAAkB3jE,EAAE8tD,EAAEyV,UAAUhyD,EAAE,EAAEA,EAAE3K,OAAO2K,EAAE4wD,SAAS,IAAI5wD,EAAEoyD,gBAAgB,GAAGpyD,EAAE4E,OAAO5E,EAAE4wD,SAAS5/D,EAAIgP,EAAE4wD,SAAS5/D,EAA/qJ,IAAmrJyhB,GAAOhC,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,UAAzmJ,EAAI,GAAonJvsD,EAAEkyD,WAAWzhD,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAhqJ,EAAI,CAA0qJ,CAAC,SAAS71C,EAAE1W,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,GAAG7X,KAAKgjE,YAAYryD,EAAE3Q,KAAKijE,SAAS7/C,EAAEpjB,KAAKkjE,YAAY3+C,EAAEvkB,KAAKmjE,UAAU/jE,EAAEY,KAAKojE,KAAKvrD,CAAC,CAAC,SAASmT,IAAIhrB,KAAKi9D,KAAK,KAAKj9D,KAAK+7C,OAAO,EAAE/7C,KAAKkhE,YAAY,KAAKlhE,KAAKqjE,iBAAiB,EAAErjE,KAAKmhE,YAAY,EAAEnhE,KAAKihE,QAAQ,EAAEjhE,KAAKoiE,KAAK,EAAEpiE,KAAKsjE,OAAO,KAAKtjE,KAAKujE,QAAQ,EAAEvjE,KAAKy8D,OAArgK,EAA8gKz8D,KAAKwjE,YAAY,EAAExjE,KAAK2hE,OAAO,EAAE3hE,KAAKyjE,OAAO,EAAEzjE,KAAK4hE,OAAO,EAAE5hE,KAAKgG,OAAO,KAAKhG,KAAKiiE,YAAY,EAAEjiE,KAAK6hE,KAAK,KAAK7hE,KAAKmiE,KAAK,KAAKniE,KAAKuiE,MAAM,EAAEviE,KAAKkiE,UAAU,EAAEliE,KAAK0jE,UAAU,EAAE1jE,KAAKyiE,UAAU,EAAEziE,KAAKwiE,WAAW,EAAExiE,KAAKshE,YAAY,EAAEthE,KAAK0iE,aAAa,EAAE1iE,KAAK8iE,WAAW,EAAE9iE,KAAK+iE,gBAAgB,EAAE/iE,KAAKuhE,SAAS,EAAEvhE,KAAKgiE,YAAY,EAAEhiE,KAAK+hE,UAAU,EAAE/hE,KAAKyhE,YAAY,EAAEzhE,KAAKwhE,iBAAiB,EAAExhE,KAAK4iE,eAAe,EAAE5iE,KAAK6vD,MAAM,EAAE7vD,KAAK68D,SAAS,EAAE78D,KAAK8hE,WAAW,EAAE9hE,KAAK0hE,WAAW,EAAE1hE,KAAK2jE,UAAU,IAAI/4C,EAAE80C,MAAM,MAAK1/D,KAAK4jE,UAAU,IAAIh5C,EAAE80C,MAAM,KAAW1/D,KAAK6jE,QAAQ,IAAIj5C,EAAE80C,MAAM,IAAWsB,EAAEhhE,KAAK2jE,WAAW3C,EAAEhhE,KAAK4jE,WAAW5C,EAAEhhE,KAAK6jE,SAAS7jE,KAAK8jE,OAAO,KAAK9jE,KAAK+jE,OAAO,KAAK/jE,KAAKgkE,QAAQ,KAAKhkE,KAAKikE,SAAS,IAAIr5C,EAAE80C,MAAM7kC,IAAK76B,KAAKkkE,KAAK,IAAIt5C,EAAE80C,MAAM,KAAOsB,EAAEhhE,KAAKkkE,MAAMlkE,KAAKmkE,SAAS,EAAEnkE,KAAKokE,SAAS,EAAEpkE,KAAKqkE,MAAM,IAAIz5C,EAAE80C,MAAM,KAAOsB,EAAEhhE,KAAKqkE,OAAOrkE,KAAKskE,MAAM,EAAEtkE,KAAKukE,YAAY,EAAEvkE,KAAK6iE,SAAS,EAAE7iE,KAAKwkE,MAAM,EAAExkE,KAAKykE,QAAQ,EAAEzkE,KAAK0kE,WAAW,EAAE1kE,KAAK+gB,QAAQ,EAAE/gB,KAAKuV,OAAO,EAAEvV,KAAK2kE,OAAO,EAAE3kE,KAAK4kE,SAAS,CAAC,CAAC,SAASC,EAAEl0D,GAAG,IAAIyS,EAAE,OAAOzS,GAAGA,EAAE4kB,OAAO5kB,EAAE2xD,SAAS3xD,EAAEywD,UAAU,EAAEzwD,EAAEm0D,UAA3iM,GAAwjM1hD,EAAEzS,EAAE4kB,OAAO0rC,QAAQ,EAAE79C,EAAE+9C,YAAY,EAAE/9C,EAAEg/C,KAAK,IAAIh/C,EAAEg/C,MAAMh/C,EAAEg/C,MAAMh/C,EAAE24B,OAAO34B,EAAEg/C,KAAxkM,GAA+kM7uD,EAAE5C,EAAE0xD,MAAM,IAAIj/C,EAAEg/C,KAAK,EAAE,EAAEh/C,EAAEogD,WAA/rM,EAA4sMtW,EAAE6X,SAAS3hD,GAA/sM,GAAqtM8sC,EAAEv/C,EAAE+K,EAAE,CAAC,SAASxF,EAAEvF,GAAG,IAAIyS,EAAEyhD,EAAEl0D,GAAG,OAArvM,IAA4vMyS,GAAO,SAASzS,GAAGA,EAAEsxD,YAAY,EAAEtxD,EAAEgxD,OAAOX,EAAErwD,EAAEwxD,MAAMxxD,EAAEiyD,eAAev5D,EAAEsH,EAAEk/C,OAAOoT,SAAStyD,EAAEmxD,WAAWz4D,EAAEsH,EAAEk/C,OAAOmT,YAAYryD,EAAE+wD,WAAWr4D,EAAEsH,EAAEk/C,OAAOqT,YAAYvyD,EAAE6wD,iBAAiBn4D,EAAEsH,EAAEk/C,OAAOsT,UAAUxyD,EAAE4wD,SAAS,EAAE5wD,EAAE2wD,YAAY,EAAE3wD,EAAEoxD,UAAU,EAAEpxD,EAAE4E,OAAO,EAAE5E,EAAE+xD,aAAa/xD,EAAE8wD,YAAY9/D,EAAIgP,EAAEoyD,gBAAgB,EAAEpyD,EAAE4xD,MAAM,CAAC,CAAxT,CAA0T5xD,EAAE4kB,OAAOnS,CAAC,CAAC,SAASgD,EAAEzV,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,GAAG,IAAIpG,EAAE,OAAO+K,EAAE,IAAInM,EAAE,EAAE,IAA9mN,IAAinN6T,IAAQA,EAAE,GAAGhkB,EAAE,GAAGmQ,EAAE,EAAEnQ,GAAGA,GAAG,GAAGA,IAAImQ,EAAE,EAAEnQ,GAAG,IAAIyY,EAAE,GAAhpN,EAAqpNA,GAAzpN,IAA4pN0M,GAAOnlB,EAAE,GAAG,GAAGA,GAAGgkB,EAAE,GAAG,EAAEA,GAAGrM,EAAE,GAAlsN,EAAusNA,EAAE,OAAOm5C,EAAEv/C,EAAE+K,GAAG,IAAItc,IAAIA,EAAE,GAAG,IAAIwR,EAAE,IAAIoa,EAAE,OAAOra,EAAE4kB,MAAM3kB,GAAGqsD,KAAKtsD,EAAEC,EAAEwxD,KAAK7yD,EAAEqB,EAAE0yD,OAAO,KAAK1yD,EAAE6yD,OAAOrkE,EAAEwR,EAAE+wD,OAAO,GAAG/wD,EAAE6yD,OAAO7yD,EAAEgxD,OAAOhxD,EAAE+wD,OAAO,EAAE/wD,EAAE8yD,UAAU7rD,EAAE,EAAEjH,EAAEsxD,UAAU,GAAGtxD,EAAE8yD,UAAU9yD,EAAE6xD,UAAU7xD,EAAEsxD,UAAU,EAAEtxD,EAAE4xD,eAAe5xD,EAAE8yD,UAA/3N,EAA24N,GAA34N,GAAi5N9yD,EAAE5K,OAAO,IAAI4kB,EAAE+yC,KAAK,EAAE/sD,EAAE+wD,QAAQ/wD,EAAEuxD,KAAK,IAAIv3C,EAAE80C,MAAM9uD,EAAEsxD,WAAWtxD,EAAEixD,KAAK,IAAIj3C,EAAE80C,MAAM9uD,EAAE+wD,QAAQ/wD,EAAE2zD,YAAY,GAAG1sD,EAAE,EAAEjH,EAAEyyD,iBAAiB,EAAEzyD,EAAE2zD,YAAY3zD,EAAEswD,YAAY,IAAIt2C,EAAE+yC,KAAK/sD,EAAEyyD,kBAAkBzyD,EAAE4zD,MAAM,EAAE5zD,EAAE2zD,YAAY3zD,EAAE0zD,MAAM,EAAE1zD,EAAE2zD,YAAY3zD,EAAEi/C,MAAMzsC,EAAExS,EAAEisD,SAAS9lD,EAAEnG,EAAE6rD,OAAOl4C,EAAErO,EAAEvF,EAAE,CAACtH,EAAE,CAAC,IAAIge,EAAE,EAAE,EAAE,EAAE,GAAE,SAAS1W,EAAEyS,GAAG,IAAImB,EAAE,MAAM,IAAIA,EAAE5T,EAAE0yD,iBAAiB,IAAI9+C,EAAE5T,EAAE0yD,iBAAiB,KAAK,CAAC,GAAG1yD,EAAEoxD,WAAW,EAAE,CAAC,GAAGxrD,EAAE5F,GAAG,IAAIA,EAAEoxD,WAAj3O,IAA43O3+C,EAAM,OAAlyO,EAA2yO,GAAG,IAAIzS,EAAEoxD,UAAU,KAAK,CAACpxD,EAAE4wD,UAAU5wD,EAAEoxD,UAAUpxD,EAAEoxD,UAAU,EAAE,IAAI3iE,EAAEuR,EAAE2wD,YAAY/8C,EAAE,IAAI,IAAI5T,EAAE4wD,UAAU5wD,EAAE4wD,UAAUniE,KAAKuR,EAAEoxD,UAAUpxD,EAAE4wD,SAASniE,EAAEuR,EAAE4wD,SAASniE,EAAEgiB,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAW,OAAz+O,EAAk/O,GAAGvsD,EAAE4wD,SAAS5wD,EAAE2wD,aAAa3wD,EAAEgxD,OAAOj/D,IAAI0e,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAW,OAA1jP,CAAkkP,CAAC,OAAOvsD,EAAE4E,OAAO,EAA/qP,IAAirP6N,GAAOhC,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,UAAvmP,EAAI,IAAmnPvsD,EAAE4wD,SAAS5wD,EAAE2wD,cAAclgD,EAAEzQ,GAAE,GAAIA,EAAEssD,KAAKC,WAAzqP,EAAsrP,IAAG,IAAI71C,EAAE,EAAE,EAAE,EAAE,EAAEoE,GAAG,IAAIpE,EAAE,EAAE,EAAE,GAAG,EAAEoE,GAAG,IAAIpE,EAAE,EAAE,EAAE,GAAG,GAAGoE,GAAG,IAAIpE,EAAE,EAAE,EAAE,GAAG,GAAGgD,GAAG,IAAIhD,EAAE,EAAE,GAAG,GAAG,GAAGgD,GAAG,IAAIhD,EAAE,EAAE,GAAG,IAAI,IAAIgD,GAAG,IAAIhD,EAAE,EAAE,GAAG,IAAI,IAAIgD,GAAG,IAAIhD,EAAE,GAAG,IAAI,IAAI,KAAKgD,GAAG,IAAIhD,EAAE,GAAG,IAAI,IAAI,KAAKgD,IAAI9F,EAAEygD,YAAY,SAASr0D,EAAEyS,GAAG,OAAOgD,EAAEzV,EAAEyS,EAA99P,EAAk+P,GAAG,EAAE,EAAE,EAAEmB,EAAE44C,aAAa/2C,EAAE7B,EAAE0gD,aAAa/uD,EAAEqO,EAAE2gD,iBAAiBL,EAAEtgD,EAAE64C,iBAAiB,SAASzsD,EAAEyS,GAAG,OAAOzS,GAAGA,EAAE4kB,MAAM,IAAI5kB,EAAE4kB,MAAM6sC,KAAK1mD,GAAG/K,EAAE4kB,MAAM+tC,OAAOlgD,EAA9oQ,GAAmpQ1H,CAAC,EAAE6I,EAAEs5C,QAAQ,SAASltD,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAE,IAAIpG,IAAIA,EAAE4kB,OAAO,EAAEnS,GAAGA,EAAE,EAAE,OAAOzS,EAAEu/C,EAAEv/C,EAAE+K,GAAGA,EAAE,GAAGtc,EAAEuR,EAAE4kB,OAAO5kB,EAAEuf,SAASvf,EAAEqb,OAAO,IAAIrb,EAAE+sD,UAAU,MAAMt+D,EAAE28C,QAApyQ,IAA4yQ34B,EAAM,OAAO8sC,EAAEv/C,EAAE,IAAIA,EAAEusD,WAAW,EAAExhD,GAAG,GAAGtc,EAAE69D,KAAKtsD,EAAE4T,EAAEnlB,EAAEokE,WAAWpkE,EAAEokE,WAAWpgD,EAA1yQ,KAA4yQhkB,EAAE28C,OAAW,GAAG,IAAI38C,EAAEgjE,KAAKzxD,EAAE0xD,MAAM,EAAEl4C,EAAE/qB,EAAE,IAAI+qB,EAAE/qB,EAAE,KAAK+qB,EAAE/qB,EAAE,GAAGA,EAAEkkE,QAAQn5C,EAAE/qB,GAAGA,EAAEkkE,OAAOtgE,KAAK,EAAE,IAAI5D,EAAEkkE,OAAO6B,KAAK,EAAE,IAAI/lE,EAAEkkE,OAAO8B,MAAM,EAAE,IAAIhmE,EAAEkkE,OAAOvtD,KAAK,EAAE,IAAI3W,EAAEkkE,OAAO1U,QAAQ,GAAG,IAAIzkC,EAAE/qB,EAAE,IAAIA,EAAEkkE,OAAOpjE,MAAMiqB,EAAE/qB,EAAEA,EAAEkkE,OAAOpjE,MAAM,EAAE,KAAKiqB,EAAE/qB,EAAEA,EAAEkkE,OAAOpjE,MAAM,GAAG,KAAKiqB,EAAE/qB,EAAEA,EAAEkkE,OAAOpjE,MAAM,GAAG,KAAKiqB,EAAE/qB,EAAE,IAAIA,EAAEywD,MAAM,EAAE,GAAGzwD,EAAEy9D,UAAUz9D,EAAEywD,MAAM,EAAE,EAAE,GAAG1lC,EAAE/qB,EAAE,IAAIA,EAAEkkE,OAAO+B,IAAIjmE,EAAEkkE,OAAO8B,OAAOhmE,EAAEkkE,OAAO8B,MAAMnmE,SAASkrB,EAAE/qB,EAAE,IAAIA,EAAEkkE,OAAO8B,MAAMnmE,QAAQkrB,EAAE/qB,EAAEA,EAAEkkE,OAAO8B,MAAMnmE,QAAQ,EAAE,MAAMG,EAAEkkE,OAAO6B,OAAOx0D,EAAE0xD,MAAM1yD,EAAEgB,EAAE0xD,MAAMjjE,EAAE8hE,YAAY9hE,EAAE6hE,QAAQ,IAAI7hE,EAAEmkE,QAAQ,EAAEnkE,EAAE28C,OAAO,KAAK5xB,EAAE/qB,EAAE,GAAG+qB,EAAE/qB,EAAE,GAAG+qB,EAAE/qB,EAAE,GAAG+qB,EAAE/qB,EAAE,GAAG+qB,EAAE/qB,EAAE,GAAG+qB,EAAE/qB,EAAE,IAAIA,EAAEywD,MAAM,EAAE,GAAGzwD,EAAEy9D,UAAUz9D,EAAEywD,MAAM,EAAE,EAAE,GAAG1lC,EAAE/qB,EAAE,GAAGA,EAAE28C,OAAOxoC,OAAO,CAAC,IAAIhE,EAAr/R,GAA0/RnQ,EAAEqkE,OAAO,GAAG,IAAI,EAAEl0D,IAAI,GAAGnQ,EAAEy9D,UAAUz9D,EAAEywD,MAAM,EAAE,EAAEzwD,EAAEywD,MAAM,EAAE,EAAE,IAAIzwD,EAAEywD,MAAM,EAAE,IAAI,EAAE,IAAIzwD,EAAEmiE,WAAWhyD,GAAG,IAAIA,GAAG,GAAGA,EAAE,GAAGnQ,EAAE28C,OAAOxoC,EAAE6M,EAAEhhB,EAAEmQ,GAAG,IAAInQ,EAAEmiE,WAAWnhD,EAAEhhB,EAAEuR,EAAE0xD,QAAQ,IAAIjiD,EAAEhhB,EAAE,MAAMuR,EAAE0xD,QAAQ1xD,EAAE0xD,MAAM,CAAC,CAAC,GAAG,KAAKjjE,EAAE28C,OAAO,GAAG38C,EAAEkkE,OAAO8B,MAAM,CAAC,IAAIvtD,EAAEzY,EAAE6hE,QAAQ7hE,EAAEmkE,SAAS,MAAMnkE,EAAEkkE,OAAO8B,MAAMnmE,UAAUG,EAAE6hE,UAAU7hE,EAAEikE,mBAAmBjkE,EAAEkkE,OAAO6B,MAAM/lE,EAAE6hE,QAAQppD,IAAIlH,EAAE0xD,MAAM1yD,EAAEgB,EAAE0xD,MAAMjjE,EAAE8hE,YAAY9hE,EAAE6hE,QAAQppD,EAAEA,IAAImR,EAAErY,GAAGkH,EAAEzY,EAAE6hE,QAAQ7hE,EAAE6hE,UAAU7hE,EAAEikE,oBAAoBl5C,EAAE/qB,EAAE,IAAIA,EAAEkkE,OAAO8B,MAAMhmE,EAAEmkE,UAAUnkE,EAAEmkE,UAAUnkE,EAAEkkE,OAAO6B,MAAM/lE,EAAE6hE,QAAQppD,IAAIlH,EAAE0xD,MAAM1yD,EAAEgB,EAAE0xD,MAAMjjE,EAAE8hE,YAAY9hE,EAAE6hE,QAAQppD,EAAEA,IAAIzY,EAAEmkE,UAAUnkE,EAAEkkE,OAAO8B,MAAMnmE,SAASG,EAAEmkE,QAAQ,EAAEnkE,EAAE28C,OAAO,GAAG,MAAM38C,EAAE28C,OAAO,GAAG,GAAG,KAAK38C,EAAE28C,OAAO,GAAG38C,EAAEkkE,OAAOvtD,KAAK,CAAC8B,EAAEzY,EAAE6hE,QAAQ,EAAE,CAAC,GAAG7hE,EAAE6hE,UAAU7hE,EAAEikE,mBAAmBjkE,EAAEkkE,OAAO6B,MAAM/lE,EAAE6hE,QAAQppD,IAAIlH,EAAE0xD,MAAM1yD,EAAEgB,EAAE0xD,MAAMjjE,EAAE8hE,YAAY9hE,EAAE6hE,QAAQppD,EAAEA,IAAImR,EAAErY,GAAGkH,EAAEzY,EAAE6hE,QAAQ7hE,EAAE6hE,UAAU7hE,EAAEikE,kBAAkB,CAACtsD,EAAE,EAAE,KAAK,CAACA,EAAE3X,EAAEmkE,QAAQnkE,EAAEkkE,OAAOvtD,KAAK9W,OAAO,IAAIG,EAAEkkE,OAAOvtD,KAAK7E,WAAW9R,EAAEmkE,WAAW,EAAEp5C,EAAE/qB,EAAE2X,EAAE,OAAO,IAAIA,GAAG3X,EAAEkkE,OAAO6B,MAAM/lE,EAAE6hE,QAAQppD,IAAIlH,EAAE0xD,MAAM1yD,EAAEgB,EAAE0xD,MAAMjjE,EAAE8hE,YAAY9hE,EAAE6hE,QAAQppD,EAAEA,IAAI,IAAId,IAAI3X,EAAEmkE,QAAQ,EAAEnkE,EAAE28C,OAAO,GAAG,MAAM38C,EAAE28C,OAAO,GAAG,GAAG,KAAK38C,EAAE28C,OAAO,GAAG38C,EAAEkkE,OAAO1U,QAAQ,CAAC/2C,EAAEzY,EAAE6hE,QAAQ,EAAE,CAAC,GAAG7hE,EAAE6hE,UAAU7hE,EAAEikE,mBAAmBjkE,EAAEkkE,OAAO6B,MAAM/lE,EAAE6hE,QAAQppD,IAAIlH,EAAE0xD,MAAM1yD,EAAEgB,EAAE0xD,MAAMjjE,EAAE8hE,YAAY9hE,EAAE6hE,QAAQppD,EAAEA,IAAImR,EAAErY,GAAGkH,EAAEzY,EAAE6hE,QAAQ7hE,EAAE6hE,UAAU7hE,EAAEikE,kBAAkB,CAACtsD,EAAE,EAAE,KAAK,CAACA,EAAE3X,EAAEmkE,QAAQnkE,EAAEkkE,OAAO1U,QAAQ3vD,OAAO,IAAIG,EAAEkkE,OAAO1U,QAAQ19C,WAAW9R,EAAEmkE,WAAW,EAAEp5C,EAAE/qB,EAAE2X,EAAE,OAAO,IAAIA,GAAG3X,EAAEkkE,OAAO6B,MAAM/lE,EAAE6hE,QAAQppD,IAAIlH,EAAE0xD,MAAM1yD,EAAEgB,EAAE0xD,MAAMjjE,EAAE8hE,YAAY9hE,EAAE6hE,QAAQppD,EAAEA,IAAI,IAAId,IAAI3X,EAAE28C,OAAO,IAAI,MAAM38C,EAAE28C,OAAO,IAAI,GAAG,MAAM38C,EAAE28C,SAAS38C,EAAEkkE,OAAO6B,MAAM/lE,EAAE6hE,QAAQ,EAAE7hE,EAAEikE,kBAAkBr6C,EAAErY,GAAGvR,EAAE6hE,QAAQ,GAAG7hE,EAAEikE,mBAAmBl5C,EAAE/qB,EAAE,IAAIuR,EAAE0xD,OAAOl4C,EAAE/qB,EAAEuR,EAAE0xD,OAAO,EAAE,KAAK1xD,EAAE0xD,MAAM,EAAEjjE,EAAE28C,OAAOxoC,IAAInU,EAAE28C,OAAOxoC,GAAG,IAAInU,EAAE6hE,SAAS,GAAGj4C,EAAErY,GAAG,IAAIA,EAAEusD,UAAU,OAAO99D,EAAEokE,YAAY,EAA3wV,OAAoxV,GAAG,IAAI7yD,EAAE+sD,UAAUz0C,EAAE7F,IAAI6F,EAAE1E,IAAnzV,IAAuzVnB,EAAM,OAAO8sC,EAAEv/C,GAAG,GAAG,GAAG,MAAMvR,EAAE28C,QAAQ,IAAIprC,EAAE+sD,SAAS,OAAOxN,EAAEv/C,GAAG,GAAG,GAAG,IAAIA,EAAE+sD,UAAU,IAAIt+D,EAAE2iE,WAA15V,IAAq6V3+C,GAAO,MAAMhkB,EAAE28C,OAAO,CAAC,IAAInrC,EAAE,IAAIxR,EAAEy9D,SAAS,SAASlsD,EAAEyS,GAAG,IAAI,IAAImB,IAAI,CAAC,GAAG,IAAI5T,EAAEoxD,YAAYxrD,EAAE5F,GAAG,IAAIA,EAAEoxD,WAAW,CAAC,GAAxhW,IAA2hW3+C,EAAM,OAAj8V,EAA08V,KAAK,CAAC,GAAGzS,EAAE+xD,aAAa,EAAEn+C,EAAE2oC,EAAEyV,UAAUhyD,EAAE,EAAEA,EAAE3K,OAAO2K,EAAE4wD,WAAW5wD,EAAEoxD,YAAYpxD,EAAE4wD,WAAWh9C,IAAInD,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAW,OAAzkW,CAAilW,CAAC,OAAOvsD,EAAE4E,OAAO,EAA9rW,IAAgsW6N,GAAOhC,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,UAAtnW,EAAI,GAAioWvsD,EAAEkyD,WAAWzhD,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAA7qW,EAAI,CAAurW,CAA1U,CAA4U99D,EAAEgkB,GAAG,IAAIhkB,EAAEy9D,SAAS,SAASlsD,EAAEyS,GAAG,IAAI,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEoB,EAAE3K,SAAS,CAAC,GAAG2K,EAAEoxD,WAAW3iD,EAAE,CAAC,GAAG7I,EAAE5F,GAAGA,EAAEoxD,WAAW3iD,GAAr4W,IAAw4WgE,EAAM,OAA9yW,EAAuzW,GAAG,IAAIzS,EAAEoxD,UAAU,KAAK,CAAC,GAAGpxD,EAAE+xD,aAAa,EAAE/xD,EAAEoxD,WAAn4W,GAAi5W,EAAEpxD,EAAE4wD,WAAWniE,EAAEmQ,EAAEsI,EAAElH,EAAE4wD,SAAS,MAAMhyD,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,GAAG,CAACd,EAAEpG,EAAE4wD,SAASniD,EAAE,UAAUhgB,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIzY,IAAImQ,IAAIsI,IAAIA,EAAEd,GAAGpG,EAAE+xD,aAAatjD,GAAGrI,EAAEc,GAAGlH,EAAE+xD,aAAa/xD,EAAEoxD,YAAYpxD,EAAE+xD,aAAa/xD,EAAEoxD,UAAU,CAAC,GAAGpxD,EAAE+xD,cAA1qX,GAA2rXn+C,EAAE2oC,EAAEyV,UAAUhyD,EAAE,EAAEA,EAAE+xD,aAA/sX,GAA+tX/xD,EAAEoxD,WAAWpxD,EAAE+xD,aAAa/xD,EAAE4wD,UAAU5wD,EAAE+xD,aAAa/xD,EAAE+xD,aAAa,IAAIn+C,EAAE2oC,EAAEyV,UAAUhyD,EAAE,EAAEA,EAAE3K,OAAO2K,EAAE4wD,WAAW5wD,EAAEoxD,YAAYpxD,EAAE4wD,YAAYh9C,IAAInD,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAW,OAAl3X,CAA03X,CAAC,OAAOvsD,EAAE4E,OAAO,EAAv+X,IAAy+X6N,GAAOhC,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,UAA/5X,EAAI,GAA06XvsD,EAAEkyD,WAAWzhD,EAAEzQ,GAAE,GAAI,IAAIA,EAAEssD,KAAKC,WAAt9X,EAAI,CAAg+X,CAAnxB,CAAqxB99D,EAAEgkB,GAAG/Z,EAAEjK,EAAEywD,OAAOuT,KAAKhkE,EAAEgkB,GAAG,GAAx/X,IAA2/XxS,GAAv/X,IAA8/XA,IAAQxR,EAAE28C,OAAO,KAA3hY,IAAgiYnrC,GAAxhY,IAA+hYA,EAAM,OAAO,IAAID,EAAEusD,YAAY99D,EAAEokE,YAAY,GAA5qY,EAAirY,GAArlY,IAAwlY5yD,IAAQ,IAAIwS,EAAE8pC,EAAEoY,UAAUlmE,GAAG,IAAIgkB,IAAI8pC,EAAEqY,iBAAiBnmE,EAAE,EAAE,GAAE,GAAI,IAAIgkB,IAAI49C,EAAE5hE,EAAE+iE,MAAM,IAAI/iE,EAAE2iE,YAAY3iE,EAAEmiE,SAAS,EAAEniE,EAAEkiE,YAAY,EAAEliE,EAAEmW,OAAO,KAAKyT,EAAErY,GAAG,IAAIA,EAAEusD,WAAW,OAAO99D,EAAEokE,YAAY,EAAh3Y,CAAm3Y,CAAC,OAAx3Y,IAA+3YpgD,EAA33Y,EAAm4YhkB,EAAEgjE,MAAM,EAAE,GAAG,IAAIhjE,EAAEgjE,MAAMj4C,EAAE/qB,EAAE,IAAIuR,EAAE0xD,OAAOl4C,EAAE/qB,EAAEuR,EAAE0xD,OAAO,EAAE,KAAKl4C,EAAE/qB,EAAEuR,EAAE0xD,OAAO,GAAG,KAAKl4C,EAAE/qB,EAAEuR,EAAE0xD,OAAO,GAAG,KAAKl4C,EAAE/qB,EAAE,IAAIuR,EAAE2xD,UAAUn4C,EAAE/qB,EAAEuR,EAAE2xD,UAAU,EAAE,KAAKn4C,EAAE/qB,EAAEuR,EAAE2xD,UAAU,GAAG,KAAKn4C,EAAE/qB,EAAEuR,EAAE2xD,UAAU,GAAG,OAAOliD,EAAEhhB,EAAEuR,EAAE0xD,QAAQ,IAAIjiD,EAAEhhB,EAAE,MAAMuR,EAAE0xD,QAAQr5C,EAAErY,GAAG,EAAEvR,EAAEgjE,OAAOhjE,EAAEgjE,MAAMhjE,EAAEgjE,MAAM,IAAIhjE,EAAE6hE,QAAppZ,EAA8pZ,EAAE,EAAE18C,EAAE05C,WAAW,SAASttD,GAAG,IAAIyS,EAAE,OAAOzS,GAAGA,EAAE4kB,MAAhoZ,MAAuoZnS,EAAEzS,EAAE4kB,MAAMwmB,SAAa,KAAK34B,GAAG,KAAKA,GAAG,KAAKA,GAAG,MAAMA,GAAGA,IAAI7P,GAAG,MAAM6P,EAAE8sC,EAAEv/C,EAAE+K,IAAI/K,EAAE4kB,MAAM,KAAKnS,IAAI7P,EAAE28C,EAAEv/C,GAAG,GAA3zZ,GAAi0Z+K,CAAC,EAAE6I,EAAEg5C,qBAAqB,SAAS5sD,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAEvH,EAAE6jD,EAAE56C,EAAE8Q,EAAEnkB,OAAO,IAAI0R,IAAIA,EAAE4kB,MAAM,OAAO7Z,EAAE,GAAG,KAAK3E,GAAGwN,EAAE5T,EAAE4kB,OAAO6sC,OAAO,IAAIrrD,GAAr3Z,KAAw3ZwN,EAAEw3B,QAAYx3B,EAAEw9C,UAAU,OAAOrmD,EAAE,IAAI,IAAI3E,IAAIpG,EAAE0xD,MAAMhjE,EAAEsR,EAAE0xD,MAAMj/C,EAAE9Q,EAAE,IAAIiS,EAAE69C,KAAK,EAAE9vD,GAAGiS,EAAEo9C,SAAS,IAAI5qD,IAAIiqD,EAAEz8C,EAAE49C,MAAM59C,EAAEg9C,SAAS,EAAEh9C,EAAE+8C,YAAY,EAAE/8C,EAAEhP,OAAO,GAAG23C,EAAE,IAAItiC,EAAE+yC,KAAKp5C,EAAEo9C,QAAQ/2C,EAAEu0C,SAASjS,EAAE9pC,EAAE9Q,EAAEiS,EAAEo9C,OAAOp9C,EAAEo9C,OAAO,GAAGv+C,EAAE8pC,EAAE56C,EAAEiS,EAAEo9C,QAAQpyD,EAAEoB,EAAE+sD,SAAS9sD,EAAED,EAAE8sD,QAAQp0D,EAAEsH,EAAEqb,MAAMrb,EAAE+sD,SAASprD,EAAE3B,EAAE8sD,QAAQ,EAAE9sD,EAAEqb,MAAM5I,EAAE7M,EAAEgO,GAAGA,EAAEw9C,WAA/ra,GAA6sa,CAAC,IAAI3iE,EAAEmlB,EAAEg9C,SAAS1pD,EAAE0M,EAAEw9C,UAAU,EAAMx9C,EAAEg+C,OAAOh+C,EAAEg+C,OAAOh+C,EAAEi+C,WAAWj+C,EAAEve,OAAO5G,EAA3xa,EAA+xa,IAAImlB,EAAEk+C,UAAUl+C,EAAEs9C,KAAKziE,EAAEmlB,EAAEq9C,QAAQr9C,EAAE49C,KAAK59C,EAAEg+C,OAAOh+C,EAAE49C,KAAK59C,EAAEg+C,OAAOnjE,EAAEA,MAAMyY,IAAI0M,EAAEg9C,SAASniE,EAAEmlB,EAAEw9C,UAAUpgE,EAAI4U,EAAEgO,EAAE,CAAC,OAAOA,EAAEg9C,UAAUh9C,EAAEw9C,UAAUx9C,EAAE+8C,YAAY/8C,EAAEg9C,SAASh9C,EAAEhP,OAAOgP,EAAEw9C,UAAUx9C,EAAEw9C,UAAU,EAAEx9C,EAAEm+C,aAAan+C,EAAEk9C,YAAY9/D,EAAI4iB,EAAEw+C,gBAAgB,EAAEpyD,EAAE8sD,QAAQ7sD,EAAED,EAAEqb,MAAM3iB,EAAEsH,EAAE+sD,SAASnuD,EAAEgV,EAAE69C,KAAKrrD,EAArob,CAAwob,EAAEwN,EAAEihD,YAAY,oCAAoC,EAAE,CAAC,kBAAkB,GAAG,YAAY,GAAG,UAAU,GAAG,aAAa,GAAG,UAAU,KAAK,GAAG,CAAC,SAAS70D,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,WAAWuB,KAAKgD,KAAK,EAAEhD,KAAKE,KAAK,EAAEF,KAAKylE,OAAO,EAAEzlE,KAAKqlE,GAAG,EAAErlE,KAAKolE,MAAM,KAAKplE,KAAK0lE,UAAU,EAAE1lE,KAAK+V,KAAK,GAAG/V,KAAK4uD,QAAQ,GAAG5uD,KAAKmlE,KAAK,EAAEnlE,KAAK2lE,MAAK,CAAE,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAASh1D,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,SAASkS,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAEvH,EAAE6jD,EAAE56C,EAAE6Q,EAAEyH,EAAEvrB,EAAEsQ,EAAEsB,EAAEyK,EAAEkgC,EAAEpsC,EAAEmG,EAAE/T,EAAEwH,EAAEyxB,EAAEl5B,EAAEyd,EAAE1c,EAAEitB,EAAEpL,EAAE5T,EAAE4kB,MAAMn2B,EAAEuR,EAAE8sD,QAAQ/6D,EAAEiO,EAAEqb,MAAMnU,EAAEzY,GAAGuR,EAAE+sD,SAAS,GAAG3mD,EAAEpG,EAAEitD,SAASjuC,EAAEhf,EAAEuf,OAAO3gB,EAAEwH,GAAGqM,EAAEzS,EAAEusD,WAAWtsD,EAAEmG,GAAGpG,EAAEusD,UAAU,KAAK7zD,EAAEkb,EAAEqhD,KAAK1Y,EAAE3oC,EAAEshD,MAAMvzD,EAAEiS,EAAEuhD,MAAM3iD,EAAEoB,EAAEwhD,MAAMn7C,EAAErG,EAAEve,OAAO3G,EAAEklB,EAAEyhD,KAAKr2D,EAAE4U,EAAE0hD,KAAKh1D,EAAEsT,EAAE2hD,QAAQxqD,EAAE6I,EAAE4hD,SAASvqB,GAAG,GAAGr3B,EAAE6hD,SAAS,EAAE52D,GAAG,GAAG+U,EAAE8hD,UAAU,EAAE11D,EAAE,EAAE,CAAChB,EAAE,KAAKtQ,GAAGqD,EAAEtD,MAAMuQ,EAAEA,GAAG,EAAEtQ,GAAGqD,EAAEtD,MAAMuQ,EAAEA,GAAG,GAAGgG,EAAE1E,EAAE5R,EAAEu8C,GAAGx4B,EAAE,OAAO,CAAC,GAAG/jB,KAAKuC,EAAE+T,IAAI,GAAGhG,GAAG/N,EAAE,IAAKA,EAAE+T,IAAI,GAAG,KAAKga,EAAE5Y,KAAK,MAAMpB,MAAM,CAAC,KAAK,GAAG/T,GAAG,CAAC,KAAO,GAAGA,GAAG,CAAC+T,EAAE1E,GAAG,MAAM0E,IAAItW,GAAG,GAAGuC,GAAG,IAAI,SAASwhB,CAAC,CAAC,GAAG,GAAGxhB,EAAE,CAAC2iB,EAAEuL,KAAK,GAAG,MAAMnf,CAAC,CAACA,EAAE5Q,IAAI,8BAA8BwkB,EAAEuL,KAAK,GAAG,MAAMnf,CAAC,CAACvH,EAAE,MAAMuM,GAAG/T,GAAG,MAAM+N,EAAE/N,IAAIvC,GAAGqD,EAAEtD,MAAMuQ,EAAEA,GAAG,GAAGvG,GAAG/J,GAAG,GAAGuC,GAAG,EAAEvC,KAAKuC,EAAE+N,GAAG/N,GAAG+N,EAAE,KAAKtQ,GAAGqD,EAAEtD,MAAMuQ,EAAEA,GAAG,EAAEtQ,GAAGqD,EAAEtD,MAAMuQ,EAAEA,GAAG,GAAGgG,EAAE+F,EAAErc,EAAEmQ,GAAG+U,EAAE,OAAO,CAAC,GAAGllB,KAAKuC,EAAE+T,IAAI,GAAGhG,GAAG/N,IAAI,IAAIA,EAAE+T,IAAI,GAAG,MAAM,CAAC,KAAO,GAAG/T,GAAG,CAAC+T,EAAE+F,GAAG,MAAM/F,IAAItW,GAAG,GAAGuC,GAAG,IAAI,SAAS2iB,CAAC,CAAC5T,EAAE5Q,IAAI,wBAAwBwkB,EAAEuL,KAAK,GAAG,MAAMnf,CAAC,CAAC,GAAGkqB,EAAE,MAAMllB,EAAEhG,GAAG/N,GAAG,MAAMvC,GAAGqD,EAAEtD,MAAMuQ,GAAGA,GAAG,GAAG/N,IAAIvC,GAAGqD,EAAEtD,MAAMuQ,EAAEA,GAAG,IAAItG,GAAGwxB,GAAGx7B,GAAG,GAAGuC,GAAG,GAAG,CAAC+O,EAAE5Q,IAAI,gCAAgCwkB,EAAEuL,KAAK,GAAG,MAAMnf,CAAC,CAAC,GAAGtR,KAAKuC,EAAE+N,GAAG/N,GAAGA,EAAEmV,EAAExH,GAAGsrB,EAAE,CAAC,GAAGvoB,GAAG1Q,EAAEi5B,EAAEj5B,IAAI2iB,EAAE+hD,KAAK,CAAC31D,EAAE5Q,IAAI,gCAAgCwkB,EAAEuL,KAAK,GAAG,MAAMnf,CAAC,CAAC,GAAGyO,EAAEwL,GAAGjpB,EAAE,KAAKwhB,GAAG,GAAGxhB,GAAGurD,EAAEtrD,EAAEA,EAAEwH,EAAE,CAAC,IAAIA,GAAGxH,EAAE+tB,EAAE5Y,KAAK6T,EAAEjpB,OAAOC,IAAID,EAAEoV,EAAE8jB,EAAEzb,EAAEuQ,CAAC,OAAO,GAAGxM,EAAEvhB,GAAG,GAAGD,GAAGurD,EAAE/pC,EAAEvhB,GAAGA,GAAGuhB,GAAG/Z,EAAE,CAAC,IAAIA,GAAGxH,EAAE+tB,EAAE5Y,KAAK6T,EAAEjpB,OAAOC,IAAI,GAAGD,EAAE,EAAEwhB,EAAE/Z,EAAE,CAAC,IAAIA,GAAGxH,EAAEuhB,EAAEwM,EAAE5Y,KAAK6T,EAAEjpB,OAAOC,IAAID,EAAEoV,EAAE8jB,EAAEzb,EAAEuQ,CAAC,CAAC,OAAO,GAAGhuB,GAAGwhB,EAAEvhB,EAAEA,EAAEwH,EAAE,CAAC,IAAIA,GAAGxH,EAAE+tB,EAAE5Y,KAAK6T,EAAEjpB,OAAOC,IAAID,EAAEoV,EAAE8jB,EAAEzb,EAAEuQ,CAAC,CAAC,KAAK,EAAEvmB,GAAGumB,EAAE5Y,KAAKqI,EAAEzd,KAAKguB,EAAE5Y,KAAKqI,EAAEzd,KAAKguB,EAAE5Y,KAAKqI,EAAEzd,KAAKyH,GAAG,EAAEA,IAAIumB,EAAE5Y,KAAKqI,EAAEzd,KAAK,EAAEyH,IAAIumB,EAAE5Y,KAAKqI,EAAEzd,MAAM,KAAK,CAAC,IAAIA,EAAEoV,EAAE8jB,EAAElL,EAAE5Y,KAAK4Y,EAAEhuB,KAAKguB,EAAE5Y,KAAK4Y,EAAEhuB,KAAKguB,EAAE5Y,KAAK4Y,EAAEhuB,KAAK,GAAGyH,GAAG,KAAKA,IAAIumB,EAAE5Y,KAAK4Y,EAAEhuB,KAAK,EAAEyH,IAAIumB,EAAE5Y,KAAK4Y,EAAEhuB,MAAM,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,OAAOvC,EAAEyY,GAAGd,EAAEnG,GAAGxR,GAAGgK,EAAEuG,GAAG,EAAEtQ,IAAI,IAAIsQ,GAAGvG,GAAG,IAAI,EAAEuH,EAAE8sD,QAAQr+D,EAAEuR,EAAEitD,SAAS7mD,EAAEpG,EAAE+sD,SAASt+D,EAAEyY,EAAEA,EAAEzY,EAAE,EAAE,GAAGA,EAAEyY,GAAGlH,EAAEusD,UAAUnmD,EAAEnG,EAAEA,EAAEmG,EAAE,IAAI,KAAKA,EAAEnG,GAAG2T,EAAEyhD,KAAK3mE,EAAEklB,EAAE0hD,KAAKt2D,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAASgB,EAAEyS,EAAEmB,GAAG,aAAa,IAAIvE,EAAErP,EAAE,mBAAmBQ,EAAER,EAAE,aAAauP,EAAEvP,EAAE,WAAWu/C,EAAEv/C,EAAE,aAAasY,EAAEtY,EAAE,cAA0BwZ,GAAG,EAAkB,SAASxV,EAAEhE,GAAG,OAAOA,IAAI,GAAG,MAAMA,IAAI,EAAE,SAAS,MAAMA,IAAI,KAAK,IAAIA,IAAI,GAAG,CAAC,SAASoG,IAAI/W,KAAK8vB,KAAK,EAAE9vB,KAAK2H,MAAK,EAAG3H,KAAKoiE,KAAK,EAAEpiE,KAAKumE,UAAS,EAAGvmE,KAAKwR,MAAM,EAAExR,KAAK4lE,KAAK,EAAE5lE,KAAKie,MAAM,EAAEje,KAAK6nD,MAAM,EAAE7nD,KAAKmiE,KAAK,KAAKniE,KAAKwmE,MAAM,EAAExmE,KAAK6lE,MAAM,EAAE7lE,KAAK8lE,MAAM,EAAE9lE,KAAK+lE,MAAM,EAAE/lE,KAAKgG,OAAO,KAAKhG,KAAKgmE,KAAK,EAAEhmE,KAAKimE,KAAK,EAAEjmE,KAAKf,OAAO,EAAEe,KAAKsG,OAAO,EAAEtG,KAAKolE,MAAM,EAAEplE,KAAKkmE,QAAQ,KAAKlmE,KAAKmmE,SAAS,KAAKnmE,KAAKomE,QAAQ,EAAEpmE,KAAKqmE,SAAS,EAAErmE,KAAKymE,MAAM,EAAEzmE,KAAK0mE,KAAK,EAAE1mE,KAAK2mE,MAAM,EAAE3mE,KAAK4mE,KAAK,EAAE5mE,KAAK8iB,KAAK,KAAK9iB,KAAKusC,KAAK,IAAIvsB,EAAE0/C,MAAM,KAAK1/D,KAAK6mE,KAAK,IAAI7mD,EAAE0/C,MAAM,KAAK1/D,KAAK8mE,OAAO,KAAK9mE,KAAK+mE,QAAQ,KAAK/mE,KAAKsmE,KAAK,EAAEtmE,KAAKgnE,KAAK,EAAEhnE,KAAKinE,IAAI,CAAC,CAAC,SAAS13D,EAAEoB,GAAG,IAAIyS,EAAE,OAAOzS,GAAGA,EAAE4kB,OAAOnS,EAAEzS,EAAE4kB,MAAM5kB,EAAE2xD,SAAS3xD,EAAEywD,UAAUh+C,EAAEykC,MAAM,EAAEl3C,EAAE5Q,IAAI,GAAGqjB,EAAEg/C,OAAOzxD,EAAE0xD,MAAM,EAAEj/C,EAAEg/C,MAAMh/C,EAAE0M,KAA9tB,EAAquB1M,EAAEzb,KAAK,EAAEyb,EAAEmjD,SAAS,EAAEnjD,EAAEwiD,KAAK,MAAMxiD,EAAE++C,KAAK,KAAK/+C,EAAE4iD,KAAK,EAAE5iD,EAAE6iD,KAAK,EAAE7iD,EAAE8iD,QAAQ9iD,EAAE0jD,OAAO,IAAI9mD,EAAE2/C,MAA3zB,KAAo0Bv8C,EAAE+iD,SAAS/iD,EAAE2jD,QAAQ,IAAI/mD,EAAE2/C,MAAz1B,KAAk2Bv8C,EAAEkjD,KAAK,EAAEljD,EAAE4jD,MAAM,EAAt4B,GAA24B78C,CAAC,CAAC,SAASvZ,EAAED,GAAG,IAAIyS,EAAE,OAAOzS,GAAGA,EAAE4kB,QAAQnS,EAAEzS,EAAE4kB,OAAOswC,MAAM,EAAEziD,EAAE0iD,MAAM,EAAE1iD,EAAE2iD,MAAM,EAAEx2D,EAAEoB,IAAIwZ,CAAC,CAAC,SAAS9gB,EAAEsH,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAE,OAAOuR,GAAGA,EAAE4kB,OAAOn2B,EAAEuR,EAAE4kB,MAAMnS,EAAE,GAAGmB,EAAE,EAAEnB,GAAGA,IAAImB,EAAE,GAAGnB,GAAG,GAAGA,EAAE,KAAKA,GAAG,KAAKA,IAAIA,EAAE,GAAG,GAAGA,GAAG+G,GAAG,OAAO/qB,EAAE4G,QAAQ5G,EAAEonE,QAAQpjD,IAAIhkB,EAAE4G,OAAO,MAAM5G,EAAEgjE,KAAK79C,EAAEnlB,EAAEonE,MAAMpjD,EAAExS,EAAED,KAAKwZ,CAAC,CAAC,SAAS+iC,EAAEv8C,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAE,OAAOuR,GAAGvR,EAAE,IAAI2X,GAAGpG,EAAE4kB,MAAMn2B,GAAG4G,OAAO,KAA5tC,KAAkuCue,EAAElb,EAAEsH,EAAEyS,MAAUzS,EAAE4kB,MAAM,MAAMhR,GAAG4F,CAAC,CAAC,IAAI7X,EAAE6Q,EAAEyH,GAAE,EAAG,SAASrU,EAAE5F,GAAG,GAAGia,EAAE,CAAC,IAAIxH,EAAE,IAAI9Q,EAAE,IAAI0N,EAAE2/C,MAAM,KAAKx8C,EAAE,IAAInD,EAAE2/C,MAAM,IAAIv8C,EAAE,EAAEA,EAAE,KAAKzS,EAAE47B,KAAKnpB,KAAK,EAAE,KAAKA,EAAE,KAAKzS,EAAE47B,KAAKnpB,KAAK,EAAE,KAAKA,EAAE,KAAKzS,EAAE47B,KAAKnpB,KAAK,EAAE,KAAKA,EAAE,KAAKzS,EAAE47B,KAAKnpB,KAAK,EAAE,IAAI6F,EAAx8C,EAA48CtY,EAAE47B,KAAK,EAAE,IAAIj6B,EAAE,EAAE3B,EAAEk2D,KAAK,CAACZ,KAAK,IAAI7iD,EAAE,EAAEA,EAAE,IAAIzS,EAAE47B,KAAKnpB,KAAK,EAAE6F,EAAlgD,EAAsgDtY,EAAE47B,KAAK,EAAE,GAAGppB,EAAE,EAAExS,EAAEk2D,KAAK,CAACZ,KAAK,IAAIr7C,GAAE,CAAE,CAACja,EAAEu1D,QAAQ5zD,EAAE3B,EAAEy1D,QAAQ,EAAEz1D,EAAEw1D,SAAShjD,EAAExS,EAAE01D,SAAS,CAAC,CAAC,SAAS56C,EAAE9a,EAAEyS,EAAEmB,EAAEnlB,GAAG,IAAIyY,EAAEd,EAAEpG,EAAE4kB,MAAM,OAAO,OAAOxe,EAAE/Q,SAAS+Q,EAAE8uD,MAAM,GAAG9uD,EAAEyvD,MAAMzvD,EAAEgvD,MAAM,EAAEhvD,EAAE+uD,MAAM,EAAE/uD,EAAE/Q,OAAO,IAAIga,EAAE29C,KAAK5mD,EAAE8uD,QAAQzmE,GAAG2X,EAAE8uD,OAAO7lD,EAAEm/C,SAASpoD,EAAE/Q,OAAOod,EAAEmB,EAAExN,EAAE8uD,MAAM9uD,EAAE8uD,MAAM,GAAG9uD,EAAEgvD,MAAM,EAAEhvD,EAAE+uD,MAAM/uD,EAAE8uD,QAAQzmE,GAAGyY,EAAEd,EAAE8uD,MAAM9uD,EAAEgvD,SAASluD,EAAEzY,GAAG4gB,EAAEm/C,SAASpoD,EAAE/Q,OAAOod,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAEgvD,QAAQ3mE,GAAGyY,IAAImI,EAAEm/C,SAASpoD,EAAE/Q,OAAOod,EAAEmB,EAAEnlB,EAAEA,EAAE,GAAG2X,EAAEgvD,MAAM3mE,EAAE2X,EAAE+uD,MAAM/uD,EAAE8uD,QAAQ9uD,EAAEgvD,OAAOluD,EAAEd,EAAEgvD,QAAQhvD,EAAE8uD,QAAQ9uD,EAAEgvD,MAAM,GAAGhvD,EAAE+uD,MAAM/uD,EAAE8uD,QAAQ9uD,EAAE+uD,OAAOjuD,KAAK,CAAC,CAAC0M,EAAE2iD,aAAat2D,EAAE2T,EAAE4iD,cAAc99D,EAAEkb,EAAE6iD,iBAAiB73D,EAAEgV,EAAE8iD,YAAY,SAAS12D,GAAG,OAAOu8C,EAAEv8C,EAAE,GAAG,EAAE4T,EAAE85C,aAAanR,EAAE3oC,EAAEo6C,QAAQ,SAAShuD,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAEvH,EAAE6jD,EAAE56C,EAAE6Q,EAAEyH,EAAEvrB,EAAEsQ,EAAEsB,EAAEyK,EAAEkgC,EAAEpsC,EAAEmG,EAAE/T,EAAEwH,EAAEyxB,EAAEl5B,EAAEyd,EAAE1c,EAAEitB,EAAE,EAAEpc,EAAE,IAAIyM,EAAE29C,KAAK,GAAG9yC,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,IAAIla,IAAIA,EAAE4kB,QAAQ5kB,EAAEuf,SAASvf,EAAEqb,OAAO,IAAIrb,EAAE+sD,SAAS,OAAOvzC,EAAE,MAAM5F,EAAE5T,EAAE4kB,OAAOzF,OAAOvL,EAAEuL,KAAK,IAAIvgB,EAAEoB,EAAEitD,SAAS/lD,EAAElH,EAAEuf,OAAO7mB,EAAEsH,EAAEusD,UAAUnmD,EAAEpG,EAAE8sD,QAAQr+D,EAAEuR,EAAEqb,MAAMpb,EAAED,EAAE+sD,SAASxQ,EAAE3oC,EAAEyhD,KAAK1zD,EAAEiS,EAAE0hD,KAAK9iD,EAAEvS,EAAEga,EAAEvhB,EAAE1H,EAA18E,EAA88EgP,EAAE,OAAO,OAAO4T,EAAEuL,MAAM,KAA79E,EAAo+E,GAAG,IAAIvL,EAAE69C,KAAK,CAAC79C,EAAEuL,KAAK,GAAG,KAAK,CAAC,KAAKxd,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAG,EAAEiS,EAAE69C,MAAM,QAAQlV,EAAE,CAAC35C,EAAEgR,EAAEtG,MAAM,GAAG,IAAIivC,EAAE35C,EAAE,GAAG25C,IAAI,EAAE,IAAI3oC,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM1K,EAAE,EAAE,GAAGjB,EAAE46C,EAAE,EAAE3oC,EAAEuL,KAAK,EAAE,KAAK,CAAC,GAAGvL,EAAE/S,MAAM,EAAE+S,EAAE49C,OAAO59C,EAAE49C,KAAKwD,MAAK,KAAM,EAAEphD,EAAE69C,UAAU,IAAIlV,IAAI,IAAIA,GAAG,IAAI,GAAG,CAACv8C,EAAE5Q,IAAI,yBAAyBwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAG,IAAI,GAAGo9B,GAAG,CAACv8C,EAAE5Q,IAAI,6BAA6BwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAGxd,GAAG,EAAEuoB,EAAE,GAAG,IAAIqyB,KAAK,IAAI,IAAI3oC,EAAEiiD,MAAMjiD,EAAEiiD,MAAM3rC,OAAO,GAAGA,EAAEtW,EAAEiiD,MAAM,CAAC71D,EAAE5Q,IAAI,sBAAsBwkB,EAAEuL,KAAK,GAAG,KAAK,CAACvL,EAAEqhD,KAAK,GAAG/qC,EAAElqB,EAAE0xD,MAAM99C,EAAEtG,MAAM,EAAEsG,EAAEuL,KAAK,IAAIo9B,EAAE,GAAG,GAAG56C,EAAE46C,EAAE,EAAE,MAAM,KAAK,EAAE,KAAK56C,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAGiS,EAAE/S,MAAM07C,EAAE,IAAI,IAAI3oC,EAAE/S,OAAO,CAACb,EAAE5Q,IAAI,6BAA6BwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAG,MAAMvL,EAAE/S,MAAM,CAACb,EAAE5Q,IAAI,2BAA2BwkB,EAAEuL,KAAK,GAAG,KAAK,CAACvL,EAAE49C,OAAO59C,EAAE49C,KAAKn/D,KAAKkqD,GAAG,EAAE,GAAG,IAAI3oC,EAAE/S,QAAQ+B,EAAE,GAAG,IAAI25C,EAAE35C,EAAE,GAAG25C,IAAI,EAAE,IAAI3oC,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM1K,EAAE,EAAE,IAAIjB,EAAE46C,EAAE,EAAE3oC,EAAEuL,KAAK,EAAE,KAAK,EAAE,KAAKxd,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACiS,EAAE49C,OAAO59C,EAAE49C,KAAKjiE,KAAKgtD,GAAG,IAAI3oC,EAAE/S,QAAQ+B,EAAE,GAAG,IAAI25C,EAAE35C,EAAE,GAAG25C,IAAI,EAAE,IAAI35C,EAAE,GAAG25C,IAAI,GAAG,IAAI35C,EAAE,GAAG25C,IAAI,GAAG,IAAI3oC,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM1K,EAAE,EAAE,IAAIjB,EAAE46C,EAAE,EAAE3oC,EAAEuL,KAAK,EAAE,KAAK,EAAE,KAAKxd,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACiS,EAAE49C,OAAO59C,EAAE49C,KAAKsD,OAAO,IAAIvY,EAAE3oC,EAAE49C,KAAKkD,GAAGnY,GAAG,GAAG,IAAI3oC,EAAE/S,QAAQ+B,EAAE,GAAG,IAAI25C,EAAE35C,EAAE,GAAG25C,IAAI,EAAE,IAAI3oC,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM1K,EAAE,EAAE,IAAIjB,EAAE46C,EAAE,EAAE3oC,EAAEuL,KAAK,EAAE,KAAK,EAAE,GAAG,KAAKvL,EAAE/S,MAAM,CAAC,KAAKc,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACiS,EAAEtlB,OAAOiuD,EAAE3oC,EAAE49C,OAAO59C,EAAE49C,KAAKuD,UAAUxY,GAAG,IAAI3oC,EAAE/S,QAAQ+B,EAAE,GAAG,IAAI25C,EAAE35C,EAAE,GAAG25C,IAAI,EAAE,IAAI3oC,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM1K,EAAE,EAAE,IAAIjB,EAAE46C,EAAE,CAAC,MAAM3oC,EAAE49C,OAAO59C,EAAE49C,KAAKiD,MAAM,MAAM7gD,EAAEuL,KAAK,EAAE,KAAK,EAAE,GAAG,KAAKvL,EAAE/S,QAAQZ,GAAGvR,EAAEklB,EAAEtlB,UAAUI,EAAEuR,GAAGvR,IAAIklB,EAAE49C,OAAOtnC,EAAEtW,EAAE49C,KAAKuD,UAAUnhD,EAAEtlB,OAAOslB,EAAE49C,KAAKiD,QAAQ7gD,EAAE49C,KAAKiD,MAAM,IAAI10D,MAAM6T,EAAE49C,KAAKuD,YAAY1lD,EAAEm/C,SAAS56C,EAAE49C,KAAKiD,MAAMhmE,EAAE2X,EAAE1X,EAAEw7B,IAAI,IAAItW,EAAE/S,QAAQ+S,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM7e,EAAEC,EAAE0X,IAAInG,GAAGvR,EAAE0X,GAAG1X,EAAEklB,EAAEtlB,QAAQI,GAAGklB,EAAEtlB,QAAQ,MAAM0R,EAAE4T,EAAEtlB,OAAO,EAAEslB,EAAEuL,KAAK,EAAE,KAAK,EAAE,GAAG,KAAKvL,EAAE/S,MAAM,CAAC,GAAG,IAAIZ,EAAE,MAAMD,EAAE,IAAItR,EAAE,EAAEw7B,EAAEz7B,EAAE2X,EAAE1X,KAAKklB,EAAE49C,MAAMtnC,GAAGtW,EAAEtlB,OAAO,QAAQslB,EAAE49C,KAAKpsD,MAAM/W,OAAOoT,aAAayoB,IAAIA,GAAGx7B,EAAEuR,IAAI,GAAG,IAAI2T,EAAE/S,QAAQ+S,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM7e,EAAEC,EAAE0X,IAAInG,GAAGvR,EAAE0X,GAAG1X,EAAEw7B,EAAE,MAAMlqB,CAAC,MAAM4T,EAAE49C,OAAO59C,EAAE49C,KAAKpsD,KAAK,MAAMwO,EAAEtlB,OAAO,EAAEslB,EAAEuL,KAAK,EAAE,KAAK,EAAE,GAAG,KAAKvL,EAAE/S,MAAM,CAAC,GAAG,IAAIZ,EAAE,MAAMD,EAAE,IAAItR,EAAE,EAAEw7B,EAAEz7B,EAAE2X,EAAE1X,KAAKklB,EAAE49C,MAAMtnC,GAAGtW,EAAEtlB,OAAO,QAAQslB,EAAE49C,KAAKvT,SAAS5vD,OAAOoT,aAAayoB,IAAIA,GAAGx7B,EAAEuR,IAAI,GAAG,IAAI2T,EAAE/S,QAAQ+S,EAAEtG,MAAMiC,EAAEqE,EAAEtG,MAAM7e,EAAEC,EAAE0X,IAAInG,GAAGvR,EAAE0X,GAAG1X,EAAEw7B,EAAE,MAAMlqB,CAAC,MAAM4T,EAAE49C,OAAO59C,EAAE49C,KAAKvT,QAAQ,MAAMrqC,EAAEuL,KAAK,EAAE,KAAK,EAAE,GAAG,IAAIvL,EAAE/S,MAAM,CAAC,KAAKc,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAG46C,KAAK,MAAM3oC,EAAEtG,OAAO,CAACtN,EAAE5Q,IAAI,sBAAsBwkB,EAAEuL,KAAK,GAAG,KAAK,CAACxd,EAAE46C,EAAE,CAAC,CAAC3oC,EAAE49C,OAAO59C,EAAE49C,KAAKgD,KAAK5gD,EAAE/S,OAAO,EAAE,EAAE+S,EAAE49C,KAAKwD,MAAK,GAAIh1D,EAAE0xD,MAAM99C,EAAEtG,MAAM,EAAEsG,EAAEuL,KAAK,GAAG,MAAM,KAAK,GAAG,KAAKxd,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC3B,EAAE0xD,MAAM99C,EAAEtG,MAAMtJ,EAAEu4C,GAAG56C,EAAE46C,EAAE,EAAE3oC,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAG,IAAIvL,EAAEgiD,SAAS,OAAO51D,EAAEitD,SAASruD,EAAEoB,EAAEusD,UAAU7zD,EAAEsH,EAAE8sD,QAAQ1mD,EAAEpG,EAAE+sD,SAAS9sD,EAAE2T,EAAEyhD,KAAK9Y,EAAE3oC,EAAE0hD,KAAK3zD,EAAE,EAAE3B,EAAE0xD,MAAM99C,EAAEtG,MAAM,EAAEsG,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAG,IAAI1M,GAAG,IAAIA,EAAE,MAAMzS,EAAE,KAAK,GAAG,GAAG4T,EAAE5c,KAAK,CAACulD,KAAK,EAAE56C,EAAEA,GAAG,EAAEA,EAAEiS,EAAEuL,KAAK,GAAG,KAAK,CAAC,KAAKxd,EAAE,GAAG,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,OAAOiS,EAAE5c,KAAK,EAAEulD,EAAE56C,GAAG,EAAE,GAAG46C,KAAK,IAAI,KAAK,EAAE3oC,EAAEuL,KAAK,GAAG,MAAM,KAAK,EAAE,GAAGvZ,EAAEgO,GAAGA,EAAEuL,KAAK,GAAG,IAAI1M,EAAE,MAAM8pC,KAAK,EAAE56C,GAAG,EAAE,MAAM3B,EAAE,KAAK,EAAE4T,EAAEuL,KAAK,GAAG,MAAM,KAAK,EAAEnf,EAAE5Q,IAAI,qBAAqBwkB,EAAEuL,KAAK,GAAGo9B,KAAK,EAAE56C,GAAG,EAAE,MAAM,KAAK,GAAG,IAAI46C,KAAK,EAAE56C,EAAEA,GAAG,EAAEA,EAAEA,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,IAAI,MAAM46C,KAAKA,IAAI,GAAG,OAAO,CAACv8C,EAAE5Q,IAAI,+BAA+BwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAGvL,EAAEtlB,OAAO,MAAMiuD,EAAE56C,EAAE46C,EAAE,EAAE3oC,EAAEuL,KAAK,GAAG,IAAI1M,EAAE,MAAMzS,EAAE,KAAK,GAAG4T,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAGzwB,EAAEklB,EAAEtlB,OAAO,CAAC,GAAG2R,EAAEvR,IAAIA,EAAEuR,GAAGvH,EAAEhK,IAAIA,EAAEgK,GAAG,IAAIhK,EAAE,MAAMsR,EAAEqP,EAAEm/C,SAAStnD,EAAEzY,EAAE2X,EAAE1X,EAAEkQ,GAAGqB,GAAGvR,EAAE0X,GAAG1X,EAAEgK,GAAGhK,EAAEkQ,GAAGlQ,EAAEklB,EAAEtlB,QAAQI,EAAE,KAAK,CAACklB,EAAEuL,KAAK,GAAG,MAAM,KAAK,GAAG,KAAKxd,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAGiS,EAAEmiD,KAAK,KAAK,GAAGxZ,GAAGA,KAAK,EAAE56C,GAAG,EAAEiS,EAAEoiD,MAAM,GAAG,GAAGzZ,GAAGA,KAAK,EAAE56C,GAAG,EAAEiS,EAAEkiD,MAAM,GAAG,GAAGvZ,GAAGA,KAAK,EAAE56C,GAAG,EAAE,IAAIiS,EAAEmiD,MAAM,GAAGniD,EAAEoiD,MAAM,CAACh2D,EAAE5Q,IAAI,sCAAsCwkB,EAAEuL,KAAK,GAAG,KAAK,CAACvL,EAAEqiD,KAAK,EAAEriD,EAAEuL,KAAK,GAAG,KAAK,GAAG,KAAKvL,EAAEqiD,KAAKriD,EAAEkiD,OAAO,CAAC,KAAKn0D,EAAE,GAAG,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACiS,EAAEgoB,KAAK1hB,EAAEtG,EAAEqiD,SAAS,EAAE1Z,EAAEA,KAAK,EAAE56C,GAAG,CAAC,CAAC,KAAKiS,EAAEqiD,KAAK,IAAIriD,EAAEgoB,KAAK1hB,EAAEtG,EAAEqiD,SAAS,EAAE,GAAGriD,EAAE2hD,QAAQ3hD,EAAEuiD,OAAOviD,EAAE6hD,QAAQ,EAAEhnD,EAAE,CAAC6mD,KAAK1hD,EAAE6hD,SAASzkE,EAAEsnB,EAAE,EAAE1E,EAAEgoB,KAAK,EAAE,GAAGhoB,EAAE2hD,QAAQ,EAAE3hD,EAAEsiD,KAAKznD,GAAGmF,EAAE6hD,QAAQhnD,EAAE6mD,KAAKtkE,EAAE,CAACgP,EAAE5Q,IAAI,2BAA2BwkB,EAAEuL,KAAK,GAAG,KAAK,CAACvL,EAAEqiD,KAAK,EAAEriD,EAAEuL,KAAK,GAAG,KAAK,GAAG,KAAKvL,EAAEqiD,KAAKriD,EAAEmiD,KAAKniD,EAAEoiD,OAAO,CAAC,KAAK/qB,GAAGjsB,EAAEpL,EAAE2hD,QAAQhZ,GAAG,GAAG3oC,EAAE6hD,SAAS,MAAM,GAAG,IAAI52D,EAAE,MAAMmgB,KAAKjU,EAAEiU,IAAI,KAAKrd,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAG9C,EAAE,GAAG09C,KAAKxxC,EAAEpJ,GAAGoJ,EAAE6I,EAAEgoB,KAAKhoB,EAAEqiD,QAAQp3D,MAAM,CAAC,GAAG,KAAKA,EAAE,CAAC,IAAI9M,EAAEgZ,EAAE,EAAEpJ,EAAE5P,GAAG,CAAC,GAAG,IAAIkO,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAG46C,KAAKxxC,EAAEpJ,GAAGoJ,EAAE,IAAI6I,EAAEqiD,KAAK,CAACj2D,EAAE5Q,IAAI,4BAA4BwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC+K,EAAEtW,EAAEgoB,KAAKhoB,EAAEqiD,KAAK,GAAGvnE,EAAE,GAAG,EAAE6tD,GAAGA,KAAK,EAAE56C,GAAG,CAAC,MAAM,GAAG,KAAK9C,EAAE,CAAC,IAAI9M,EAAEgZ,EAAE,EAAEpJ,EAAE5P,GAAG,CAAC,GAAG,IAAIkO,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACA,GAAGoJ,EAAEmf,EAAE,EAAEx7B,EAAE,GAAG,GAAG6tD,KAAKxxC,IAAIwxC,KAAK,EAAE56C,GAAG,CAAC,KAAK,CAAC,IAAI5P,EAAEgZ,EAAE,EAAEpJ,EAAE5P,GAAG,CAAC,GAAG,IAAIkO,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACA,GAAGoJ,EAAEmf,EAAE,EAAEx7B,EAAE,IAAI,KAAK6tD,KAAKxxC,IAAIwxC,KAAK,EAAE56C,GAAG,CAAC,CAAC,GAAGiS,EAAEqiD,KAAKvnE,EAAEklB,EAAEmiD,KAAKniD,EAAEoiD,MAAM,CAACh2D,EAAE5Q,IAAI,4BAA4BwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,KAAKzwB,KAAKklB,EAAEgoB,KAAKhoB,EAAEqiD,QAAQ/rC,CAAC,CAAC,CAAC,GAAG,KAAKtW,EAAEuL,KAAK,MAAM,GAAG,IAAIvL,EAAEgoB,KAAK,KAAK,CAAC57B,EAAE5Q,IAAI,uCAAuCwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAGvL,EAAE6hD,QAAQ,EAAEhnD,EAAE,CAAC6mD,KAAK1hD,EAAE6hD,SAASzkE,EAAEsnB,EAAltO,EAAstO1E,EAAEgoB,KAAK,EAAEhoB,EAAEmiD,KAAKniD,EAAE2hD,QAAQ,EAAE3hD,EAAEsiD,KAAKznD,GAAGmF,EAAE6hD,QAAQhnD,EAAE6mD,KAAKtkE,EAAE,CAACgP,EAAE5Q,IAAI,8BAA8BwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAGvL,EAAE8hD,SAAS,EAAE9hD,EAAE4hD,SAAS5hD,EAAEwiD,QAAQ3nD,EAAE,CAAC6mD,KAAK1hD,EAAE8hD,UAAU1kE,EAAEsnB,EAA33O,EAA+3O1E,EAAEgoB,KAAKhoB,EAAEmiD,KAAKniD,EAAEoiD,MAAMpiD,EAAE4hD,SAAS,EAAE5hD,EAAEsiD,KAAKznD,GAAGmF,EAAE8hD,SAASjnD,EAAE6mD,KAAKtkE,EAAE,CAACgP,EAAE5Q,IAAI,wBAAwBwkB,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAGvL,EAAEuL,KAAK,GAAG,IAAI1M,EAAE,MAAMzS,EAAE,KAAK,GAAG4T,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAG,GAAGlf,GAAG,KAAKvH,EAAE,CAACsH,EAAEitD,SAASruD,EAAEoB,EAAEusD,UAAU7zD,EAAEsH,EAAE8sD,QAAQ1mD,EAAEpG,EAAE+sD,SAAS9sD,EAAE2T,EAAEyhD,KAAK9Y,EAAE3oC,EAAE0hD,KAAK3zD,EAAE49C,EAAEv/C,EAAEia,GAAGrb,EAAEoB,EAAEitD,SAAS/lD,EAAElH,EAAEuf,OAAO7mB,EAAEsH,EAAEusD,UAAUnmD,EAAEpG,EAAE8sD,QAAQr+D,EAAEuR,EAAEqb,MAAMpb,EAAED,EAAE+sD,SAASxQ,EAAE3oC,EAAEyhD,KAAK1zD,EAAEiS,EAAE0hD,KAAK,KAAK1hD,EAAEuL,OAAOvL,EAAEyiD,MAAM,GAAG,KAAK,CAAC,IAAIziD,EAAEyiD,KAAK,EAAEprB,GAAGjsB,EAAEpL,EAAE2hD,QAAQhZ,GAAG,GAAG3oC,EAAE6hD,SAAS,MAAM,GAAG,IAAI52D,EAAE,MAAMmgB,KAAKjU,EAAEiU,IAAI,KAAKrd,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAGspC,KAAO,IAAIA,GAAG,CAAC,IAAIjmC,EAAE+F,EAAE9Z,EAAEg6C,EAAExyC,EAAEoG,EAAEosC,GAAGjsB,EAAEpL,EAAE2hD,QAAQ98D,IAAI8jD,GAAG,GAAGv3C,EAAE/T,GAAG,IAAI+T,OAAO,GAAG,IAAInG,EAAE,MAAMmgB,IAAIha,GAAG+F,EAAEiU,IAAI,KAAKrd,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC46C,KAAKv3C,EAAErD,GAAGqD,EAAE4O,EAAEyiD,MAAMrxD,CAAC,CAAC,GAAGu3C,KAAKxxC,EAAEpJ,GAAGoJ,EAAE6I,EAAEyiD,MAAMtrD,EAAE6I,EAAEtlB,OAAOuQ,EAAE,IAAIosC,EAAE,CAACr3B,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAG,GAAG8rB,EAAE,CAACr3B,EAAEyiD,MAAM,EAAEziD,EAAEuL,KAAK,GAAG,KAAK,CAAC,GAAG,GAAG8rB,EAAE,CAACjrC,EAAE5Q,IAAI,8BAA8BwkB,EAAEuL,KAAK,GAAG,KAAK,CAACvL,EAAE6gD,MAAM,GAAGxpB,EAAEr3B,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAGvL,EAAE6gD,MAAM,CAAC,IAAI1iE,EAAE6hB,EAAE6gD,MAAM9yD,EAAE5P,GAAG,CAAC,GAAG,IAAIkO,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACiS,EAAEtlB,QAAQiuD,GAAG,GAAG3oC,EAAE6gD,OAAO,EAAElY,KAAK3oC,EAAE6gD,MAAM9yD,GAAGiS,EAAE6gD,MAAM7gD,EAAEyiD,MAAMziD,EAAE6gD,KAAK,CAAC7gD,EAAE0iD,IAAI1iD,EAAEtlB,OAAOslB,EAAEuL,KAAK,GAAG,KAAK,GAAG,KAAK8rB,GAAGjsB,EAAEpL,EAAE4hD,SAASjZ,GAAG,GAAG3oC,EAAE8hD,UAAU,MAAM,GAAG,IAAI72D,EAAE,MAAMmgB,KAAKjU,EAAEiU,IAAI,KAAKrd,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,KAAO,IAAIspC,GAAG,CAAC,IAAIjmC,EAAE+F,EAAE9Z,EAAEg6C,EAAExyC,EAAEoG,EAAEosC,GAAGjsB,EAAEpL,EAAE4hD,SAAS/8D,IAAI8jD,GAAG,GAAGv3C,EAAE/T,GAAG,IAAI+T,OAAO,GAAG,IAAInG,EAAE,MAAMmgB,IAAIha,GAAG+F,EAAEiU,IAAI,KAAKrd,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC46C,KAAKv3C,EAAErD,GAAGqD,EAAE4O,EAAEyiD,MAAMrxD,CAAC,CAAC,GAAGu3C,KAAKxxC,EAAEpJ,GAAGoJ,EAAE6I,EAAEyiD,MAAMtrD,EAAE,GAAGkgC,EAAE,CAACjrC,EAAE5Q,IAAI,wBAAwBwkB,EAAEuL,KAAK,GAAG,KAAK,CAACvL,EAAEje,OAAOkJ,EAAE+U,EAAE6gD,MAAM,GAAGxpB,EAAEr3B,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAGvL,EAAE6gD,MAAM,CAAC,IAAI1iE,EAAE6hB,EAAE6gD,MAAM9yD,EAAE5P,GAAG,CAAC,GAAG,IAAIkO,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAACiS,EAAEje,QAAQ4mD,GAAG,GAAG3oC,EAAE6gD,OAAO,EAAElY,KAAK3oC,EAAE6gD,MAAM9yD,GAAGiS,EAAE6gD,MAAM7gD,EAAEyiD,MAAMziD,EAAE6gD,KAAK,CAAC,GAAG7gD,EAAEje,OAAOie,EAAEqhD,KAAK,CAACj1D,EAAE5Q,IAAI,gCAAgCwkB,EAAEuL,KAAK,GAAG,KAAK,CAACvL,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAG,IAAIzmB,EAAE,MAAMsH,EAAE,GAAGtR,EAAEurB,EAAEvhB,EAAEkb,EAAEje,OAAOjH,EAAE,CAAC,IAAIA,EAAEklB,EAAEje,OAAOjH,GAAGklB,EAAEuhD,OAAOvhD,EAAE+hD,KAAK,CAAC31D,EAAE5Q,IAAI,gCAAgCwkB,EAAEuL,KAAK,GAAG,KAAK,CAACngB,EAAEtQ,EAAEklB,EAAEwhD,OAAO1mE,GAAGklB,EAAEwhD,MAAMxhD,EAAEshD,MAAMxmE,GAAGklB,EAAEwhD,MAAM1mE,EAAEA,EAAEklB,EAAEtlB,SAASI,EAAEklB,EAAEtlB,QAAQgS,EAAEsT,EAAEve,MAAM,MAAMiL,EAAE4G,EAAElI,EAAEJ,EAAEgV,EAAEje,OAAOjH,EAAEklB,EAAEtlB,OAAO,IAAIoK,EAAEhK,IAAIA,EAAEgK,GAAGA,GAAGhK,EAAEklB,EAAEtlB,QAAQI,EAAEwY,EAAEtI,KAAK0B,EAAEtB,OAAOtQ,IAAI,IAAIklB,EAAEtlB,SAASslB,EAAEuL,KAAK,IAAI,MAAM,KAAK,GAAG,GAAG,IAAIzmB,EAAE,MAAMsH,EAAEkH,EAAEtI,KAAKgV,EAAEtlB,OAAOoK,IAAIkb,EAAEuL,KAAK,GAAG,MAAM,KAAK,GAAG,GAAGvL,EAAE69C,KAAK,CAAC,KAAK9vD,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAGsY,GAAGvhB,EAAEsH,EAAEywD,WAAWx2C,EAAErG,EAAEsjC,OAAOj9B,EAAEA,IAAIja,EAAE0xD,MAAM99C,EAAEtG,MAAMsG,EAAE/S,MAAM0O,EAAEqE,EAAEtG,MAAMpG,EAAE+S,EAAErb,EAAEqb,GAAGzZ,EAAEoT,EAAEtG,MAAMpG,EAAE+S,EAAErb,EAAEqb,IAAIA,EAAEvhB,GAAGkb,EAAE/S,MAAM07C,EAAEv4C,EAAEu4C,MAAM3oC,EAAEtG,MAAM,CAACtN,EAAE5Q,IAAI,uBAAuBwkB,EAAEuL,KAAK,GAAG,KAAK,CAACxd,EAAE46C,EAAE,CAAC,CAAC3oC,EAAEuL,KAAK,GAAG,KAAK,GAAG,GAAGvL,EAAE69C,MAAM79C,EAAE/S,MAAM,CAAC,KAAKc,EAAE,IAAI,CAAC,GAAG,IAAI1B,EAAE,MAAMD,EAAEC,IAAIs8C,GAAG9tD,EAAE2X,MAAMzE,EAAEA,GAAG,CAAC,CAAC,GAAG46C,KAAK,WAAW3oC,EAAEsjC,OAAO,CAACl3C,EAAE5Q,IAAI,yBAAyBwkB,EAAEuL,KAAK,GAAG,KAAK,CAACxd,EAAE46C,EAAE,CAAC,CAAC3oC,EAAEuL,KAAK,GAAG,KAAK,GAAGnuB,EAAE,EAAE,MAAMgP,EAAE,KAAK,GAAGhP,GAAG,EAAE,MAAMgP,EAAE,KAAK,GAAG,OAAO,EAAU,QAAQ,OAAOwZ,EAAE,OAAOxZ,EAAEitD,SAASruD,EAAEoB,EAAEusD,UAAU7zD,EAAEsH,EAAE8sD,QAAQ1mD,EAAEpG,EAAE+sD,SAAS9sD,EAAE2T,EAAEyhD,KAAK9Y,EAAE3oC,EAAE0hD,KAAK3zD,GAAGiS,EAAEshD,OAAOj7C,IAAIja,EAAEusD,WAAW34C,EAAEuL,KAAK,KAAKvL,EAAEuL,KAAK,IAAI,IAAI1M,KAAKqI,EAAE9a,EAAEA,EAAEuf,OAAOvf,EAAEitD,SAAShzC,EAAEja,EAAEusD,YAAY34C,EAAEuL,KAAK,IAAI,IAAI3M,GAAGxS,EAAE+sD,SAAS9yC,GAAGja,EAAEusD,UAAUvsD,EAAE2xD,UAAUn/C,EAAExS,EAAEywD,WAAWx2C,EAAErG,EAAEsjC,OAAOj9B,EAAErG,EAAE69C,MAAMx3C,IAAIja,EAAE0xD,MAAM99C,EAAEtG,MAAMsG,EAAE/S,MAAM0O,EAAEqE,EAAEtG,MAAMpG,EAAE+S,EAAEja,EAAEitD,SAAShzC,GAAGzZ,EAAEoT,EAAEtG,MAAMpG,EAAE+S,EAAEja,EAAEitD,SAAShzC,IAAIja,EAAEm0D,UAAUvgD,EAAE0hD,MAAM1hD,EAAE5c,KAAK,GAAG,IAAI,KAAK4c,EAAEuL,KAAK,IAAI,IAAI,KAAKvL,EAAEuL,MAAM,KAAKvL,EAAEuL,KAAK,IAAI,IAAI,GAAG3M,GAAG,IAAIyH,GAAG,IAAIxH,IAA31U,IAA+1UzhB,IAAQA,GAAG,GAAGA,EAAE,EAAE4iB,EAAE66C,WAAW,SAASzuD,GAAG,IAAIA,IAAIA,EAAE4kB,MAAM,OAAOpL,EAAE,IAAI/G,EAAEzS,EAAE4kB,MAAM,OAAOnS,EAAEpd,SAASod,EAAEpd,OAAO,MAAM2K,EAAE4kB,MAAM,KAA19U,CAAg+U,EAAEhR,EAAEg6C,iBAAiB,SAAS5tD,EAAEyS,GAAG,IAAImB,EAAE,OAAO5T,GAAGA,EAAE4kB,OAAU,GAAGhR,EAAE5T,EAAE4kB,OAAO6sC,OAAU79C,EAAE49C,KAAK/+C,GAAGuiD,MAAK,EAAtkV,GAA4kVx7C,CAAC,EAAE5F,EAAEs6C,qBAAqB,SAASluD,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEgkB,EAAEnkB,OAAO,OAAO0R,GAAGA,EAAE4kB,MAAM,KAAKhR,EAAE5T,EAAE4kB,OAAO6sC,MAAM,KAAK79C,EAAEuL,KAAK3F,EAAE,KAAK5F,EAAEuL,MAAM3e,EAAE,EAAEiS,EAAEhkB,EAAE,KAAKmlB,EAAEtG,OAAO,EAAEwN,EAAE9a,EAAEyS,EAAEhkB,EAAEA,IAAImlB,EAAEuL,KAAK,IAAI,IAAIvL,EAAEgiD,SAAS,EAAtwV,GAA2wVp8C,CAAC,EAAE5F,EAAE+iD,YAAY,oCAAoC,EAAE,CAAC,kBAAkB,GAAG,YAAY,GAAG,UAAU,GAAG,YAAY,GAAG,aAAa,KAAK,GAAG,CAAC,SAAS32D,EAAEyS,EAAEmB,GAAG,aAAa,IAAIy8C,EAAErwD,EAAE,mBAAmBqY,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,EAAE,GAAG5H,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI+I,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,MAAM,MAAM,MAAM,EAAE,GAAG/J,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAIgD,EAAE3kB,QAAQ,SAASkS,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,GAAG,IAAIvH,EAAE6jD,EAAE56C,EAAE6Q,EAAEyH,EAAEvrB,EAAEsQ,EAAEsB,EAAEyK,EAAEkgC,EAAEhrC,EAAEq1D,KAAKz2D,EAAE,EAAEmG,EAAE,EAAE/T,EAAE,EAAEwH,EAAE,EAAEyxB,EAAE,EAAEl5B,EAAE,EAAEyd,EAAE,EAAE1c,EAAE,EAAEitB,EAAE,EAAEpc,EAAE,EAAEsX,EAAE,KAAK7K,EAAE,EAAE7O,EAAE,IAAI6vD,EAAEtB,MAAM,IAAIx/C,EAAE,IAAI8gD,EAAEtB,MAAM,IAAIxP,EAAE,KAAKjnC,EAAE,EAAE,IAAIzZ,EAAE,EAAEA,GAAG,GAAGA,IAAI2B,EAAE3B,GAAG,EAAE,IAAImG,EAAE,EAAEA,EAAEvW,EAAEuW,IAAIxE,EAAEiS,EAAEmB,EAAE5O,MAAM,IAAIklB,EAAE+gB,EAAExyC,EAAE,GAAG,GAAGA,GAAG,IAAI+H,EAAE/H,GAAGA,KAAK,GAAGA,EAAEyxB,IAAIA,EAAEzxB,GAAG,IAAIA,EAAE,OAAOyO,EAAEd,KAAK,SAASc,EAAEd,KAAK,SAASnG,EAAEq1D,KAAK,EAAE,EAAE,IAAIrkE,EAAE,EAAEA,EAAEwH,GAAG,IAAI+H,EAAEvP,GAAGA,KAAK,IAAIi5B,EAAEj5B,IAAIi5B,EAAEj5B,GAAG4N,EAAE9M,EAAE,EAAE8M,GAAG,GAAGA,IAAI,GAAG9M,IAAI,GAAGA,GAAGyO,EAAE3B,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE9M,IAAI,IAAIiO,GAAG,IAAIvH,GAAG,OAAO,EAAE,IAAI8W,EAAE,GAAG,EAAE1Q,EAAE,EAAEA,EAAE,GAAGA,IAAI0Q,EAAE1Q,EAAE,GAAG0Q,EAAE1Q,GAAG2B,EAAE3B,GAAG,IAAImG,EAAE,EAAEA,EAAEvW,EAAEuW,IAAI,IAAIyN,EAAEmB,EAAE5O,KAAKpG,EAAE2Q,EAAEkD,EAAEmB,EAAE5O,OAAOA,GAAG,GAAGtW,EAAE,IAAIsR,GAAGka,EAAEqlC,EAAE3gD,EAAE,IAAI,IAAIoB,GAAGka,EAAE7B,EAAEhJ,GAAG,IAAIkwC,EAAE9uC,EAAE6H,GAAG,IAAI,MAAM4B,EAAEV,EAAE+lC,EAAE9vC,GAAG,GAAG5Q,EAAE5N,EAAEgpB,EAAE7T,EAAEqI,EAAEzJ,EAAEpC,EAAE,EAAEjB,GAAG,EAAE6Q,GAAGwM,EAAE,IAAIhuB,EAAEk5B,IAAI,EAAE,IAAIlqB,GAAG,IAAIgf,GAAG,IAAIhf,GAAG,IAAIgf,EAAE,OAAO,EAAE,OAAO,CAAC,IAAIhgB,EAAEH,EAAE4P,EAAE1D,EAAEnM,EAAEoG,GAAGtW,GAAG4R,EAAE,EAAE1B,EAAEoG,IAAIpG,EAAEoG,GAAGtW,GAAG4R,EAAEi/C,EAAEjnC,EAAE1Z,EAAEoG,IAAIkV,EAAE7K,EAAEzQ,EAAEoG,MAAM1E,EAAE,GAAG,GAAG5H,EAAE,GAAGmG,EAAE4P,EAAExd,EAAEsrD,EAAE,GAAGvrD,EAAEkW,EAAE+S,GAAGrX,GAAG6L,IAAI8tC,GAAG7jD,IAAIsG,GAAG,GAAGsB,GAAG,GAAGyK,EAAI,IAAIwxC,IAAI,IAAI7jD,EAAE,GAAGmG,EAAE,EAAE+D,EAAElK,GAAGA,IAAI,EAAE,GAAG,IAAIA,GAAGkK,GAAGlK,EAAE,EAAEkK,GAAGlK,GAAGkK,EAAE,EAAEoC,IAAI,KAAKxE,EAAE3B,GAAG,CAAC,GAAGA,IAAIpG,EAAE,MAAMoG,EAAE4T,EAAEmB,EAAEhV,EAAEoG,GAAG,CAAC,GAAGklB,EAAErrB,IAAI+D,EAAE4P,KAAK7Q,EAAE,CAAC,IAAI,IAAI8M,IAAIA,EAAEyb,GAAGjQ,GAAGhpB,EAAEc,EAAE,IAAIf,EAAE6N,EAAE4P,GAAGzd,EAAEyd,EAAEhW,MAAM1G,GAAGyO,EAAExP,EAAEyd,KAAK,IAAIzd,IAAIe,IAAI,EAAE,GAAGitB,GAAG,GAAGhuB,EAAE,IAAIgP,GAAG,IAAIgf,GAAG,IAAIhf,GAAG,IAAIgf,EAAE,OAAO,EAAE9X,EAAEvF,EAAEiB,EAAE4P,GAAG0X,GAAG,GAAGl5B,GAAG,GAAGipB,EAAE7T,CAAG,CAAC,CAAC,OAAO,IAAIxD,IAAIsE,EAAE+S,EAAErX,GAAG/D,EAAE4P,GAAG,GAAG,IAAI,IAAMxO,EAAEq1D,KAAKprC,EAAE,CAAC,CAAC,EAAE,CAAC,kBAAkB,KAAK,GAAG,CAAC,SAASlqB,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,CAAC,EAAE,kBAAkB,EAAE,aAAa,EAAE,GAAG,KAAK,aAAa,KAAK,eAAe,KAAK,aAAa,KAAK,sBAAsB,KAAK,eAAe,KAAK,uBAAuB,EAAE,CAAC,GAAG,GAAG,CAAC,SAASkS,EAAEyS,EAAEmB,GAAG,aAAa,IAAI1M,EAAElH,EAAE,mBAA2B,SAASvR,EAAEuR,GAAG,IAAI,IAAIyS,EAAEzS,EAAE1R,OAAO,KAAKmkB,GAAGzS,EAAEyS,GAAG,CAAC,CAAC,IAAa8pC,EAAE,IAAI56C,EAAE46C,IAAM/pC,EAAE,GAAgBy4B,EAAE,GAAiCxyC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGyxB,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAIl5B,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAGyd,EAAE,CAAC,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI1c,EAAE,IAAIgO,MAAM,KAAStR,EAAEsD,GAAG,IAAIitB,EAAE,IAAIjf,MAAM,IAAKtR,EAAEuwB,GAAG,IAAIpc,EAAE,IAAI7C,MAAM,KAAKtR,EAAEmU,GAAG,IAAIsX,EAAE,IAAIna,MAAM,KAAKtR,EAAEyrB,GAAG,IAAI7K,EAAE,IAAItP,MAA3Z,IAAoatR,EAAE4gB,GAAG,IAAI7O,EAAE+O,EAAEgwC,EAAEjnC,EAAE,IAAIvY,MAAMyS,GAAG,SAAS69C,EAAErwD,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,GAAG7X,KAAKunE,YAAY52D,EAAE3Q,KAAKwnE,WAAWpkD,EAAEpjB,KAAKynE,WAAWljD,EAAEvkB,KAAK0nE,MAAMtoE,EAAEY,KAAK2nE,WAAW9vD,EAAE7X,KAAK4nE,UAAUj3D,GAAGA,EAAE1R,MAAM,CAAC,SAAS+pB,EAAErY,EAAEyS,GAAGpjB,KAAK6nE,SAASl3D,EAAE3Q,KAAK8nE,SAAS,EAAE9nE,KAAK+nE,UAAU3kD,CAAC,CAAC,SAAShC,EAAEzQ,GAAG,OAAOA,EAAE,IAAI4C,EAAE5C,GAAG4C,EAAE,KAAK5C,IAAI,GAAG,CAAC,SAASwZ,EAAExZ,EAAEyS,GAAGzS,EAAEuwD,YAAYvwD,EAAEswD,WAAW,IAAI79C,EAAEzS,EAAEuwD,YAAYvwD,EAAEswD,WAAW79C,IAAI,EAAE,GAAG,CAAC,SAAShD,EAAEzP,EAAEyS,EAAEmB,GAAG5T,EAAEi0D,SAAzvB,GAAowBrgD,GAAG5T,EAAEg0D,QAAQvhD,GAAGzS,EAAEi0D,SAAS,MAAMz6C,EAAExZ,EAAEA,EAAEg0D,QAAQh0D,EAAEg0D,OAAOvhD,GAA5zB,GAAi0BzS,EAAEi0D,SAASj0D,EAAEi0D,UAAUrgD,EAAx1B,KAA81B5T,EAAEg0D,QAAQvhD,GAAGzS,EAAEi0D,SAAS,MAAMj0D,EAAEi0D,UAAUrgD,EAAE,CAAC,SAAS5P,EAAEhE,EAAEyS,EAAEmB,GAAGnE,EAAEzP,EAAE4T,EAAE,EAAEnB,GAAGmB,EAAE,EAAEnB,EAAE,GAAG,CAAC,SAAS7M,EAAE5F,EAAEyS,GAAG,IAAI,IAAImB,EAAE,EAAEA,GAAG,EAAE5T,EAAEA,KAAK,EAAE4T,IAAI,EAAE,IAAInB,IAAI,OAAOmB,IAAI,CAAC,CAAC,SAASkH,EAAE9a,EAAEyS,EAAEmB,GAAG,IAAInlB,EAAEyY,EAAEd,EAAE,IAAIrG,MAAMkrC,IAAKrsC,EAAE,EAAE,IAAInQ,EAAE,EAAEA,GAAGw8C,EAAEx8C,IAAI2X,EAAE3X,GAAGmQ,EAAEA,EAAEgV,EAAEnlB,EAAE,IAAI,EAAE,IAAIyY,EAAE,EAAEA,GAAGuL,EAAEvL,IAAI,CAAC,IAAIjH,EAAED,EAAE,EAAEkH,EAAE,GAAG,IAAIjH,IAAID,EAAE,EAAEkH,GAAGtB,EAAEQ,EAAEnG,KAAKA,GAAG,CAAC,CAAC,SAASyZ,EAAE1Z,GAAG,IAAIyS,EAAE,IAAIA,EAAE,EAAEA,EAAE9Q,EAAE8Q,IAAIzS,EAAEgzD,UAAU,EAAEvgD,GAAG,EAAE,IAAIA,EAAE,EAAEA,EAAED,EAAEC,IAAIzS,EAAEizD,UAAU,EAAExgD,GAAG,EAAE,IAAIA,EAAE,EAAEA,EAA5vC,GAAgwCA,IAAIzS,EAAEkzD,QAAQ,EAAEzgD,GAAG,EAAEzS,EAAEgzD,UAAU,KAAK,EAAEhzD,EAAE8zD,QAAQ9zD,EAAE+zD,WAAW,EAAE/zD,EAAEkyD,SAASlyD,EAAEoQ,QAAQ,CAAC,CAAC,SAASsG,EAAE1W,GAAG,EAAEA,EAAEi0D,SAASz6C,EAAExZ,EAAEA,EAAEg0D,QAAQ,EAAEh0D,EAAEi0D,WAAWj0D,EAAEuwD,YAAYvwD,EAAEswD,WAAWtwD,EAAEg0D,QAAQh0D,EAAEg0D,OAAO,EAAEh0D,EAAEi0D,SAAS,CAAC,CAAC,SAAS55C,EAAEra,EAAEyS,EAAEmB,EAAEnlB,GAAG,IAAIyY,EAAE,EAAEuL,EAAErM,EAAE,EAAEwN,EAAE,OAAO5T,EAAEkH,GAAGlH,EAAEoG,IAAIpG,EAAEkH,KAAKlH,EAAEoG,IAAI3X,EAAEgkB,IAAIhkB,EAAEmlB,EAAE,CAAC,SAASsgD,EAAEl0D,EAAEyS,EAAEmB,GAAG,IAAI,IAAInlB,EAAEuR,EAAEuzD,KAAK3/C,GAAG1M,EAAE0M,GAAG,EAAE1M,GAAGlH,EAAEwzD,WAAWtsD,EAAElH,EAAEwzD,UAAUn5C,EAAE5H,EAAEzS,EAAEuzD,KAAKrsD,EAAE,GAAGlH,EAAEuzD,KAAKrsD,GAAGlH,EAAE0zD,QAAQxsD,KAAKmT,EAAE5H,EAAEhkB,EAAEuR,EAAEuzD,KAAKrsD,GAAGlH,EAAE0zD,SAAS1zD,EAAEuzD,KAAK3/C,GAAG5T,EAAEuzD,KAAKrsD,GAAG0M,EAAE1M,EAAEA,IAAI,EAAElH,EAAEuzD,KAAK3/C,GAAGnlB,CAAC,CAAC,SAAS8W,EAAEvF,EAAEyS,EAAEmB,GAAG,IAAInlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAE,EAAE,GAAG,IAAID,EAAEkyD,SAAS,KAAKzjE,EAAEuR,EAAEuwD,YAAYvwD,EAAE6zD,MAAM,EAAE5zD,IAAI,EAAED,EAAEuwD,YAAYvwD,EAAE6zD,MAAM,EAAE5zD,EAAE,GAAGiH,EAAElH,EAAEuwD,YAAYvwD,EAAE2zD,MAAM1zD,GAAGA,IAAI,IAAIxR,EAAEuV,EAAEhE,EAAEkH,EAAEuL,IAAIzO,EAAEhE,GAAGoG,EAAE8T,EAAEhT,IAAIq1C,EAAE,EAAE9pC,GAAG,KAAK7T,EAAEnG,EAAE2N,KAAKqJ,EAAEzP,EAAEkH,GAAGmI,EAAEjJ,GAAGxH,GAAGoF,EAAEhE,EAAEoG,EAAEqK,IAAIhiB,GAAGmlB,GAAG,KAAKhV,EAAEsrB,EAAE9jB,KAAKqJ,EAAEzP,EAAEvR,GAAG6pB,EAAElS,GAAGxH,IAAIqB,EAAED,EAAEkyD,WAAWluD,EAAEhE,EAA98D,IAAk9DyS,EAAE,CAAC,SAASgD,EAAEzV,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAEqM,EAAEykD,SAASt4D,EAAE6T,EAAE2kD,UAAUR,YAAY32D,EAAEwS,EAAE2kD,UAAUH,UAAUv+D,EAAE+Z,EAAE2kD,UAAUL,MAAMxa,GAAG,EAAE,IAAIv8C,EAAEwzD,SAAS,EAAExzD,EAAEyzD,SAAhnE,IAA2nE7/C,EAAE,EAAEA,EAAElb,EAAEkb,IAAI,IAAIxN,EAAE,EAAEwN,IAAI5T,EAAEuzD,OAAOvzD,EAAEwzD,UAAUjX,EAAE3oC,EAAE5T,EAAE0zD,MAAM9/C,GAAG,GAAGxN,EAAE,EAAEwN,EAAE,GAAG,EAAE,KAAK5T,EAAEwzD,SAAS,GAAGptD,EAAE,GAAGc,EAAElH,EAAEuzD,OAAOvzD,EAAEwzD,UAAUjX,EAAE,IAAIA,EAAE,IAAI,EAAEv8C,EAAE0zD,MAAMxsD,GAAG,EAAElH,EAAE8zD,UAAU7zD,IAAID,EAAE+zD,YAAYn1D,EAAE,EAAEsI,EAAE,IAAI,IAAIuL,EAAE0kD,SAAS5a,EAAE3oC,EAAE5T,EAAEwzD,UAAU,EAAE,GAAG5/C,EAAEA,IAAIsgD,EAAEl0D,EAAEoG,EAAEwN,GAAG,IAAI1M,EAAExO,EAAEkb,EAAE5T,EAAEuzD,KAAK,GAAGvzD,EAAEuzD,KAAK,GAAGvzD,EAAEuzD,KAAKvzD,EAAEwzD,YAAYU,EAAEl0D,EAAEoG,EAAE,GAAG3X,EAAEuR,EAAEuzD,KAAK,GAAGvzD,EAAEuzD,OAAOvzD,EAAEyzD,UAAU7/C,EAAE5T,EAAEuzD,OAAOvzD,EAAEyzD,UAAUhlE,EAAE2X,EAAE,EAAEc,GAAGd,EAAE,EAAEwN,GAAGxN,EAAE,EAAE3X,GAAGuR,EAAE0zD,MAAMxsD,IAAIlH,EAAE0zD,MAAM9/C,IAAI5T,EAAE0zD,MAAMjlE,GAAGuR,EAAE0zD,MAAM9/C,GAAG5T,EAAE0zD,MAAMjlE,IAAI,EAAE2X,EAAE,EAAEwN,EAAE,GAAGxN,EAAE,EAAE3X,EAAE,GAAGyY,EAAElH,EAAEuzD,KAAK,GAAGrsD,IAAIgtD,EAAEl0D,EAAEoG,EAAE,GAAG,GAAGpG,EAAEwzD,WAAWxzD,EAAEuzD,OAAOvzD,EAAEyzD,UAAUzzD,EAAEuzD,KAAK,GAAG,SAASvzD,EAAEyS,GAAG,IAAImB,EAAEnlB,EAAEyY,EAAEd,EAAExH,EAAEqB,EAAEvH,EAAE+Z,EAAEykD,SAAS3a,EAAE9pC,EAAE0kD,SAASx1D,EAAE8Q,EAAE2kD,UAAUR,YAAYpkD,EAAEC,EAAE2kD,UAAUH,UAAUh9C,EAAExH,EAAE2kD,UAAUP,WAAWnoE,EAAE+jB,EAAE2kD,UAAUN,WAAW93D,EAAEyT,EAAE2kD,UAAUJ,WAAW12D,EAAE,EAAE,IAAI8F,EAAE,EAAEA,GAAG6kC,EAAE7kC,IAAIpG,EAAEszD,SAASltD,GAAG,EAAE,IAAI1N,EAAE,EAAEsH,EAAEuzD,KAAKvzD,EAAEyzD,UAAU,GAAG,EAAE7/C,EAAE5T,EAAEyzD,SAAS,EAAE7/C,EAAp5F,IAAw5FA,IAAI5U,GAAGoH,EAAE1N,EAAE,EAAEA,EAAE,GAAGjK,EAAEuR,EAAEuzD,KAAK3/C,IAAI,GAAG,GAAG,KAAKxN,EAAEpH,EAAEsB,KAAK5H,EAAE,EAAEjK,EAAE,GAAG2X,EAAEm2C,EAAE9tD,IAAIuR,EAAEszD,SAASltD,KAAKxH,EAAE,EAAElQ,GAAGD,IAAImQ,EAAEqb,EAAExrB,EAAEC,IAAIuR,EAAEvH,EAAE,EAAEjK,GAAGuR,EAAE8zD,SAAS7zD,GAAGmG,EAAExH,GAAG4T,IAAIxS,EAAE+zD,YAAY9zD,GAAG0B,EAAE,EAAElT,EAAE,GAAGmQ,KAAK,GAAG,IAAI0B,EAAE,CAAC,EAAE,CAAC,IAAI8F,EAAEpH,EAAE,EAAE,IAAIgB,EAAEszD,SAASltD,IAAIA,IAAIpG,EAAEszD,SAASltD,KAAKpG,EAAEszD,SAASltD,EAAE,IAAI,EAAEpG,EAAEszD,SAASt0D,KAAKsB,GAAG,CAAC,OAAO,EAAEA,GAAG,IAAI8F,EAAEpH,EAAE,IAAIoH,EAAEA,IAAI,IAAI3X,EAAEuR,EAAEszD,SAASltD,GAAG,IAAI3X,GAAG8tD,GAAGr1C,EAAElH,EAAEuzD,OAAO3/C,MAAMlb,EAAE,EAAEwO,EAAE,KAAKd,IAAIpG,EAAE8zD,UAAU1tD,EAAE1N,EAAE,EAAEwO,EAAE,IAAIxO,EAAE,EAAEwO,GAAGxO,EAAE,EAAEwO,EAAE,GAAGd,GAAG3X,IAAI,CAAC,CAAtqB,CAAwqBuR,EAAEyS,GAAGqI,EAAE1U,EAAEm2C,EAAEv8C,EAAEszD,SAAS,CAAC,SAAS59C,EAAE1V,EAAEyS,EAAEmB,GAAG,IAAInlB,EAAEyY,EAAEd,GAAG,EAAExH,EAAE6T,EAAE,GAAGxS,EAAE,EAAEvH,EAAE,EAAE6jD,EAAE,EAAE,IAAI,IAAI39C,IAAIlG,EAAE,IAAI6jD,EAAE,GAAG9pC,EAAE,GAAGmB,EAAE,GAAG,GAAG,MAAMnlB,EAAE,EAAEA,GAAGmlB,EAAEnlB,IAAIyY,EAAEtI,EAAEA,EAAE6T,EAAE,GAAGhkB,EAAE,GAAG,KAAKwR,EAAEvH,GAAGwO,IAAItI,IAAIqB,EAAEs8C,EAAEv8C,EAAEkzD,QAAQ,EAAEhsD,IAAIjH,EAAE,IAAIiH,GAAGA,IAAId,GAAGpG,EAAEkzD,QAAQ,EAAEhsD,KAAKlH,EAAEkzD,QAAQ,OAAQjzD,GAAG,GAAGD,EAAEkzD,QAAQ,MAAOlzD,EAAEkzD,QAAQ,MAAO9sD,EAAEc,EAAEq1C,GAAGt8C,EAAE,KAAKrB,GAAGlG,EAAE,IAAI,GAAGwO,IAAItI,GAAGlG,EAAE,EAAE,IAAIA,EAAE,EAAE,GAAG,CAAC,SAASoO,EAAE9G,EAAEyS,EAAEmB,GAAG,IAAInlB,EAAEyY,EAAEd,GAAG,EAAExH,EAAE6T,EAAE,GAAGxS,EAAE,EAAEvH,EAAE,EAAE6jD,EAAE,EAAE,IAAI,IAAI39C,IAAIlG,EAAE,IAAI6jD,EAAE,GAAG9tD,EAAE,EAAEA,GAAGmlB,EAAEnlB,IAAI,GAAGyY,EAAEtI,EAAEA,EAAE6T,EAAE,GAAGhkB,EAAE,GAAG,OAAOwR,EAAEvH,GAAGwO,IAAItI,GAAG,CAAC,GAAGqB,EAAEs8C,EAAE,KAAKv4C,EAAEhE,EAAEkH,EAAElH,EAAEkzD,SAAS,KAAKjzD,SAAS,IAAIiH,GAAGA,IAAId,IAAIpC,EAAEhE,EAAEkH,EAAElH,EAAEkzD,SAASjzD,KAAK+D,EAAEhE,EAAxyH,GAA4yHA,EAAEkzD,SAASzjD,EAAEzP,EAAEC,EAAE,EAAE,IAAIA,GAAG,IAAI+D,EAAEhE,EAAv0H,GAA20HA,EAAEkzD,SAASzjD,EAAEzP,EAAEC,EAAE,EAAE,KAAK+D,EAAEhE,EAAh2H,GAAo2HA,EAAEkzD,SAASzjD,EAAEzP,EAAEC,EAAE,GAAG,IAAImG,EAAEc,EAAEq1C,GAAGt8C,EAAE,KAAKrB,GAAGlG,EAAE,IAAI,GAAGwO,IAAItI,GAAGlG,EAAE,EAAE,IAAIA,EAAE,EAAE,EAAE,CAAC,CAACjK,EAAE6pB,GAAG,IAAI++C,GAAE,EAAG,SAAS/nD,EAAEtP,EAAEyS,EAAEmB,EAAEnlB,GAAGghB,EAAEzP,EAAE,GAAQvR,EAAE,EAAE,GAAG,GAAG,SAASuR,EAAEyS,EAAEmB,GAAK8C,EAAE1W,GAAOwZ,EAAExZ,EAAE4T,GAAG4F,EAAExZ,GAAG4T,GAAI1M,EAAEsnD,SAASxuD,EAAEuwD,YAAYvwD,EAAE3K,OAAOod,EAAEmB,EAAE5T,EAAEswD,SAAStwD,EAAEswD,SAAS18C,CAAC,CAAxG,CAA0G5T,EAAEyS,EAAEmB,EAAK,CAACA,EAAEwgD,SAAS,SAASp0D,GAAGq3D,IAAI,WAAW,IAAIr3D,EAAEyS,EAAEmB,EAAEnlB,EAAEyY,EAAEd,EAAE,IAAIrG,MAAMkrC,IAAK,IAAIx8C,EAAEmlB,EAAE,EAAEnlB,EAAEmQ,GAAInQ,IAAI,IAAI4gB,EAAE5gB,GAAGmlB,EAAE5T,EAAE,EAAEA,EAAE,GAAGvH,EAAEhK,GAAGuR,IAAIka,EAAEtG,KAAKnlB,EAAE,IAAIyrB,EAAEtG,EAAE,GAAGnlB,EAAEA,EAAEyY,EAAE,EAAEzY,EAAE,GAAGA,IAAI,IAAI6pB,EAAE7pB,GAAGyY,EAAElH,EAAE,EAAEA,EAAE,GAAGkqB,EAAEz7B,GAAGuR,IAAI4C,EAAEsE,KAAKzY,EAAE,IAAIyY,IAAI,EAAEzY,EAAE+jB,EAAE/jB,IAAI,IAAI6pB,EAAE7pB,GAAGyY,GAAG,EAAElH,EAAE,EAAEA,EAAE,GAAGkqB,EAAEz7B,GAAG,EAAEuR,IAAI4C,EAAE,IAAIsE,KAAKzY,EAAE,IAAIgkB,EAAE,EAAEA,GAAGw4B,EAAEx4B,IAAIrM,EAAEqM,GAAG,EAAE,IAAIzS,EAAE,EAAEA,GAAG,KAAKjO,EAAE,EAAEiO,EAAE,GAAG,EAAEA,IAAIoG,EAAE,KAAK,KAAKpG,GAAG,KAAKjO,EAAE,EAAEiO,EAAE,GAAG,EAAEA,IAAIoG,EAAE,KAAK,KAAKpG,GAAG,KAAKjO,EAAE,EAAEiO,EAAE,GAAG,EAAEA,IAAIoG,EAAE,KAAK,KAAKpG,GAAG,KAAKjO,EAAE,EAAEiO,EAAE,GAAG,EAAEA,IAAIoG,EAAE,KAAK,IAAI0U,EAAE/oB,EAAE4P,IAAIyE,GAAGpG,EAAE,EAAEA,EAAEwS,EAAExS,IAAIgf,EAAE,EAAEhf,EAAE,GAAG,EAAEgf,EAAE,EAAEhf,GAAG4F,EAAE5F,EAAE,GAAGQ,EAAE,IAAI6vD,EAAEt+D,EAAE0G,EAAE8jD,IAAI56C,EAAEspC,GAAG17B,EAAE,IAAI8gD,EAAErxC,EAAEkL,EAAE,EAAE1X,EAAEy4B,GAAGsU,EAAE,IAAI8Q,EAAE,IAAItwD,MAAM,GAAG/O,EAAE,EAAhqJ,GAAuB,EAA+oJ,CAAvgB,GAA2gBqmE,GAAE,GAAIr3D,EAAEmzD,OAAO,IAAI96C,EAAErY,EAAEgzD,UAAUxyD,GAAGR,EAAEozD,OAAO,IAAI/6C,EAAErY,EAAEizD,UAAU1jD,GAAGvP,EAAEqzD,QAAQ,IAAIh7C,EAAErY,EAAEkzD,QAAQ3T,GAAGv/C,EAAEg0D,OAAO,EAAEh0D,EAAEi0D,SAAS,EAAEv6C,EAAE1Z,EAAE,EAAE4T,EAAEghD,iBAAiBtlD,EAAEsE,EAAE88C,gBAAgB,SAAS1wD,EAAEyS,EAAEmB,EAAEnlB,GAAG,IAAIyY,EAAEd,EAAExH,EAAE,EAAE,EAAEoB,EAAEk/C,OAAO,IAAIl/C,EAAEssD,KAAK6H,YAAYn0D,EAAEssD,KAAK6H,UAAU,SAASn0D,GAAG,IAAIyS,EAAEmB,EAAE,WAAW,IAAInB,EAAE,EAAEA,GAAG,GAAGA,IAAImB,KAAK,EAAE,GAAG,EAAEA,GAAG,IAAI5T,EAAEgzD,UAAU,EAAEvgD,GAAG,OAA5kK,EAAqlK,GAAG,IAAIzS,EAAEgzD,UAAU,KAAK,IAAIhzD,EAAEgzD,UAAU,KAAK,IAAIhzD,EAAEgzD,UAAU,IAAI,OAAlpK,EAA2pK,IAAIvgD,EAAE,GAAGA,EAAE8pC,EAAE9pC,IAAI,GAAG,IAAIzS,EAAEgzD,UAAU,EAAEvgD,GAAG,OAApsK,EAA6sK,OAAjtK,CAAytK,CAAlO,CAAoOzS,IAAIyV,EAAEzV,EAAEA,EAAEmzD,QAAQ19C,EAAEzV,EAAEA,EAAEozD,QAAQx0D,EAAE,SAASoB,GAAG,IAAIyS,EAAE,IAAIiD,EAAE1V,EAAEA,EAAEgzD,UAAUhzD,EAAEmzD,OAAOgE,UAAUzhD,EAAE1V,EAAEA,EAAEizD,UAAUjzD,EAAEozD,OAAO+D,UAAU1hD,EAAEzV,EAAEA,EAAEqzD,SAAS5gD,EAAEwH,GAAI,GAAGxH,GAAG,IAAIzS,EAAEkzD,QAAQ,EAAEzkD,EAAEgE,GAAG,GAAGA,KAAK,OAAOzS,EAAE8zD,SAAS,GAAGrhD,EAAE,GAAG,EAAE,EAAE,EAAEA,CAAC,CAArL,CAAuLzS,GAAGkH,EAAElH,EAAE8zD,QAAQ,EAAE,IAAI,GAAG1tD,EAAEpG,EAAE+zD,WAAW,EAAE,IAAI,IAAI7sD,IAAIA,EAAEd,IAAIc,EAAEd,EAAEwN,EAAE,EAAEA,EAAE,GAAG1M,IAAI,IAAIuL,EAAEnD,EAAEtP,EAAEyS,EAAEmB,EAAEnlB,GAAG,IAAIuR,EAAEksD,UAAU9lD,IAAIc,GAAGuI,EAAEzP,EAAE,GAAGvR,EAAE,EAAE,GAAG,GAAG8W,EAAEvF,EAAEjO,EAAEitB,KAAKvP,EAAEzP,EAAE,GAAGvR,EAAE,EAAE,GAAG,GAAG,SAASuR,EAAEyS,EAAEmB,EAAEnlB,GAAG,IAAIyY,EAAE,IAAIuI,EAAEzP,EAAEyS,EAAE,IAAI,GAAGhD,EAAEzP,EAAE4T,EAAE,EAAE,GAAGnE,EAAEzP,EAAEvR,EAAE,EAAE,GAAGyY,EAAE,EAAEA,EAAEzY,EAAEyY,IAAIuI,EAAEzP,EAAEA,EAAEkzD,QAAQ,EAAEzkD,EAAEvH,GAAG,GAAG,GAAGJ,EAAE9G,EAAEA,EAAEgzD,UAAUvgD,EAAE,GAAG3L,EAAE9G,EAAEA,EAAEizD,UAAUr/C,EAAE,EAAE,CAA/I,CAAiJ5T,EAAEA,EAAEmzD,OAAOgE,SAAS,EAAEn3D,EAAEozD,OAAO+D,SAAS,EAAEv4D,EAAE,GAAG2G,EAAEvF,EAAEA,EAAEgzD,UAAUhzD,EAAEizD,YAAYv5C,EAAE1Z,GAAGvR,GAAGioB,EAAE1W,EAAE,EAAE4T,EAAEo+C,UAAU,SAAShyD,EAAEyS,EAAEmB,GAAG,OAAO5T,EAAEuwD,YAAYvwD,EAAE6zD,MAAM,EAAE7zD,EAAEkyD,UAAUz/C,IAAI,EAAE,IAAIzS,EAAEuwD,YAAYvwD,EAAE6zD,MAAM,EAAE7zD,EAAEkyD,SAAS,GAAG,IAAIz/C,EAAEzS,EAAEuwD,YAAYvwD,EAAE2zD,MAAM3zD,EAAEkyD,UAAU,IAAIt+C,EAAE5T,EAAEkyD,WAAW,IAAIz/C,EAAEzS,EAAEgzD,UAAU,EAAEp/C,MAAM5T,EAAEoQ,UAAUqC,IAAIzS,EAAEgzD,UAAU,GAAG94C,EAAEtG,GAAG2oC,EAAE,MAAMv8C,EAAEizD,UAAU,EAAExiD,EAAEgC,OAAOzS,EAAEkyD,WAAWlyD,EAAE4zD,YAAY,CAAC,EAAEhgD,EAAE+gD,UAAU,SAAS30D,GAAGyP,EAAEzP,EAAE,EAAE,GAAGgE,EAAEhE,EAA9hM,IAAkiMjO,GAAG,SAASiO,GAAG,KAAKA,EAAEi0D,UAAUz6C,EAAExZ,EAAEA,EAAEg0D,QAAQh0D,EAAEg0D,OAAO,EAAEh0D,EAAEi0D,SAAS,GAAG,GAAGj0D,EAAEi0D,WAAWj0D,EAAEuwD,YAAYvwD,EAAEswD,WAAW,IAAItwD,EAAEg0D,OAAOh0D,EAAEg0D,SAAS,EAAEh0D,EAAEi0D,UAAU,EAAE,CAAvJ,CAAyJj0D,EAAE,CAAC,EAAE,CAAC,kBAAkB,KAAK,GAAG,CAAC,SAASA,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,WAAWuB,KAAKgsB,MAAM,KAAKhsB,KAAKy9D,QAAQ,EAAEz9D,KAAK09D,SAAS,EAAE19D,KAAKsiE,SAAS,EAAEtiE,KAAKkwB,OAAO,KAAKlwB,KAAK49D,SAAS,EAAE59D,KAAKk9D,UAAU,EAAEl9D,KAAKohE,UAAU,EAAEphE,KAAKD,IAAI,GAAGC,KAAKu1B,MAAM,KAAKv1B,KAAK8kE,UAAU,EAAE9kE,KAAKqiE,MAAM,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS1xD,EAAEyS,EAAEmB,GAAG,aAAanB,EAAE3kB,QAAQ,mBAAmBw8D,aAAaA,aAAa,WAAW,IAAItqD,EAAE,GAAGyN,MAAMiqB,MAAM19B,WAAWgG,EAAE+X,OAAO,EAAE,EAAE,GAAGyP,WAAWkQ,MAAM,KAAK13B,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAr35F,CAA035F,0BCZzp6F,qBAEC,SAAUuhD,EAAMn8C,EAAMkyD,GACrB,aAGA,IAAIC,EAAc,CACZ,UAAY,EACZ,QAAU,GAGZC,EAAcD,SAAmBzpE,IAAYA,IAAYA,EAAQ2pE,UAAY3pE,EAE7E4pE,EAAaH,EAAyB,QAAK1pE,IAAWA,EAAO4pE,UAAY5pE,EAGzE8pE,EAAaH,GAAeE,GAAgC,iBAAX,EAAAzsB,GAAuB,EAAAA,EAExE2sB,EAAgBF,GAAcA,EAAW5pE,UAAY0pE,GAAeA,GAGpEG,GAAeA,EAAWjsB,SAAWisB,GACKA,EAAWtiE,SAAWsiE,GACtBA,EAAW7+D,KAWvD,EAAO,CAAC,QAAmB,0BAAP,EAAF,GAAS,+BAGvB0+D,GAAeI,GAAeN,EAAQI,EAAW5pE,QAezD,CAlDA,CAkDEuB,EAAM,GAAY,SAAUvB,GAC5B,aAIA,IAAIutB,EAAOlpB,EAAS7D,EAAQupE,EAAU5qD,EAFtCnf,EAAQ4pD,QAAU,QAMlB,IAAIogB,EAAiBhqE,EAAQgqE,eAAiB,CAE1CC,MAAM,EAENhrD,UAAU,EAGVtE,OAAO,EAGPkoC,WAAW,EAGXqnB,QAAQ,EAGRC,aAAc,KAEdC,cAAe,KAEfC,eAAgB,KAGhBC,mBAAoB,KAGpBprD,WAAY,MAEZC,aAAc,QAGlB,SAASorD,EAAWC,EAAWC,GAG7B,OAFAA,EAAWA,GAAY,EAEnBD,EAAY,IACPjqE,OAAOoT,aAAa62D,GAClBA,EAAY,KACdjqE,OAAOoT,aACD,IAAX82D,EAAoBD,GAAc,EACvB,IAAXC,EAAuC,GAAnBD,GAEbA,EAAY,MACdjqE,OAAOoT,aACD,IAAX82D,EAAoBD,GAAa,GACtB,IAAXC,EAAoBD,GAAc,EAAK,GAC5B,IAAXC,EAAuC,GAAnBD,GAEcA,EAAY,QACzCjqE,OAAOoT,aACD,IAAX82D,EAAoBD,GAAa,GACtB,IAAXC,EAAoBD,GAAa,GAAM,GAC5B,IAAXC,EAAoBD,GAAc,EAAK,GAC5B,IAAXC,EAAuC,GAAnBD,GAIf,IAEX,CASA,SAASE,EAAWC,GAClB,OAAO,SAAUryD,GACf,IAAI9F,EAAIm4D,EAAGnoD,KAAKlK,GAChB,IAAK9F,EACH,OAAO8F,EACTsyD,EAAM,KAAMpwB,EAAOqwB,gBAZvB,SAAevnD,GAEb,IADA,IAAI7a,EAAS6a,EAAIvP,SAAS,IACnBtL,EAAOjI,OAUkD,GAT9DiI,EAAS,IAAMA,EACjB,OAAOA,CACT,CAOwCqiE,CAAMt4D,EAAE,GAAGC,WAAW,IAAO8B,cACnE,CACF,CAEA,IAAIw2D,EAAgB,CAIlB,gBAAiB,CACfC,MAAON,EAAW,gBAClBO,WAAY,SAAUx5D,GACpB,OAAc,OAAVA,EACK,GACFlR,OAAOoT,aAAalC,EAC7B,EACA84D,WAAY,SAAUC,GACpB,OAAOD,EAAWC,EACpB,GAIF,iBAAkB,CAChBQ,MAAON,EAAW,6BAClBO,WAAY,SAAUx5D,GACpB,OAAc,OAAVA,EACK,GACLA,GAAS,IACJlR,OAAOoT,aAAqB,MAARlC,GACtBlR,OAAOoT,aAAalC,EAC7B,EACA84D,WAAY,SAAUC,GACpB,OAAOD,EAAWC,EAAW,MAC/B,GAIF,KAAQ,CACNU,gBAAgB,EAChBF,MAAO,SAAU1yD,GACf,OAAOA,CACT,EACA2yD,WAAY,SAAUx5D,GACpB,MAAO,EACT,EACA84D,WAAY,SAAUC,GACpB,MAAO,EACT,IAQqBW,EAAa,GAClCC,EAAa,IAAKC,EAAgB,IAEtCrrE,EAAQsrE,WAAa,CAAErgB,IAJb,EAIuBsgB,cAJJ,EAKzBC,QALsC,EAKpBC,WALoC,EAKZC,eAJzB,GAKjBP,WAAYA,EAAYQ,eAL+B,GAMvDP,WAAYA,EAAYC,cAAeA,GAM3C,IAAI7wB,EAASx6C,EAAQw6C,OAAS,CAC1BoxB,WAAY,+BACZC,cAAe,iCACfC,SAAU,0BACVC,cAAe,wBACfC,iBAAkB,8BAClBC,gBAAiB,6BACjBC,sBAAuB,qCACvBC,cAAe,oCACfC,yBAA0B,uCAC1BC,cAAe,yBACfC,kBAAmB,kCACnBC,qBAAsB,yDACtBC,sBAAuB,0DACvBC,gBAAiB,6DACjBC,cAAe,6BACfC,oBAAqB,wCACrBC,gBAAiB,mCACjBC,qBAAsB,+CACtBC,gBAAiB,uDACjBjC,gBAAiB,8DAQjB7rD,EAAMhf,EAAQgf,IAAM,CACpB+tD,eAAgB,SAAS1xD,GACzB,MAAO,CACHpD,KAAM,iBACNoD,MAAOA,EAEb,EAEE2xD,eAAgB,WAChB,MAAO,CACH/0D,KAAM,iBAEZ,EAEEg1D,cAAe,SAAS5xD,GACxB,MAAO,CACHpD,KAAM,gBACNoD,MAAOA,EAEb,EAEE6xD,gBAAiB,SAASjhE,GAC1B,MAAO,CACHgM,KAAM,kBACN,UAAahM,EAEnB,EAEEkhE,YAAa,SAAS5xD,GACtB,MAAO,CACHtD,KAAM,cACNsD,QAASA,EAEf,EACE6xD,SAAU,SAAS1xD,EAAWM,GAC9B,MAAO,CACH/D,KAAM,WACNyD,UAAWA,EACXM,KAAMA,EAEZ,EACEqxD,aAAc,SAAS3xD,EAAWM,GAClC,MAAO,CACH/D,KAAM,eACNyD,UAAWA,EACXM,KAAMA,EAEZ,EACEsxD,WAAY,SAAStxD,GACrB,MAAO,CACH/D,KAAM,aACN+D,KAAMA,EAEZ,EAEEuxD,eAAgB,SAAS7xD,EAAWM,GACpC,MAAO,CACH/D,KAAM,iBACNyD,UAAWA,EACXM,KAAMA,EAEZ,EAEEwxD,YAAa,SAASxxD,GACtB,MAAO,CACH/D,KAAM,cACN+D,KAAMA,EAEZ,EAEEyxD,gBAAiB,SAAS/xD,EAAWM,GACrC,MAAO,CACH/D,KAAM,kBACNyD,UAAWA,EACXM,KAAMA,EAEZ,EAEE0xD,eAAgB,SAASzzD,EAAWhZ,GACpC,MAAO,CACHgX,KAAM,iBACNgC,UAAWA,EACXhZ,KAAMA,EAEZ,EAEE0sE,oBAAqB,SAAS1zD,EAAWhZ,GACzC,MAAO,CACHgX,KAAM,sBACNgC,UAAWA,EACXhZ,KAAMA,EAEZ,EAEE2sE,cAAe,SAASnyD,GACxB,MAAO,CACHxD,KAAM,gBACNwD,WAAYA,EAElB,EAEEoyD,kBAAmB,SAASxxD,EAAYH,EAAYI,EAASN,GAC7D,MAAO,CACH/D,KAAM,sBACNoE,WAAYA,EACZC,QAASA,EACTJ,WAAYA,EACZF,KAAMA,EAEZ,EAEE8xD,oBAAqB,SAASpxD,EAAUxc,EAAOyc,EAAKC,EAAMZ,GAC1D,MAAO,CACH/D,KAAM,sBACNyE,SAAUA,EACVxc,MAAOA,EACPyc,IAAKA,EACLC,KAAMA,EACNZ,KAAMA,EAEZ,EAEE+xD,oBAAqB,SAAS9zD,EAAW+C,EAAWhB,GACpD,MAAO,CACH/D,KAAM,sBACNgC,UAAWA,EACX+C,UAAWA,EACXhB,KAAMA,EAEZ,EAEEuU,MAAO,SAASvU,GAChB,MAAO,CACH/D,KAAM,QACN+D,KAAMA,EAEZ,EAEEK,WAAY,SAAS/E,GACrB,MAAO,CACHW,KAAM,aACNX,KAAMA,EAEZ,EAEE02D,QAAS,SAAS/1D,EAAMxG,EAAO0/C,GAO/B,MAAO,CACHl5C,KAPJA,EA3LyB,IA2LjBA,EAA0B,gBA1LjB,KA2LZA,EAA2B,iBA3LuB,KA4LlDA,EAA2B,iBAC3BA,IAASmzD,EAAc,aACxB,gBAIA35D,MAAOA,EACP0/C,IAAKA,EAEX,EAEE8c,SAAU,SAAS7jE,EAAKqH,GACxB,MAAO,CACHwG,KAAM,WACN7N,IAAKA,EACLqH,MAAOA,EAEb,EACEy8D,eAAgB,SAAS9jE,EAAKqH,GAC9B,MAAO,CACHwG,KAAM,iBACN7N,IAAKA,EACLqH,MAAOA,EAEb,EACE08D,WAAY,SAAS18D,GACrB,MAAO,CACHwG,KAAM,aACNxG,MAAOA,EAEb,EAGE28D,2BAA4B,SAAShxD,GACrC,MAAO,CACHnF,KAAM,6BACNmF,OAAQA,EAEd,EACEixD,iBAAkB,SAAS9wD,EAAUE,EAAMC,GAK3C,MAAO,CACHzF,KALQ,QAAUsF,GAAY,OAASA,EACzC,oBACA,mBAIEA,SAAUA,EACVE,KAAMA,EACNC,MAAOA,EAEb,EACE4wD,gBAAiB,SAAS/wD,EAAUC,GACpC,MAAO,CACHvF,KAAM,kBACNsF,SAAUA,EACVC,SAAUA,EAEhB,EACE+wD,iBAAkB,SAASxzD,EAAMwB,EAASF,GAC1C,MAAO,CACHpE,KAAM,mBACNsE,QAASA,EACTF,WAAYA,EACZtB,KAAMA,EAEZ,EAEEyzD,gBAAiB,SAASzzD,EAAM5D,GAChC,MAAO,CACHc,KAAM,kBACN8C,KAAMA,EACN5D,MAAOA,EAEb,EAEEs3D,eAAgB,SAAS1zD,EAAM9O,GAC/B,MAAO,CACHgM,KAAM,iBACN8C,KAAMA,EACN,UAAa9O,EAEnB,EAEEyiE,oBAAqB,SAAS3zD,EAAM9O,GACpC,MAAO,CACHgM,KAAM,sBACN8C,KAAMA,EACN,UAAa9O,EAEnB,EAEE0iE,qBAAsB,SAAS5zD,EAAMyC,GACrC,MAAO,CACHvF,KAAM,uBACN8C,KAAMA,EACNyC,SAAUA,EAEhB,EAEE2yC,QAAS,SAAS1+C,EAAO0/C,GACzB,MAAO,CACHl5C,KAAM,UACNxG,MAAOA,EACP0/C,IAAKA,EAEX,GAKF,SAASyd,EAAW/zD,GAElB,GAAIg0D,GAAgB,CAClB,IAAIngE,EAAWm0C,GAAUx9C,MACzBqJ,EAASogE,WACTpgE,EAASqgE,MAAMl0D,EACjB,CAEA,OADIxW,EAAQ8lE,cAAc9lE,EAAQ8lE,aAAatvD,GACxCA,CACT,CAMA,IAAI8E,EAAQ1N,MAAMqC,UAAUqL,MAIxB1M,GAHW/I,OAAOoK,UAAUP,SAGS,SAAUq9B,EAAO49B,GACxD,IAAK,IAAIruE,EAAI,EAAGH,EAAS4wC,EAAM5wC,OAAQG,EAAIH,IAAUG,EACnD,GAAIywC,EAAMzwC,KAAOquE,EAAS,OAAOruE,EAEnC,OAAQ,CACV,GA0BA,SAASqR,EAAQ+P,GACf,IAAI9V,EAAO0T,EAAM/T,KAAKM,UAAW,GAIjC,OAHA6V,EAASA,EAAO7M,QAAQ,UAAU,SAAUI,EAAO6B,GACjD,MAAO,GAAKlL,EAAKkL,EAAQ,IAAiC,EAC5D,IACO4K,CACT,CA7BI9P,MAAMqC,UAAUrB,UAClBA,EAAU,SAAUm+B,EAAO49B,GACzB,OAAO59B,EAAMn+B,QAAQ+7D,EACvB,GA8BF,IAgJI73D,EACAwxC,EACAsmB,EACA3L,EACArkD,EACAiwD,EACAxuE,EACAyuE,EA2vBAC,EAEAC,EAEAC,EAt5BA/iE,EAAoC,SAAU+/B,GAIhD,IAHA,IACItS,EAAKgsB,EADL/5C,EAAO0T,EAAM/T,KAAKM,UAAW,GAGxBvL,EAAI,EAAGH,EAASyL,EAAKzL,OAAQG,EAAIH,IAAUG,EAElD,IAAKqlD,KADLhsB,EAAM/tB,EAAKtL,GAGLuJ,OAAOoK,UAAUuF,eAAejO,KAAKouB,EAAKgsB,KAC5C1Z,EAAK0Z,GAAQhsB,EAAIgsB,IAIvB,OAAO1Z,CACT,EAeA,SAASijC,EAAW5qD,GAElB,OAAKza,OAAOwQ,OAELxQ,OAAOwQ,OAAOiK,EAAG,CACtB,KAAQ,CAAE,UAAY,EAAMlT,MAAOkT,EAAEjkB,MACrC,MAAS,CAAE,UAAY,EAAM+Q,MAAOkT,EAAExN,OACtC,OAAU,CAAE,UAAY,EAAM1F,MAAOkT,EAAEumC,UAJhCvmC,CAMX,CAeA,SAASimD,EAAMjiB,GACb,IACIzkC,EAAOolC,EADPn1C,EAAUnC,EAAQ43B,MAAM,KAAMjqB,EAAM/T,KAAKM,UAAW,IAgBxD,MAbc,OAAVy8C,QAAwC,IAAfA,EAAMjoD,MACjC4oD,EAAMnyC,EAAQg4D,EAAY,GAC1BjrD,EAAQqrD,EAAW,IAAIC,YAAYx9D,EAAQ,aAActR,EAAM4oD,EAAKn1C,MAC9DgD,MAAQA,EACd+M,EAAMxjB,KAAOA,EACbwjB,EAAMgnC,OAAS5B,IAEfA,EAAMX,EAAM3N,MAAM,GAAK2N,EAAMwmB,WAC7BjrD,EAAQqrD,EAAW,IAAIC,YAAYx9D,EAAQ,aAAc22C,EAAMjoD,KAAM4oD,EAAKn1C,MACpEzT,KAAOioD,EAAMjoD,KACnBwjB,EAAM/M,MAAQwxC,EAAM3N,MAAM,GAC1B92B,EAAMgnC,OAAS5B,GAEXplC,CACR,CAEA,SAASurD,EAAW9mB,GAElB,OADUp7B,EAAM5N,MAAMgpC,EAAM3N,MAAM,GAAI2N,EAAM3N,MAAM,KAG3C2N,EAAMl3C,KACf,CASA,SAASi+D,EAAqBz3D,EAAM0wC,GAClCiiB,EAAMjiB,EAAOnO,EAAOuxB,cAAe9zD,EAAMw3D,EAAW9mB,GACtD,CAeA,SAASijB,EAAWrnD,GAClB,IAAIimB,EAAOilC,EAAWnM,GACtB,QAAI,IAAuB/+C,EAAMtM,KAAM,CACrC,IAAIA,EACJ,OAAQsM,EAAMtM,MACZ,KApduB,EAodDA,EAAO,SAAe,MAC5C,KArdoC,EAqddA,EAAO,UAAe,MAC5C,KAtdoD,EAsd9BA,EAAO,aAAe,MAC5C,KAtde,GAsdOA,EAAO,SAAe,MAC5C,KAAKkzD,EAAiBlzD,EAAO,SAAe,MAC5C,KAxdqD,GAwd/BA,EAAO,UAAe,MAC5C,KAAKmzD,EACH,OAAOR,EAAMrmD,EAAOi2B,EAAOoxB,WAAY,SAAU,MAAOphC,GAC1D,KA5dI,EA6dF,OAAOogC,EAAMrmD,EAAOi2B,EAAOqxB,eAE/B,OAAOjB,EAAMrmD,EAAOi2B,EAAOoxB,WAAY3zD,EAAMw3D,EAAWlrD,GAAQimB,EAClE,CACA,OAAOogC,EAAMrmD,EAAOi2B,EAAOoxB,WAAY,SAAUrnD,EAAOimB,EAC1D,CAgCA,SAASmlC,IAIP,IAHAC,IAGO,KAAOriD,EAAM9a,WAAW0E,IACxB,KAAOoW,EAAM9a,WAAW0E,EAAQ,IACrC04D,IACAD,IAEF,GAAIz4D,GAAS3W,EAAQ,MAAO,CACxByX,KA5gBI,EA6gBJxG,MAAO,QACP/Q,KAAMA,EACNyuE,UAAWA,EACXn0B,MAAO,CAAC7jC,EAAOA,IAGnB,IA2NI24D,EACAC,EACA9vE,EA7NA+vE,EAAWziD,EAAM9a,WAAW0E,GAC5BkN,EAAOkJ,EAAM9a,WAAW0E,EAAQ,GAIpC,GADA+3D,EAAa/3D,EA+pBf,SAA2B64D,GACzB,OAAKA,GAAY,IAAMA,GAAY,IAAQA,GAAY,IAAMA,GAAY,KAAQ,KAAOA,MAEpFjG,EAASkG,qBAAuBD,GAAY,IAGlD,CApqBME,CAAkBF,GAAW,OA0GnC,WAKE,IAJA,IAAIv+D,EAAOwG,EAIJk4D,EAAiB5iD,EAAM9a,aAAa0E,MAgB3C,OAmjBF,SAAmB1T,GACjB,OAAQA,EAAGjD,QACT,KAAK,EACH,MAAO,OAASiD,GAAM,OAASA,GAAM,OAASA,GAAM,OAASA,EAC/D,KAAK,EACH,MAAO,QAAUA,GAAM,QAAUA,GAAM,QAAUA,GAAM,QAAUA,EACnE,KAAK,EACH,MAAI,SAAWA,GAAM,SAAWA,MAE5BsmE,EAASqG,QAAWrG,EAASsG,iBACvB,SAAW5sE,EAEvB,KAAK,EACH,MAAO,UAAYA,GAAM,UAAYA,GAAM,UAAYA,GAAM,UAAYA,EAC3E,KAAK,EACH,MAAO,WAAaA,GAAM,WAAaA,GAAM,WAAaA,EAC5D,KAAK,EACH,MAAO,aAAeA,EAE1B,OAAO,CACT,CAnlBM6sE,CAHJ7+D,EAAQ0N,EAAa6rD,MAAMz9C,EAAM5N,MAAMuvD,EAAY/3D,KAKxC,SAAW1F,GAAS,UAAYA,GACzCwG,EA7oBuD,GA8oBvDxG,EAAS,SAAWA,GACX,QAAUA,GACnBwG,EAAOmzD,EACP35D,EAAQ,MAERwG,EAppBsD,EA4oBtDA,EA5oBsC,EAupBjC,CACHA,KAAMA,EACNxG,MAAOA,EACP/Q,KAAMA,EACNyuE,UAAWA,EACXn0B,MAAO,CAACk0B,EAAY/3D,GAE1B,CAtI0Co5D,GAExC,OAAQP,GACN,KAAK,GAAI,KAAK,GACZ,OAiKN,WAQE,IAPA,IAKIA,EALAQ,EAAYjjD,EAAM9a,WAAW0E,KAC7B24D,EAAYpvE,EACZqvE,EAAiBZ,EACjBsB,EAAct5D,EACdlX,EAASkf,EAAa+rD,eAAiB,KAAO,GAK5CsF,KADJR,EAAWziD,EAAM9a,WAAW0E,OAQ5B,IAJIA,EAAQ3W,GAAUkwE,EAAiBV,MACrC/vE,GAAUstB,EAAM5N,MAAM8wD,EAAat5D,EAAQ,GAC3CyzD,EAAM,KAAMpwB,EAAOwxB,iBAAkBz+C,EAAM5N,MAAMuvD,EAAY/3D,EAAQ,KAEnE,KAAO64D,EAAU,CACnB,IAAK7wD,EAAa+rD,eAAgB,CAChC,IAAIyF,EAAepjD,EAAM5N,MAAM8wD,EAAat5D,EAAQ,GACpDlX,GAAUkf,EAAa6rD,MAAM2F,EAC/B,CACA,IAAIC,EAAcC,IACb1xD,EAAa+rD,iBAChBjrE,GAAU2wE,GACZH,EAAct5D,CAChB,CAOF,OALKgI,EAAa+rD,iBAChBjrE,GAAUkf,EAAa8rD,WAAW,MAClChrE,GAAUkf,EAAa6rD,MAAMz9C,EAAM5N,MAAM8wD,EAAat5D,EAAQ,KAGzD,CACHc,KA/tBuB,EAguBvBxG,MAAOxR,EACPS,KAAMovE,EACNX,UAAWY,EACXe,SAAUpwE,EACVqwE,cAAe5B,EACfn0B,MAAO,CAACk0B,EAAY/3D,GAE1B,CA3Ma65D,GAET,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAClD,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAC9B,OAAOC,IAET,KAAK,GAEH,OAAIC,EAAW7sD,GAAc4sD,IACzB,KAAO5sD,EACL,KAAOkJ,EAAM9a,WAAW0E,EAAQ,GA4InC,CACHc,KAAMozD,EACN55D,MAAO,MACP/Q,KAAMA,EACNyuE,UAAWA,EACXn0B,MAAO,CAACk0B,EANZ/3D,GAAS,IA1IIg6D,EAAe,MAEjBA,EAAe,KAExB,KAAK,GACH,OAAwBA,EAApB,KAAO9sD,EAA4B,KACjB,KAExB,KAAK,GACH,OAAI0lD,EAASqH,kBACP,KAAO/sD,EAAa8sD,EAAe,MACjBA,EAApB,KAAO9sD,EAA4B,KACjB,KAExB,KAAK,GACH,OAAI0lD,EAASqH,kBACP,KAAO/sD,EAAa8sD,EAAe,MACjBA,EAApB,KAAO9sD,EAA4B,KACjB,KAExB,KAAK,IACH,GAAI,KAAOA,EAAM,OAAO8sD,EAAe,MACvC,IAAKpH,EAASqH,iBACZ,MACF,OAAOD,EAAe,KAExB,KAAK,GACH,OAAIpH,EAASqG,QACP,KAAO/rD,EAAa8sD,EAAe,MAClCA,EAAe,KAExB,KAAK,GAEH,OAAI,KAAO9sD,GAAQ,KAAOA,GAsK1ByrD,EAAYpvE,EACZqvE,EAAiBZ,GAGjB,KAFAlvE,EAASoxE,GAAe,KAENzG,EAAMjiB,EAAOnO,EAAOsxB,SAAU,IAAK2D,EAAW9mB,IAE7D,CACH1wC,KArvBuB,EAsvBvBxG,MAAO0N,EAAa+rD,eAAiB,KAAO/rD,EAAa6rD,MAAM/qE,GAC/DS,KAAMovE,EACNX,UAAWY,EACXe,SAAUpwE,EACVqwE,cAAe5B,EACfn0B,MAAO,CAACk0B,EAAY/3D,KAlLbg6D,EAAe,KAExB,KAAK,GAEH,OAAIpH,EAASuH,iBACP,KAAOjtD,EAAa8sD,EAAe,MAClCA,EAAe,KAExB,KAAK,GAAI,KAAK,IACZ,IAAKpH,EAASqH,iBACZ,MAGJ,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,IAAK,KAAK,IACnD,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,KAAK,GAClD,KAAK,GACH,OAAOD,EAAe5jD,EAAMna,OAAO+D,IAGvC,OAAOy0D,EAAWr+C,EAAMna,OAAO+D,GACjC,CAMA,SAASo6D,IACP,IAAIvB,EAAWziD,EAAM9a,WAAW0E,GAC5Bq6D,EAAejkD,EAAM9a,WAAW0E,EAAQ,GAE5C,QAAIu5D,EAAiBV,KAEf,KAAOA,GAAY,KAAOwB,KAAgBr6D,EAC1C,KAAO64D,GAAY,KAAOwB,KAAgBr6D,IAC5CzW,EACFyuE,IAAch4D,GAEP,EAGX,CAEA,SAASy4D,IACP,KAAOz4D,EAAQ3W,GAEb,GA6iBK,KADawvE,EA7iBHziD,EAAM9a,WAAW0E,KA8iBT,KAAO64D,GAAY,KAAQA,GAAY,KAAQA,IA5iBlE74D,OACG,IAAKo6D,IACV,MAyiBN,IAAsBvB,CAtiBtB,CAuCA,SAASmB,EAAe1/D,GAEtB,OADA0F,GAAS1F,EAAMjR,OACR,CACHyX,KAAMkzD,EACN15D,MAAOA,EACP/Q,KAAMA,EACNyuE,UAAWA,EACXn0B,MAAO,CAACk0B,EAAY/3D,GAE1B,CAyFA,SAAS85D,IACP,IAAI7vD,EAAYmM,EAAMna,OAAO+D,GACzBkN,EAAOkJ,EAAMna,OAAO+D,EAAQ,GAE5B62D,EAAW,MAAQ5sD,GAAa,KAAKnO,QAAQoR,GAAQ,OAAS,EA2EpE,WACE,IAGIotD,EAAOC,EAAeC,EAAeC,EAHrCC,EAAW,EACXC,EAAiB,EACjBC,EAAa,EASjB,IANAH,EAAaz6D,GAAS,EAGjB66D,EAAWzkD,EAAM9a,WAAW0E,KAC/ByzD,EAAM,KAAMpwB,EAAOyxB,gBAAiB1+C,EAAM5N,MAAMuvD,EAAY/3D,IAEvD66D,EAAWzkD,EAAM9a,WAAW0E,OAAWA,EAE9Cs6D,EAAQv+D,SAASqa,EAAM5N,MAAMiyD,EAAYz6D,GAAQ,IAGjD,IAAI86D,GAAgB,EACpB,GAAI,MAAQ1kD,EAAMna,OAAO+D,GAAQ,CAI/B,IAHA86D,GAAgB,EAChBP,IAAkBv6D,EAEX66D,EAAWzkD,EAAM9a,WAAW0E,OAAWA,EAC9C06D,EAAWtkD,EAAM5N,MAAM+xD,EAAev6D,GAItC06D,EAAYH,IAAkBv6D,EAAS,EACnCjE,SAAS2+D,EAAU,IAAM3vE,KAAKsS,IAAI,GAAI2C,EAAQu6D,EACpD,CAGA,IAAIQ,GAAsB,EAC1B,GAAI,KAAKj/D,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,EAAG,CAclD,IAbA+6D,GAAsB,IACpB/6D,EAGE,KAAKlE,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,IAC/C46D,EAAc,MAAQxkD,EAAMna,OAAO+D,KAAY,GAAK,GAEtDw6D,EAAgBx6D,EAGX+5D,EAAW3jD,EAAM9a,WAAW0E,KAC/ByzD,EAAM,KAAMpwB,EAAOyxB,gBAAiB1+C,EAAM5N,MAAMuvD,EAAY/3D,IAEvD+5D,EAAW3jD,EAAM9a,WAAW0E,OAAWA,EAC9C26D,EAAiBvkD,EAAM5N,MAAMgyD,EAAex6D,GAG5C26D,EAAiB5vE,KAAKsS,IAAI,EAAGs9D,EAAiBC,EAChD,CAEA,MAAO,CACLtgE,OAAQggE,EAAQI,GAAYC,EAC5BK,gBAAiBF,GAAiBC,EAEtC,CApIIE,GA0IJ,WACE,KAAOlB,EAAW3jD,EAAM9a,WAAW0E,OAAWA,EAE9C,IAAI86D,GAAgB,EACpB,GAAI,MAAQ1kD,EAAMna,OAAO+D,GAIvB,IAHA86D,GAAgB,IACd96D,EAEK+5D,EAAW3jD,EAAM9a,WAAW0E,OAAWA,EAIhD,IAAIk7D,GAAgB,EACpB,GAAI,KAAKp/D,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,EAS/C,IARAk7D,GAAgB,IACdl7D,EAEE,KAAKlE,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,KAAKA,EAEjD+5D,EAAW3jD,EAAM9a,WAAW0E,KAC/ByzD,EAAM,KAAMpwB,EAAOyxB,gBAAiB1+C,EAAM5N,MAAMuvD,EAAY/3D,IAEvD+5D,EAAW3jD,EAAM9a,WAAW0E,OAAWA,EAGhD,MAAO,CACL1F,MAAOwH,WAAWsU,EAAM5N,MAAMuvD,EAAY/3D,IAC1Cg7D,gBAAiBF,GAAiBI,EAEtC,CAvKuBC,GAEjBC,EAgBN,WACE,GAAKxI,EAASyI,iBAId,MAAI,KAAKv/D,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,MAC7CA,GACK,EAIX,CA3B2Bs7D,GAOzB,OAsBF,WACE,GAAK1I,EAAS2I,gBAKd,GAAI,KAAKz/D,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,EAE/C,KADEA,EACE,KAAKlE,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,EAAG,CAElD,KADEA,EACE,KAAKlE,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,EAE/C,QADEA,EACK,MAGPyzD,EAAM,KAAMpwB,EAAOyxB,gBAAiB1+C,EAAM5N,MAAMuvD,EAAY/3D,GAEhE,MAEEyzD,EAAM,KAAMpwB,EAAOyxB,gBAAiB1+C,EAAM5N,MAAMuvD,EAAY/3D,SAEzD,GAAI,KAAKlE,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,EAAG,CAEvD,KADEA,EACE,KAAKlE,QAAQsa,EAAMna,OAAO+D,IAAU,OAAS,EAE/C,QADEA,EACK,KAGPyzD,EAAM,KAAMpwB,EAAOyxB,gBAAiB1+C,EAAM5N,MAAMuvD,EAAY/3D,GAElE,CACF,CA3DyBw7D,KAEEJ,GAAsBvE,EAAQmE,kBACrDvH,EAAM,KAAMpwB,EAAOyxB,gBAAiB1+C,EAAM5N,MAAMuvD,EAAY/3D,IAGvD,CACHc,KAnxBe,GAoxBfxG,MAAOu8D,EAAQv8D,MACf/Q,KAAMA,EACNyuE,UAAWA,EACXn0B,MAAO,CAACk0B,EAAY/3D,GAE1B,CA6LA,SAAS05D,IACP,IAAI+B,EAAgBz7D,EACpB,OAAQoW,EAAMna,OAAO+D,IAEnB,IAAK,IAAc,QAAPA,EAAc,IAC1B,IAAK,IAAc,QAAPA,EAAc,KAC1B,IAAK,IAAc,QAAPA,EAAc,KAC1B,IAAK,IAAc,QAAPA,EAAc,KAC1B,IAAK,IAAc,QAAPA,EAAc,KAC1B,IAAK,IAAc,QAAPA,EAAc,KAC1B,IAAK,IAAc,QAAPA,EAAc,KAK1B,IAAK,KACL,IAAK,KAEH,OADAo6D,IACO,KAET,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAC7C,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAE3C,KAAOL,EAAW3jD,EAAM9a,WAAW0E,KAAWA,EAAQy7D,EAAgB,KAAKz7D,EAE3E,IAAI07D,EAAOtlD,EAAM5N,MAAMizD,EAAez7D,GAClC27D,EAAM5/D,SAAS2/D,EAAM,IAIzB,OAHIC,EAAM,KACRlI,EAAM,KAAMpwB,EAAO0xB,sBAAuB,KAAO4G,GAE5C3zD,EAAa8rD,WAAW6H,EAAK,KAAOD,GAE7C,IAAK,IACH,GAAI9I,EAASgJ,qBAGX,QAFE57D,EACFy4D,IACO,GAET,MAEF,IAAK,IACH,GAAI7F,EAASiJ,WAAY,CAEvB,GAAIhB,EAAWzkD,EAAM9a,WAAW0E,EAAQ,KACpC66D,EAAWzkD,EAAM9a,WAAW0E,EAAQ,IAEtC,OADAA,GAAS,EACFgI,EAAa8rD,WAAW/3D,SAASqa,EAAM5N,MAAMizD,EAAgB,EAAGz7D,GAAQ,IAAK,KAAOoW,EAAM5N,MAAMizD,EAAez7D,IAExHyzD,EAAM,KAAMpwB,EAAO4xB,yBAA0B,KAAO7+C,EAAM5N,MAAMizD,EAAez7D,EAAQ,GACzF,CACA,MAEF,IAAK,IACH,GAAI4yD,EAASkJ,eACX,OA1FR,WACE,IAAIL,EAAgBz7D,IAOpB,IAL8B,MAA1BoW,EAAMna,OAAO+D,MACfyzD,EAAM,KAAMpwB,EAAO6xB,cAAe,IAAK,KAAO9+C,EAAM5N,MAAMizD,EAAez7D,IACtE66D,EAAWzkD,EAAM9a,WAAW0E,KAC/ByzD,EAAM,KAAMpwB,EAAO4xB,yBAA0B,KAAO7+C,EAAM5N,MAAMizD,EAAez7D,IAE9C,KAA5BoW,EAAM9a,WAAW0E,MAAmBA,EAG3C,IAFA,IAAI+7D,EAAW/7D,EAER66D,EAAWzkD,EAAM9a,WAAW0E,OAC/BA,EACU+7D,EAAW,GACrBtI,EAAM,KAAMpwB,EAAO8xB,kBAAmB,KAAO/+C,EAAM5N,MAAMizD,EAAez7D,IAG5E,IAAIpG,EAAIwc,EAAMna,OAAO+D,KACX,MAANpG,IACS,MAANA,GAAqB,MAANA,EAClB65D,EAAM,KAAMpwB,EAAO6xB,cAAe,IAAK,KAAO9+C,EAAM5N,MAAMizD,EAAez7D,MAEzEyzD,EAAM,KAAMpwB,EAAO4xB,yBAA0B,KAAO7+C,EAAM5N,MAAMizD,EAAez7D,KAGnF,IAAIqzD,EAAYt3D,SAASqa,EAAM5N,MAAMuzD,EAAU/7D,EAAQ,IAAM,IAAK,IAC9D07D,EAAO,KAAOtlD,EAAM5N,MAAMizD,EAAez7D,GAM7C,OAJIqzD,EAAY,SACdI,EAAM,KAAMpwB,EAAO8xB,kBAAmBuG,GAGjC1zD,EAAaorD,WAAWC,EAAWqI,EAC5C,CAyDeM,GACT,MAEF,IAAK,KAAM,IAAK,IAAK,IAAK,IACxB,OAAO5lD,EAAMna,OAAO+D,KAKxB,OAFI4yD,EAASqJ,eACXxI,EAAM,KAAMpwB,EAAO2xB,cAAe,KAAO5+C,EAAM5N,MAAMizD,EAAez7D,EAAQ,IACvEoW,EAAMna,OAAO+D,IACtB,CAQA,SAAS04D,IACPX,EAAa/3D,EACbA,GAAS,EAET,IAAIiK,EAAYmM,EAAMna,OAAO+D,GACzBya,EAAU,GACVyhD,GAAS,EACTC,EAAen8D,EACfo8D,EAAmBpE,EACnBqE,EAAc9yE,EASlB,GAPI,MAAQ0gB,KAGN,KAFJwQ,EAAUy/C,GAAe,IAEFz/C,EAAUxQ,EAC5BiyD,GAAS,IAGXA,EAAQ,CACX,KAAOl8D,EAAQ3W,IACTkwE,EAAiBnjD,EAAM9a,WAAW0E,OACpCA,EAEA9S,EAAQ4a,WAAU2S,EAAUrE,EAAM5N,MAAM2zD,EAAcn8D,GAC5D,CAEA,GAAI9S,EAAQ4a,SAAU,CACpB,IAAIpE,EAAOmE,EAAImxC,QAAQv+B,EAASrE,EAAM5N,MAAMuvD,EAAY/3D,IAIpD9S,EAAQw+C,YACVhoC,EAAKwqC,IAAM,CACPnlD,MAAO,CAAEQ,KAAM8yE,EAAatoB,OAAQgkB,EAAaqE,GACjD52D,IAAK,CAAEjc,KAAMA,EAAMwqD,OAAQ/zC,EAAQg4D,KAGrC9qE,EAAQ6lE,SACVrvD,EAAKmgC,MAAQ,CAACk0B,EAAY/3D,IAExB9S,EAAQ8lE,cAAc9lE,EAAQ8lE,aAAatvD,GAC/CoE,EAASjT,KAAK6O,EAChB,CACF,CAKA,SAASw2D,EAAeoC,GACtB,IAGehD,EAHXrf,EAAQ,EACRx/B,EAAU,GACV8hD,GAAa,EACWC,EAAYjzE,EAKxC,MAHEyW,EAGK,MAAQoW,EAAMna,OAAO+D,EAAQi6C,MAAUA,EAE9C,GAAI,MAAQ7jC,EAAMna,OAAO+D,EAAQi6C,GAAQ,OAAO,EAQhD,IANAj6C,GAASi6C,EAAQ,EAGbsf,EAAiBnjD,EAAM9a,WAAW0E,KAASo6D,IAE/Cd,EAAct5D,EACPA,EAAQ3W,GAAQ,CAGrB,KAAOkwE,EAAiBnjD,EAAM9a,WAAW0E,KAASo6D,IAMlD,GAAI,MAJQhkD,EAAMna,OAAO+D,KAIF,CACrBu8D,GAAa,EACb,IAAK,IAAI/yE,EAAI,EAAGA,EAAIywD,IAASzwD,EACvB,MAAQ4sB,EAAMna,OAAO+D,EAAQxW,KAAI+yE,GAAa,GAEhD,MAAQnmD,EAAMna,OAAO+D,EAAQi6C,KAAQsiB,GAAa,EACxD,CAGA,GAAIA,EAGF,OAFA9hD,GAAWrE,EAAM5N,MAAM8wD,EAAat5D,EAAQ,GAC5CA,GAASi6C,EAAQ,EACVx/B,CAEX,CAEAg5C,EAAM,KAAM6I,EACAj5B,EAAOgyB,sBACPhyB,EAAO+xB,qBACboH,EAAW,QACnB,CASA,SAAStvD,IACP4qD,EAAgBtmB,EAChBA,EAAQ2a,EACRA,EAAYqM,GACd,CAKA,SAASiE,EAAQniE,GACf,OAAIA,IAAUk3C,EAAMl3C,QAClB4S,KACO,EAGX,CAIA,SAASwvD,EAAOpiE,GACVA,IAAUk3C,EAAMl3C,MAAO4S,IACtBumD,EAAMjiB,EAAOnO,EAAOsxB,SAAUr6D,EAAOg+D,EAAW9mB,GACvD,CAQA,SAAS+nB,EAAiBV,GACxB,OAAO,KAAOA,GAAY,KAAOA,CACnC,CAEA,SAASkB,EAAWlB,GAClB,OAAOA,GAAY,IAAMA,GAAY,EACvC,CAEA,SAASgC,EAAWhC,GAClB,OAAQA,GAAY,IAAMA,GAAY,IAAQA,GAAY,IAAMA,GAAY,KAASA,GAAY,IAAMA,GAAY,EACrH,CAcA,SAASG,EAAiBH,GACxB,OAAKA,GAAY,IAAMA,GAAY,IAAQA,GAAY,IAAMA,GAAY,KAAQ,KAAOA,GAAaA,GAAY,IAAMA,GAAY,OAE/HjG,EAASkG,qBAAuBD,GAAY,IAGlD,CAoCA,SAAS8D,EAAcnrB,GACrB,GAzuCQ,IAyuCIA,EAAM1wC,KAAM,OAAO,EAC/B,GA1uCwC,IA0uCxB0wC,EAAM1wC,KAAM,OAAO,EACnC,OAAQ0wC,EAAMl3C,OACZ,IAAK,OAAQ,IAAK,SAClB,IAAK,MAAO,IAAK,QACf,OAAO,EACT,QACE,OAAO,EAEb,CAcA,SAASsiE,IACP,IAAIp5D,EAAQy0D,EAAOC,KAAc1vD,QACjCyvD,EAAOpjE,KAAK2O,GACRtW,EAAQ+lE,eAAe/lE,EAAQ+lE,eACrC,CAGA,SAAS4J,IACK5E,EAAO/pE,QACjBgqE,EACEhrE,EAAQgmE,gBAAgBhmE,EAAQgmE,gBACtC,CAGA,SAAS4J,GAAoB38D,GACvBjT,EAAQimE,oBAAoBjmE,EAAQimE,mBAAmBhzD,IACtD,IAAMrE,EAAQm8D,EAAOC,GAAa/3D,IACvC83D,EAAOC,GAAYrjE,KAAKsL,EAC1B,CAGA,SAAS48D,GAAgBr5D,GACvBo5D,GAAoBp5D,EAAKvD,MACzB68D,GAAYt5D,GAAM,EACpB,CAIA,SAASs5D,GAAYt5D,EAAMyB,GACpBA,IAAY,IA/8BnB,SAAuB80B,EAAOp2B,EAAUg0D,GACtC,IAAK,IAAIruE,EAAI,EAAGH,EAAS4wC,EAAM5wC,OAAQG,EAAIH,IAAUG,EACnD,GAAIywC,EAAMzwC,GAAW,OAAMquE,EAAS,OAAOruE,EAE7C,OAAQ,CACV,CA08ByByzE,CAAc9E,EAAS,EAAQz0D,EAAKvD,OACzDg4D,EAAQtjE,KAAK6O,GAEfA,EAAKyB,QAAUA,CACjB,CAGA,SAAS+3D,GAAa/8D,GACpB,OAAS,IAAMrE,EAAQm8D,EAAOC,GAAa/3D,EAC7C,CA96BIpN,OAAOqC,SACTA,EAASrC,OAAOqC,QAIlBvM,EAAQwvE,YAAcA,YAmItBxvE,EAAQ2vE,IAAMA,EA+yBd,IACId,GADAhsB,GAAY,GAGhB,SAASyxB,KACP,OAAO,IAAIC,GAAO5rB,EACpB,CAEA,SAAS4rB,GAAO5rB,GACVtkD,EAAQw+C,YACVthD,KAAK8jD,IAAM,CACPnlD,MAAO,CACLQ,KAAMioD,EAAMjoD,KACZwqD,OAAQvC,EAAM3N,MAAM,GAAK2N,EAAMwmB,WAEjCxyD,IAAK,CACHjc,KAAM,EACNwqD,OAAQ,KAIZ7mD,EAAQ6lE,SAAQ3oE,KAAKy5C,MAAQ,CAAC2N,EAAM3N,MAAM,GAAI,GACpD,CAqCA,SAASw5B,KACH3F,IAAgBhsB,GAAU72C,KAAKsoE,KACrC,CAGA,SAASG,GAAaC,GAChB7F,IAAgBhsB,GAAU72C,KAAK0oE,EACrC,CAMA,SAASC,KACPpzE,KAAK6tE,OAAS,GACd7tE,KAAKqzE,aAAe,EACtB,CAyGA,SAASC,KACPtzE,KAAK6vD,MAAQ,EACb7vD,KAAKuzE,WAAa,EACpB,CA+BA,SAASC,KACP,OAAOhL,EAASqG,OAAS,IAAIuE,GAAoB,IAAIE,EACvD,CA8BA,SAASG,GAAWC,GAIlB,IAHA,IACIj3D,EADAk3D,EAAQ,IAGJpB,EAAcnrB,IAAQ,CAG5B,GAAI,WAAaA,EAAMl3C,QAAWs4D,EAASoL,cAAgB,UAAYxsB,EAAMl3C,MAAQ,CACnFyjE,EAAMlpE,KAAKopE,GAAeH,IAC1B,KACF,CACAj3D,EAAYo3D,GAAeH,GAC3BrB,EAAQ,KAGJ51D,GAAWk3D,EAAMlpE,KAAKgS,EAC5B,CAGA,OAAOk3D,CACT,CAQA,SAASE,GAAeH,GAGtB,GAFAT,KAEIrJ,IAAexiB,EAAM1wC,MACnB27D,EAAQ,MAAO,OAiDvB,SAA6BqB,GAC3B,IAAII,EAAY1sB,EACZttC,EAAQi6D,KAUZ,OARIjxE,EAAQsW,QACVs5D,GAAoB,KAAOoB,EAAU5jE,MAAQ,MAC7C0iE,GAAY94D,GAAO,IAGrBw4D,EAAO,MAEPoB,EAAYM,SAASF,EAAU5jE,MAAO4jE,GAC/BzG,EAAW5vD,EAAI+tD,eAAe1xD,GACvC,CA9D8Bm6D,CAAoBP,GAIhD,IAAIlL,EAAS0L,iBACP7B,EAAQ,KADd,CASA,GAFAqB,EAAYS,sBA/kD4B,IAilDxB/sB,EAAM1wC,KACpB,OAAQ0wC,EAAMl3C,OACZ,IAAK,QAAoB,OAAR4S,IAiQvB,SAA6B4wD,GAC3B,IAAI39D,EACAq+D,EAAY1G,EAEhB,GAx1DwD,IAw1DrCtmB,EAAM1wC,KAAM,CAC7B,IAAIgC,EAAY,GACZhZ,EAAO,GAEX,GACEqW,EAAOg+D,KAEPr7D,EAAUjO,KAAKsL,GACf29D,EAAYW,SAASt+D,EAAKA,KAAMq+D,SACzB/B,EAAQ,MAEjB,GAAIA,EAAQ,KACV,EAAG,CACD,IAAIn4D,EAAao6D,GAAwBZ,GACzCh0E,EAAK+K,KAAKyP,EACZ,OAASm4D,EAAQ,MAMnB,GAAIvvE,EAAQsW,MACV,IAAK,IAAIha,EAAI,EAAGkT,EAAIoG,EAAUzZ,OAAQG,EAAIkT,IAAKlT,EAC7CuzE,GAAgBj6D,EAAUtZ,IAI9B,OAAOiuE,EAAW5vD,EAAI0uD,eAAezzD,EAAWhZ,GAClD,CACA,GAAI2yE,EAAQ,YAUV,OATAt8D,EAAOg+D,KACPL,EAAYW,SAASt+D,EAAKA,KAAMq+D,GAE5BtxE,EAAQsW,QACVu5D,GAAgB58D,GAChBy8D,KAIK+B,GAAyBx+D,GAAM,GAEtCo4D,EAAqB,SAAU/mB,EAEnC,CAhTsCotB,CAAoBd,GACpD,IAAK,KAAoB,OAAR5wD,IA6HvB,SAA0B4wD,GACxB,IACIv5D,EACAM,EACA04D,EAHAn5D,EAAU,GAqBd,IAdIszD,KACF6F,EAAS7xB,GAAUA,GAAUriD,OAAS,GACtCqiD,GAAU72C,KAAK0oE,IAEjBh5D,EAAYm6D,GAAwBZ,GACpCpB,EAAO,QACHxvE,EAAQsW,OAAOo5D,IACnBkB,EAAYe,YACZh6D,EAAOg5D,GAAWC,GAClBA,EAAYgB,WACR5xE,EAAQsW,OAAOq5D,IACnBz4D,EAAQvP,KAAK4iE,EAAW5vD,EAAIouD,SAAS1xD,EAAWM,KAE5C6yD,KAAgB6F,EAASJ,MACtBV,EAAQ,WACba,GAAaC,GACbh5D,EAAYm6D,GAAwBZ,GACpCpB,EAAO,QACHxvE,EAAQsW,OAAOo5D,IACnBkB,EAAYe,YACZh6D,EAAOg5D,GAAWC,GAClBA,EAAYgB,WACR5xE,EAAQsW,OAAOq5D,IACnBz4D,EAAQvP,KAAK4iE,EAAW5vD,EAAIquD,aAAa3xD,EAAWM,KAChD6yD,KAAgB6F,EAASJ,MAkB/B,OAfIV,EAAQ,UAEN/E,KACF6F,EAAS,IAAIH,GAAOtF,GACpBpsB,GAAU72C,KAAK0oE,IAEbrwE,EAAQsW,OAAOo5D,IACnBkB,EAAYe,YACZh6D,EAAOg5D,GAAWC,GAClBA,EAAYgB,WACR5xE,EAAQsW,OAAOq5D,IACnBz4D,EAAQvP,KAAK4iE,EAAW5vD,EAAIsuD,WAAWtxD,MAGzC63D,EAAO,OACAjF,EAAW5vD,EAAImuD,YAAY5xD,GACpC,CAhLsC26D,CAAiBjB,GACjD,IAAK,SAAoB,OAAR5wD,IA0GvB,SAA8B4wD,GAC5B,IAAI32D,EAAc,GAElB,GAAI,QAAUqqC,EAAMl3C,MAAO,CACzB,IAAIgK,EAAa06D,GAAgBlB,GAEjC,IADI,MAAQx5D,GAAY6C,EAAYtS,KAAKyP,GAClCm4D,EAAQ,MACbn4D,EAAao6D,GAAwBZ,GACrC32D,EAAYtS,KAAKyP,GAEnBm4D,EAAQ,IACV,CACA,OAAOhF,EAAW5vD,EAAIkuD,gBAAgB5uD,GACxC,CAvHsC83D,CAAqBnB,GACrD,IAAK,WAEH,OAFe5wD,IAERyxD,GA0cf,WACE,IAAI/6D,EAAMzD,EAAMo9D,EAUhB,IARI7F,KAAgB6F,EAASJ,MAC7Bv5D,EAAOu6D,KAEHjxE,EAAQsW,QACVw5D,GAAYp5D,EAAMs5D,GAAat5D,EAAKzD,OACpCy8D,KAGKH,EAAQ,MACba,GAAaC,GACbp9D,EAAOg+D,KACPv6D,EAAO6zD,EAAW5vD,EAAIuvD,iBAAiBxzD,EAAM,IAAKzD,IAUpD,OAPIs8D,EAAQ,OACVa,GAAaC,GACbp9D,EAAOg+D,KACPv6D,EAAO6zD,EAAW5vD,EAAIuvD,iBAAiBxzD,EAAM,IAAKzD,IAC9CjT,EAAQsW,OAAOs5D,GAAoB,SAGlCl5D,CACT,CApemBs7D,IAEb,IAAK,QAAoB,OAARhyD,IA0EvB,SAA6B4wD,GAC3B,IAAIv5D,EAAYm6D,GAAwBZ,GACxCpB,EAAO,MACHxvE,EAAQsW,OAAOo5D,IACnBkB,EAAYe,WAAU,GACtB,IAAIh6D,EAAOg5D,GAAWC,GAItB,OAHAA,EAAYgB,WACR5xE,EAAQsW,OAAOq5D,IACnBH,EAAO,OACAjF,EAAW5vD,EAAIuuD,eAAe7xD,EAAWM,GAClD,CApFsCs6D,CAAoBrB,GACpD,IAAK,MAAoB,OAAR5wD,IAmLvB,SAA2B4wD,GACzB,IACIj5D,EADAU,EAAW44D,KAYf,GAPIjxE,EAAQsW,QACVo5D,IACAG,GAAgBx3D,IAKdk3D,EAAQ,KAAM,CAEhB,IAAI1zE,EAAQ21E,GAAwBZ,GACpCpB,EAAO,KAEP,IAAIl3D,EAAMk5D,GAAwBZ,GAE9Br4D,EAAOg3D,EAAQ,KAAOiC,GAAwBZ,GAAe,KASjE,OAPApB,EAAO,MACPoB,EAAYe,WAAU,GACtBh6D,EAAOg5D,GAAWC,GAClBA,EAAYgB,WACZpC,EAAO,OACHxvE,EAAQsW,OAAOq5D,IAEZpF,EAAW5vD,EAAI8uD,oBAAoBpxD,EAAUxc,EAAOyc,EAAKC,EAAMZ,GACxE,CAKE,IADA,IAAI/B,EAAY,CAACyC,GACVk3D,EAAQ,MACbl3D,EAAW44D,KAEPjxE,EAAQsW,OAAOu5D,GAAgBx3D,GACnCzC,EAAUjO,KAAK0Q,GAEjBm3D,EAAO,MACP,IAAI72D,EAAY,GAGhB,EAAG,CACD,IAAIvB,EAAao6D,GAAwBZ,GACzCj4D,EAAUhR,KAAKyP,EACjB,OAASm4D,EAAQ,MASjB,OAPAC,EAAO,MACPoB,EAAYe,WAAU,GACtBh6D,EAAOg5D,GAAWC,GAClBA,EAAYgB,WACZpC,EAAO,OACHxvE,EAAQsW,OAAOq5D,IAEZpF,EAAW5vD,EAAI+uD,oBAAoB9zD,EAAW+C,EAAWhB,GAEpE,CA9OsCu6D,CAAkBtB,GAClD,IAAK,SAAoB,OAAR5wD,IAsFvB,SAA8B4wD,GACxB5wE,EAAQsW,OAAOo5D,IACnBkB,EAAYe,WAAU,GACtB,IAAIh6D,EAAOg5D,GAAWC,GACtBpB,EAAO,SACPoB,EAAYS,sBACZ,IAAIh6D,EAAYm6D,GAAwBZ,GAGxC,OAFAA,EAAYgB,WACR5xE,EAAQsW,OAAOq5D,IACZpF,EAAW5vD,EAAIyuD,gBAAgB/xD,EAAWM,GACnD,CAhGsCw6D,CAAqBvB,GACrD,IAAK,QAGH,OAHe5wD,IACV4wD,EAAYwB,YACf7L,EAAMjiB,EAAOnO,EAAOkyB,cAAe/jB,EAAMl3C,OAyC1Cm9D,EAAW5vD,EAAIguD,kBAvClB,IAAK,KAAoB,OAAR3oD,IAuDvB,SAA0B4wD,GACpB5wE,EAAQsW,OAAOo5D,IACnBkB,EAAYe,YACZ,IAAIh6D,EAAOg5D,GAAWC,GAItB,OAHAA,EAAYgB,WACR5xE,EAAQsW,OAAOq5D,IACnBH,EAAO,OACAjF,EAAW5vD,EAAIwuD,YAAYxxD,GACpC,CA/DsC06D,CAAiBzB,GACjD,IAAK,OAAoB,OAAR5wD,IAAesyD,GAAmB1B,GAIvD,OAAIlL,EAASsG,gBArmD2C,IAsmDpD1nB,EAAM1wC,MAAuC,SAAhB0wC,EAAMl3C,OAtmDiB,IAumDpD6xD,EAAUrrD,MAA2C,SAApBqrD,EAAU7xD,OAC7C4S,IAAesyD,GAAmB1B,KAIhCpG,IAAgBhsB,GAAUx9C,MAiShC,SAAwC4vE,GAGtC,IACIP,EAAQkC,EACRC,EAAQ97D,EAAMzD,EAEdw/D,EAAU,GAId,IAFIjI,KAAgB+H,EAActC,QAE/B,CAGD,GAFIzF,KAAgB6F,EAASJ,MAz5DyB,IA25DnC3rB,EAAM1wC,KACvBX,EAAOqxC,EAAMl3C,MACbsJ,EAAOu6D,KAEHjxE,EAAQsW,OAAOw5D,GAAYp5D,EAAMs5D,GAAa/8D,IAClDu/D,GAAS,MACJ,IAAI,MAAQluB,EAAMl3C,MAMvB,OAAOm6D,EAAWjjB,GALlBtkC,IACAtJ,EAAO86D,GAAwBZ,GAC/BpB,EAAO,KACPgD,GAAS,CAGX,CAEAE,EAAM,OAAS,CAGb,OA76DuB,IA66DGpuB,EAAM1wC,KAAO,IAAM0wC,EAAMl3C,OACnD,IAAK,IACL,IAAK,IACHolE,GAAS,EACT,MACF,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACHA,EAAS,KACT,MACF,QACE,MAAME,EAGRh8D,EAAOi8D,GAA0Bj8D,EAAM25D,EAAQO,EACjD,CAIA,GAFA6B,EAAQ9qE,KAAK+O,GAET,MAAQ4tC,EAAMl3C,MAChB,MAEF,IAAKolE,EACH,OAAOjL,EAAWjjB,GAGpBtkC,GACF,CAEA,GAAuB,IAAnByyD,EAAQt2E,QAA2B,OAAXq2E,EAE1B,OADApC,GAAaC,GACN9F,EAAW5vD,EAAI4uD,cAAckJ,EAAQ,KACvC,IAAKD,EACV,OAAOjL,EAAWjjB,GAGpBkrB,EAAO,KAEP,IAAIl9D,EAAS,GAEb,GACEA,EAAO3K,KAAK6pE,GAAwBZ,UAC7BrB,EAAQ,MAGjB,OADAa,GAAamC,GACNhI,EAAW5vD,EAAI2uD,oBAAoBmJ,EAASngE,GACrD,CA9WSsgE,CAA+BhC,GAjCtC,CAHQpG,IAAgBhsB,GAAUx9C,KAqCpC,CA6BA,SAASsxE,GAAmB1B,GAC1B,IAAI39D,EAAOqxC,EAAMl3C,MACbylE,EAAYjI,EACZ5zD,EAAQi6D,KAGZ,OADAL,EAAYkC,QAAQ7/D,EAAM4/D,GACnBtI,EAAW5vD,EAAIiuD,cAAc5xD,GACtC,CA+UA,SAASi6D,KACPd,KACA,IAAIn4D,EAAassC,EAAMl3C,MAGvB,OAv+DwD,IAq+DrCk3C,EAAM1wC,MAAMy3D,EAAqB,SAAU/mB,GAC9DtkC,IACOuqD,EAAW5vD,EAAI3C,WAAWA,GACnC,CAYA,SAASy5D,GAAyBx+D,EAAMgF,GACtC,IAAI24D,EAAcF,KAClBE,EAAYe,YAEZ,IAAI95D,EAAa,GAIjB,GAHA23D,EAAO,MAGFD,EAAQ,KAGX,OAAa,CACX,GAhgEoD,IAggEjCjrB,EAAM1wC,KAAM,CAC7B,IAAIm/D,EAAY9B,KAMhB,GAJIjxE,EAAQsW,OAAOu5D,GAAgBkD,GAEnCl7D,EAAWlQ,KAAKorE,GAEZxD,EAAQ,KAAM,QACpB,MAESvI,IAAkB1iB,EAAM1wC,MAC/Bg9D,EAAYoC,aAAc,EAC1Bn7D,EAAWlQ,KAAKsrE,GAAuBrC,KAEvCvF,EAAqB,kBAAqB/mB,GAE5CkrB,EAAO,KACP,KACF,CAGF,IAAI73D,EAAOg5D,GAAWC,GAMtB,OALAA,EAAYgB,WACZpC,EAAO,OACHxvE,EAAQsW,OAAOq5D,IAEnB13D,EAAUA,IAAW,EACdsyD,EAAW5vD,EAAI6uD,kBAAkBv2D,EAAM4E,EAAYI,EAASN,GACrE,CAuCA,SAASu7D,GAAsBtC,GAI7B,IAHA,IACI7qE,EAAKqH,EADL2L,EAAS,KAGA,CAEX,GADAo3D,KACIrJ,IAAexiB,EAAM1wC,MAAQ27D,EAAQ,KACvCxpE,EAAMyrE,GAAwBZ,GAC9BpB,EAAO,KACPA,EAAO,KACPpiE,EAAQokE,GAAwBZ,GAChC73D,EAAOpR,KAAK4iE,EAAW5vD,EAAIivD,SAAS7jE,EAAKqH,UACpC,GA/kE+C,IA+kE5Bk3C,EAAM1wC,KAC1B,MAAQqrD,EAAU7xD,OACpBrH,EAAMkrE,KACNjxD,IACA5S,EAAQokE,GAAwBZ,GAChC73D,EAAOpR,KAAK4iE,EAAW5vD,EAAIkvD,eAAe9jE,EAAKqH,OAE/CA,EAAQokE,GAAwBZ,GAChC73D,EAAOpR,KAAK4iE,EAAW5vD,EAAImvD,WAAW18D,UAEnC,CACL,GAAI,OAASA,EAAQ0kE,GAAgBlB,IAAe,CAClDpyB,GAAUx9C,MACV,KACF,CACA+X,EAAOpR,KAAK4iE,EAAW5vD,EAAImvD,WAAW18D,IACxC,CACA,KAAI,KAAKwB,QAAQ01C,EAAMl3C,QAAU,GAIjC,MAHE4S,GAIJ,CAEA,OADAwvD,EAAO,KACAjF,EAAW5vD,EAAIovD,2BAA2BhxD,GACnD,CAiBA,SAAS+4D,GAAgBlB,GAEvB,OADiBuC,GAAmB,EAAGvC,EAEzC,CAIA,SAASY,GAAwBZ,GAC/B,IAAIx5D,EAAa06D,GAAgBlB,GACjC,GAAI,MAAQx5D,EACP,OAAOA,EADYi0D,EAAqB,eAAgB/mB,EAE/D,CAWA,SAAS8uB,GAAiBl6D,GACxB,IAAIyyD,EAAWzyD,EAAS9K,WAAW,GAC/BjS,EAAS+c,EAAS/c,OAEtB,GAAI,IAAMA,EACR,OAAQwvE,GACN,KAAK,GAAI,OAAO,GAChB,KAAK,GAAI,KAAK,GAAI,KAAK,GAAI,OAAO,GAClC,KAAK,GAAI,KAAK,GAAI,OAAO,EACzB,KAAK,GAAI,OAAO,EAChB,KAAK,IAAK,OAAO,EACjB,KAAK,IAAK,OAAO,EACjB,KAAK,GAAI,KAAK,GAAI,OAAO,OAEtB,GAAI,IAAMxvE,EACf,OAAQwvE,GACN,KAAK,GAAI,OAAO,GAChB,KAAK,GAAI,OAAO,EAChB,KAAK,GAAI,KAAK,GACV,MAAG,OAASzyD,GAAY,OAASA,EAAiB,EAC3C,EACX,KAAK,GAAI,KAAK,IAAK,OAAO,EAC1B,KAAK,IAAK,OAAO,OAEd,GAAI,KAAOyyD,GAAY,QAAUzyD,EAAU,OAAO,EACzD,OAAO,CACT,CAWA,SAASi6D,GAAmBE,EAAezC,GACzC,IAEIx5D,EAAYi5D,EAwBZiD,EA1BAp6D,EAAWorC,EAAMl3C,MAOrB,GAHIo9D,KAAgB6F,EAASJ,MAz9B/B,SAAiB3rB,GACf,OAAIwiB,IAAexiB,EAAM1wC,KAAa,MAAMhF,QAAQ01C,EAAMl3C,QAAU,EAjuC5B,IAkuCxBk3C,EAAM1wC,MAAa,QAAU0wC,EAAMl3C,KAErD,CAw9BMmmE,CAAQjvB,GAAQ,CAClB6rB,KACAnwD,IACA,IAAI7G,EAAWg6D,GAAmB,GAAIvC,GACtB,MAAZz3D,GAAkBkyD,EAAqB,eAAgB/mB,GAC3DltC,EAAamzD,EAAW5vD,EAAIsvD,gBAAgB/wD,EAAUC,GACxD,CAWA,GAVI,MAAQ/B,GAKN,OAHJA,EAAa67D,GAAuBrC,MAIlCx5D,EAsEN,SAA+Bw5D,GAC7B,IAAIl6D,EAAMzD,EAAMo9D,EAKhB,GAHI7F,KAAgB6F,EAASJ,MAlxE2B,IAqxErC3rB,EAAM1wC,KACvBX,EAAOqxC,EAAMl3C,MACbsJ,EAAOu6D,KAEHjxE,EAAQsW,OAAOw5D,GAAYp5D,EAAMs5D,GAAa/8D,QAC7C,KAAIs8D,EAAQ,KAIjB,OAAO,KAHP74D,EAAO86D,GAAwBZ,GAC/BpB,EAAO,IAGT,CAGA,OAAS,CACP,IAAIgE,EAAUb,GAA0Bj8D,EAAM25D,EAAQO,GACtD,GAAgB,OAAZ4C,EACF,MACF98D,EAAO88D,CACT,CAEA,OAAO98D,CACT,CAjGmB+8D,CAAsB7C,IAInC,MAAQx5D,EAAY,OAAO,KAG/B,KACE8B,EAAWorC,EAAMl3C,QAKE,KAHnBkmE,EAAcxM,IAAexiB,EAAM1wC,MAntEG,IAmtEiB0wC,EAAM1wC,KAC3Dw/D,GAAiBl6D,GAAY,IAEPo6D,GAAcD,IAN3B,CAQP,MAAQn6D,GAAY,OAASA,KAAYo6D,EAC7CtzD,IACA,IAAI3G,EAAQ85D,GAAmBG,EAAY1C,GACvC,MAAQv3D,GAAOgyD,EAAqB,eAAgB/mB,GAEpDkmB,IAAgBhsB,GAAU72C,KAAK0oE,GACnCj5D,EAAamzD,EAAW5vD,EAAIqvD,iBAAiB9wD,EAAU9B,EAAYiC,GAErE,CACA,OAAOjC,CACT,CAQA,SAASu7D,GAA0Bj8D,EAAM25D,EAAQO,GAC/C,IAAIx5D,EAAYY,EAEhB,GAAI8uD,IAAexiB,EAAM1wC,KACvB,OAAQ0wC,EAAMl3C,OACZ,IAAK,IAKH,OAJAgjE,GAAaC,GACbrwD,IACA5I,EAAao6D,GAAwBZ,GACrCpB,EAAO,KACAjF,EAAW5vD,EAAIwvD,gBAAgBzzD,EAAMU,IAC9C,IAAK,IAIH,OAHAg5D,GAAaC,GACbrwD,IACAhI,EAAai5D,KACN1G,EAAW5vD,EAAIuvD,iBAAiBxzD,EAAM,IAAKsB,IACpD,IAAK,IAQH,OAPAo4D,GAAaC,GACbrwD,IACAhI,EAAai5D,KACbv6D,EAAO6zD,EAAW5vD,EAAIuvD,iBAAiBxzD,EAAM,IAAKsB,IAGlDo4D,GAAaC,GACNqD,GAAoBh9D,EAAMk6D,GACnC,IAAK,IAAK,IAAK,IAEb,OADAR,GAAaC,GACNqD,GAAoBh9D,EAAMk6D,QAEhC,GAvwEoB,IAuwEEtsB,EAAM1wC,KAEjC,OADAw8D,GAAaC,GACNqD,GAAoBh9D,EAAMk6D,GAGnC,OAAO,IACT,CAiCA,SAAS8C,GAAoBh9D,EAAMk6D,GACjC,GAAI9J,IAAexiB,EAAM1wC,KACvB,OAAQ0wC,EAAMl3C,OACZ,IAAK,IACEs4D,EAAS0L,gBACR9sB,EAAMjoD,OAASuuE,EAAcvuE,MAC/BkqE,EAAM,KAAMpwB,EAAOiyB,gBAAiB9jB,EAAMl3C,OAE9C4S,IAGA,IAAI/F,EAAc,GACd7C,EAAa06D,GAAgBlB,GAEjC,IADI,MAAQx5D,GAAY6C,EAAYtS,KAAKyP,GAClCm4D,EAAQ,MACbn4D,EAAao6D,GAAwBZ,GACrC32D,EAAYtS,KAAKyP,GAInB,OADAo4D,EAAO,KACAjF,EAAW5vD,EAAIyvD,eAAe1zD,EAAMuD,IAE7C,IAAK,IACHk2D,KACAnwD,IACA,IAAI9S,EAAQgmE,GAAsBtC,GAClC,OAAOrG,EAAW5vD,EAAI0vD,oBAAoB3zD,EAAMxJ,SAE/C,GA10EoB,IA00EEo3C,EAAM1wC,KACjC,OAAO22D,EAAW5vD,EAAI2vD,qBAAqB5zD,EAAMu8D,GAAuBrC,KAG1EvF,EAAqB,qBAAsB/mB,EAC7C,CAKA,SAAS2uB,GAAuBrC,GAC9B,IAGIP,EAFAjjE,EAAQk3C,EAAMl3C,MACdwG,EAAO0wC,EAAM1wC,KASjB,GANI42D,KAAgB6F,EAASJ,MAEzBr8D,IAASozD,GAAkB4J,EAAYoC,aACzCzM,EAAMjiB,EAAOnO,EAAOsyB,gBAAiBnkB,EAAMl3C,OAR9B85D,IAWXtzD,EAAiB,CACnBw8D,GAAaC,GACb,IAAIvjB,EAAM5jC,EAAM5N,MAAMgpC,EAAM3N,MAAM,GAAI2N,EAAM3N,MAAM,IAElD,OADA32B,IACOuqD,EAAW5vD,EAAIgvD,QAAQ/1D,EAAMxG,EAAO0/C,GAC7C,CAAO,OAr2EiC,IAq2EjBl5C,GAAQ,aAAexG,GAC5CgjE,GAAaC,GACbrwD,IACIhgB,EAAQsW,OAAOo5D,IACZ+B,GAAyB,OACvBlC,EAAQ,MACjBa,GAAaC,GACN6C,GAAsBtC,SAFxB,CAIT,CAtiCAV,GAAOjgE,UAAUw6D,SAAW,WACtBzqE,EAAQw+C,YACVthD,KAAK8jD,IAAI1oC,IAAIjc,KAAOuuE,EAAc6B,UAAY7B,EAAcvuE,KAC5Da,KAAK8jD,IAAI1oC,IAAIuuC,OAAS+jB,EAAcj0B,MAAM,IAAMi0B,EAAc8B,eAAiB9B,EAAcE,YAE3F9qE,EAAQ6lE,SACV3oE,KAAKy5C,MAAM,GAAKi0B,EAAcj0B,MAAM,GAExC,EAEAu5B,GAAOjgE,UAAUy6D,MAAQ,SAAUl0D,GACjC,GAAItZ,KAAK8jD,IAAK,CACZ,IAAIA,EAAM9jD,KAAK8jD,IACfxqC,EAAKwqC,IAAM,CACTnlD,MAAO,CACLQ,KAAM2kD,EAAInlD,MAAMQ,KAChBwqD,OAAQ7F,EAAInlD,MAAMgrD,QAEpBvuC,IAAK,CACHjc,KAAM2kD,EAAI1oC,IAAIjc,KACdwqD,OAAQ7F,EAAI1oC,IAAIuuC,QAGtB,CACI3pD,KAAKy5C,QACPngC,EAAKmgC,MAAQ,CACXz5C,KAAKy5C,MAAM,GACXz5C,KAAKy5C,MAAM,IAGjB,EAqBA25B,GAAgBrgE,UAAUmiE,SAAW,WAEnC,IADA,IAAI91E,EAAIY,KAAK6tE,OAAO5uE,OACbG,KAAM,GACX,GAAIY,KAAK6tE,OAAOzuE,GAAGq3E,OACjB,OAAO,EAEX,OAAO,CACT,EAEArD,GAAgBrgE,UAAU0hE,UAAY,SAAUgC,GAC9C,IAAIr9D,EAAQ,CACVy1D,OAAQ,CAAC,EACTrwD,OAAQ,GACRk4D,cAAe,GACfD,SAAUA,GAEZz2E,KAAK6tE,OAAOpjE,KAAK2O,EACnB,EAEAg6D,GAAgBrgE,UAAU2hE,SAAW,WACnC,IAAK,IAAIt1E,EAAI,EAAGA,EAAIY,KAAKqzE,aAAap0E,SAAUG,EAAG,CACjD,IAAIu3E,EAAU32E,KAAKqzE,aAAaj0E,GAC5Bu3E,EAAQC,UAAY52E,KAAK6tE,OAAO5uE,UAC5B03E,EAAQC,UAAY,GACxBvN,EAAMsN,EAAQvvB,MAAOnO,EAAOoyB,gBAAiBsL,EAAQzoE,OAC3D,CAEAlO,KAAK6tE,OAAO/pE,KACd,EAEAsvE,GAAgBrgE,UAAU6iE,QAAU,SAAU1nE,EAAQk5C,GAGpD,IAFA,IAAIyvB,EAAc,GAETz3E,EAAI,EAAGA,EAAIY,KAAK6tE,OAAO5uE,SAAUG,EAAG,CAC3C,IAAIga,EAAQpZ,KAAK6tE,OAAOzuE,GAExB,GADAy3E,EAAYpsE,KAAK2O,EAAMoF,OAAOvf,QAC1B0J,OAAOoK,UAAUuF,eAAejO,KAAK+O,EAAMy1D,OAAQ3gE,GACrD,MACJ,CAEAlO,KAAKqzE,aAAa5oE,KAAK,CACrBmsE,SAAU52E,KAAK6tE,OAAO5uE,OACtBiP,OAAQA,EACRk5C,MAAOA,EACPyvB,YAAaA,GAEjB,EAEAzD,GAAgBrgE,UAAUihE,SAAW,SAAUj+D,EAAMqxC,GACnD,IAAIhuC,EAAQpZ,KAAK82E,eAEjB,GAAInuE,OAAOoK,UAAUuF,eAAejO,KAAK+O,EAAMy1D,OAAQ94D,GACrDszD,EAAMjiB,EAAOnO,EAAOmyB,oBAAqBr1D,EAAMqD,EAAMy1D,OAAO94D,GAAM5W,UAC7D,CAGL,IAFA,IAAI43E,EAAW,GAEN33E,EAAI,EAAGA,EAAIY,KAAKqzE,aAAap0E,SAAUG,EAAG,CACjD,IAAIu3E,EAAU32E,KAAKqzE,aAAaj0E,GAE5Bu3E,EAAQC,UAAY52E,KAAK6tE,OAAO5uE,QAAU03E,EAAQzoE,SAAW6H,EAC3D4gE,EAAQE,YAAY72E,KAAK6tE,OAAO5uE,OAAS,GAAKma,EAAMoF,OAAOvf,QAC7Dma,EAAMs9D,cAAcjsE,KAAKksE,GAK7BI,EAAStsE,KAAKksE,EAChB,CAEA32E,KAAKqzE,aAAe0D,CACtB,CAEA39D,EAAMy1D,OAAO94D,GAAQ,CACnBihE,WAAY59D,EAAMoF,OAAOvf,OACzBE,KAAMioD,EAAMjoD,KAEhB,EAEAi0E,GAAgBrgE,UAAUshE,SAAW,SAAUt+D,EAAMqxC,GACnDpnD,KAAK82E,eAAet4D,OAAO/T,KAAK,CAC9BsL,KAAMA,EACNqxC,MAAOA,GAEX,EAEAgsB,GAAgBrgE,UAAU+jE,aAAe,WACvC,OAAO92E,KAAK6tE,OAAO7tE,KAAK6tE,OAAO5uE,OAAS,EAC1C,EAEAm0E,GAAgBrgE,UAAUohE,oBAAsB,WAG9C,IAFA,IAAI/6D,EAAQpZ,KAAK82E,eACbG,EAAO79D,EAAMs9D,cACRt3E,EAAI,EAAGA,EAAI63E,EAAKh4E,SAAUG,EAAG,CACpC,IAAIu3E,EAAUM,EAAK73E,GACnBiqE,EAAMsN,EAAQvvB,MAAOnO,EAAOqyB,qBAAsBqL,EAAQzoE,OAAQkL,EAAMoF,OAAOm4D,EAAQE,YAAY72E,KAAK6tE,OAAO5uE,OAAS,IAAI8W,KAC9H,CAIF,EASAu9D,GAAgBvgE,UAAUmiE,SAAW,WACnC,QAASl1E,KAAKuzE,WAAWt0E,MAC3B,EAEAq0E,GAAgBvgE,UAAU0hE,UAAY,SAAUgC,KAC5Cz2E,KAAK6vD,MACH4mB,GACFz2E,KAAKuzE,WAAW9oE,KAAKzK,KAAK6vD,MAC9B,EAEAyjB,GAAgBvgE,UAAU2hE,SAAW,WACnC,IAAIwC,EAASl3E,KAAKuzE,WACd4D,EAASD,EAAOj4E,OAChBk4E,GACED,EAAOC,EAAS,KAAOn3E,KAAK6vD,OAC9BqnB,EAAOpzE,QAET9D,KAAK6vD,KACT,EAEAyjB,GAAgBvgE,UAAU6iE,QAC1BtC,GAAgBvgE,UAAUihE,SAE1B,WAAc,MAAM,IAAIrhE,MAAM,2BAA6B,EAE3D2gE,GAAgBvgE,UAAUshE,SAC1Bf,GAAgBvgE,UAAUohE,oBAC1B,WAAa,EAq4Bb11E,EAAQ+e,MAuCR,SAAe45D,EAAQC,GAqBrB,QApBI,IAAuBA,GAAY,iBAAoBD,IACzDC,EAAWD,EACXA,OAASliE,GAENmiE,IAAUA,EAAW,CAAC,GAE3BrrD,EAAQorD,GAAU,GAClBt0E,EAAUkI,EAAO,CAAC,EAAGy9D,EAAgB4O,GAGrCzhE,EAAQ,EACRzW,EAAO,EACPyuE,EAAY,EACZ3uE,EAAS+sB,EAAM/sB,OAEf4uE,EAAS,CAAC,IACVC,EAAa,EACbC,EAAU,GACVzsB,GAAY,IAEP34C,OAAOoK,UAAUuF,eAAejO,KAAKitE,GAAiBx0E,EAAQ6a,YACjE,MAAM,IAAIhL,MAAMlC,EAAQ,iCAAkC3N,EAAQ6a,aAOpE,GAJA6qD,EAAWx9D,EAAO,CAAC,EAAGssE,GAAgBx0E,EAAQ6a,kBACV,IAAhC7a,EAAQ4rE,sBACVlG,EAASkG,sBAAwB5rE,EAAQ4rE,sBAEtC/lE,OAAOoK,UAAUuF,eAAejO,KAAKm/D,EAAe1mE,EAAQ8a,cAC/D,MAAM,IAAIjL,MAAMlC,EAAQ,mCAAoC3N,EAAQ8a,eAMtE,OAHAA,EAAe4rD,EAAc1mE,EAAQ8a,cAEjC9a,EAAQ4a,WAAUA,EAAW,IAC5B5a,EAAQ4lE,KACNjqE,EADmB2c,IAE5B,EA3EA,IAAIk8D,GAAkB,CACpB,IAAO,CACP,EACA,IAAO,CACLzI,QAAQ,EACRqF,gBAAgB,EAChBzC,YAAY,EACZD,sBAAsB,EACtBK,eAAe,EACf+B,cAAc,GAEhB,IAAO,CACL/E,QAAQ,EACRqF,gBAAgB,EAChBzC,YAAY,EACZD,sBAAsB,EACtBK,eAAe,EACfH,gBAAgB,EAChB7B,kBAAkB,EAClBE,iBAAiB,EACjB6D,cAAc,GAEhB,OAAU,CAIR/E,QAAQ,EACRC,gBAAgB,EAChB2C,YAAY,EACZD,sBAAsB,EACtBK,eAAe,EACfH,gBAAgB,EAChBT,kBAAkB,EAClBE,iBAAiB,IA+CrB,SAASxiC,GAAMyoC,GAGb,OAFAprD,GAAShtB,OAAOo4E,GAChBn4E,EAAS+sB,EAAM/sB,OACRR,CACT,CAKA,SAAS2c,GAAIg8D,QACP,IAAuBA,GAAQzoC,GAAMyoC,GAGrCprD,GAAgC,OAAvBA,EAAMla,OAAO,EAAG,KAAaka,EAAQA,EAAMrY,QAAQ,OAAO,SAAUxU,GAC/E,OAAOA,EAAKwU,QAAQ,KAAM,IAC5B,KAEA1U,EAAS+sB,EAAM/sB,OACfquE,GAAiBxqE,EAAQw+C,WAAax+C,EAAQ6lE,OAE9C5G,EAAYqM,IAEZ,IAAIp/C,EAh+BN,WACElM,IACAmwD,KACInwE,EAAQsW,OAAOo5D,IACnB,IAAIkB,EAAcF,KAClBE,EAAYoC,aAAc,EAC1BpC,EAAYe,YACZ,IAAIh6D,EAAOg5D,GAAWC,GAMtB,OALAA,EAAYgB,WACR5xE,EAAQsW,OAAOq5D,IAxhDX,IAyhDIrrB,EAAM1wC,MAAM2zD,EAAWjjB,GAE/BkmB,KAAmB7yD,EAAKxb,SAAQyuE,EAAgBtmB,GAC7CimB,EAAW5vD,EAAIuR,MAAMvU,GAC9B,CAk9Bc88D,GAKZ,GAJIz0E,EAAQ4a,WAAUsR,EAAMtR,SAAWA,GACnC5a,EAAQsW,QAAO4V,EAAM++C,QAAUA,GAG/BzsB,GAAUriD,OAAS,EACrB,MAAM,IAAI0T,MAAM,mEAElB,OAAOqc,CACT,CAjCAvwB,EAAQkwC,MAAQA,GAShBlwC,EAAQ2c,IAAMA,EA0BhB,iCC3qFA,IAAIlJ,EAAS,EAAQ,MAErB1T,EAAOC,QAAU,SAAiBe,EAAKuiB,EAAKy1D,GAE1C,OAAOtlE,EADPslE,OAAmB,IAAPA,EAAsBA,EAAK,GAAM,IAC3Bz1D,GAAOviB,CAC3B,+BCLA,IAAIi4E,EAAuB,EAAQ,KAEnC,SAASC,IAAiB,CAC1B,SAASC,IAA0B,CACnCA,EAAuBC,kBAAoBF,EAE3Cl5E,EAAOC,QAAU,WACf,SAASo5E,EAAKC,EAAO3iB,EAAU4iB,EAAe5qE,EAAU6qE,EAAcC,GACpE,GAAIA,IAAWR,EAAf,CAIA,IAAI19C,EAAM,IAAIpnB,MACZ,mLAKF,MADAonB,EAAIhkB,KAAO,sBACLgkB,CAPN,CAQF,CAEA,SAASm+C,IACP,OAAOL,CACT,CAHAA,EAAKM,WAAaN,EAMlB,IAAIO,EAAiB,CACnBvoC,MAAOgoC,EACPQ,OAAQR,EACRzzD,KAAMyzD,EACNzU,KAAMyU,EACNj6B,OAAQi6B,EACRlxE,OAAQkxE,EACRn5E,OAAQm5E,EACRS,OAAQT,EAERU,IAAKV,EACLW,QAASN,EACTzK,QAASoK,EACTY,YAAaZ,EACba,WAAYR,EACZ5+D,KAAMu+D,EACNc,SAAUT,EACVU,MAAOV,EACPW,UAAWX,EACXY,MAAOZ,EACPa,MAAOb,EAEPc,eAAgBrB,EAChBC,kBAAmBF,GAKrB,OAFAU,EAAea,UAAYb,EAEpBA,CACT,kBC/CE55E,EAAOC,QAAU,EAAQ,KAAR,yBCNnBD,EAAOC,QAFoB,0ECAd,IAAI+Q,EAAE,mBAAoBo+B,QAAQA,OAAOsrC,IAAI75E,EAAEmQ,EAAEo+B,OAAOsrC,IAAI,iBAAiB,MAAMtuD,EAAEpb,EAAEo+B,OAAOsrC,IAAI,gBAAgB,MAAM91D,EAAE5T,EAAEo+B,OAAOsrC,IAAI,kBAAkB,MAAM/1D,EAAE3T,EAAEo+B,OAAOsrC,IAAI,qBAAqB,MAAMt9B,EAAEpsC,EAAEo+B,OAAOsrC,IAAI,kBAAkB,MAAM7vE,EAAEmG,EAAEo+B,OAAOsrC,IAAI,kBAAkB,MAAMr+C,EAAErrB,EAAEo+B,OAAOsrC,IAAI,iBAAiB,MAAM5mE,EAAE9C,EAAEo+B,OAAOsrC,IAAI,oBAAoB,MAAMjoE,EAAEzB,EAAEo+B,OAAOsrC,IAAI,yBAAyB,MAAMrhE,EAAErI,EAAEo+B,OAAOsrC,IAAI,qBAAqB,MAAMvpE,EAAEH,EAAEo+B,OAAOsrC,IAAI,kBAAkB,MAAMlR,EAAEx4D,EACpfo+B,OAAOsrC,IAAI,uBAAuB,MAAM30D,EAAE/U,EAAEo+B,OAAOsrC,IAAI,cAAc,MAAMvoE,EAAEnB,EAAEo+B,OAAOsrC,IAAI,cAAc,MAAMvjE,EAAEnG,EAAEo+B,OAAOsrC,IAAI,eAAe,MAAM9vE,EAAEoG,EAAEo+B,OAAOsrC,IAAI,qBAAqB,MAAMv3E,EAAE6N,EAAEo+B,OAAOsrC,IAAI,mBAAmB,MAAMt3E,EAAE4N,EAAEo+B,OAAOsrC,IAAI,eAAe,MAClQ,SAASx2E,EAAE6M,GAAG,GAAG,iBAAkBA,GAAG,OAAOA,EAAE,CAAC,IAAI29C,EAAE39C,EAAE4pE,SAAS,OAAOjsB,GAAG,KAAK7tD,EAAE,OAAOkQ,EAAEA,EAAEmH,MAAQ,KAAKpE,EAAE,KAAKrB,EAAE,KAAKmS,EAAE,KAAKw4B,EAAE,KAAKz4B,EAAE,KAAKxT,EAAE,OAAOJ,EAAE,QAAQ,OAAOA,EAAEA,GAAGA,EAAE4pE,UAAY,KAAKt+C,EAAE,KAAKhjB,EAAE,KAAKlH,EAAE,KAAK4T,EAAE,KAAKlb,EAAE,OAAOkG,EAAE,QAAQ,OAAO29C,GAAG,KAAKtiC,EAAE,OAAOsiC,EAAE,CAAC,CAAC,SAASriC,EAAEtb,GAAG,OAAO7M,EAAE6M,KAAK0B,CAAC,CAACxS,EAAQ26E,UAAU9mE,EAAE7T,EAAQ46E,eAAepoE,EAAExS,EAAQ66E,gBAAgBz+C,EAAEp8B,EAAQ86E,gBAAgBlwE,EAAE5K,EAAQ+6E,QAAQn6E,EAAEZ,EAAQgtD,WAAW5zC,EAAEpZ,EAAQg7E,SAASr2D,EAAE3kB,EAAQi7E,KAAK/oE,EAAElS,EAAQktD,KAAKpnC,EAAE9lB,EAAQk7E,OAAO/uD,EAChfnsB,EAAQm7E,SAASh+B,EAAEn9C,EAAQo7E,WAAW12D,EAAE1kB,EAAQq7E,SAASnqE,EAAElR,EAAQs7E,YAAY,SAASxqE,GAAG,OAAOsb,EAAEtb,IAAI7M,EAAE6M,KAAK+C,CAAC,EAAE7T,EAAQu7E,iBAAiBnvD,EAAEpsB,EAAQw7E,kBAAkB,SAAS1qE,GAAG,OAAO7M,EAAE6M,KAAKsrB,CAAC,EAAEp8B,EAAQy7E,kBAAkB,SAAS3qE,GAAG,OAAO7M,EAAE6M,KAAKlG,CAAC,EAAE5K,EAAQ07E,UAAU,SAAS5qE,GAAG,MAAM,iBAAkBA,GAAG,OAAOA,GAAGA,EAAE4pE,WAAW95E,CAAC,EAAEZ,EAAQ27E,aAAa,SAAS7qE,GAAG,OAAO7M,EAAE6M,KAAKsI,CAAC,EAAEpZ,EAAQ47E,WAAW,SAAS9qE,GAAG,OAAO7M,EAAE6M,KAAK6T,CAAC,EAAE3kB,EAAQ67E,OAAO,SAAS/qE,GAAG,OAAO7M,EAAE6M,KAAKoB,CAAC,EAC1dlS,EAAQ+sD,OAAO,SAASj8C,GAAG,OAAO7M,EAAE6M,KAAKgV,CAAC,EAAE9lB,EAAQ87E,SAAS,SAAShrE,GAAG,OAAO7M,EAAE6M,KAAKqb,CAAC,EAAEnsB,EAAQ+7E,WAAW,SAASjrE,GAAG,OAAO7M,EAAE6M,KAAKqsC,CAAC,EAAEn9C,EAAQg8E,aAAa,SAASlrE,GAAG,OAAO7M,EAAE6M,KAAK4T,CAAC,EAAE1kB,EAAQi8E,WAAW,SAASnrE,GAAG,OAAO7M,EAAE6M,KAAKI,CAAC,EAC1OlR,EAAQk8E,mBAAmB,SAASprE,GAAG,MAAM,iBAAkBA,GAAG,mBAAoBA,GAAGA,IAAI6T,GAAG7T,IAAI0B,GAAG1B,IAAIqsC,GAAGrsC,IAAI4T,GAAG5T,IAAII,GAAGJ,IAAIy4D,GAAG,iBAAkBz4D,GAAG,OAAOA,IAAIA,EAAE4pE,WAAWxoE,GAAGpB,EAAE4pE,WAAW50D,GAAGhV,EAAE4pE,WAAW9vE,GAAGkG,EAAE4pE,WAAWt+C,GAAGtrB,EAAE4pE,WAAWthE,GAAGtI,EAAE4pE,WAAW/vE,GAAGmG,EAAE4pE,WAAWx3E,GAAG4N,EAAE4pE,WAAWv3E,GAAG2N,EAAE4pE,WAAWxjE,EAAE,EAAElX,EAAQm8E,OAAOl4E,+BCXjUlE,EAAOC,QAAU,EAAjB,sECCF,MAYA,EAZc,CACVo8E,iBAAkB,KAClBC,iBAAiB,EACjBC,YAA+B,oBAAX/0E,OACpBg1E,UAAW,IAAIz9D,IACf09D,gBAAiB,GACjBC,eAAgB,IAAI/0B,QACpBg1B,cAAc,EACdC,gBAAgB,EAChBC,MAAO,CAAC,GCPNxtD,EAAO+f,OAAO,QACd0tC,EAAW1tC,OAAO,YAClB2tC,EAEQ,WCNRhoD,EAAYC,KAAWA,GAAwB,iBAATA,GAAqBA,EAAK1e,cAAgBnM,OAChF2M,EAAWke,GAAS9iB,MAAM4E,QAAQke,GAClCgoD,EAAShoD,GAASA,aAAgBjW,IAClCk+D,EAASjoD,GAASA,aAAgBkoD,IAElCC,EAAYnoD,GAASD,EAASC,IAASle,EAAQke,IAASgoD,EAAMhoD,IAASioD,EAAMjoD,GAE7EooD,EAAcn3B,GAASA,IAAS52B,GACzB,gBAAT42B,GACS,WAATA,GAES,kBAATA,GACAA,IAAS7W,OAAOiuC,YACdC,EAActoD,GAAyB,mBAATA,EAa9B2+B,EAASjkD,GACPqlB,EAASrlB,GACFvF,OAAOqC,OAAO,CAAC,EAAGkD,GAEzBoH,EAAQpH,GACDA,EAAOkQ,QAEdo9D,EAAMttE,GACC,IAAIqP,IAAIrP,GAEfutE,EAAMvtE,GACC,IAAIwtE,IAAIxtE,GACZA,EAML6tE,EAAW,CAAC7tE,EAAQu2C,IAClB+2B,EAAMttE,GACCA,EAAOsH,IAAIivC,GAClBg3B,EAAMvtE,GACCu2C,GACPnvC,EAAQpH,GACDA,EAAOu2C,IAGhBu3B,EAAW,CAACC,EAAex3B,EAAMv0C,KACnC,GAAIqjB,EAAS0oD,GACTA,EAAcx3B,GAAQv0C,OAErB,GAAIoF,EAAQ2mE,GAEbA,EAAcx3B,GAAQv0C,OAErB,GAAIsrE,EAAMS,GAEXA,EAAcp6E,IAAI4iD,EAAMv0C,OAEvB,KAAIurE,EAAMQ,GAKX,MAAMtpE,MAAM,mBAHZspE,EAAcnxE,IAAIoF,EAItB,GAEEgsE,EAAW1oD,IACb,GAAID,EAASC,GACT,OAAO7qB,OAAOC,KAAK4qB,GAAMv0B,OAE7B,GAAIqW,EAAQke,GACR,OAAOA,EAAKv0B,OAEhB,GAAIu8E,EAAMhoD,IAASioD,EAAMjoD,GACrB,OAAOA,EAAKsI,KAChB,MAAMnpB,MAAM,kBAAkB,EAoC5BwpE,EAAa,CAACF,EAAeG,KAC/B,MAAM1uD,EAAO,GACP2uD,EAAgBnuE,IAClB,MAAMouE,EAAUF,EAAQluE,EAAQwf,EAAKtP,SAE/B0E,OAA0B,IAAZw5D,EAA0BA,EAAUpuE,EAClDquE,EAAc,CAAC93B,EAAMv0C,KACvBwd,EAAKjjB,KAAKg6C,GACV,MAAM+3B,EAAYH,EAAansE,GAC/Bwd,EAAK5pB,MACLk4E,EAASl5D,EAAM2hC,EAAM+3B,EAAU,EAEnC,GAAIjpD,EAASzQ,GACTna,OAAOsH,QAAQ6S,GAAMzE,SAAQ,EAAEomC,EAAMv0C,MACjCqsE,EAAY93B,EAAMv0C,EAAM,SAG3B,GAAIoF,EAAQwN,IAAS04D,EAAM14D,GAC5BA,EAAKzE,SAAQ,CAACnO,EAAOu0C,KACjB83B,EAAY93B,EAAMv0C,EAAM,SAG3B,GAAIurE,EAAM34D,GAAO,CAGlB,MAAM25D,EAAc/rE,MAAM1P,KAAK8hB,GAC/BA,EAAK45D,QACLD,EAAYp+D,SAASnO,IACjBqsE,EAAYrsE,EAAOA,EAAM,GAEjC,CACA,OAAO4S,CAAI,EAEf,OAAOu5D,EAAaJ,EAAc,EAQhCU,EAAcC,IAChB,gBAAuB,EACvB,MAAM11E,EAAS01E,IAEf,OADA,gBAAuB,EAChB11E,CAAM,ECnKX3H,EAAO,CAACsE,EAAKg5E,IAAWh5E,EAAI3E,KAAKs0B,GAASA,EAAKhhB,aAAYjT,KAAKs9E,GAIhEC,EAAkBC,GAAax9E,EAAKw9E,EAAU,KAC9CC,EAAsBD,GAAax9E,EAAKw9E,EFJxB,OEShB9jE,EAAS,CAAC/K,EAAQu2C,KACpB,MAAMw4B,EAAW/uE,EAAO2f,IAAS,GACjC,YAAoB,IAAT42B,EACAw4B,EACJA,EAASz3D,OAAOi/B,EAAK,EAK1By4B,EAAqB,CAAChvE,EAAQu2C,IAASq4B,EAAe7jE,EAAO/K,EAAQu2C,IACrE04B,EAAU,CAACjvE,EAAQ6uE,KAChB7uE,GAELvF,OAAOqqC,eAAe9kC,EAAQ2f,EAAM,CAChC3d,MAAO6sE,EACP1jC,UAAU,GACZ,EAEA7jC,EAAOtH,GAAWA,EAAO2f,IAAS,GChClCuvD,EAAoC,oBAAXp3E,UAA4BA,OAAOq3E,aAC5Dx7E,EAAM,CAACgH,EAAKkC,KACd,GAAKqyE,EAEL,IACI,MAAM1+E,EAAyB,iBAATqM,EAAoBA,EAAOwF,KAAKC,UAAUzF,GAChE,OAAOsyE,aAAaC,QAAQz0E,EAAKnK,EACrC,CACA,MAAOq7B,GACH,MACJ,GCJEwjD,EAAW,KACXC,EAAY,MAClB,IAAIC,EDIQ,CAAC50E,IACT,IAAKu0E,EACD,OACJ,MAAMryE,EAAOsyE,aAAaK,QAAQ70E,GAClC,IAAKkC,EACD,OAAOA,EACX,IACI,OAAOwF,KAAKiN,MAAMzS,EACtB,CACA,MAAOgvB,GAGH,OAAOhvB,CACX,GCjBQ,CAAIwwE,IAAqBiC,EACjCC,IAAUF,GACV19E,QAAQw6B,KAAK,0EAEjB,MAQMjE,EAASwmD,IACPa,IAAUF,GACVX,GAAI,EAENe,EAAS,CAACzvE,EAAQu2C,EAAMv0C,KAC1BkmB,GAAM,KACFv2B,QAAQ+9E,eAAe,QAAQV,EAAmBhvE,EAAQu2C,MAC1D5kD,QAAQw6B,KAAK,eAAe,kCACP,IAAVnqB,GACPrQ,QAAQw6B,KAAK,SAAUnqB,GAE3BrQ,QAAQg+E,UAAU,GACpB,EAEAC,EAAS,CAAC5vE,EAAQu2C,EAAMv0C,KAC1BkmB,GAAM,KACFv2B,QAAQ+9E,eAAe,QAAQV,EAAmBhvE,EAAQu2C,MAC1D5kD,QAAQw6B,KAAK,QAAS0hD,EAAS7tE,EAAQu2C,IACvC5kD,QAAQw6B,KAAK,QAASnqB,GACtBrQ,QAAQg+E,UAAU,GACpB,ECtCAE,EAAc,CAAC,EAIfC,EAA6BjzE,GACxBgzE,EAAmD,gBAAEhzE,GCI1DkzE,EAAelB,IACjB,IAAK,mBACD,OAEJ,MAAMmB,EAAalB,EAAmBD,GAChCoB,EAAa,gBAAsBD,IAAe,IAAIxC,IAC5DyC,EAAWrzE,IAAI,oBACf,gBAAsBozE,EAAYC,EAAW,EA0P3CC,EAAiBlwE,IACnB,OAAO,IAAImwE,MAAMnwE,EA/ObstE,EADqB8C,EAgPoBpwE,IA/OlButE,EAAM6C,GAGtB,CACH,GAAA9oE,CAAItH,EAAQu2C,GACR,GAAIA,IAAS62B,EACT,OAAOptE,EACX,IAAIhH,EAASq3E,QAAQ/oE,IAAItH,EAAQu2C,GAMjC,GAJIq3B,EAAW50E,KACXA,EAASA,EAAO7E,KAAK6L,IAGrB,gBAAwB0tE,EAAWn3B,GACnC,OAAOv9C,EAEX,IAAK,oBAA4B,iBAAwB,CACrD,MAAMs3E,EAAc,qBAA2BtwE,GAC/C,GAAIswE,EACA,OAAOD,QAAQ/oE,IAAIgpE,EAAa/5B,EACxC,CAEA,MAAa,QAATA,EAqBO,IAAI45B,MAAMn3E,EApBD,CACZmhC,MAAK,CAAC+6B,EAAMqb,GAAc51E,EAAKqH,KACvBuuE,EAAYjpE,IAAI3M,KAASqH,GAEtB8tE,EAA0B,CAC7B9vE,OAAQuwE,EACRh6B,KAAM57C,EACNqH,QACAksE,QAAS,CAACsC,EAAaC,KACnBb,EAAO5vE,EAAQu2C,EAAMk6B,GAGdJ,QAAQl2C,MAAMq2C,EAAYj6B,GAAOi6B,EAAa,CACjD71E,EACA81E,SASX,QAATl6B,EAkBO,IAAI45B,MAAMn3E,EAjBD,CACZmhC,MAAK,CAAC+6B,EAAMqb,GAAcvuE,OAClBuuE,EAAYG,IAAI1uE,IAEb8tE,EAA0B,CAC7B9vE,OAAQuwE,EACRI,cAAc,EACd3uE,QACAksE,QAAS,CAACsC,EAAaC,KACnBb,EAAO5vE,EAAQu2C,EAAMk6B,GACdJ,QAAQl2C,MAAMq2C,EAAYj6B,GAAOi6B,EAAa,CACjDC,SASX,UAATl6B,GAAyC,WAATA,EAiBzB,IAAI45B,MAAMn3E,EAhBD,CACZmhC,MAAK,CAAC+6B,EAAMqb,GAAc51E,QACjB41E,EAAY3iD,MACH,WAAT2oB,IAAmCg6B,EAAYG,IAAI/1E,KAGjDm1E,EAA0B,CAC7B9vE,OAAQuwE,EACRI,cAAc,EACdzC,QAAUsC,IACNZ,EAAO5vE,EAAQu2C,GACR85B,QAAQl2C,MAAMq2C,EAAYj6B,GAAOi6B,EAAa,CAAC71E,SASrE,oBAKD2yE,EAAMttE,IAAoB,QAATu2C,EAOV,IAAI45B,MAAMn3E,EAND,CACZmhC,MAAK,CAAC+6B,EAAMqb,EAAa/zE,KACrBuzE,EAAYhlE,EAAO/K,EAAQxD,EAAK,KACzB6zE,QAAQl2C,MAAM+6B,EAAMqb,EAAa/zE,MARzCxD,CAef,GAGD,CACH,GAAAsO,CAAItH,EAAQu2C,GAER,GAAIA,IAAS62B,EACT,OAAOptE,EACX,MAAMhH,EAASq3E,QAAQ/oE,IAAItH,EAAQu2C,GACnC,GAAI,gBAAwBm3B,EAAWn3B,GACnC,OAAOv9C,EAGX,GLjIY,EAACgH,EAAQu2C,IAASnvC,EAAQpH,IAC9C,CACI,aACA,OACA,MACA,OACA,UACA,QACA,OACA,SACA,WACFpF,SAAS27C,GKsHCq6B,CAAgB5wE,EAAQu2C,GAyBxB,OAAO,IAAI45B,MAAMn3E,EAxBD,CACZmhC,MAAK,CAAC+6B,EAAMqb,EAAa/zE,IACdszE,EAA0B,CAC7B9vE,OAAQuwE,EACRI,cAAc,EACd3uE,MAAOxF,EACP0xE,QAAS,CAACsC,EAAaK,KACnBjB,EAAO5vE,EAAQu2C,EAAMs6B,GACrB,MAAMC,EAAeT,QAAQl2C,MAE7Bq2C,EAAYj6B,GAAOi6B,EAAaK,GAC1BE,EAAWzpE,EAAItH,GAQrB,OALAiuE,EAAWuC,GAAa,CAAClrD,EAAM9F,KACvBiuD,EAASnoD,IACT2pD,EAAQ3pD,EAAM,IAAIyrD,KAAavxD,GACnC,IAEGsxD,CAAY,MASvC,GAAIlD,EAAW5tE,EAAOu2C,IAClB,OAAOv9C,EACX,GAAI,mBAIMoO,EAAQpH,IAAoB,WAATu2C,IACrBk5B,EAAOzvE,EAAQu2C,EAAMv9C,GACrB+2E,EAAYhlE,EAAO/K,EAAQu2C,UAG9B,GAAI,iBAAwB,CAM7B,MAAM+5B,EAAc,qBAA2BtwE,GAC/C,GAAIswE,EACA,OAAOD,QAAQ/oE,IAAIgpE,EAAa/5B,EACxC,CACA,OAAOv9C,CACX,EACA,GAAA03E,CAAI1wE,EAAQu2C,GACR,MAAMv9C,EAASq3E,QAAQK,IAAI1wE,EAAQu2C,GACnC,GAAI,gBAAwBm3B,EAAWn3B,GACnC,OAAOv9C,EACX,GAAI,mBAGKoO,EAAQpH,KACTyvE,EAAOzvE,EAAQu2C,GACfw5B,EAAYhlE,EAAO/K,EAAQu2C,SAG9B,CACD,MAAM+5B,EAAc,qBAA2BtwE,GAC/C,GAAIswE,EACA,OAAOD,QAAQK,IAAIJ,EAAa/5B,EACxC,CACA,OAAOv9C,CACX,EACA,OAAAg4E,CAAQhxE,GACJ,MAAMhH,EAASq3E,QAAQW,QAAQhxE,GAC/B,GAAI,eACA,OAAOhH,EACX,GAAI,mBACAy2E,EAAOzvE,GACP+vE,EAAYzoE,EAAItH,QAEf,CACD,MAAMswE,EAAc,qBAA2BtwE,GAC/C,GAAIswE,EACA,OAAOD,QAAQW,QAAQV,EAC/B,CACA,OAAOt3E,CACX,EACArF,IAAG,CAACqM,EAAQu2C,EAAMv0C,IACV,eACOquE,QAAQ18E,IAAIqM,EAAQu2C,EAAMv0C,GAGjChC,EAAOu2C,KAAUv0C,GAEd8tE,EAA0B,CAC7B9vE,SACAu2C,OACAv0C,QACAksE,QAAS,CAACsC,EAAaS,KACnBrB,EAAO5vE,EAAQu2C,EAAM06B,GACdZ,QAAQ18E,IAAI68E,EAAaj6B,EAAM06B,MAIlDC,eAAc,CAAClxE,EAAQu2C,IACf,eACO85B,QAAQa,eAAelxE,EAAQu2C,GACnCu5B,EAA0B,CAC7B9vE,SACAu2C,OACAo6B,cAAc,EACdzC,QAAUsC,IFvNR,EAACxwE,EAAQu2C,KACvBruB,GAAM,KACFv2B,QAAQ+9E,eAAe,WAAWV,EAAmBhvE,EAAQu2C,MAC7D5kD,QAAQw6B,KAAK,aAAc6iD,EAAmBhvE,EAAQu2C,IACtD5kD,QAAQg+E,UAAU,GACpB,EEmNcwB,CAAUnxE,EAAQu2C,GACX85B,QAAQa,eAAeV,EAAaj6B,QAtOnC,IAAC65B,CAgP4B,EC7QnD,EAA+B71C,QAAQ,aCW7C,QALqB,4BACjB,CAAEm0C,IACEA,GACH,GCJChhB,EAAQ,CACVuiB,WAAY,IAAI5gE,IAChB+hE,aAAc,IAAI5D,KJJM,IAACtY,EKU7B,QAAgBgb,EAAc,CAAC,GLVFhb,EKiBT,EAAGl1D,SAAQu2C,OAAMv0C,QAAO2uE,gBAAe,EAAOzC,aAAeO,GAAW,KACxF,IAAIz1E,EAIJ,MAAMq4E,EAAa/pE,EAAItH,GAIjB6uE,EAAW9jE,EAAO/K,EAAQu2C,GAGhC,IAAI+6B,GAAoB,EACxB,MAAMC,EAAcvD,EAAQhuE,GAC5B,IAAIwxE,EAAWxvE,EA0Cf,OAxCIyrE,EAAS+D,KACTA,EAAWvD,EAAWjsE,GAAO,CAACsjB,EAAMmsD,KAChC,IAAKhE,EAASnoD,GACV,OAAOA,EACX,MAAM1Q,EAAOqvC,EAAM3+B,GAEnB,OADA2pD,EAAQr6D,EAAM,IAAIi6D,KAAa4C,IACxBvB,EAAct7D,EAAK,KAG7By8D,EAAWtgF,OAMZsgF,EAAW70D,QAAO,CAAC8I,EAAMosD,EAAUxgF,KAC/B,MAAMygF,EAAY9D,EAASvoD,EAAMosD,GAEjC,IAAIE,EAAU3tB,EAAM0tB,GAepB,OAdA1C,EAAQ2C,EAAStqE,EAAIqqE,IAErBC,EAAU1B,EAAc0B,GAExB9D,EAASxoD,EAAMosD,EAAUE,GAErB1gF,IAAMmgF,EAAWtgF,OAAS,IAC1BiI,EAASk1E,EAAQ0D,EAASJ,GAC1BF,EAAoBtD,EAAQ4D,KAAaL,EAIzC,qBAA2BvxE,EAAOotE,IAAaptE,EAAQ4xE,IAEpDA,CAAO,GACf,UAvBH54E,EAASk1E,EAAQ,QAAesD,GAChCF,EAAoBtD,EAAQ,WAAmBuD,GDTlC,CAAC1C,IAClB,MAAMmB,EAAalB,EAAmBD,GAChCgD,EAAuBjD,EAAeC,GAC5CnhB,EAAM0jB,aAAax0E,IAAIi1E,GACvB,qBAA0B,CAAC5B,EAAY6B,KAChB,KAAf9B,GACAA,IAAe8B,GACf7B,EAAW9/D,SAASktC,IAChB,MAAM00B,EAAerkB,EAAMuiB,WAAW3oE,IAAI+1C,IAAc,IAAImwB,IAC5DuE,EAAan1E,IAAIi1E,GACjBnkB,EAAMuiB,WAAWt8E,IAAI0pD,EAAW00B,EAAa,GAErD,IAIC,oBAtCL,GAAiB,KACbrkB,EAAMuiB,WAAW9/D,SAAQ,CAAC4hE,EAAc10B,KL+B9B,EAACA,EAAW00B,KAC1B7pD,GAAM,KACFv2B,QAAQ+9E,eAAe,aAAaryB,EAAU20B,UAC9CrgF,QAAQw6B,KAAK,sBAAuB4lD,GACpCpgF,QAAQg+E,UAAU,GACpB,EKnCMsC,CAAU50B,EAAW76C,MAAM1P,KAAKi/E,IAChC10B,EAAU9rB,QAAQ,GACpB,IAEN,2BAAiCm9C,GAAOA,EAAG,CACvCwD,aAAc1vE,MAAM1P,KAAK46D,EAAM0jB,cAC/Be,mBAAoB3vE,MAAM1P,KAAK46D,EAAMuiB,WAAWv1E,QAChDyyE,MAAO,YAEXzf,EAAMuiB,WAAWzB,QACjB9gB,EAAM0jB,aAAa5C,QA2BD,ECmBlB4D,CADmBzB,GAAgBW,EAAoBD,EAAaxC,GAE7D71E,CAAM,ILxEb62E,EAAmD,gBAAI3a,4CMM3D,MAAMmd,EAAiB,GAUjBC,EAAgC,KAC7B,gBAELpqD,GAAQ,KACJv2B,QAAQg+E,UAAU,IAEtB0C,EAAez8E,MACf,mBAA2By8E,EAAeA,EAAethF,OAAS,IAAM,KAAI,EAM1EwhF,EAAgB,IAAM9D,GAAW,KAEnC,MAAM+D,EAAe/3E,OAAOqC,OAAO,CAAC,EAAG,SAGvC,OADA,qBAA2B01E,EAAc,SAClCtC,EAAcsC,EAAa,IA4DtC,EA1DiBC,IACb,MAAM5I,EAAgB4I,EAAgBj2B,aAAei2B,EAAgB5qE,MAAQ,oBAC7E,MAAM6qE,UAAyB,kBAC3B,WAAA9rE,GACIC,SAASpK,WACT3K,KAAKu1B,MAAQ,CAGT8lD,MAAOoF,KAIXzgF,KAAK6gF,YAAa,EAClB7gF,KAAK8gF,aAAc,EAGnB9gF,KAAK+gF,cAAe,EACpB/gF,KAAKkgF,MAAQnI,CACjB,CACA,iBAAAiJ,GACIhhF,KAAK6gF,YAAa,EAClB7gF,KAAK8gF,aAAc,EAEnBN,IACAxgF,KAAK+gF,cAAe,CACxB,CACA,kBAAAE,GAEIT,IACAxgF,KAAK+gF,cAAe,CACxB,CACA,oBAAAG,GFb4B,IAACC,IEcGnhF,KFbpC,qBAA0B,CAACm+E,EAAY6B,KACnC,MAAMoB,EAAqB1wE,MAAM1P,KAAKm9E,GAAY13E,QAAQ46E,GAAsBA,IAAsBF,IAClGC,EAAmBniF,OACnB,gBAAsB+gF,EAAc,IAAItE,IAAI0F,IAK5C,mBAAyBpB,EAC7B,IEKIhgF,KAAK6gF,YAAa,CACtB,CACA,MAAAphD,IAKQz/B,KAAK6gF,YAAc7gF,KAAK8gF,cACxB9gF,KAAKshF,SAAS,CAAEjG,MAAOoF,KAE/B,CACA,MAAA/0B,GAzE+B,IAACH,EA0EvBvrD,KAAK+gF,eA1EkBx1B,EA2EOvrD,KA1EtC,gBAELo2B,GAAQ,KACJv2B,QAAQ+9E,eAAe,YAAYryB,EAAU20B,SAAS,IAE1D,mBAA2B30B,EAC3Bg1B,EAAe91E,KAAK,qBAqERzK,KAAK+gF,cAAe,GAExB,MAAMjJ,EAAQnvE,OAAOqC,OAAOrC,OAAOqC,OAAO,CAAC,EAAGhL,KAAK83E,OAAQ,CAAEuD,MAAOr7E,KAAKu1B,MAAM8lD,QAC/E,OAAO,kBAAsBsF,EAAiBh4E,OAAOqC,OAAO,CAAC,EAAG8sE,GACpE,EAIJ,OAFA8I,EAAiBl2B,YAAc,aAAaqtB,KAErC,IAAuB6I,EAAkBD,EAAgB,EC7FpE,IAAIY,EAKAA,UAGJ,MCFM,MAAElG,GAAU,EAGI,oBAAXr1E,SACH,UAAWA,OACXA,OAAOw7E,OAAS,CACZC,QTFI,KACZhE,EAAQF,EACR17E,EAAI05E,EAAkBgC,EAAS,ESCvBmE,STCK,KACbjE,EAAQD,EACR37E,EAAI05E,EAAkBiC,EAAU,ESFxBmE,UAAW,GAIf9hF,QAAQs9C,KAAK,+KClBnB3+C,EAAOC,QAAU,EAAjB,6BCWF,IACI8nD,EADAp4B,EAAM,GAOV3vB,EAAOC,QAoBP,SAAgBe,EAAKuiB,GACnB,GAAmB,iBAARviB,EACT,MAAM,IAAI8uC,UAAU,qBAItB,GAAY,IAARvsB,EAAW,OAAOviB,EACtB,GAAY,IAARuiB,EAAW,OAAOviB,EAAMA,EAE5B,IAAI+nB,EAAM/nB,EAAIP,OAAS8iB,EACvB,GAAIwkC,IAAU/mD,QAAwB,IAAV+mD,EAC1BA,EAAQ/mD,EACR2uB,EAAM,QACD,GAAIA,EAAIlvB,QAAUsoB,EACvB,OAAO4G,EAAIrc,OAAO,EAAGyV,GAGvB,KAAOA,EAAM4G,EAAIlvB,QAAU8iB,EAAM,GACrB,EAANA,IACFoM,GAAO3uB,GAGTuiB,IAAQ,EACRviB,GAAOA,EAKT,OADA2uB,GADAA,GAAO3uB,GACGsS,OAAO,EAAGyV,EAEtB,kBCrEA,OAEC,WACG,aAEA,IAAIq6D,EAAK,CACLC,WAAY,OACZC,SAAU,OACVC,SAAU,OACVC,cAAe,OACfpkC,OAAQ,UACRqkC,YAAa,eACbjgD,KAAM,MACNkgD,SAAU,OACVl/E,KAAM,YACNm/E,OAAQ,WACRC,YAAa,2FACbv5E,IAAK,sBACLw5E,WAAY,wBACZC,aAAc,aACd/wE,KAAM,SAGV,SAASd,EAAQ5H,GAEb,OAOJ,SAAwB05E,EAAYC,GAChC,IAAiDxwE,EAAkB5S,EAAGy7B,EAAG4nD,EAAIzxE,EAAK0xE,EAAeC,EAAYC,EAAarxE,EAAtHsxE,EAAS,EAAGC,EAAcP,EAAWtjF,OAAaixB,EAAS,GAC/D,IAAK9wB,EAAI,EAAGA,EAAI0jF,EAAa1jF,IACzB,GAA6B,iBAAlBmjF,EAAWnjF,GAClB8wB,GAAUqyD,EAAWnjF,QAEpB,GAA6B,iBAAlBmjF,EAAWnjF,GAAiB,CAExC,IADAqjF,EAAKF,EAAWnjF,IACTwJ,KAEH,IADAoJ,EAAMwwE,EAAKK,GACNhoD,EAAI,EAAGA,EAAI4nD,EAAG75E,KAAK3J,OAAQ47B,IAAK,CACjC,GAAW3lB,MAAPlD,EACA,MAAM,IAAIW,MAAMlC,EAAQ,gEAAiEgyE,EAAG75E,KAAKiyB,GAAI4nD,EAAG75E,KAAKiyB,EAAE,KAEnH7oB,EAAMA,EAAIywE,EAAG75E,KAAKiyB,GACtB,MAGA7oB,EADKywE,EAAGM,SACFP,EAAKC,EAAGM,UAGRP,EAAKK,KAOf,GAJIjB,EAAGG,SAASnhE,KAAK6hE,EAAG/rE,OAASkrE,EAAGI,cAAcphE,KAAK6hE,EAAG/rE,OAAS1E,aAAe2E,WAC9E3E,EAAMA,KAGN4vE,EAAGK,YAAYrhE,KAAK6hE,EAAG/rE,OAAyB,iBAAR1E,GAAoBO,MAAMP,GAClE,MAAM,IAAIs8B,UAAU79B,EAAQ,0CAA2CuB,IAO3E,OAJI4vE,EAAGhkC,OAAOh9B,KAAK6hE,EAAG/rE,QAClBksE,EAAc5wE,GAAO,GAGjBywE,EAAG/rE,MACP,IAAK,IACD1E,EAAML,SAASK,EAAK,IAAIQ,SAAS,GACjC,MACJ,IAAK,IACDR,EAAMhT,OAAOoT,aAAaT,SAASK,EAAK,KACxC,MACJ,IAAK,IACL,IAAK,IACDA,EAAML,SAASK,EAAK,IACpB,MACJ,IAAK,IACDA,EAAMzB,KAAKC,UAAUwB,EAAK,KAAMywE,EAAG7wE,MAAQD,SAAS8wE,EAAG7wE,OAAS,GAChE,MACJ,IAAK,IACDI,EAAMywE,EAAG/hE,UAAYhJ,WAAW1F,GAAKwB,cAAcivE,EAAG/hE,WAAahJ,WAAW1F,GAAKwB,gBACnF,MACJ,IAAK,IACDxB,EAAMywE,EAAG/hE,UAAYhJ,WAAW1F,GAAK0B,QAAQ+uE,EAAG/hE,WAAahJ,WAAW1F,GACxE,MACJ,IAAK,IACDA,EAAMywE,EAAG/hE,UAAY1hB,OAAOqT,OAAOL,EAAIgxE,YAAYP,EAAG/hE,aAAehJ,WAAW1F,GAChF,MACJ,IAAK,IACDA,GAAOL,SAASK,EAAK,MAAQ,GAAGQ,SAAS,GACzC,MACJ,IAAK,IACDR,EAAMhT,OAAOgT,GACbA,EAAOywE,EAAG/hE,UAAY1O,EAAIoB,UAAU,EAAGqvE,EAAG/hE,WAAa1O,EACvD,MACJ,IAAK,IACDA,EAAMhT,SAASgT,GACfA,EAAOywE,EAAG/hE,UAAY1O,EAAIoB,UAAU,EAAGqvE,EAAG/hE,WAAa1O,EACvD,MACJ,IAAK,IACDA,EAAMrJ,OAAOoK,UAAUP,SAASnI,KAAK2H,GAAKoM,MAAM,GAAI,GAAG1L,cACvDV,EAAOywE,EAAG/hE,UAAY1O,EAAIoB,UAAU,EAAGqvE,EAAG/hE,WAAa1O,EACvD,MACJ,IAAK,IACDA,EAAML,SAASK,EAAK,MAAQ,EAC5B,MACJ,IAAK,IACDA,EAAMA,EAAIc,UACVd,EAAOywE,EAAG/hE,UAAY1O,EAAIoB,UAAU,EAAGqvE,EAAG/hE,WAAa1O,EACvD,MACJ,IAAK,IACDA,GAAOL,SAASK,EAAK,MAAQ,GAAGQ,SAAS,IACzC,MACJ,IAAK,IACDR,GAAOL,SAASK,EAAK,MAAQ,GAAGQ,SAAS,IAAIQ,cAGjD4uE,EAAG5/C,KAAKphB,KAAK6hE,EAAG/rE,MAChBwZ,GAAUle,IAGN4vE,EAAGhkC,OAAOh9B,KAAK6hE,EAAG/rE,OAAWksE,IAAeH,EAAGlxE,KAK/CA,EAAO,IAJPA,EAAOqxE,EAAc,IAAM,IAC3B5wE,EAAMA,EAAIQ,WAAWmB,QAAQiuE,EAAGrwE,KAAM,KAK1CmxE,EAAgBD,EAAGQ,SAA2B,MAAhBR,EAAGQ,SAAmB,IAAMR,EAAGQ,SAASpxE,OAAO,GAAK,IAClF8wE,EAAaF,EAAG7wE,OAASL,EAAOS,GAAK/S,OACrC+R,EAAMyxE,EAAG7wE,OAAS+wE,EAAa,EAAID,EAAcxwE,OAAOywE,GAAoB,GAC5EzyD,GAAUuyD,EAAGS,MAAQ3xE,EAAOS,EAAMhB,EAAyB,MAAlB0xE,EAAwBnxE,EAAOP,EAAMgB,EAAMhB,EAAMO,EAAOS,EAEzG,CAEJ,OAAOke,CACX,CAlHWizD,CAsHX,SAAuBhvE,GACnB,GAAIivE,EAAcjvE,GACd,OAAOivE,EAAcjvE,GAIzB,IADA,IAAgBJ,EAAZsvE,EAAOlvE,EAAYouE,EAAa,GAAIe,EAAY,EAC7CD,GAAM,CACT,GAAqC,QAAhCtvE,EAAQ6tE,EAAG5+E,KAAKie,KAAKoiE,IACtBd,EAAW93E,KAAKsJ,EAAM,SAErB,GAAuC,QAAlCA,EAAQ6tE,EAAGO,OAAOlhE,KAAKoiE,IAC7Bd,EAAW93E,KAAK,SAEf,IAA4C,QAAvCsJ,EAAQ6tE,EAAGQ,YAAYnhE,KAAKoiE,IA6ClC,MAAM,IAAIpV,YAAY,oCA5CtB,GAAIl6D,EAAM,GAAI,CACVuvE,GAAa,EACb,IAAIC,EAAa,GAAIC,EAAoBzvE,EAAM,GAAI0vE,EAAc,GACjE,GAAuD,QAAlDA,EAAc7B,EAAG/4E,IAAIoY,KAAKuiE,IAe3B,MAAM,IAAIvV,YAAY,gDAbtB,IADAsV,EAAW94E,KAAKg5E,EAAY,IACwD,MAA5ED,EAAoBA,EAAkBpwE,UAAUqwE,EAAY,GAAGxkF,UACnE,GAA8D,QAAzDwkF,EAAc7B,EAAGS,WAAWphE,KAAKuiE,IAClCD,EAAW94E,KAAKg5E,EAAY,QAE3B,IAAgE,QAA3DA,EAAc7B,EAAGU,aAAarhE,KAAKuiE,IAIzC,MAAM,IAAIvV,YAAY,gDAHtBsV,EAAW94E,KAAKg5E,EAAY,GAIhC,CAMR1vE,EAAM,GAAKwvE,CACf,MAEID,GAAa,EAEjB,GAAkB,IAAdA,EACA,MAAM,IAAI3wE,MAAM,6EAGpB4vE,EAAW93E,KACP,CACI23E,YAAaruE,EAAM,GACnBgvE,SAAahvE,EAAM,GACnBnL,KAAamL,EAAM,GACnBxC,KAAawC,EAAM,GACnBkvE,SAAalvE,EAAM,GACnBmvE,MAAanvE,EAAM,GACnBnC,MAAamC,EAAM,GACnB2M,UAAa3M,EAAM,GACnB2C,KAAa3C,EAAM,IAM/B,CACAsvE,EAAOA,EAAKjwE,UAAUW,EAAM,GAAG9U,OACnC,CACA,OAAOmkF,EAAcjvE,GAAOouE,CAChC,CArL0BmB,CAAc76E,GAAM8B,UAC9C,CAEA,SAASg5E,EAASxvE,EAAKquE,GACnB,OAAO/xE,EAAQ43B,MAAM,KAAM,CAACl0B,GAAKqR,OAAOg9D,GAAQ,IACpD,CA+GA,IAAIY,EAAgBz6E,OAAOwQ,OAAO,MAwE9B1a,EAAA,QAAqBgS,EACrBhS,EAAA,SAAsBklF,EAEJ,oBAAX39E,SACPA,OAAgB,QAAIyK,EACpBzK,OAAiB,SAAI29E,OAQhB,KALD,aACI,MAAO,CACH,QAAWlzE,EACX,SAAYkzE,EAEnB,gCAIb,CApOC,0BCAD,IAAIC,EAAc,GAElB,SAASC,EAAqB/oE,GAG5B,IAFA,IAAI5T,GAAU,EAEL9H,EAAI,EAAGA,EAAIwkF,EAAY3kF,OAAQG,IACtC,GAAIwkF,EAAYxkF,GAAG0b,aAAeA,EAAY,CAC5C5T,EAAS9H,EACT,KACF,CAGF,OAAO8H,CACT,CAEA,SAAS48E,EAAaxwC,EAAMxwC,GAI1B,IAHA,IAAIihF,EAAa,CAAC,EACdC,EAAc,GAET5kF,EAAI,EAAGA,EAAIk0C,EAAKr0C,OAAQG,IAAK,CACpC,IAAIo0B,EAAO8f,EAAKl0C,GACZ8C,EAAKY,EAAQ0W,KAAOga,EAAK,GAAK1wB,EAAQ0W,KAAOga,EAAK,GAClD/R,EAAQsiE,EAAW7hF,IAAO,EAC1B4Y,EAAa,GAAG0K,OAAOtjB,EAAI,KAAKsjB,OAAO/D,GAC3CsiE,EAAW7hF,GAAMuf,EAAQ,EACzB,IAAIwiE,EAAoBJ,EAAqB/oE,GACzC/K,EAAM,CACRm0E,IAAK1wD,EAAK,GACVmnB,MAAOnnB,EAAK,GACZ2wD,UAAW3wD,EAAK,GAChBqnB,SAAUrnB,EAAK,GACfsnB,MAAOtnB,EAAK,IAGd,IAA2B,IAAvBywD,EACFL,EAAYK,GAAmBG,aAC/BR,EAAYK,GAAmB7H,QAAQrsE,OAClC,CACL,IAAIqsE,EAAUiI,EAAgBt0E,EAAKjN,GACnCA,EAAQwhF,QAAUllF,EAClBwkF,EAAYl7D,OAAOtpB,EAAG,EAAG,CACvB0b,WAAYA,EACZshE,QAASA,EACTgI,WAAY,GAEhB,CAEAJ,EAAYv5E,KAAKqQ,EACnB,CAEA,OAAOkpE,CACT,CAEA,SAASK,EAAgBt0E,EAAKjN,GAC5B,IAAIyhF,EAAMzhF,EAAQ0hF,OAAO1hF,GAezB,OAdAyhF,EAAI9kD,OAAO1vB,GAEG,SAAiB00E,GAC7B,GAAIA,EAAQ,CACV,GAAIA,EAAOP,MAAQn0E,EAAIm0E,KAAOO,EAAO9pC,QAAU5qC,EAAI4qC,OAAS8pC,EAAON,YAAcp0E,EAAIo0E,WAAaM,EAAO5pC,WAAa9qC,EAAI8qC,UAAY4pC,EAAO3pC,QAAU/qC,EAAI+qC,MACzJ,OAGFypC,EAAI9kD,OAAO1vB,EAAM00E,EACnB,MACEF,EAAIn7D,QAER,CAGF,CAEA5qB,EAAOC,QAAU,SAAU60C,EAAMxwC,GAG/B,IAAI4hF,EAAkBZ,EADtBxwC,EAAOA,GAAQ,GADfxwC,EAAUA,GAAW,CAAC,GAGtB,OAAO,SAAgB6hF,GACrBA,EAAUA,GAAW,GAErB,IAAK,IAAIvlF,EAAI,EAAGA,EAAIslF,EAAgBzlF,OAAQG,IAAK,CAC/C,IACIwW,EAAQiuE,EADKa,EAAgBtlF,IAEjCwkF,EAAYhuE,GAAOwuE,YACrB,CAIA,IAFA,IAAIQ,EAAqBd,EAAaa,EAAS7hF,GAEtC+hF,EAAK,EAAGA,EAAKH,EAAgBzlF,OAAQ4lF,IAAM,CAClD,IAEIxiC,EAASwhC,EAFKa,EAAgBG,IAIK,IAAnCjB,EAAYvhC,GAAQ+hC,aACtBR,EAAYvhC,GAAQ+5B,UAEpBwH,EAAYl7D,OAAO25B,EAAQ,GAE/B,CAEAqiC,EAAkBE,CACpB,CACF,wBCrGA,IAAIE,EAAO,CAAC,EAoCZtmF,EAAOC,QAVP,SAA0B8W,EAAQwvE,GAChC,IAAI72E,EAxBN,SAAmBA,GACjB,QAA4B,IAAjB42E,EAAK52E,GAAyB,CACvC,IAAI82E,EAAc9oC,SAAS+oC,cAAc/2E,GAEzC,GAAIlI,OAAOk/E,mBAAqBF,aAAuBh/E,OAAOk/E,kBAC5D,IAGEF,EAAcA,EAAYG,gBAAgBhjB,IAC5C,CAAE,MAAO/+C,GAEP4hE,EAAc,IAChB,CAGFF,EAAK52E,GAAU82E,CACjB,CAEA,OAAOF,EAAK52E,EACd,CAKek3E,CAAU7vE,GAEvB,IAAKrH,EACH,MAAM,IAAIyE,MAAM,2GAGlBzE,EAAOqtD,YAAYwpB,EACrB,yBC1BAvmF,EAAOC,QAPP,SAA4BqE,GAC1B,IAAI2qE,EAAUvxB,SAASS,cAAc,SAGrC,OAFA75C,EAAQuiF,cAAc5X,EAAS3qE,EAAQ08C,YACvC18C,EAAQyS,OAAOk4D,EAAS3qE,EAAQA,SACzB2qE,CACT,+BCGAjvE,EAAOC,QARP,SAAwC6mF,GACtC,IAAIC,EAAmD,KAEnDA,GACFD,EAAaE,aAAa,QAASD,EAEvC,yBC4DA/mF,EAAOC,QAZP,SAAgBqE,GACd,IAAIwiF,EAAexiF,EAAQ2iF,mBAAmB3iF,GAC9C,MAAO,CACL28B,OAAQ,SAAgB1vB,IAzD5B,SAAeu1E,EAAcxiF,EAASiN,GACpC,IAAIm0E,EAAM,GAENn0E,EAAI8qC,WACNqpC,GAAO,cAAc1+D,OAAOzV,EAAI8qC,SAAU,QAGxC9qC,EAAI4qC,QACNupC,GAAO,UAAU1+D,OAAOzV,EAAI4qC,MAAO,OAGrC,IAAIF,OAAiC,IAAd1qC,EAAI+qC,MAEvBL,IACFypC,GAAO,SAAS1+D,OAAOzV,EAAI+qC,MAAM77C,OAAS,EAAI,IAAIumB,OAAOzV,EAAI+qC,OAAS,GAAI,OAG5EopC,GAAOn0E,EAAIm0E,IAEPzpC,IACFypC,GAAO,KAGLn0E,EAAI4qC,QACNupC,GAAO,KAGLn0E,EAAI8qC,WACNqpC,GAAO,KAGT,IAAIC,EAAYp0E,EAAIo0E,UAEhBA,GAA6B,oBAATjpC,OACtBgpC,GAAO,uDAAuD1+D,OAAO01B,KAAKC,SAASC,mBAAmB7qC,KAAKC,UAAU2zE,MAAe,QAMtIrhF,EAAQ4iF,kBAAkBxB,EAAKoB,EAAcxiF,EAAQA,QACvD,CAiBMulC,CAAMi9C,EAAcxiF,EAASiN,EAC/B,EACAqZ,OAAQ,YAjBZ,SAA4Bk8D,GAE1B,GAAgC,OAA5BA,EAAalqB,WACf,OAAO,EAGTkqB,EAAalqB,WAAWC,YAAYiqB,EACtC,CAWMK,CAAmBL,EACrB,EAEJ,yBCpDA9mF,EAAOC,QAZP,SAA2BylF,EAAKoB,GAC9B,GAAIA,EAAaM,WACfN,EAAaM,WAAWC,QAAU3B,MAC7B,CACL,KAAOoB,EAAaQ,YAClBR,EAAajqB,YAAYiqB,EAAaQ,YAGxCR,EAAa/pB,YAAYrf,SAAS4e,eAAeopB,GACnD,CACF,kBCbA,IAAI6B,EAAc,EAAQ,MAE1BvnF,EAAOC,QAEP,WACI,IAAIoK,EAAM,CAAC,EAEX,OAAO,SAAUkH,GACb,IAAoB,iBAARA,GAA4B,OAARA,IACb,mBAARA,EAEP,MAAM,IAAI4C,MAAM,oCAGpB,IAAI0oE,EAAQtrE,EAAI+C,QAAQjK,GACxB,OAAOwyE,GAASA,EAAMr3B,WAAan7C,EAC/BwyE,EAAQ0K,EAAYh2E,EAAKlH,EACjC,CACJ,YClBArK,EAAOC,QAEP,SAAqBsR,EAAKlH,GACtB,IAAIwyE,EAAQ,CAAEr3B,SAAUn7C,GACpBiK,EAAU/C,EAAI+C,QAUlB,OARAnK,OAAOqqC,eAAejjC,EAAK,UAAW,CAClCG,MAAO,SAAUA,GACb,OAAOA,IAAUrH,EACbiK,EAAQu1B,MAAMroC,KAAM2K,WAAa0wE,CACzC,EACAhiC,UAAU,IAGPgiC,CACX,kBCXA,IAAI2K,EAAc,EAAQ,MAE1BxnF,EAAOC,QAEP,WACI,IAAIwnF,EAAWD,IAEf,MAAO,CACH,IAAO,SAAUn9E,EAAKq9E,GAClB,IAAI7K,EAAQ4K,EAASp9E,GACrB,OAAOwyE,EAAM/iE,eAAe,SACxB+iE,EAAMnrE,MAAQg2E,CACtB,EACA,IAAO,SAAUr9E,EAAKqH,GAElB,OADA+1E,EAASp9E,GAAKqH,MAAQA,EACflQ,IACX,EACA,IAAO,SAAS6I,GACZ,MAAO,UAAWo9E,EAASp9E,EAC/B,EACA,OAAU,SAAUA,GAChB,cAAco9E,EAASp9E,GAAKqH,KAChC,EAER,kBC5BA,IAAIhR,EAAM,CACT,gBAAiB,KACjB,mBAAoB,KACpB,aAAc,KACd,cAAe,KACf,iBAAkB,KAClB,aAAc,KACd,iBAAkB,KAClB,iBAAkB,KAClB,aAAc,KACd,eAAgB,KAChB,eAAgB,KAChB,eAAgB,MAIjB,SAASinF,EAAeC,GACvB,IAAIlkF,EAAKmkF,EAAsBD,GAC/B,OAAOE,EAAoBpkF,EAC5B,CACA,SAASmkF,EAAsBD,GAC9B,IAAIE,EAAoB11E,EAAE1R,EAAKknF,GAAM,CACpC,IAAIhjE,EAAI,IAAIzQ,MAAM,uBAAyByzE,EAAM,KAEjD,MADAhjE,EAAE6J,KAAO,mBACH7J,CACP,CACA,OAAOlkB,EAAIknF,EACZ,CACAD,EAAev9E,KAAO,WACrB,OAAOD,OAAOC,KAAK1J,EACpB,EACAinF,EAAen+E,QAAUq+E,EACzB7nF,EAAOC,QAAU0nF,EACjBA,EAAejkF,GAAK,qBCjCpB,IAAIhD,EAAM,CACT,eAAgB,KAChB,aAAc,KACd,aAAc,MAIf,SAASinF,EAAeC,GACvB,IAAIlkF,EAAKmkF,EAAsBD,GAC/B,OAAOE,EAAoBpkF,EAC5B,CACA,SAASmkF,EAAsBD,GAC9B,IAAIE,EAAoB11E,EAAE1R,EAAKknF,GAAM,CACpC,IAAIhjE,EAAI,IAAIzQ,MAAM,uBAAyByzE,EAAM,KAEjD,MADAhjE,EAAE6J,KAAO,mBACH7J,CACP,CACA,OAAOlkB,EAAIknF,EACZ,CACAD,EAAev9E,KAAO,WACrB,OAAOD,OAAOC,KAAK1J,EACpB,EACAinF,EAAen+E,QAAUq+E,EACzB7nF,EAAOC,QAAU0nF,EACjBA,EAAejkF,GAAK,kCCVlBzD,EAAQ,QACN,EACJ,IAAI8nF,EAAS,EAAQ,MACNA,EAAgB,QAC/B,IAAIC,EAAa,EAAQ,MACNA,EAAWC,SACJD,EAAWE,gBACrC,IAAIC,EAAW,EAAQ,MACNA,EAASC,OACVD,EAASE,MACaF,EAASG,4BAC3BH,EAASI,UAC7B,IAAIC,EAAU,EAAQ,MACUA,EAAQ/+C,sBACf++C,EAAQC,eACRD,EAAQE,eACPF,EAAQthD,gBACNshD,EAAQG,kBAGpC1oF,EAAQ,GAAM,CACZsoF,UAAWJ,EAASI,UACpBD,4BAA6BH,EAASG,4BACtCF,OAAQD,EAASC,OACjBH,SAAUD,EAAWC,SACrBC,gBAAiBF,EAAWE,gBAC5BU,KAAMb,EAAgB,QACtBM,MAAOF,EAASE,MAChB5+C,sBAAuB++C,EAAQ/+C,sBAC/Bg/C,eAAgBD,EAAQC,eACxBC,eAAgBF,EAAQE,eACxBxhD,gBAAiBshD,EAAQthD,gBACzByhD,kBAAmBH,EAAQG,kBAC3B9+B,QAfY,0CC/Bd,IACQg/B,EA2BJR,EA5BAS,EAAatnF,MAAQA,KAAKsnF,YACtBD,EAAgB,SAAUz8D,EAAGpb,GAI7B,OAHA63E,EAAgB1+E,OAAOylC,gBAClB,CAAE51B,UAAW,cAAgB9H,OAAS,SAAUka,EAAGpb,GAAKob,EAAEpS,UAAYhJ,CAAG,GAC1E,SAAUob,EAAGpb,GAAK,IAAK,IAAIG,KAAKH,EAAO7G,OAAOoK,UAAUuF,eAAejO,KAAKmF,EAAGG,KAAIib,EAAEjb,GAAKH,EAAEG,GAAI,EAC7F03E,EAAcz8D,EAAGpb,EAC5B,EACO,SAAUob,EAAGpb,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI8+B,UAAU,uBAAyBtvC,OAAOwQ,GAAK,iCAE7D,SAAS+3E,IAAOvnF,KAAK8U,YAAc8V,CAAG,CADtCy8D,EAAcz8D,EAAGpb,GAEjBob,EAAE7X,UAAkB,OAANvD,EAAa7G,OAAOwQ,OAAO3J,IAAM+3E,EAAGx0E,UAAYvD,EAAEuD,UAAW,IAAIw0E,EACnF,GAEAC,EAAYxnF,MAAQA,KAAKwnF,UAAa,SAAS52E,GAC/C,IAAImG,EAAsB,mBAAX62B,QAAyBA,OAAO65C,SAAUx2E,EAAI8F,GAAKnG,EAAEmG,GAAI3X,EAAI,EAC5E,GAAI6R,EAAG,OAAOA,EAAE5G,KAAKuG,GACrB,GAAIA,GAAyB,iBAAbA,EAAE3R,OAAqB,MAAO,CAC1C6jB,KAAM,WAEF,OADIlS,GAAKxR,GAAKwR,EAAE3R,SAAQ2R,OAAI,GACrB,CAAEV,MAAOU,GAAKA,EAAExR,KAAMumE,MAAO/0D,EACxC,GAEJ,MAAM,IAAI09B,UAAUv3B,EAAI,0BAA4B,kCACxD,EACAtY,EAAQipD,YAAa,EACrBjpD,EAAQmoF,OAASnoF,EAAQsoF,UAAYtoF,EAAQqoF,4BAA8BroF,EAAQooF,WAAQ,EAE3F,SAAWA,GACPA,EAAY,KAAI,OAChBA,EAAqB,cAAI,gBACzBA,EAAa,MAAI,QACjBA,EAAsB,eAAI,iBAC1BA,EAAa,MAAI,OACpB,CAND,CAMGA,EAAQpoF,EAAQooF,QAAUpoF,EAAQooF,MAAQ,CAAC,IAM9C,IAAIC,EAA6C,SAAUY,GAOvD,SAASZ,EAA4Ba,GACjC,OAAOD,EAAOr9E,KAAKrK,KAAM,8BAA8BwlB,OAAOmiE,EAAU9+E,OAAS7I,IACrF,CACA,OATAsnF,EAAUR,EAA6BY,GAShCZ,CACX,CAXgD,CAW9Cn0E,OACFlU,EAAQqoF,4BAA8BA,EAKtC,IAAIC,EAyBA,SAAmBl+E,EAAKizB,EAAMplB,EAAMgsC,GAMhC,YALmB,IAAfA,IAAyBA,GAAa,GAC1C1iD,KAAK6I,IAAMA,EACX7I,KAAK87B,KAAOA,EACZ97B,KAAK0W,KAAOA,EACZ1W,KAAK0iD,WAAaA,EACVhsC,GACJ,IAAK,OACL,IAAK,gBACD1W,KAAK4nF,WAAa,EAClB,MACJ,IAAK,QACL,IAAK,iBACD5nF,KAAK4nF,WAAa,EAClB,MACJ,IAAK,QACD5nF,KAAK4nF,WAAa,EAClB,MACJ,QACI,MAAM,IAAIj1E,MAAM,oBAAoB6S,OAAO9O,IAEnD1W,KAAK6nF,YAAc7nF,KAAK4nF,WAAa9rD,CACzC,EAGJr9B,EAAQsoF,UAAYA,EA4BpB,IAAIH,EAAwB,WAUxB,SAASA,IAGL,IAFA,IAAIkB,EAAKC,EAAIC,EAAKC,EACdzoC,EAAa,GACRqlC,EAAK,EAAGA,EAAKl6E,UAAU1L,OAAQ4lF,IACpCrlC,EAAWqlC,GAAMl6E,UAAUk6E,GAE/B7kF,KAAKw/C,WAAaA,EAClBx/C,KAAKkoF,aAAe,CAAC,EACrB,IAAI5hF,EAAS,EACT6hF,EAAoB,EACxB,IACI,IAAK,IAAIC,EAAeZ,EAAShoC,GAAa6oC,EAAiBD,EAAatlE,QAASulE,EAAe1iB,KAAM0iB,EAAiBD,EAAatlE,OAAQ,CAC5I,IAAI6kE,EAAYU,EAAen4E,MAC/B,GAAIlQ,KAAKkoF,aAAaP,EAAU9+E,KAC5B,MAAM,IAAIi+E,EAA4Ba,GAKtCrhF,EAASqhF,EAAUC,YAAe,IAClCthF,GAAUqhF,EAAUC,WAActhF,EAASqhF,EAAUC,WACrD/nF,QAAQs9C,KAAK,kCAAoCwqC,EAAU9+E,IAAM,eAErE7I,KAAKkoF,aAAaP,EAAU9+E,KAAO,CAC/B8+E,UAAWA,EACX7rD,KAAM6rD,EAAU7rD,KAChBplB,KAAMixE,EAAUjxE,KAChBgsC,WAAYilC,EAAUjlC,WACtBp8C,OAAQA,GAEZA,GAAUqhF,EAAUE,YACpBM,EAAoBxnF,KAAK4mB,IAAI4gE,EAAmBR,EAAUC,WAC9D,CACJ,CACA,MAAOU,GAASR,EAAM,CAAEnlE,MAAO2lE,EAAS,CACxC,QACI,IACQD,IAAmBA,EAAe1iB,OAASoiB,EAAKK,EAAqB,SAAIL,EAAG19E,KAAK+9E,EACzF,CACA,QAAU,GAAIN,EAAK,MAAMA,EAAInlE,KAAO,CACxC,CAMIrc,EAAS6hF,GAAsB,IAC/B7hF,GAAU6hF,EAAqB7hF,EAAS6hF,EACxCtoF,QAAQs9C,KAAK,wCAEjBn9C,KAAK2iD,OAASr8C,EACd,IACI,IAAK,IAAIiiF,EAAef,EAAShoC,GAAagpC,EAAiBD,EAAazlE,QAAS0lE,EAAe7iB,KAAM6iB,EAAiBD,EAAazlE,OAChI6kE,EAAYa,EAAet4E,MAC/BlQ,KAAKkoF,aAAaP,EAAU9+E,KAAK85C,OAAS3iD,KAAK2iD,MAEvD,CACA,MAAO8lC,GAAST,EAAM,CAAErlE,MAAO8lE,EAAS,CACxC,QACI,IACQD,IAAmBA,EAAe7iB,OAASsiB,EAAKM,EAAqB,SAAIN,EAAG59E,KAAKk+E,EACzF,CACA,QAAU,GAAIP,EAAK,MAAMA,EAAIrlE,KAAO,CACxC,CACJ,CA8FA,OAvFAikE,EAAO8B,SAAW,IAAI3B,EAAU,WAAY,EAAGF,EAAMhkC,OAMrD+jC,EAAO9+B,OAAS,IAAIi/B,EAAU,SAAU,EAAGF,EAAMhkC,OAUjD+jC,EAAO+B,QAAU,IAAI5B,EAAU,UAAW,EAAGF,EAAMhkC,OASnD+jC,EAAOgC,UAAY,IAAI7B,EAAU,YAAa,EAAGF,EAAMhkC,OAMvD+jC,EAAOiC,GAAK,IAAI9B,EAAU,KAAM,EAAGF,EAAMhkC,OAkCzC+jC,EAAOkC,eAAiB,IAAI/B,EAAU,gBAAiB,EAAGF,EAAMkC,OAChEnC,EAAOoC,iBAAmB,IAAIjC,EAAU,kBAAmB,EAAGF,EAAMx/C,gBACpEu/C,EAAOqC,QAAU,IAAIlC,EAAU,UAAW,EAAGF,EAAMhkC,OACnD+jC,EAAOsC,QAAU,IAAInC,EAAU,UAAW,EAAGF,EAAMhkC,OACnD+jC,EAAOuC,SAAW,IAAIpC,EAAU,WAAY,EAAGF,EAAMhkC,OACrD+jC,EAAOwC,kBAAoB,IAAIrC,EAAU,mBAAoB,EAAGF,EAAMhkC,OACtE+jC,EAAOyC,SAAW,IAAItC,EAAU,WAAY,EAAGF,EAAMhkC,OACrD+jC,EAAO0C,oBAAsB,IAAIvC,EAAU,qBAAsB,EAAGF,EAAMhkC,OAC1E+jC,EAAO2C,SAAW,IAAIxC,EAAU,WAAY,EAAGF,EAAMhkC,OACrD+jC,EAAO4C,aAAe,IAAIzC,EAAU,eAAgB,EAAGF,EAAMx/C,gBAC7Du/C,EAAO6C,iBAAmB,IAAI1C,EAAU,kBAAmB,EAAGF,EAAMhkC,OACpE+jC,EAAO8C,UAAY,IAAI3C,EAAU,YAAa,EAAGF,EAAMhkC,OACvD+jC,EAAO+C,YAAc,IAAI5C,EAAU,aAAc,EAAGF,EAAMkC,OAC1DnC,EAAOgD,YAAc,IAAI7C,EAAU,aAAc,EAAGF,EAAMkC,OAC1DnC,EAAOiD,aAAe,IAAI9C,EAAU,cAAe,EAAGF,EAAMkC,OAC5DnC,EAAOkD,sBAAwB,IAAI/C,EAAU,sBAAuB,EAAGF,EAAMkC,OAC7EnC,EAAOmD,aAAe,IAAIhD,EAAU,cAAe,EAAGF,EAAMkC,OAC5DnC,EAAOoD,cAAgB,IAAIjD,EAAU,eAAgB,EAAGF,EAAMx/C,gBAC9Du/C,EAAOqD,SAAW,IAAIlD,EAAU,UAAW,EAAGF,EAAMkC,OACpDnC,EAAOsD,iBAAmB,IAAInD,EAAU,kBAAmB,EAAGF,EAAMkC,OACpEnC,EAAOuD,UAAY,IAAIpD,EAAU,WAAY,EAAGF,EAAMkC,OACtDnC,EAAOwD,aAAe,IAAIrD,EAAU,cAAe,EAAGF,EAAMkC,OACrDnC,CACX,CAzK2B,GA0K3BnoF,EAAQmoF,OAASA,mCClTjB,IAAIyD,EAAUrqF,MAAQA,KAAKqqF,QAAW,SAAUz5E,EAAGiH,GAC/C,IAAI5G,EAAsB,mBAAX28B,QAAyBh9B,EAAEg9B,OAAO65C,UACjD,IAAKx2E,EAAG,OAAOL,EACf,IAAmB2T,EAAYnB,EAA3BhkB,EAAI6R,EAAE5G,KAAKuG,GAAO05E,EAAK,GAC3B,IACI,WAAc,IAANzyE,GAAgBA,KAAM,MAAQ0M,EAAInlB,EAAE0jB,QAAQ6iD,MAAM2kB,EAAG7/E,KAAK8Z,EAAErU,MACxE,CACA,MAAOyS,GAASS,EAAI,CAAET,MAAOA,EAAS,CACtC,QACI,IACQ4B,IAAMA,EAAEohD,OAAS10D,EAAI7R,EAAU,SAAI6R,EAAE5G,KAAKjL,EAClD,CACA,QAAU,GAAIgkB,EAAG,MAAMA,EAAET,KAAO,CACpC,CACA,OAAO2nE,CACX,EACI9C,EAAYxnF,MAAQA,KAAKwnF,UAAa,SAAS52E,GAC/C,IAAImG,EAAsB,mBAAX62B,QAAyBA,OAAO65C,SAAUx2E,EAAI8F,GAAKnG,EAAEmG,GAAI3X,EAAI,EAC5E,GAAI6R,EAAG,OAAOA,EAAE5G,KAAKuG,GACrB,GAAIA,GAAyB,iBAAbA,EAAE3R,OAAqB,MAAO,CAC1C6jB,KAAM,WAEF,OADIlS,GAAKxR,GAAKwR,EAAE3R,SAAQ2R,OAAI,GACrB,CAAEV,MAAOU,GAAKA,EAAExR,KAAMumE,MAAO/0D,EACxC,GAEJ,MAAM,IAAI09B,UAAUv3B,EAAI,0BAA4B,kCACxD,EACAtY,EAAQipD,YAAa,EACrBjpD,EAAQioF,gBAAkBjoF,EAAQgoF,cAAW,EAI7C,IAAIA,EACA,SAAkB1wE,GACd/V,KAAK+V,KAAOA,EAQZ/V,KAAKuqF,QAAU,CAAC,EAAG,EAAG,GAEtBvqF,KAAKwmC,QAAU,CAAC,EAAG,EAAG,GAEtBxmC,KAAK+mC,SAAW,CAAC,EAAG,EAAG,GAEvB/mC,KAAKwqF,SAAW,CAAC,EAAG,EAAG,GAEvBxqF,KAAKyqF,mBAAqB,CAAC,EAAG,EAAG,GAEjCzqF,KAAK0qF,SAAW,EAEhB1qF,KAAK2mC,iBAAmB,EAExB3mC,KAAK2qF,aAAe,EAEpB3qF,KAAK4qF,aAAe,EAEpB5qF,KAAK6qF,gBAAkB,EAEvB7qF,KAAK8qF,UAAY,EAEjB9qF,KAAK4mC,WAmnBF,CACHmkD,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IAjoBV7vB,KAAK2rF,WAinBF,CACHZ,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IA/nBV7vB,KAAK4rF,YA+mBF,CACHb,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IA7nBV7vB,KAAK6rF,oBA6mBF,CACHd,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IA3nBV7vB,KAAK8rF,YA2mBF,CACHf,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IAznBV7vB,KAAK+rF,cAAe,EAEpB/rF,KAAKgsF,QAumBF,CACHjB,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IArnBV7vB,KAAKisF,gBAqmBF,CACHlB,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IAnnBV7vB,KAAKksF,SAmmBF,CACHnB,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IAjnBV7vB,KAAKmsF,YAimBF,CACHpB,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IA7mBV7vB,KAAKosF,eAAiB,EAC1B,EAGJ3tF,EAAQgoF,SAAWA,EACnB,IAAI4F,EAAoB,IAAI5F,EAAS,YAKjCC,EAAiC,WACjC,SAASA,EAAgB37E,GACrB/K,KAAK+K,KAAOA,EAKZ/K,KAAKssF,gBAAkBD,EACvBrsF,KAAKusF,UAAY,CAAC,EAClBvsF,KAAKwd,OACT,CAqkBA,OA5jBAkpE,EAAgB3zE,UAAUy5E,aAAe,SAAU7kC,GAC/C,IAAI5xC,EAAO4xC,EAAO,GAElB3nD,KAAKssF,gBAAkB,IAAI7F,EAAS1wE,GACpC/V,KAAKusF,UAAUx2E,GAAQ/V,KAAKssF,eAChC,EAWA5F,EAAgB3zE,UAAU05E,WAAa,SAAU9kC,GAC7C,GAAiB,YAAbA,EAAO,GACP,MAAM,IAAIh1C,MAAM,0HAGpB,GAAiB,OAAbg1C,EAAO,GACP,MAAM,IAAIh1C,MAAM,wIAMpB,GAAqB,GAAjBg1C,EAAO1oD,OAAa,CACpB,IAAI8oF,EAAKsC,EAAO1iC,EAAQ,GAAIhmD,EAAIomF,EAAG,GAAInmF,EAAImmF,EAAG,GAAIrlF,EAAIqlF,EAAG,GACzD,MAAO,CAACrwE,WAAW/V,GAAI+V,WAAW9V,GAAI8V,WAAWhV,GACrD,CAGA,IAAIwN,EAAQwH,WAAWiwC,EAAO,IAE9B,MAAO,CAACz3C,EAAOA,EAAOA,EAC1B,EAgCAw2E,EAAgB3zE,UAAU25E,SAAW,SAAU/kC,GAC3C3nD,KAAKssF,gBAAgB/B,QAAUvqF,KAAKysF,WAAW9kC,EACnD,EASA++B,EAAgB3zE,UAAU45E,SAAW,SAAUhlC,GAC3C3nD,KAAKssF,gBAAgB9lD,QAAUxmC,KAAKysF,WAAW9kC,EACnD,EASA++B,EAAgB3zE,UAAU65E,SAAW,SAAUjlC,GAC3C3nD,KAAKssF,gBAAgBvlD,SAAW/mC,KAAKysF,WAAW9kC,EACpD,EAQA++B,EAAgB3zE,UAAU85E,SAAW,SAAUllC,GAC3C3nD,KAAKssF,gBAAgB9B,SAAWxqF,KAAKysF,WAAW9kC,EACpD,EAcA++B,EAAgB3zE,UAAU+5E,SAAW,SAAUnlC,GAC3C3nD,KAAKssF,gBAAgB7B,mBAAqBzqF,KAAKysF,WAAW9kC,EAC9D,EA8BA++B,EAAgB3zE,UAAUg6E,QAAU,SAAUplC,GAG1C3nD,KAAKssF,gBAAgB5B,SAAWhzE,WAAWiwC,EAAO7jD,OAAS,IAC/D,EAwBA4iF,EAAgB3zE,UAAUi6E,YAAc,SAAUrlC,GAC9C3nD,KAAKssF,gBAAgB1B,aAAej5E,SAASg2C,EAAO,GACxD,EAiBA++B,EAAgB3zE,UAAUk6E,SAAW,SAAUtlC,GAC3C3nD,KAAKssF,gBAAgBzB,gBAAkBnzE,WAAWiwC,EAAO,GAC7D,EAeA++B,EAAgB3zE,UAAUm6E,SAAW,SAAUvlC,GAC3C3nD,KAAKssF,gBAAgB3lD,iBAAmBh1B,SAASg2C,EAAO,GAC5D,EAoBA++B,EAAgB3zE,UAAUo6E,gBAAkB,SAAUxlC,GAClD3nD,KAAKssF,gBAAgBxB,UAAYn5E,SAASg2C,EAAO,GACrD,EAOA++B,EAAgB3zE,UAAUq6E,SAAW,SAAUh4E,EAAQtS,GACnDA,EAAQioF,gBAA+B,MAAb31E,EAAO,EACrC,EAOAsxE,EAAgB3zE,UAAUs6E,aAAe,SAAUj4E,EAAQtS,GACvDA,EAAQkoF,mBAAkC,MAAb51E,EAAO,EACxC,EAOAsxE,EAAgB3zE,UAAUu6E,aAAe,SAAUl4E,EAAQtS,GACvDA,EAAQmoF,iBAAgC,MAAb71E,EAAO,EACtC,EAOAsxE,EAAgB3zE,UAAUw6E,YAAc,SAAUn4E,EAAQtS,GACtDA,EAAQooF,qBAAuBxzE,WAAWtC,EAAO,GACrD,EAOAsxE,EAAgB3zE,UAAUy6E,SAAW,SAAUp4E,EAAQtS,GACnDA,EAAQqoF,iBAAiBC,WAAa1zE,WAAWtC,EAAO,IACxDtS,EAAQqoF,iBAAiBE,SAAW3zE,WAAWtC,EAAO,GAC1D,EAQAsxE,EAAgB3zE,UAAU06E,UAAY,SAAUr4E,EAAQs4E,EAAQt5D,GAC5D,KAAOhf,EAAOnW,OAAS,GACnBmW,EAAO3K,KAAK2pB,EAAa5hB,YAE7Bk7E,EAAOxgC,EAAIx1C,WAAWtC,EAAO,IAC7Bs4E,EAAO/3E,EAAI+B,WAAWtC,EAAO,IAC7Bs4E,EAAOtkF,EAAIsO,WAAWtC,EAAO,GACjC,EAOAsxE,EAAgB3zE,UAAU46E,QAAU,SAAUv4E,EAAQtS,GAClD9C,KAAKytF,UAAUr4E,EAAQtS,EAAQwD,OAAQ,EAC3C,EAOAogF,EAAgB3zE,UAAU66E,QAAU,SAAUx4E,EAAQtS,GAClD9C,KAAKytF,UAAUr4E,EAAQtS,EAAQ2uB,MAAO,EAC1C,EAOAi1D,EAAgB3zE,UAAU86E,QAAU,SAAUz4E,EAAQtS,GAClD9C,KAAKytF,UAAUr4E,EAAQtS,EAAQwoF,WAAY,EAC/C,EAOA5E,EAAgB3zE,UAAU+6E,aAAe,SAAU14E,EAAQtS,GACvDA,EAAQ0oF,kBAAoB9zE,WAAWtC,EAAO,GAClD,EAOAsxE,EAAgB3zE,UAAUg7E,YAAc,SAAU34E,EAAQtS,GACtDA,EAAQyoF,MAAqB,MAAbn2E,EAAO,EAC3B,EAOAsxE,EAAgB3zE,UAAUi7E,SAAW,SAAU54E,EAAQtS,GACnDA,EAAQ2oF,eAAiB/zE,WAAWtC,EAAO,GAC/C,EAOAsxE,EAAgB3zE,UAAUk7E,cAAgB,SAAU74E,EAAQtS,GACxDA,EAAQ4oF,QAAUt2E,EAAO,EAC7B,EAOAsxE,EAAgB3zE,UAAUm7E,WAAa,SAAU94E,EAAQtS,GACrDA,EAAQqrF,eAAiB/4E,EAAO,EACpC,EAOAsxE,EAAgB3zE,UAAUq7E,aAAe,SAAUzmC,GAC/C,IACI+lC,EACAt4E,EAFAtS,EAsMD,CACHioF,iBAAiB,EACjBC,oBAAoB,EACpBC,kBAAkB,EAClBC,qBAAsB,EACtBC,iBAAkB,CACdC,WAAY,EACZC,SAAU,GAEd/kF,OAAQ,CAAE4mD,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACzBqoB,MAAO,CAAEy7B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GACxBkiF,WAAY,CAAEp+B,EAAG,EAAGv3C,EAAG,EAAGvM,EAAG,GAC7BmiF,OAAO,EACPC,kBAAmB,KACnBC,eAAgB,EAChBC,QAAS,KACT77D,SAAU,IAnNNw+D,EAAkB,CAAC,EAEvB,IADA1mC,EAAOzlC,UACAylC,EAAO1oD,QAAQ,CAElB,IAAImoD,EAAQO,EAAO7jD,MACfsjD,EAAMknC,WAAW,KAEjBD,EADAX,EAAStmC,EAAMt1C,OAAO,IACI,GAErB47E,GACLW,EAAgBX,GAAQjjF,KAAK28C,EAErC,CACA,IAAKsmC,KAAUW,EACX,GAAKA,EAAgB/1E,eAAeo1E,GAApC,CAGAt4E,EAASi5E,EAAgBX,GACzB,IAAIa,EAAevuF,KAAK,SAASwlB,OAAOkoE,IACpCa,GACAA,EAAalsF,KAAKrC,KAAlBuuF,CAAwBn5E,EAAQtS,EAJpC,CAOJ,OAAOA,CACX,EAOA4jF,EAAgB3zE,UAAUy7E,SAAW,SAAU7mC,GAC3C,IAAIogC,EAOA0G,EACA5+D,EAAW,GACV83B,EAAO,GAAG2mC,WAAW,MAItBz+D,EAAW83B,EAAO7jD,MAClB2qF,EAAgB9mC,IAJK93B,GAArBk4D,EAAKsC,EAAO1iC,IAAuB,GAAI8mC,EAAgB1G,EAAG3pE,MAAM,IAMpE,IAAItb,EAAU9C,KAAKouF,aAAaK,GAEhC,OADA3rF,EAAQ+sB,SAAWA,EAASlc,QAAQ,MAAO,KACpC7Q,CACX,EAMA4jF,EAAgB3zE,UAAU27E,aAAe,SAAU/mC,GAC/C3nD,KAAKssF,gBAAgBX,WAAa3rF,KAAKwuF,SAAS7mC,EACpD,EAMA++B,EAAgB3zE,UAAU47E,aAAe,SAAUhnC,GAC/C3nD,KAAKssF,gBAAgB1lD,WAAa5mC,KAAKwuF,SAAS7mC,EACpD,EAMA++B,EAAgB3zE,UAAU67E,aAAe,SAAUjnC,GAC/C3nD,KAAKssF,gBAAgBV,YAAc5rF,KAAKwuF,SAAS7mC,EACrD,EAMA++B,EAAgB3zE,UAAU87E,aAAe,SAAUlnC,GAC/C3nD,KAAKssF,gBAAgBH,YAAcnsF,KAAKwuF,SAAS7mC,EACrD,EAMA++B,EAAgB3zE,UAAU+7E,aAAe,SAAUnnC,GAC/C3nD,KAAKssF,gBAAgBT,oBAAsB7rF,KAAKwuF,SAAS7mC,EAC7D,EAMA++B,EAAgB3zE,UAAUg8E,YAAc,SAAUpnC,GAC9C3nD,KAAKssF,gBAAgBR,YAAc9rF,KAAKwuF,SAAS7mC,EACrD,EAMA++B,EAAgB3zE,UAAUi8E,cAAgB,SAAUrnC,GAChD3nD,KAAKssF,gBAAgBP,aAA4B,MAAbpkC,EAAO,EAC/C,EAMA++B,EAAgB3zE,UAAUk8E,eAAiB,SAAUtnC,GACjD3nD,KAAKssF,gBAAgBN,QAAUhsF,KAAKwuF,SAAS7mC,EACjD,EAMA++B,EAAgB3zE,UAAUm8E,WAAa,SAAUvnC,GAC7C3nD,KAAKivF,eAAetnC,EACxB,EAMA++B,EAAgB3zE,UAAUo8E,WAAa,SAAUxnC,GAC7C3nD,KAAKssF,gBAAgBL,gBAAkBjsF,KAAKwuF,SAAS7mC,EACzD,EAMA++B,EAAgB3zE,UAAUq8E,YAAc,SAAUznC,GAC9C3nD,KAAKssF,gBAAgBJ,SAAWlsF,KAAKwuF,SAAS7mC,EAClD,EAMA++B,EAAgB3zE,UAAUs8E,WAAa,SAAU1nC,GAC7C3nD,KAAKssF,gBAAgBF,eAAe3hF,KAAKzK,KAAKwuF,SAAS7mC,GAC3D,EAcA++B,EAAgB3zE,UAAUyK,MAAQ,WAC9B,IAAIsqE,EAAKC,EACLlpF,EAAQmB,KAAK+K,KAAKjM,MAAM,SAC5B,IACI,IAAK,IAAIwwF,EAAU9H,EAAS3oF,GAAQ0wF,EAAYD,EAAQxsE,QAASysE,EAAU5pB,KAAM4pB,EAAYD,EAAQxsE,OAAQ,CACzG,IAAI3jB,EAAOowF,EAAUr/E,MAErB,IADA/Q,EAAOA,EAAKykB,UACCzkB,EAAKmvF,WAAW,KAA7B,CAGA,IAAIrG,EAAKoC,EAAOlrF,EAAKL,MAAM,OAAQ0wF,EAAYvH,EAAG,GAAItgC,EAASsgC,EAAG7pE,MAAM,GACpEqxE,EAAczvF,KAAK,SAASwlB,OAAOgqE,IAClCC,EAILA,EAAYptF,KAAKrC,KAAjByvF,CAAuB9nC,GAHnB9nD,QAAQs9C,KAAK,4CAA4C33B,OAAOgqE,EAAW,KAJ/E,CAQJ,CACJ,CACA,MAAOlH,GAASR,EAAM,CAAEnlE,MAAO2lE,EAAS,CACxC,QACI,IACQiH,IAAcA,EAAU5pB,OAASoiB,EAAKuH,EAAgB,SAAIvH,EAAG19E,KAAKilF,EAC1E,CACA,QAAU,GAAIxH,EAAK,MAAMA,EAAInlE,KAAO,CACxC,QAEO3iB,KAAK+K,KACZ/K,KAAKssF,gBAAkBD,CAC3B,EACO3F,CACX,CAhlBoC,GAilBpCjoF,EAAQioF,gBAAkBA,qCCjrB1B,IAAIgJ,EAAe1vF,MAAQA,KAAK0vF,aAAgB,SAAUC,EAASl1E,GAC/D,IAAsG0I,EAAGvhB,EAAG+O,EAAGirC,EAA3GlgC,EAAI,CAAE5B,MAAO,EAAG81E,KAAM,WAAa,GAAW,EAAPj/E,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGk/E,KAAM,GAAIC,IAAK,IAChG,OAAOl0C,EAAI,CAAE94B,KAAMitE,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXniD,SAA0BgO,EAAEhO,OAAO65C,UAAY,WAAa,OAAOznF,IAAM,GAAI47C,EACvJ,SAASm0C,EAAKl4E,GAAK,OAAO,SAAUlC,GAAK,OACzC,SAAcq6E,GACV,GAAI7sE,EAAG,MAAM,IAAImrB,UAAU,mCAC3B,KAAO5yB,OACH,GAAIyH,EAAI,EAAGvhB,IAAM+O,EAAY,EAARq/E,EAAG,GAASpuF,EAAU,OAAIouF,EAAG,GAAKpuF,EAAS,SAAO+O,EAAI/O,EAAU,SAAM+O,EAAEtG,KAAKzI,GAAI,GAAKA,EAAEkhB,SAAWnS,EAAIA,EAAEtG,KAAKzI,EAAGouF,EAAG,KAAKrqB,KAAM,OAAOh1D,EAE3J,OADI/O,EAAI,EAAG+O,IAAGq/E,EAAK,CAAS,EAARA,EAAG,GAAQr/E,EAAET,QACzB8/E,EAAG,IACP,KAAK,EAAG,KAAK,EAAGr/E,EAAIq/E,EAAI,MACxB,KAAK,EAAc,OAAXt0E,EAAE5B,QAAgB,CAAE5J,MAAO8/E,EAAG,GAAIrqB,MAAM,GAChD,KAAK,EAAGjqD,EAAE5B,QAASlY,EAAIouF,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKt0E,EAAEo0E,IAAIhsF,MAAO4X,EAAEm0E,KAAK/rF,MAAO,SACxC,QACI,MAAkB6M,GAAZA,EAAI+K,EAAEm0E,MAAY5wF,OAAS,GAAK0R,EAAEA,EAAE1R,OAAS,KAAkB,IAAV+wF,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEt0E,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVs0E,EAAG,MAAcr/E,GAAMq/E,EAAG,GAAKr/E,EAAE,IAAMq/E,EAAG,GAAKr/E,EAAE,IAAM,CAAE+K,EAAE5B,MAAQk2E,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYt0E,EAAE5B,MAAQnJ,EAAE,GAAI,CAAE+K,EAAE5B,MAAQnJ,EAAE,GAAIA,EAAIq/E,EAAI,KAAO,CACpE,GAAIr/E,GAAK+K,EAAE5B,MAAQnJ,EAAE,GAAI,CAAE+K,EAAE5B,MAAQnJ,EAAE,GAAI+K,EAAEo0E,IAAIrlF,KAAKulF,GAAK,KAAO,CAC9Dr/E,EAAE,IAAI+K,EAAEo0E,IAAIhsF,MAChB4X,EAAEm0E,KAAK/rF,MAAO,SAEtBksF,EAAKv1E,EAAKpQ,KAAKslF,EAASj0E,EAC5B,CAAE,MAAO0H,GAAK4sE,EAAK,CAAC,EAAG5sE,GAAIxhB,EAAI,CAAG,CAAE,QAAUuhB,EAAIxS,EAAI,CAAG,CACzD,GAAY,EAARq/E,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE9/E,MAAO8/E,EAAG,GAAKA,EAAG,QAAK,EAAQrqB,MAAM,EAC9E,CAtBgDtqD,CAAK,CAACxD,EAAGlC,GAAK,CAAG,CAuBrE,EACI6xE,EAAYxnF,MAAQA,KAAKwnF,UAAa,SAAS52E,GAC/C,IAAImG,EAAsB,mBAAX62B,QAAyBA,OAAO65C,SAAUx2E,EAAI8F,GAAKnG,EAAEmG,GAAI3X,EAAI,EAC5E,GAAI6R,EAAG,OAAOA,EAAE5G,KAAKuG,GACrB,GAAIA,GAAyB,iBAAbA,EAAE3R,OAAqB,MAAO,CAC1C6jB,KAAM,WAEF,OADIlS,GAAKxR,GAAKwR,EAAE3R,SAAQ2R,OAAI,GACrB,CAAEV,MAAOU,GAAKA,EAAExR,KAAMumE,MAAO/0D,EACxC,GAEJ,MAAM,IAAI09B,UAAUv3B,EAAI,0BAA4B,kCACxD,EACIszE,EAAUrqF,MAAQA,KAAKqqF,QAAW,SAAUz5E,EAAGiH,GAC/C,IAAI5G,EAAsB,mBAAX28B,QAAyBh9B,EAAEg9B,OAAO65C,UACjD,IAAKx2E,EAAG,OAAOL,EACf,IAAmB2T,EAAYnB,EAA3BhkB,EAAI6R,EAAE5G,KAAKuG,GAAO05E,EAAK,GAC3B,IACI,WAAc,IAANzyE,GAAgBA,KAAM,MAAQ0M,EAAInlB,EAAE0jB,QAAQ6iD,MAAM2kB,EAAG7/E,KAAK8Z,EAAErU,MACxE,CACA,MAAOyS,GAASS,EAAI,CAAET,MAAOA,EAAS,CACtC,QACI,IACQ4B,IAAMA,EAAEohD,OAAS10D,EAAI7R,EAAU,SAAI6R,EAAE5G,KAAKjL,EAClD,CACA,QAAU,GAAIgkB,EAAG,MAAMA,EAAET,KAAO,CACpC,CACA,OAAO2nE,CACX,EACI2F,EAAiBjwF,MAAQA,KAAKiwF,eAAkB,SAAU/uF,EAAIF,EAAMmoB,GACpE,GAAIA,GAA6B,IAArBxe,UAAU1L,OAAc,IAAK,IAA4BqrF,EAAxBlrF,EAAI,EAAGkT,EAAItR,EAAK/B,OAAYG,EAAIkT,EAAGlT,KACxEkrF,GAAQlrF,KAAK4B,IACRspF,IAAIA,EAAK55E,MAAMqC,UAAUqL,MAAM/T,KAAKrJ,EAAM,EAAG5B,IAClDkrF,EAAGlrF,GAAK4B,EAAK5B,IAGrB,OAAO8B,EAAGskB,OAAO8kE,GAAM55E,MAAMqC,UAAUqL,MAAM/T,KAAKrJ,GACtD,EACAvC,EAAQipD,YAAa,EACrB,IAAIi/B,EAAW,EAAQ,MAOnBS,EAAsB,WAoBtB,SAASA,EAAK8I,EAAYptF,GACtB,IAAIglF,EAAKC,EAAIC,EAAKC,EAClBjoF,KAAK+V,KAAO,GACZ/V,KAAKimC,mBAAqB,GAC1BjmC,KAAKkmC,iBAAmB,CAAC,EACzBlmC,KAAKmwF,SAAW,GAChBnwF,KAAKowF,WAAa,IAClBttF,EAAUA,GAAW,CAAC,GACdypF,UAAYzpF,EAAQypF,WAAa,CAAC,EAC1CzpF,EAAQklC,sBAAwBllC,EAAQklC,oBAExChoC,KAAKqwF,cAAgB,GACrBrwF,KAAK67B,SAAW,GAEhB77B,KAAKmkD,QAAU,GACfnkD,KAAKswF,cAAgBxtF,EAAQklC,oBAAsB,EAAI,EA0EvD,IAAIrI,EAAQ,GACR4wD,EAAc,GACd10D,EAAW,GACX20D,EAAuB,GACvBC,EAAwB,CAAC,EAEzBC,GAAwB,EACxBC,EAA+B,EAE/BC,EAAW,CACXjxD,MAAO,GACPkxD,MAAO,GACPh1D,SAAU,GACVi1D,YAAa,CAAC,EACd3sC,QAAS,CAAC,IACV4sC,gBAAiB,GACjBn7E,MAAO,GAEPo7E,EAAY,OACZC,EAAY,QACZC,EAAa,QACbC,EAAU,OACVC,EAAgB,MAChBC,EAAkB,UAElBxyF,EAAQqxF,EAAWpxF,MAAM,MAC7B,IACI,IAAK,IAAIwwF,EAAU9H,EAAS3oF,GAAQ0wF,EAAYD,EAAQxsE,QAASysE,EAAU5pB,KAAM4pB,EAAYD,EAAQxsE,OAAQ,CACzG,IAAI3jB,EAAOowF,EAAUr/E,MAErB,IADA/Q,EAAOA,EAAKykB,UACCzkB,EAAKmvF,WAAW,KAA7B,CAGA,IAAIgD,EAAWnyF,EAAKL,MAAMsyF,GAE1B,GADAE,EAAS5rF,QACLsrF,EAAUpwE,KAAKzhB,GAEfwgC,EAAMl1B,KAAK49B,MAAM1I,EAAOswD,EAAc,GAAI5F,EAAOiH,IAAW,SAE3D,GAAIL,EAAUrwE,KAAKzhB,GAEpBoxF,EAAY9lF,KAAK49B,MAAMkoD,EAAaN,EAAc,GAAI5F,EAAOiH,IAAW,SAEvE,GAAIJ,EAAWtwE,KAAKzhB,GAAO,CAC5B,IAAIoyF,EAASD,EAMTA,EAASryF,OAAS,IAAM6D,EAAQklC,oBAChCupD,EAASD,EAASlzE,MAAM,EAAG,GAEF,IAApBkzE,EAASryF,QAAgB6D,EAAQklC,qBAKtCupD,EAAO9mF,KAAK,KAEhBoxB,EAASpxB,KAAK49B,MAAMxM,EAAUo0D,EAAc,GAAI5F,EAAOkH,IAAS,GACpE,MACK,GAAIF,EAAgBzwE,KAAKzhB,GAAO,CACjC,IAAIqyF,EAAeF,EAAS,GAEtBE,KAAgBf,IAElBD,EAAqB/lF,KAAK+mF,GAC1Bf,EAAsBe,GAAgBhB,EAAqBvxF,OAAS,EAGhEwxF,EAAsBe,GAAgB,GACtCZ,EAASzsC,QAAQ15C,KAAK,KAM9BkmF,EAFAD,EAAuBD,EAAsBe,EAGjD,MACK,GAAIL,EAAQvwE,KAAKzhB,GAAO,CASzB,IAAIsyF,EAAYC,EAAYJ,GAC5B,IACI,IAAK,IAAIK,GAAe3J,OAAM,EAAQR,EAASiK,IAAaG,EAAgBD,EAAY7uE,QAAS8uE,EAAcjsB,KAAMisB,EAAgBD,EAAY7uE,OAE7I,IADA,IAAI+uE,EAAWD,EAAc1hF,MACpBqG,EAAI,EAAGu7E,EAASD,EAAS5yF,OAAQsX,EAAIu7E,EAAQv7E,IAAK,CACvD,IAAIw7E,EAAOF,EAASt7E,GAAK,IAAMm6E,EAC/B,GAAIqB,KAAQnB,EAASE,YACjBF,EAASzsC,QAAQwsC,GAA8BlmF,KAAKmmF,EAASE,YAAYiB,QAExE,CAeD,IAAIt2D,EAASo2D,EAASt7E,GAAGzX,MAAM,KAK3BkzF,EAAcv2D,EAAOx8B,OAAS,EAyBlC,GAJA2xF,EAASjxD,MAAMl1B,MAAMk1B,EAAyB,IAAjBlE,EAAO,GAAK,GAAS,IAClDm1D,EAASjxD,MAAMl1B,MAAMk1B,EAAyB,IAAjBlE,EAAO,GAAK,GAAS,IAClDm1D,EAASjxD,MAAMl1B,MAAMk1B,EAAyB,IAAjBlE,EAAO,GAAK,GAAS,IAE9CI,EAAS58B,OAAQ,CACjB,IAAI0jD,EAAS7/C,EAAQklC,oBAAsB,EAAI,EAC/C4oD,EAAS/0D,SAASpxB,MAAMoxB,IAAWJ,EAAO,GAAK,GAAKknB,EAAS,IAC7DiuC,EAAS/0D,SAASpxB,MAAMoxB,IAAWJ,EAAO,GAAK,GAAKknB,EAAS,IACzD7/C,EAAQklC,qBACR4oD,EAAS/0D,SAASpxB,MAAMoxB,IAAWJ,EAAO,GAAK,GAAKknB,EAAS,GAErE,CAEAiuC,EAASC,MAAMpmF,MAAM8lF,EAAyC,IAA3B90D,EAAOu2D,GAAe,GAAS,IAClEpB,EAASC,MAAMpmF,MAAM8lF,EAAyC,IAA3B90D,EAAOu2D,GAAe,GAAS,IAClEpB,EAASC,MAAMpmF,MAAM8lF,EAAyC,IAA3B90D,EAAOu2D,GAAe,GAAS,IAElEpB,EAASG,gBAAgBtmF,KAAKimF,GAE9BE,EAASE,YAAYiB,GAAQnB,EAASh7E,MACtCg7E,EAASzsC,QAAQwsC,GAA8BlmF,KAAKmmF,EAASE,YAAYiB,IAEzEnB,EAASh7E,OAAS,CACtB,CACJ,CAER,CACA,MAAO6yE,GAAST,EAAM,CAAErlE,MAAO8lE,EAAS,CACxC,QACI,IACQmJ,IAAkBA,EAAcjsB,OAASsiB,EAAK0J,EAAoB,SAAI1J,EAAG59E,KAAKsnF,EACtF,CACA,QAAU,GAAI3J,EAAK,MAAMA,EAAIrlE,KAAO,CACxC,CACJ,CA7IA,CA8IJ,CACJ,CACA,MAAO2lE,GAASR,EAAM,CAAEnlE,MAAO2lE,EAAS,CACxC,QACI,IACQiH,IAAcA,EAAU5pB,OAASoiB,EAAKuH,EAAgB,SAAIvH,EAAG19E,KAAKilF,EAC1E,CACA,QAAU,GAAIxH,EAAK,MAAMA,EAAInlE,KAAO,CACxC,CACA3iB,KAAKu7B,SAAWq1D,EAASjxD,MACzB3/B,KAAKqwF,cAAgBO,EAASC,MAC9B7wF,KAAK67B,SAAW+0D,EAAS/0D,SACzB77B,KAAKiyF,sBAAwBrB,EAASG,gBACtC/wF,KAAKmkD,QAAUysC,EAASzsC,QAAQwsC,GAChC3wF,KAAKimC,mBAAqB2qD,EAASzsC,QACnCnkD,KAAKkyF,cAAgB1B,EACrBxwF,KAAK+wF,gBAAkBN,EACvBzwF,KAAKkmC,iBAAmB,CAAC,EACrBpjC,EAAQqvF,2BACRnyF,KAAKoyF,gCAEb,CAkWA,OAxVAhL,EAAKr0E,UAAUq/E,+BAAiC,WAC5CvyF,QAAQ4iB,UAAUziB,KAAKu7B,UACnBv7B,KAAKu7B,SAASt8B,QACde,KAAKqwF,eACLrwF,KAAKqwF,cAAcpxF,QACnBe,KAAK67B,UACL77B,KAAK67B,SAAS58B,QAAS,8DAU3B,IATA,IAAI2xF,EAAW,CACXT,SAAUF,EAAc,GAAI5F,EAAO,IAAI35E,MAAM1Q,KAAKu7B,SAASt8B,UAAU,GAAOC,KAAI,SAAUwc,GAAK,OAAO,CAAG,IACzG00E,WAAYH,EAAc,GAAI5F,EAAO,IAAI35E,MAAM1Q,KAAKu7B,SAASt8B,UAAU,GAAOC,KAAI,SAAUwc,GAAK,OAAO,CAAG,KAG3GyoC,EAAUnkD,KAAKmkD,QACf5oB,EAAWv7B,KAAKu7B,SAChB82D,EAAUryF,KAAKqwF,cACfiC,EAAMtyF,KAAK67B,SACNz8B,EAAI,EAAGA,EAAI+kD,EAAQllD,OAAQG,GAAK,EAAG,CACxC,IAAImzF,EAAKpuC,EAAQ/kD,EAAI,GACjBozF,EAAKruC,EAAQ/kD,EAAI,GACjBqzF,EAAKtuC,EAAQ/kD,EAAI,GACjBszF,EAAOn3D,EAAc,EAALg3D,EAAS,GACzBI,EAAOp3D,EAAc,EAALg3D,EAAS,GACzBK,EAAOr3D,EAAc,EAALg3D,EAAS,GACzBM,EAAQP,EAAS,EAALC,EAAS,GACrBO,EAAQR,EAAS,EAALC,EAAS,GACrBQ,EAAOx3D,EAAc,EAALi3D,EAAS,GACzBQ,EAAOz3D,EAAc,EAALi3D,EAAS,GACzBS,EAAO13D,EAAc,EAALi3D,EAAS,GACzBU,EAAQZ,EAAS,EAALE,EAAS,GACrBW,EAAQb,EAAS,EAALE,EAAS,GAMrBY,EAAcL,EAAOL,EACrBW,EAAcL,EAAOL,EACrBW,EAAcL,EAAOL,EACrBW,EAROh4D,EAAc,EAALk3D,EAAS,GAQJC,EACrBc,EAROj4D,EAAc,EAALk3D,EAAS,GAQJE,EACrBc,EAROl4D,EAAc,EAALk3D,EAAS,GAQJG,EACrBc,EAAgBR,EAAQL,EACxBc,EAAgBR,EAAQL,EACxBc,EAVQtB,EAAS,EAALG,EAAS,GAUGI,EACxBgB,EAVQvB,EAAS,EAALG,EAAS,GAUGK,EACxBgB,EAAOJ,EAAgBG,EAAgBF,EAAgBC,EACvDrvE,EAAI,EAAM5jB,KAAK8R,IAAIqhF,EAAO,KAAS,EAAMA,GAEzCC,GAAaX,EAAcS,EAAgBN,EAAcI,GAAiBpvE,EAC1EyvE,GAAaX,EAAcQ,EAAgBL,EAAcG,GAAiBpvE,EAC1E0vE,GAAaX,EAAcO,EAAgBJ,EAAcE,GAAiBpvE,EAE1E2vE,GAAeX,EAAcG,EAAgBN,EAAcQ,GAAiBrvE,EAC5E4vE,GAAeX,EAAcE,EAAgBL,EAAcO,GAAiBrvE,EAC5E6vE,GAAeX,EAAcC,EAAgBJ,EAAcM,GAAiBrvE,EAG5E8vE,EAAOhC,EAAa,EAALE,EAAS,GACxB+B,EAAOjC,EAAa,EAALE,EAAS,GACxBgC,EAAOlC,EAAa,EAALE,EAAS,GACxBiC,EAAOnC,EAAa,EAALG,EAAS,GACxBiC,EAAOpC,EAAa,EAALG,EAAS,GACxBkC,EAAOrC,EAAa,EAALG,EAAS,GACxBmC,EAAOtC,EAAa,EAALI,EAAS,GACxBmC,EAAOvC,EAAa,EAALI,EAAS,GACxBoC,EAAOxC,EAAa,EAALI,EAAS,GAExBqC,EAAWf,EAAYM,EAAOL,EAAYM,EAAOL,EAAYM,EAC7DQ,EAAWhB,EAAYS,EAAOR,EAAYS,EAAOR,EAAYS,EAC7DM,EAAWjB,EAAYY,EAAOX,EAAYY,EAAOX,EAAYY,EAC7DI,EAAgBlB,EAAYM,EAAOS,EACnCI,EAAgBlB,EAAYM,EAAOQ,EACnCK,EAAgBlB,EAAYM,EAAOO,EACnCM,GAAgBrB,EAAYS,EAAOO,EACnCM,GAAgBrB,EAAYS,EAAOM,EACnCO,GAAgBrB,EAAYS,EAAOK,EACnCQ,GAAgBxB,EAAYY,EAAOK,EACnCQ,GAAgBxB,EAAYY,EAAOI,EACnCS,GAAgBxB,EAAYY,EAAOG,EACnCU,GAAc/0F,KAAKwnB,KAAK8sE,EAAgBA,EAAgBC,EAAgBA,EAAgBC,EAAgBA,GACxGQ,GAAch1F,KAAKwnB,KAAKitE,GAAgBA,GAAgBC,GAAgBA,GAAgBC,GAAgBA,IACxGM,GAAcj1F,KAAKwnB,KAAKotE,GAAgBA,GAAgBC,GAAgBA,GAAgBC,GAAgBA,IAExGI,GAAY3B,EAAcG,EAAOF,EAAcG,EAAOF,EAAcG,EACpEuB,GAAY5B,EAAcM,EAAOL,EAAcM,EAAOL,EAAcM,EACpEqB,GAAY7B,EAAcS,EAAOR,EAAcS,EAAOR,EAAcS,EACpEmB,GAAkB9B,EAAcG,EAAOwB,GACvCI,GAAkB9B,EAAcG,EAAOuB,GACvCK,GAAkB9B,EAAcG,EAAOsB,GACvCM,GAAkBjC,EAAcM,EAAOsB,GACvCM,GAAkBjC,EAAcM,EAAOqB,GACvCO,GAAkBjC,EAAcM,EAAOoB,GACvCQ,GAAkBpC,EAAcS,EAAOoB,GACvCQ,GAAkBpC,EAAcS,EAAOmB,GACvCS,GAAkBpC,EAAcS,EAAOkB,GACvCU,GAAgB91F,KAAKwnB,KAAK6tE,GAAkBA,GAAkBC,GAAkBA,GAAkBC,GAAkBA,IACpHQ,GAAgB/1F,KAAKwnB,KAAKguE,GAAkBA,GAAkBC,GAAkBA,GAAkBC,GAAkBA,IACpHM,GAAgBh2F,KAAKwnB,KAAKmuE,GAAkBA,GAAkBC,GAAkBA,GAAkBC,GAAkBA,IACxH5F,EAAST,SAAc,EAALoC,EAAS,IAAM0C,EAAgBS,GACjD9E,EAAST,SAAc,EAALoC,EAAS,IAAM2C,EAAgBQ,GACjD9E,EAAST,SAAc,EAALoC,EAAS,IAAM4C,EAAgBO,GACjD9E,EAAST,SAAc,EAALqC,EAAS,IAAM4C,GAAgBO,GACjD/E,EAAST,SAAc,EAALqC,EAAS,IAAM6C,GAAgBM,GACjD/E,EAAST,SAAc,EAALqC,EAAS,IAAM8C,GAAgBK,GACjD/E,EAAST,SAAc,EAALsC,EAAS,IAAM8C,GAAgBK,GACjDhF,EAAST,SAAc,EAALsC,EAAS,IAAM+C,GAAgBI,GACjDhF,EAAST,SAAc,EAALsC,EAAS,IAAMgD,GAAgBG,GACjDhF,EAASR,WAAgB,EAALmC,EAAS,IAAMyD,GAAkBS,GACrD7F,EAASR,WAAgB,EAALmC,EAAS,IAAM0D,GAAkBQ,GACrD7F,EAASR,WAAgB,EAALmC,EAAS,IAAM2D,GAAkBO,GACrD7F,EAASR,WAAgB,EAALoC,EAAS,IAAM2D,GAAkBO,GACrD9F,EAASR,WAAgB,EAALoC,EAAS,IAAM4D,GAAkBM,GACrD9F,EAASR,WAAgB,EAALoC,EAAS,IAAM6D,GAAkBK,GACrD9F,EAASR,WAAgB,EAALqC,EAAS,IAAM6D,GAAkBK,GACrD/F,EAASR,WAAgB,EAALqC,EAAS,IAAM8D,GAAkBI,GACrD/F,EAASR,WAAgB,EAALqC,EAAS,IAAM+D,GAAkBG,EAEzD,CACA32F,KAAKmwF,SAAWS,EAAST,SACzBnwF,KAAKowF,WAAaQ,EAASR,UAC/B,EAMAhJ,EAAKr0E,UAAU6jF,eAAiB,SAAUC,GACtC,IAAIC,EAAK/O,EACL5mD,EAAWnhC,KAAKu7B,SAASt8B,OAAS,EAClCs1B,EAAS,IAAIsa,YAAYgoD,EAAOl0C,OAASxhB,GAC7C5M,EAAO4M,SAAWA,EAElB,IADA,IAAI41D,EAAW,IAAIC,SAASziE,GACnBn1B,EAAI,EAAG63F,EAAe,EAAG73F,EAAI+hC,EAAU/hC,IAAK,CACjD63F,EAAe73F,EAAIy3F,EAAOl0C,OAC1B,IAGI,IAAK,IAAIslC,GAAM6O,OAAM,EAAQtP,EAASqP,EAAOr3C,aAAc03C,EAAKjP,EAAGnlE,QAASo0E,EAAGvxB,KAAMuxB,EAAKjP,EAAGnlE,OAAQ,CACjG,IAAI6kE,EAAYuP,EAAGhnF,MACf5J,EAAS2wF,EAAeJ,EAAO3O,aAAaP,EAAU9+E,KAAKvC,OAC/D,OAAQqhF,EAAU9+E,KACd,KAAK89E,EAASC,OAAO8B,SAAS7/E,IAC1BkuF,EAASI,WAAW7wF,EAAQtG,KAAKu7B,SAAa,EAAJn8B,IAAQ,GAClD23F,EAASI,WAAW7wF,EAAS,EAAGtG,KAAKu7B,SAAa,EAAJn8B,EAAQ,IAAI,GAC1D23F,EAASI,WAAW7wF,EAAS,EAAGtG,KAAKu7B,SAAa,EAAJn8B,EAAQ,IAAI,GAC1D,MACJ,KAAKunF,EAASC,OAAOiC,GAAGhgF,IACpBkuF,EAASI,WAAW7wF,EAAQtG,KAAK67B,SAAa,EAAJz8B,IAAQ,GAClD23F,EAASI,WAAW7wF,EAAS,EAAGtG,KAAK67B,SAAa,EAAJz8B,EAAQ,IAAI,GAC1D,MACJ,KAAKunF,EAASC,OAAO9+B,OAAOj/C,IACxBkuF,EAASI,WAAW7wF,EAAQtG,KAAKqwF,cAAkB,EAAJjxF,IAAQ,GACvD23F,EAASI,WAAW7wF,EAAS,EAAGtG,KAAKqwF,cAAkB,EAAJjxF,EAAQ,IAAI,GAC/D23F,EAASI,WAAW7wF,EAAS,EAAGtG,KAAKqwF,cAAkB,EAAJjxF,EAAQ,IAAI,GAC/D,MACJ,KAAKunF,EAASC,OAAOkC,eAAejgF,IAChCkuF,EAASK,SAAS9wF,EAAQtG,KAAKiyF,sBAAsB7yF,IAAI,GACzD,MACJ,KAAKunF,EAASC,OAAOqC,QAAQpgF,IACzB,IAAIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,GAE/C,KADIk4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAAS/M,QAAQ,IAAI,GACjDwM,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS/M,QAAQ,IAAI,GACrDwM,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS/M,QAAQ,IAAI,GACrD,MAEJ,KAAK5D,EAASC,OAAOsC,QAAQrgF,IAGzB,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAAS9wD,QAAQ,IAAI,GACjDuwD,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS9wD,QAAQ,IAAI,GACrDuwD,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS9wD,QAAQ,IAAI,GACrD,MAEJ,KAAKmgD,EAASC,OAAOuC,SAAStgF,IAG1B,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAASvwD,SAAS,IAAI,GAClDgwD,EAASI,WAAW7wF,EAAS,EAAGgxF,EAASvwD,SAAS,IAAI,GACtDgwD,EAASI,WAAW7wF,EAAS,EAAGgxF,EAASvwD,SAAS,IAAI,GACtD,MAEJ,KAAK4/C,EAASC,OAAOwC,kBAAkBvgF,IAGnC,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAAS3wD,kBAAkB,GACvD,MAEJ,KAAKggD,EAASC,OAAOyC,SAASxgF,IAG1B,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAAS9M,SAAS,IAAI,GAClDuM,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS9M,SAAS,IAAI,GACtDuM,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS9M,SAAS,IAAI,GACtD,MAEJ,KAAK7D,EAASC,OAAO0C,oBAAoBzgF,IAGrC,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAAS7M,mBAAmB,IAAI,GAC5DsM,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS7M,mBAAmB,IAAI,GAChEsM,EAASI,WAAW7wF,EAAS,EAAGgxF,EAAS7M,mBAAmB,IAAI,GAChE,MAEJ,KAAK9D,EAASC,OAAO2C,SAAS1gF,IAG1B,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAAS5M,UAAU,GAC/C,MAEJ,KAAK/D,EAASC,OAAO4C,aAAa3gF,IAG9B,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASK,SAAS9wF,EAAQgxF,EAAS1M,cAAc,GACjD,MAEJ,KAAKjE,EAASC,OAAO6C,iBAAiB5gF,IAGlC,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAASzM,iBAAiB,GACtD,MAEJ,KAAKlE,EAASC,OAAO8C,UAAU7gF,IAG3B,GAFIwuF,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASI,WAAW7wF,EAAQgxF,EAASxM,WAAW,GAChD,MAEJ,KAAKnE,EAASC,OAAOoD,cAAcnhF,IAC/B,IACIyuF,EACJ,GAFID,EAAgBr3F,KAAKiyF,sBAAsB7yF,KAC3Ck4F,EAAWt3F,KAAKkmC,iBAAiBmxD,IACtB,CACXx3F,QAAQs9C,KAAK,aACTn9C,KAAKkyF,cAAcmF,GACnB,yEACJ,KACJ,CACAN,EAASK,SAAS9wF,EAAQgxF,EAASvL,aAAe,EAAI,GAAG,GAIrE,CACJ,CACA,MAAOwL,GAAST,EAAM,CAAEn0E,MAAO40E,EAAS,CACxC,QACI,IACQL,IAAOA,EAAGvxB,OAASoiB,EAAKE,EAAW,SAAIF,EAAG19E,KAAK49E,EACvD,CACA,QAAU,GAAI6O,EAAK,MAAMA,EAAIn0E,KAAO,CACxC,CACJ,CACA,OAAO4R,CACX,EACA6yD,EAAKr0E,UAAUykF,oBAAsB,WACjC,IAAIjjE,EAAS,IAAIy6B,YAAYhvD,KAAKmkD,SAElC,OADA5vB,EAAO4M,SAAWnhC,KAAKmkD,QAAQllD,OACxBs1B,CACX,EACA6yD,EAAKr0E,UAAU0kF,gCAAkC,WAI7C,IAHA,IAAI1P,EACA97E,EAAQjM,KACR+wF,EAAkB,GACblM,EAAK,EAAGA,EAAKl6E,UAAU1L,OAAQ4lF,IACpCkM,EAAgBlM,GAAMl6E,UAAUk6E,GAEpC,IAAI1gC,GAAW4jC,EAAK,IAAIr3E,OAAS8U,OAAO6iB,MAAM0/C,EAAIkI,EAAc,GAAI5F,EAAO0G,EAAgB7xF,KAAI,SAAUw4F,GAAU,OAAOzrF,EAAMg6B,mBAAmByxD,EAAS,MAAK,IAC7JnjE,EAAS,IAAIy6B,YAAY7K,GAE7B,OADA5vB,EAAO4M,SAAWgjB,EAAQllD,OACnBs1B,CACX,EACA6yD,EAAKr0E,UAAU4kF,mBAAqB,SAAU9vD,GAC1C,IAAK,IAAI+vD,KAAU/vD,EAAI0kD,UACnB,GAAMqL,KAAU53F,KAAK+wF,gBAArB,CAIA,IAAIuG,EAAWzvD,EAAI0kD,UAAUqL,GAEzBP,EAAgBr3F,KAAK+wF,gBAAgBuG,EAASvhF,MAGlD/V,KAAKkmC,iBAAiBmxD,GAAiBC,CANvC,CAQR,EACOlQ,CACX,CAnpByB,GAqpBzB,SAASsK,EAAYJ,GACjB,IAAIlyF,EACJ,OAAOswF,EAAY1vF,MAAM,SAAU+nF,GAC/B,OAAQA,EAAGjuE,OACP,KAAK,EACD,OAAMw3E,EAASryF,QAAU,EAClB,CAAC,EAAaqyF,GADe,CAAC,EAAa,GAEtD,KAAK,EAED,OADAvJ,EAAG6H,OACI,CAAC,EAAa,GACzB,KAAK,EACD,OAA0B,IAApB0B,EAASryF,OAAsB,CAAC,EAAa,GAC5C,CAAC,EAAa,CAACqyF,EAAS,GAAIA,EAAS,GAAIA,EAAS,KAC7D,KAAK,EAED,OADAvJ,EAAG6H,OACI,CAAC,EAAa,CAAC0B,EAAS,GAAIA,EAAS,GAAIA,EAAS,KAC7D,KAAK,EAED,OADAvJ,EAAG6H,OACI,CAAC,EAAa,GACzB,KAAK,EACDxwF,EAAI,EACJ2oF,EAAGjuE,MAAQ,EACf,KAAK,EACD,OAAM1a,EAAIkyF,EAASryF,OAAS,EACrB,CAAC,EAAa,CAACqyF,EAAS,GAAIA,EAASlyF,GAAIkyF,EAASlyF,EAAI,KADtB,CAAC,EAAa,GAEzD,KAAK,EACD2oF,EAAG6H,OACH7H,EAAGjuE,MAAQ,EACf,KAAK,EAED,OADA1a,IACO,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExB,GACJ,CAnCAX,EAAiB,QAAI2oF,qCC3tBrB,IAAII,EACDxnF,MAAQA,KAAKwnF,UACd,SAAU52E,GACR,IAAImG,EAAsB,mBAAX62B,QAAyBA,OAAO65C,SAC7Cx2E,EAAI8F,GAAKnG,EAAEmG,GACX3X,EAAI,EACN,GAAI6R,EAAG,OAAOA,EAAE5G,KAAKuG,GACrB,GAAIA,GAAyB,iBAAbA,EAAE3R,OAChB,MAAO,CACL6jB,KAAM,WAEJ,OADIlS,GAAKxR,GAAKwR,EAAE3R,SAAQ2R,OAAI,GACrB,CAAEV,MAAOU,GAAKA,EAAExR,KAAMumE,MAAO/0D,EACtC,GAEJ,MAAM,IAAI09B,UAAUv3B,EAAI,0BAA4B,kCACtD,EACEszE,EACDrqF,MAAQA,KAAKqqF,QACd,SAAUz5E,EAAGiH,GACX,IAAI5G,EAAsB,mBAAX28B,QAAyBh9B,EAAEg9B,OAAO65C,UACjD,IAAKx2E,EAAG,OAAOL,EACf,IACE2T,EAEAnB,EAHEhkB,EAAI6R,EAAE5G,KAAKuG,GAEb05E,EAAK,GAEP,IACE,WAAc,IAANzyE,GAAgBA,KAAM,MAAQ0M,EAAInlB,EAAE0jB,QAAQ6iD,MAAM2kB,EAAG7/E,KAAK8Z,EAAErU,MACtE,CAAE,MAAOyS,GACPS,EAAI,CAAET,MAAOA,EACf,CAAE,QACA,IACM4B,IAAMA,EAAEohD,OAAS10D,EAAI7R,EAAU,SAAI6R,EAAE5G,KAAKjL,EAChD,CAAE,QACA,GAAIgkB,EAAG,MAAMA,EAAET,KACjB,CACF,CACA,OAAO2nE,CACT,EACF7rF,EAAQipD,YAAa,EACrBjpD,EAAQ0oF,kBACN1oF,EAAQinC,gBACRjnC,EAAQwoC,aACRxoC,EAAQyoF,eACRzoF,EAAQwoF,eACRxoF,EAAQwpC,2BACN,EACJ,IAAIs+C,EAAS,EAAQ,MACjBC,EAAa,EAAQ,MACzB,SAASqR,EAAoB5mE,EAAI6mE,GAC/B,IAAI98D,EAAU/J,EAAG8mE,gBAGjB,OAFA9mE,EAAG4U,YAAY5U,EAAG6U,WAAY9K,GAC9B/J,EAAG+mE,WAAW/mE,EAAG6U,WAAY,EAAG7U,EAAGgnE,KAAM,EAAG,EAAG,EAAGhnE,EAAGgnE,KAAMhnE,EAAGinE,cAAe,IAAIlzF,WAAW8yF,IACrF98D,CACT,CACA,SAAS+M,EAAoB9W,EAAI4W,EAAKqqB,GACpC,IAAI41B,EAAKC,EACLoQ,EAAgB,CAAC,aAAc,aAAc,cAAe,cAAe,UAAW,kBAAmB,WAAY,eACpHjmC,EAAKkmC,SAAS,OACjBlmC,GAAQ,KAEV,IAAIr2B,EAAW,GACf,IAAK,IAAI21D,KAAgB3pD,EAAI0kD,UAC3B,GAAK1kD,EAAI0kD,UAAUj0E,eAAek5E,GAAlC,CAGA,IAAI8F,EAAWzvD,EAAI0kD,UAAUiF,GACzB6G,EAAU,SAAUj3C,GACtB,IAAIk3C,EAAUhB,EAASl2C,GACvB,IAAKk3C,IAAYA,EAAQzoE,SACvB,MAAO,WAET,IAAIqJ,EAAMg5B,EAAOomC,EAAQzoE,SACzBgM,EAASpxB,KACPm3B,MAAM1I,GACH3zB,MAAK,SAAUs8B,GACd,IAAKA,EAASC,GACZ,MAAM,IAAInvB,MAEZ,OAAOkvB,EAAS5I,MAClB,IACC1zB,MAAK,SAAUwF,GACd,IAAIwtF,EAAQ,IAAIC,MAChBD,EAAM9/D,IAAMU,IAAIC,gBAAgBruB,GAChCutF,EAAQt9D,QAAUu9D,EAClB,IAAIv9D,EAAU68D,EAAoB5mE,EAAI,CAAC,IAAK,IAAK,GAAI,MAcrD,OAbAqnE,EAAQzxD,UAAY7L,EAEpB/J,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAGynE,eAAgBznE,EAAG0nE,eACtD1nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG2nE,eAAgB3nE,EAAG0nE,eACtD1nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG4nE,mBAAoB5nE,EAAG6nE,SAC1D7nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG8nE,mBAAoB9nE,EAAG6nE,SAC1D7nE,EAAG4U,YAAY5U,EAAG6U,WAAYwyD,EAAQzxD,WACtC5V,EAAG+mE,WAAW/mE,EAAG6U,WAAY,EAAG7U,EAAGgnE,KAAMhnE,EAAGgnE,KAAMhnE,EAAGinE,cAAeI,EAAQt9D,SAE5Eu9D,EAAM58C,OAAS,WACb1qB,EAAG4U,YAAY5U,EAAG6U,WAAYwyD,EAAQzxD,WACtC5V,EAAG+mE,WAAW/mE,EAAG6U,WAAY,EAAG7U,EAAGgnE,KAAMhnE,EAAGgnE,KAAMhnE,EAAGinE,cAAeI,EAAQt9D,QAC9E,EACO,IAAIn0B,SAAQ,SAAUmB,GAC3B,OAAQuwF,EAAM58C,OAAS,WACrB,OAAO3zC,EAAQswF,EACjB,CACF,GACF,IACQ,OAAE,WACRz4F,QAAQ8iB,MAAM,+BAA+B6C,OAAO0T,GACtD,IAEN,EACA,IACE,IACE,IAAI8/D,GAAoBlR,OAAM,EAASN,EAAS2Q,IAAiBc,EAAoBD,EAAgBl2E,QACpGm2E,EAAkBtzB,KACnBszB,EAAoBD,EAAgBl2E,OAGpCu1E,EADWY,EAAkB/oF,MAGjC,CAAE,MAAOo4E,GACPR,EAAM,CAAEnlE,MAAO2lE,EACjB,CAAE,QACA,IACM2Q,IAAsBA,EAAkBtzB,OAASoiB,EAAKiR,EAAwB,SAAIjR,EAAG19E,KAAK2uF,EAChG,CAAE,QACA,GAAIlR,EAAK,MAAMA,EAAInlE,KACrB,CACF,CA9DA,CAgEF,OAAO9b,QAAQC,IAAI+0B,EACrB,CACA,SAASq9D,EAA2BjoE,EAAI4W,EAAKqqB,EAAMxtD,GACjD,IAAIojF,EAAKC,EACLoQ,EAAgB,CAAC,aAAc,aAAc,cAAe,cAAe,UAAW,kBAAmB,WAAY,eACpHjmC,EAAKkmC,SAAS,OACjBlmC,GAAQ,KAEV,IAAIr2B,EAAW,GACf,IAAK,IAAI21D,KAAgB3pD,EAAI0kD,UAC3B,GAAK1kD,EAAI0kD,UAAUj0E,eAAek5E,GAAlC,CAGA,IAAI8F,EAAWzvD,EAAI0kD,UAAUiF,GACzB6G,EAAU,SAAUj3C,GACtB,IAAIk3C,EAAUhB,EAASl2C,GACvB,IAAKk3C,IAAYA,EAAQzoE,SACvB,MAAO,WAET,IAAIqJ,EAAMg5B,EAAOomC,EAAQzoE,SACzBgM,EAASpxB,KACP/F,EACGm0B,KAAKK,GACLJ,MAAM,eACNvzB,MAAK,SAAU4zF,GACd,IAAI5kE,EAAS,IAAIvvB,WAAWm0F,GAC5B,OAAO,IAAIngE,KAAK,CAACzE,EAAOA,QAC1B,IACChvB,MAAK,SAAUwF,GACd,IAAIwtF,EAAQ,IAAIC,MAChBD,EAAM9/D,IAAMU,IAAIC,gBAAgBruB,GAChCutF,EAAQt9D,QAAUu9D,EAClB,IAAIv9D,EAAU68D,EAAoB5mE,EAAI,CAAC,IAAK,IAAK,GAAI,MAcrD,OAbAqnE,EAAQzxD,UAAY7L,EAEpB/J,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAGynE,eAAgBznE,EAAG0nE,eACtD1nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG2nE,eAAgB3nE,EAAG0nE,eACtD1nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG4nE,mBAAoB5nE,EAAG6nE,SAC1D7nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG8nE,mBAAoB9nE,EAAG6nE,SAC1D7nE,EAAG4U,YAAY5U,EAAG6U,WAAYwyD,EAAQzxD,WACtC5V,EAAG+mE,WAAW/mE,EAAG6U,WAAY,EAAG7U,EAAGgnE,KAAMhnE,EAAGgnE,KAAMhnE,EAAGinE,cAAeI,EAAQt9D,SAE5Eu9D,EAAM58C,OAAS,WACb1qB,EAAG4U,YAAY5U,EAAG6U,WAAYwyD,EAAQzxD,WACtC5V,EAAG+mE,WAAW/mE,EAAG6U,WAAY,EAAG7U,EAAGgnE,KAAMhnE,EAAGgnE,KAAMhnE,EAAGinE,cAAeI,EAAQt9D,QAC9E,EACO,IAAIn0B,SAAQ,SAAUmB,GAC3B,OAAQuwF,EAAM58C,OAAS,WACrB,OAAO3zC,EAAQswF,EACjB,CACF,GACF,IACQ,OAAE,WACRz4F,QAAQ8iB,MAAM,wCAAwC6C,OAAO0T,GAC/D,IAEN,EACA,IACE,IACE,IAAI8/D,GAAoBlR,OAAM,EAASN,EAAS2Q,IAAiBc,EAAoBD,EAAgBl2E,QACpGm2E,EAAkBtzB,KACnBszB,EAAoBD,EAAgBl2E,OAGpCu1E,EADWY,EAAkB/oF,MAGjC,CAAE,MAAOo4E,GACPR,EAAM,CAAEnlE,MAAO2lE,EACjB,CAAE,QACA,IACM2Q,IAAsBA,EAAkBtzB,OAASoiB,EAAKiR,EAAwB,SAAIjR,EAAG19E,KAAK2uF,EAChG,CAAE,QACA,GAAIlR,EAAK,MAAMA,EAAInlE,KACrB,CACF,CA9DA,CAgEF,OAAO9b,QAAQC,IAAI+0B,EACrB,CACA,SAASu9D,EAAOC,GACd,MAAkC,iBAArBA,EAAaxxD,IACjBwxD,EAAatpF,IAAI4D,QAAQ,SAAU,QAErC0lF,EAAaxxD,GACtB,CAiTA,SAASZ,EAAahW,EAAIva,EAAM3L,EAAMuuF,GACpC,IAAI/kE,EAAStD,EAAG4N,eACZkQ,EAAYr4B,IAASua,EAAGsoE,aAAe3wD,aAAeomB,YAK1D,OAJA/9B,EAAGyP,WAAWhqB,EAAM6d,GACpBtD,EAAGuoE,WAAW9iF,EAAM,IAAIq4B,EAAUhkC,GAAOkmB,EAAG4O,aAC5CtL,EAAO+kE,SAAWA,EAClB/kE,EAAO4M,SAAWp2B,EAAK9L,OAASq6F,EACzB/kE,CACT,CAxEA91B,EAAQwpC,sBAhGR,SAA+BhX,EAAIiX,EAAQxjC,GACzC,IAAIsjF,EAAKD,EACL0R,EAAW,GACXC,EAAU,SAAU/xD,GACtB,IAAKA,EAAM53B,IACT,MAAM,IAAI4C,MAAM,iHAElB,IAAI7P,EAAU,CACZmjC,qBAAsB0B,EAAM1B,mBAC5BksD,4BAA6BxqD,EAAMwqD,2BAGjC/kD,EAAQzF,EAAM53B,IAAIjR,MAAM,KACxB84F,EAASxqD,EAAMA,EAAMnuC,OAAS,GAAG0U,QAAQ,OAAQ,IACjDgmF,EAAc9yF,QAAQmB,QAAQ4vF,GAC9BgC,EAAcl1F,EACfm0B,KAAK,UAAU++D,SACf9+D,MAAM,UACNvzB,MAAK,SAAUwF,GACd,OAAO,IAAIw7E,EAAgB,QAAEx7E,EAAMjI,EACrC,IACE+2F,OAAa,EAEjB,GAAIlyD,EAAME,IAAK,CACb,IAAIiyD,EAAQV,EAAOzxD,GACnBkyD,EAAan1F,EACVm0B,KAAK,UAAU++D,SACf9+D,MAAM,UACNvzB,MAAK,SAAUwF,GACd,IAAIusF,EAAW,IAAI9Q,EAAWE,gBAAgB37E,GAC9C,IAAkC,IAA9B48B,EAAMI,oBAA+B,CACvC,IAAImqB,EAAOvqB,EAAMG,eASjB,OARKoqB,IAEHA,EAAO4nC,EAAMhoF,OAAO,EAAGgoF,EAAMlpD,YAAY,OAMpC/pC,QAAQC,IAAI,CAACD,QAAQmB,QAAQsvF,GAAW4B,EAA2BjoE,EAAIqmE,EAAUplC,EAAMxtD,IAChG,CACA,OAAOmC,QAAQC,IAAI,CAACD,QAAQmB,QAAQsvF,QAAWpiF,GACjD,IACC3P,MAAK,SAAU2K,GACd,OAAOA,CACT,GACJ,CACA,IAAIwf,EAAS,CAACiqE,EAAaC,EAAaC,GACxCJ,EAAShvF,KAAK5D,QAAQC,IAAI4oB,GAC5B,EACA,IACE,IAAK,IAAIqqE,EAAWvS,EAASt/C,GAAS8xD,EAAaD,EAASj3E,QAASk3E,EAAWr0B,KAAMq0B,EAAaD,EAASj3E,OAE1G42E,EADYM,EAAW9pF,MAG3B,CAAE,MAAOu4E,GACPT,EAAM,CAAErlE,MAAO8lE,EACjB,CAAE,QACA,IACMuR,IAAeA,EAAWr0B,OAASoiB,EAAKgS,EAAiB,SAAIhS,EAAG19E,KAAK0vF,EAC3E,CAAE,QACA,GAAI/R,EAAK,MAAMA,EAAIrlE,KACrB,CACF,CACA,OAAO9b,QAAQC,IAAI2yF,GAAUl0F,MAAK,SAAU00F,GAC1C,IAAInD,EAAK/O,EAIL7/C,EAAS,CAAC,EACd,IACE,IAAK,IAAIgyD,EAAO1S,EAASyS,GAAKE,EAASD,EAAKp3E,QAASq3E,EAAOx0B,KAAMw0B,EAASD,EAAKp3E,OAAQ,CACtF,IAAI6kB,EAAQwyD,EAAOjqF,MACf+3E,EAAKoC,EAAO1iD,EAAO,GACrByyD,EAASnS,EAAG,GACZ7iD,EAAO6iD,EAAG,GACVpgD,EAAMogD,EAAG,GACX7iD,EAAKrvB,KAAOqkF,EACRvyD,GACFzC,EAAKuyD,mBAAmB9vD,EAAI,IAE9BK,EAAOkyD,GAAUh1D,CACnB,CACF,CAAE,MAAOmyD,GACPT,EAAM,CAAEn0E,MAAO40E,EACjB,CAAE,QACA,IACM4C,IAAWA,EAAOx0B,OAASoiB,EAAKmS,EAAa,SAAInS,EAAG19E,KAAK6vF,EAC/D,CAAE,QACA,GAAIpD,EAAK,MAAMA,EAAIn0E,KACrB,CACF,CACA,OAAOulB,CACT,GACF,EAEAzpC,EAAQwoF,eAtMR,SAAwBh2D,EAAIiX,GAC1B,IAAI8/C,EAAKD,EACL0R,EAAW,GACXC,EAAU,SAAU/xD,GACtB,IAAKA,EAAM53B,IACT,MAAM,IAAI4C,MAAM,iHAElB,IAAI7P,EAAU,CACZmjC,qBAAsB0B,EAAM1B,mBAC5BksD,4BAA6BxqD,EAAMwqD,2BAGjCyF,EAASjwD,EAAM5xB,KACnB,IAAK6hF,EAAQ,CACX,IAAIxqD,EAAQzF,EAAM53B,IAAIjR,MAAM,KAC5B84F,EAASxqD,EAAMA,EAAMnuC,OAAS,GAAG0U,QAAQ,OAAQ,GACnD,CACA,IAAIgmF,EAAc9yF,QAAQmB,QAAQ4vF,GAC9BgC,EAAch4D,MAAM+F,EAAM53B,KAC3BxK,MAAK,SAAUs8B,GACd,OAAOA,EAAS7+B,MAClB,IACCuC,MAAK,SAAUwF,GACd,OAAO,IAAIw7E,EAAgB,QAAEx7E,EAAMjI,EACrC,IACE+2F,OAAa,EAEjB,GAAIlyD,EAAME,IAAK,CACb,IAAIiyD,EAAQV,EAAOzxD,GACnBkyD,EAAaj4D,MAAMk4D,GAChBv0F,MAAK,SAAUs8B,GACd,OAAOA,EAAS7+B,MAClB,IACCuC,MAAK,SAAUwF,GACd,IAAIusF,EAAW,IAAI9Q,EAAWE,gBAAgB37E,GAC9C,IAAkC,IAA9B48B,EAAMI,oBAA+B,CACvC,IAAImqB,EAAOvqB,EAAMG,eASjB,OARKoqB,IAEHA,EAAO4nC,EAAMhoF,OAAO,EAAGgoF,EAAMlpD,YAAY,OAMpC/pC,QAAQC,IAAI,CAACD,QAAQmB,QAAQsvF,GAAWvvD,EAAoB9W,EAAIqmE,EAAUplC,IACnF,CACA,OAAOrrD,QAAQC,IAAI,CAACD,QAAQmB,QAAQsvF,QAAWpiF,GACjD,IACC3P,MAAK,SAAU2K,GACd,OAAOA,CACT,GACJ,CACA,IAAIwf,EAAS,CAACiqE,EAAaC,EAAaC,GACxCJ,EAAShvF,KAAK5D,QAAQC,IAAI4oB,GAC5B,EACA,IACE,IAAK,IAAIqqE,EAAWvS,EAASt/C,GAAS8xD,EAAaD,EAASj3E,QAASk3E,EAAWr0B,KAAMq0B,EAAaD,EAASj3E,OAE1G42E,EADYM,EAAW9pF,MAG3B,CAAE,MAAOu4E,GACPT,EAAM,CAAErlE,MAAO8lE,EACjB,CAAE,QACA,IACMuR,IAAeA,EAAWr0B,OAASoiB,EAAKgS,EAAiB,SAAIhS,EAAG19E,KAAK0vF,EAC3E,CAAE,QACA,GAAI/R,EAAK,MAAMA,EAAIrlE,KACrB,CACF,CACA,OAAO9b,QAAQC,IAAI2yF,GAAUl0F,MAAK,SAAU00F,GAC1C,IAAInD,EAAK/O,EAIL7/C,EAAS,CAAC,EACd,IACE,IAAK,IAAIgyD,EAAO1S,EAASyS,GAAKE,EAASD,EAAKp3E,QAASq3E,EAAOx0B,KAAMw0B,EAASD,EAAKp3E,OAAQ,CACtF,IAAI6kB,EAAQwyD,EAAOjqF,MACf+3E,EAAKoC,EAAO1iD,EAAO,GACrByyD,EAASnS,EAAG,GACZ7iD,EAAO6iD,EAAG,GACVpgD,EAAMogD,EAAG,GACX7iD,EAAKrvB,KAAOqkF,EACRvyD,GACFzC,EAAKuyD,mBAAmB9vD,EAAI,IAE9BK,EAAOkyD,GAAUh1D,CACnB,CACF,CAAE,MAAOmyD,GACPT,EAAM,CAAEn0E,MAAO40E,EACjB,CAAE,QACA,IACM4C,IAAWA,EAAOx0B,OAASoiB,EAAKmS,EAAa,SAAInS,EAAG19E,KAAK6vF,EAC/D,CAAE,QACA,GAAIpD,EAAK,MAAMA,EAAIn0E,KACrB,CACF,CACA,OAAOulB,CACT,GACF,EAgKAzpC,EAAQyoF,eA5CR,SAAwBmT,EAAaC,EAAoBC,QACxCrlF,IAAXqlF,IACFA,EAAS,CAAC,GAEZ,IAAIt3F,EAAY,GACZu3F,EAAU,SAAUC,GACtB,IAAKJ,EAAY/hF,eAAemiF,GAC9B,MAAO,WAET,IAAIvhE,EAAMmhE,EAAYI,GACtBx3F,EAAUwH,KACRm3B,MAAM1I,GACH3zB,MAAK,SAAUs8B,GACd,OAAOA,EAAS7+B,MAClB,IACCuC,MAAK,SAAUwF,GACd,MAAO,CAAC0vF,EAAW,IAAIlU,EAAgB,QAAEx7E,GAC3C,IAEN,EACA,IAAK,IAAI0vF,KAAaJ,EACpBG,EAAQC,GAEV5zF,QAAQC,IAAI7D,GAAWsC,MAAK,SAAU00F,GACpC,IAAIS,EAAK3S,EACT,IACE,IAAK,IAAI4S,EAAOnT,EAASyS,GAAKW,EAASD,EAAK73E,QAAS83E,EAAOj1B,KAAMi1B,EAASD,EAAK73E,OAAQ,CACtF,IAAImlE,EAAKoC,EAAOuQ,EAAO1qF,MAAO,GAC5B2qF,EAAS5S,EAAG,GACZ7iD,EAAO6iD,EAAG,GACZsS,EAAOM,GAAUz1D,CACnB,CACF,CAAE,MAAO01D,GACPJ,EAAM,CAAE/3E,MAAOm4E,EACjB,CAAE,QACA,IACMF,IAAWA,EAAOj1B,OAASoiB,EAAK4S,EAAa,SAAI5S,EAAG19E,KAAKswF,EAC/D,CAAE,QACA,GAAID,EAAK,MAAMA,EAAI/3E,KACrB,CACF,CACA,OAAO23E,EAAmBC,EAC5B,GACF,EAWA97F,EAAQwoC,aAAeA,EAkFvBxoC,EAAQinC,gBAPR,SAAyBzU,EAAImU,GAK3B,OAJAA,EAAKiB,aAAeY,EAAahW,EAAIA,EAAGsoE,aAAcn0D,EAAKirD,cAAe,GAC1EjrD,EAAKgB,cAAgBa,EAAahW,EAAIA,EAAGsoE,aAAcn0D,EAAKvJ,SAAUuJ,EAAKkrD,eAC3ElrD,EAAKe,aAAec,EAAahW,EAAIA,EAAGsoE,aAAcn0D,EAAK7J,SAAU,GACrE6J,EAAKkC,YAAcL,EAAahW,EAAIA,EAAGiW,qBAAsB9B,EAAK+e,QAAS,GACpE/e,CACT,EAQA3mC,EAAQ0oF,kBANR,SAA2Bl2D,EAAImU,GAC7BnU,EAAG8pE,aAAa31D,EAAKiB,cACrBpV,EAAG8pE,aAAa31D,EAAKgB,eACrBnV,EAAG8pE,aAAa31D,EAAKe,cACrBlV,EAAG8pE,aAAa31D,EAAKkC,YACvB,YCtmBA,SAAS0zD,EAAoB5U,GAC5B,IAAIhjE,EAAI,IAAIzQ,MAAM,uBAAyByzE,EAAM,KAEjD,MADAhjE,EAAE6J,KAAO,mBACH7J,CACP,CACA43E,EAAoBpyF,KAAO,IAAM,GACjCoyF,EAAoBhzF,QAAUgzF,EAC9BA,EAAoB94F,GAAK,KACzB1D,EAAOC,QAAUu8F,yBCRjBx8F,EAAOC,QAAUgqC,QAAQ,WCCrBwyD,EAA2B,CAAC,EAGhC,SAAS3U,EAAoB4U,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBhmF,IAAjBimF,EACH,OAAOA,EAAa18F,QAGrB,IAAID,EAASy8F,EAAyBC,GAAY,CACjDh5F,GAAIg5F,EACJ/6F,QAAQ,EACR1B,QAAS,CAAC,GAUX,OANA28F,EAAoBF,GAAU7wF,KAAK7L,EAAOC,QAASD,EAAQA,EAAOC,QAAS6nF,GAG3E9nF,EAAO2B,QAAS,EAGT3B,EAAOC,OACf,CCxBA6nF,EAAoBzuE,EAAKrZ,IACxB,IAAI68F,EAAS78F,GAAUA,EAAOkpD,WAC7B,IAAOlpD,EAAiB,QACxB,IAAM,EAEP,OADA8nF,EAAoB17D,EAAEywE,EAAQ,CAAE9rF,EAAG8rF,IAC5BA,CAAM,ECLd/U,EAAoB17D,EAAI,CAACnsB,EAAS68F,KACjC,IAAI,IAAIzyF,KAAOyyF,EACXhV,EAAoB11E,EAAE0qF,EAAYzyF,KAASy9E,EAAoB11E,EAAEnS,EAASoK,IAC5EF,OAAOqqC,eAAev0C,EAASoK,EAAK,CAAEoqC,YAAY,EAAMz9B,IAAK8lF,EAAWzyF,IAE1E,ECNDy9E,EAAoB1qC,EAAI,WACvB,GAA0B,iBAAf2/C,WAAyB,OAAOA,WAC3C,IACC,OAAOv7F,MAAQ,IAAI2W,SAAS,cAAb,EAChB,CAAE,MAAOyM,GACR,GAAsB,iBAAXpd,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxBsgF,EAAoB11E,EAAI,CAACb,EAAK00C,IAAU97C,OAAOoK,UAAUuF,eAAejO,KAAK0F,EAAK00C,GCClF6hC,EAAoB/hE,EAAK9lB,IACH,oBAAXmvC,QAA0BA,OAAOiuC,aAC1ClzE,OAAOqqC,eAAev0C,EAASmvC,OAAOiuC,YAAa,CAAE3rE,MAAO,WAE7DvH,OAAOqqC,eAAev0C,EAAS,aAAc,CAAEyR,OAAO,GAAO,ECL9Do2E,EAAoBkV,IAAOh9F,IAC1BA,EAAOuvB,MAAQ,GACVvvB,EAAOmL,WAAUnL,EAAOmL,SAAW,IACjCnL,GCHR8nF,EAAoBmV,QAAKvmF,2HCEzB,SACE1T,OAAAA,EAAAA,GACAsqC,QAAAA,EAAAA,0KCUK,IAAM4vD,EAAb,WACE,WAAYC,EAAK9E,EAAQvuF,EAASW,EAAS2yF,EAAQz1F,gGAAS,SAC1DnG,KAAK27F,IAAMA,EACX37F,KAAKmG,QAAUA,EACfnG,KAAK4R,MAAQ+pF,EAAIE,OAAOjqF,MACxB5R,KAAK87F,OAASH,EAAIE,OAAOC,OACzB97F,KAAK62F,OAASA,EACd72F,KAAKsI,QAAUA,EACftI,KAAK47F,OAASA,EACd57F,KAAK2B,EAAI,EACT3B,KAAK4B,EAAI,EACT5B,KAAK+7F,GAAK,EACV/7F,KAAKg8F,GAAK,EACVh8F,KAAKmG,QAAQjH,IAAI,SAAW,EAC5Bc,KAAKmG,QAAQjH,IAAI,SAAW,EAC5Bc,KAAKmG,QAAQjH,IAAI,UAAY,EAC7Bc,KAAKmG,QAAQjH,IAAI,UAAY,EAC7Bc,KAAKiJ,QAAUA,EACfjJ,KAAKN,KAAOM,KAAKN,KAAK2C,KAAKrC,MAC3BA,KAAKi8F,KAAOj8F,KAAKi8F,KAAK55F,KAAKrC,KAC5B,SApBH,gCAsBE,WACE,IAAM62F,EAAkB72F,KAAlB62F,OAAQjlF,EAAU5R,KAAV4R,MACd5R,KAAK2B,EAAIiQ,EAAQilF,EAAOl1F,EACxB3B,KAAK4B,EAAIi1F,EAAOj1F,EAAK,EAAI5B,KAAK47F,OAAU,EACxC57F,KAAK+7F,GAAK/7F,KAAK2B,EACf3B,KAAKg8F,GAAKh8F,KAAK4B,EACf5B,KAAKmG,QAAQjH,IAAI,SAAW,EAC5Bc,KAAKmG,QAAQjH,IAAI,SAAW,EAC5Bc,KAAKmG,QAAQjH,IAAI,UAAY,EAC7Bc,KAAKmG,QAAQjH,IAAI,UAAY,CAC9B,GAhCH,kBAkCE,WACE,IAAMy8F,EAAQ37F,KAAR27F,IACNA,EAAIO,UAAYl8F,KAAKiJ,QAAQkzF,SAAS3iF,KACtCmiF,EAAIS,YACJT,EAAIU,IAAIr8F,KAAK2B,EAAG3B,KAAK4B,EAAG5B,KAAK47F,OAAQ,EAAG,EAAIj7F,KAAK+N,IAAI,GACrDitF,EAAI15E,OACJ05E,EAAIW,YAEJX,EAAIO,UAAYl8F,KAAKiJ,QAAQkzF,SAASI,KACtCZ,EAAIS,YACJT,EAAIU,IAAIr8F,KAAK2B,EAAG3B,KAAK4B,EAAG5B,KAAK47F,OAAS,EAAG,EAAG,EAAIj7F,KAAK+N,IAAI,GACzDitF,EAAI15E,OACJ05E,EAAIW,YAEJX,EAAIO,UAAYl8F,KAAKiJ,QAAQkzF,SAASK,MACtCb,EAAIS,YACJT,EAAIU,IAAIr8F,KAAK2B,EAAG3B,KAAK4B,EAAG,GAAI,EAAG,EAAIjB,KAAK+N,IAAI,GAC5CitF,EAAI15E,OACJ05E,EAAIW,YAEJX,EAAIO,UAAYl8F,KAAKiJ,QAAQkzF,SAASM,KACtCd,EAAIS,YACJT,EAAIU,IAAIr8F,KAAK+7F,GAAI/7F,KAAKg8F,GAAIh8F,KAAK47F,OAAS,GAAI,EAAG,EAAIj7F,KAAK+N,IAAI,GAC5DitF,EAAI15E,OACJ05E,EAAIW,WACL,GA3DH,mBA6DE,SAAMp6F,EAAIwU,GACR,IAAMvQ,EAAYnG,KAAZmG,QACAmC,EAA6BnC,EAA7BmC,QAASpJ,EAAoBiH,EAApBjH,IAAKoE,EAAe6C,EAAf7C,WAChBo5F,EACCp0F,EAAQpG,GAAIP,EADb+6F,EAECp0F,EAAQpG,GAAIN,EAEbm6F,EAAKpqF,SAAS+qF,EAAU18F,KAAK2B,GAC7Bq6F,EAAKrqF,SAAS+qF,EAAU18F,KAAK4B,GAC7B+6F,EAAOhrF,SAAShR,KAAKwnB,KAAK4zE,EAAKA,EAAKC,EAAKA,IAEzCW,EAAqB,IAAd38F,KAAK47F,SACTllF,EAII,cADCA,IAEJpO,EAAQpG,GAAIA,GAAK,SAJrBoG,EAAQpG,GAAIA,GAAK,SAUjBy6F,EAAqB,IAAd38F,KAAK47F,SACTllF,EAGmB,SAAlBpO,EAAQpG,GAAIA,IAEP,YADCwU,WAEGpO,EAAQpG,GAAIA,GACnBlC,KAAKy3B,SANXnvB,EAAQpG,GAAIA,GAAK,SAYC,SAAlBoG,EAAQpG,GAAIA,KACVvB,KAAK8R,IAAId,SAASoqF,IAAO/7F,KAAK47F,OAAS,IACzC57F,KAAK+7F,GAAK/7F,KAAK2B,EAAIo6F,GAEjBp7F,KAAK8R,IAAId,SAASqqF,IAAOh8F,KAAK47F,OAAS,IACzC57F,KAAKg8F,GAAKh8F,KAAK4B,EAAIo6F,GAErB98F,EAAI,WAAac,KAAK+7F,GAAK/7F,KAAK2B,IAAM3B,KAAK47F,OAAS,GACpD18F,EAAI,WAAac,KAAKg8F,GAAKh8F,KAAK4B,IAAM5B,KAAK47F,OAAS,GACpD18F,EAAI,SAAWyB,KAAKe,MAAMxC,EAAI,WAC9BA,EAAI,SAAWyB,KAAKe,MAAMxC,EAAI,WAE1By9F,EAAqB,IAAd38F,KAAK47F,SACd57F,KAAKy3B,eACEnvB,EAAQpG,GAAIA,IAEK,mBAAfoB,GACTtD,KAAKmG,QAAQ7C,aAGlB,GAtHH,mBAwHE,WACE,IAAMpE,EAAQc,KAAKmG,QAAbjH,IACNc,KAAK+7F,GAAK/7F,KAAK2B,EACf3B,KAAKg8F,GAAKh8F,KAAK4B,EACf1C,EAAI,SAAW,EACfA,EAAI,SAAW,EACfA,EAAI,UAAY,EAChBA,EAAI,UAAY,CACjB,2EAhIH,2KCAA09F,yBAAyB7pF,UAAU8pF,UAAY,SAAUl7F,EAAGC,EAAGwH,EAAGC,EAAGkb,GAUnE,OATInb,EAAI,EAAImb,IAAGA,EAAInb,EAAI,GACnBC,EAAI,EAAIkb,IAAGA,EAAIlb,EAAI,GACvBrJ,KAAKo8F,YACLp8F,KAAK88F,OAAOn7F,EAAI4iB,EAAG3iB,GACnB5B,KAAK+8F,MAAMp7F,EAAIyH,EAAGxH,EAAGD,EAAIyH,EAAGxH,EAAIyH,EAAGkb,GACnCvkB,KAAK+8F,MAAMp7F,EAAIyH,EAAGxH,EAAIyH,EAAG1H,EAAGC,EAAIyH,EAAGkb,GACnCvkB,KAAK+8F,MAAMp7F,EAAGC,EAAIyH,EAAG1H,EAAGC,EAAG2iB,GAC3BvkB,KAAK+8F,MAAMp7F,EAAGC,EAAGD,EAAIyH,EAAGxH,EAAG2iB,GAC3BvkB,KAAKs8F,YACEt8F,IACR,EAGM,IAAMg9F,EAAb,WACE,WAAYrB,EAAK9E,EAAQvuF,EAAS3J,EAAOwxB,EAAQlnB,EAAS2yF,EAAQz1F,gGAAS,SACzEnG,KAAK27F,IAAMA,EACX37F,KAAKmG,QAAUA,EACfnG,KAAK62F,OAASA,EACd72F,KAAK47F,OAASA,EACd57F,KAAKsI,QAAUA,EACftI,KAAKrB,MAAQA,EACbqB,KAAKmwB,OAASA,EACdnwB,KAAKiJ,QAAUA,CAChB,SAVH,gCAYE,WAIE,IAHA,IAAM4tF,EAAgB72F,KAAhB62F,OAAQ8E,EAAQ37F,KAAR27F,IACRsB,EAAmBj9F,KAAKmG,QAAxB82F,eACFrrF,EAAQ+pF,EAAIE,OAAOjqF,MACdiG,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IAAK,CAC9C,IAAIqlF,EAASD,EAAeplF,GACxBlW,EAAIk1F,EAAOl1F,EAAIu7F,EAAOv7F,EACtBC,EAAIi1F,EAAOj1F,EAAIs7F,EAAOt7F,EAC1B,GAAIs7F,EAAO34E,EAAG,CACZ,IAAIA,EAAI24E,EAAO34E,EACf04E,EAAeplF,GAAf,IAA2B,CAAElW,EAAG,CAACA,EAAI4iB,EAAG5iB,EAAQ,EAAJ4iB,GAAQ3iB,EAAG,CAACA,EAAI2iB,EAAG3iB,EAAQ,EAAJ2iB,GAAQrb,QAAQ,EACpF,KAAM,CAEL,GADAg0F,EAAOv7F,EAAIiQ,EAAQ,EAAIsrF,EAAO9zF,EAC1BpJ,KAAKrB,OAASqB,KAAKmwB,OACrB,OAAQ+sE,EAAOnnF,MACb,IAAK,SACHmnF,EAAOv7F,EAAIiQ,EAAQ,EAAIsrF,EAAO9zF,EAAe,EAAX8zF,EAAO7zF,EACzC,MACF,IAAK,QACH6zF,EAAOv7F,EAAIiQ,EAAQ,EAIrBjQ,EAAIu7F,EAAOv7F,EACXC,EAAIi1F,EAAOj1F,EAAIs7F,EAAOt7F,EAC1Bq7F,EAAeplF,GAAf,IAA2B,CAAElW,EAAG,CAACA,EAAGA,EAAIu7F,EAAO9zF,GAAIxH,EAAG,CAACA,EAAGA,EAAIs7F,EAAO7zF,GAAIH,QAAQ,EAClF,CACDlJ,KAAKmG,QAAQjH,IAAIg+F,EAAOnnF,MAAQ,CACjC,CACF,GAzCH,kBA2CE,WAEE,IADA,IAAM4lF,EAAgB37F,KAAhB27F,IAAK9E,EAAW72F,KAAX62F,OACFh/E,EAAI,EAAGA,EAAI7X,KAAKmG,QAAQ82F,eAAeh+F,OAAQ4Y,IAAK,CAC3D,IAAIqlF,EAASl9F,KAAKmG,QAAQ82F,eAAeplF,GACrCslF,EAAQD,EAAOC,MACfx7F,EAAIk1F,EAAOl1F,EAAIu7F,EAAOv7F,EACtBC,EAAIi1F,EAAOj1F,EAAIs7F,EAAOt7F,EAI1B,GAHAs7F,EAAOnB,GAAKp6F,EACZu7F,EAAOlB,GAAKp6F,EAERs7F,EAAO34E,EAAG,CACZ,IAAIA,EAAI24E,EAAO34E,EAEX24E,EAAOE,KACLF,EAAOE,IAAIl0F,SACbyyF,EAAIO,UAAYiB,EAChBxB,EAAIS,YACJT,EAAIU,IAAI16F,EAAGC,EAAG2iB,EAAI,EAAG,EAAG,EAAI5jB,KAAK+N,IAAI,GACrCitF,EAAI15E,OACJ05E,EAAIW,aAIRX,EAAIO,UAAYiB,EAChBxB,EAAIS,YACJT,EAAIU,IAAI16F,EAAGC,EAAG2iB,EAAG,EAAG,EAAI5jB,KAAK+N,IAAI,GACjCitF,EAAI15E,OACJ05E,EAAIW,YACJX,EAAI0B,YAAcF,EAClBxB,EAAI2B,UAAY,EAChB3B,EAAI4B,SAEJ5B,EAAIO,UAAY,sBAChBP,EAAI6B,UAAY,SAChB7B,EAAI8B,aAAe,SACnB9B,EAAI+B,KAAO,mBACX/B,EAAIgC,SAAST,EAAOnnF,KAAMpU,EAAGC,EAC9B,KAAM,CACL,IAAIwH,EAAI8zF,EAAO9zF,EACXC,EAAI6zF,EAAO7zF,EACX1H,EAAI4Q,MAAM2qF,EAAOv7F,GAAKg6F,EAAIE,OAAOjqF,MAAQ,EAAIsrF,EAAOv7F,EACpD4iB,EAAI,GACRo3E,EAAIO,UAAYiB,EACZD,EAAOE,KACLF,EAAOE,IAAIl0F,QACbyyF,EAAIkB,UAAUl7F,EAAI,EAAGC,EAAI,EAAGwH,EAAI,GAAIC,EAAI,GAAQ,EAAJkb,GAAOtC,OAGvD05E,EAAIkB,UAAUl7F,EAAGC,EAAGwH,EAAGC,EAAGkb,GAAGtC,OAE7B05E,EAAI0B,YAAcF,EAClBxB,EAAI2B,UAAY,EAChB3B,EAAI4B,SACJ5B,EAAIO,UAAY,kBAChBP,EAAI6B,UAAY,SAChB7B,EAAI8B,aAAe,SACnB9B,EAAI+B,KAAO,mBACX/B,EAAIgC,SAAST,EAAOnnF,KAAMpU,EAAIyH,EAAI,EAAGxH,EAAQ,EAAJyH,EAC1C,CAEG6zF,EAAOr0F,MACT8yF,EAAIO,UAAY,mBAChBP,EAAI6B,UAAY,SAChB7B,EAAI8B,aAAe,SACnB9B,EAAI+B,KAAO,mBACQ,SAAfR,EAAOnnF,MAAkC,UAAfmnF,EAAOnnF,OACnCpU,GAAKyH,EAAI,GAEXuyF,EAAIgC,SAAST,EAAOr0F,IAAKlH,EAAGC,EAAQ,IAAJ2iB,GAEnC,CACF,GAlHH,mBAoHE,SAAMriB,EAAI2V,EAAGnB,GACX,IAAMvQ,EAAYnG,KAAZmG,QACAmC,EAA+BnC,EAA/BmC,QAAShF,EAAsB6C,EAAtB7C,WAAYsO,EAAUzL,EAAVyL,MAC3B,GAAsB,SAAlBtJ,EAAQpG,GAAIA,GAAe,CAC7B,IAAIw6F,EAAQ,CACV/6F,EAAG2G,EAAQpG,GAAIP,EACfC,EAAG0G,EAAQpG,GAAIN,GAEbs7F,EAASl9F,KAAKmG,QAAQ82F,eAAeplF,GACrC9B,EAAOmnF,EAAOnnF,KAEdgmF,EAAKpqF,SAAS+qF,EAAM/6F,EAAIu7F,EAAOnB,IAC/BC,EAAKrqF,SAAS+qF,EAAM96F,EAAIs7F,EAAOlB,IAC/BW,EAAO/qF,EAQX,GAPIsrF,EAAO34E,EACTo4E,EAAOhrF,SAAShR,KAAKwnB,KAAK4zE,EAAKA,EAAKC,EAAKA,IAErCU,EAAM/6F,EAAIu7F,EAAOE,IAAIz7F,EAAE,IAAM+6F,EAAM/6F,EAAIu7F,EAAOE,IAAIz7F,EAAE,IAAM+6F,EAAM96F,EAAIs7F,EAAOE,IAAIx7F,EAAE,IAAM86F,EAAM96F,EAAIs7F,EAAOE,IAAIx7F,EAAE,KAChH+6F,EAAO,GAGPA,EAAO38F,KAAK47F,QAA4B,SAAlBtzF,EAAQpG,GAAIA,GACpC,GAAKwU,EAGH,OAAQA,GACN,IAAK,YACHpO,EAAQpG,GAAIA,GAAK6T,EACjB,MACF,IAAK,iBACIzN,EAAQpG,GAAIA,GACnBlC,KAAKy3B,MAAM5f,QARfvP,EAAQpG,GAAIA,GAAK6T,EAajBzN,EAAQpG,GAAIA,IAAM6T,IACpB/V,KAAKmG,QAAQjH,IAAI6W,GAAQ,EACzBmnF,EAAOE,IAAIl0F,QAAS,EAChByzF,EAAO38F,KAAK47F,SACdsB,EAAOE,IAAIl0F,QAAS,EACpBlJ,KAAKmG,QAAQjH,IAAI6W,GAAQ,SAClBzN,EAAQpG,GAAIA,IAEK,mBAAfoB,GACTtD,KAAKmG,QAAQ7C,aAGlB,CACF,GArKH,mBAuKE,SAAMuU,GACJ7X,KAAKmG,QAAQ82F,eAAeplF,GAAGulF,IAAIl0F,QAAS,EAC5ClJ,KAAKmG,QAAQjH,IAAIc,KAAKmG,QAAQ82F,eAAeplF,GAAG9B,MAAQ,CACzD,2EA1KH,2KCZO,IAAM6nF,EAAb,WACE,WAAYjC,EAAKkC,EAAev1F,EAAS3J,EAAOwxB,EAAQlnB,EAAS9C,gGAAS,SACxEnG,KAAK27F,IAAMA,EACX37F,KAAKmG,QAAUA,EACfnG,KAAK4R,MAAQ+pF,EAAIE,OAAOjqF,MACxB5R,KAAK87F,OAASH,EAAIE,OAAOC,OACzB97F,KAAK47F,OAASD,EAAIE,OAAOjqF,MAAQ,GACjC5R,KAAKsI,QAAUA,EACftI,KAAKrB,MAAQA,EACbqB,KAAKmwB,OAASA,EACdnwB,KAAK69F,cAAgBA,EACrB79F,KAAKiJ,QAAUA,EACfjJ,KAAK62F,OAAS,CAAEl1F,EAAG3B,KAAK4R,MAAQ5R,KAAK69F,cAAcl8F,EAAGC,EAAG5B,KAAK87F,OAAS97F,KAAK69F,cAAcj8F,GAC1F5B,KAAKw8F,MAAQ,IAAId,EAAgB17F,KAAK27F,IAAK37F,KAAK62F,OAAQ72F,KAAKsI,QAAStI,KAAKiJ,QAASjJ,KAAK47F,OAAQ57F,KAAKmG,SACtGnG,KAAK89F,QAAU,IAAId,EAAkBh9F,KAAK27F,IAAK37F,KAAK62F,OAAQ72F,KAAKsI,QAAStI,KAAKrB,MAAOqB,KAAKmwB,OAAQnwB,KAAKiJ,QAASjJ,KAAK47F,OAAQ57F,KAAKmG,QACpI,SAfH,iCAiBE,WACEnG,KAAKw8F,MAAM98F,OACXM,KAAK89F,QAAQp+F,MACd,GApBH,kBAsBE,WACEM,KAAKw8F,MAAMP,OACXj8F,KAAK89F,QAAQ7B,MACd,0EAzBH,2KCDO,IAAM8B,EAAb,WAOE,WAAYh7F,GAsCV,mGAtCkB,SACbg7F,EAAQC,YACXh+F,KAAK+C,OAASA,EACd/C,KAAKi+F,OAAQ,EACbj+F,KAAKk+F,WAAY,EACjBl+F,KAAKm+F,WAAY,EACjBn+F,KAAKo+F,QAAU,GACfp+F,KAAK09F,KAAO,cAGZ19F,KAAKrB,OAAQ,EACbqB,KAAKmwB,QAAS,EACdnwB,KAAKsI,QAAU,CAAC,EAChBtI,KAAKkD,SAAU,IAAIC,MAAOC,UAC1BpD,KAAKg7E,UAAY,GACjBh7E,KAAKd,IAAM,CAAC,EACZc,KAAK2B,EAAI,EACT3B,KAAK4B,EAAI,EAGT5B,KAAKiJ,QAAU,CACbo1F,IAAK,gBAAF,OAAkBr+F,KAAKo+F,QAAvB,KACHE,MAAO,iBAAF,OAAmBt+F,KAAKo+F,QAAxB,KACLG,KAAM,iBAAF,OAAmBv+F,KAAKo+F,QAAxB,KACJI,OAAQ,kBAAF,OAAoBx+F,KAAKo+F,QAAzB,KACNK,OAAQ,kBAAF,OAAoBz+F,KAAKo+F,QAAzB,KACNM,KAAM,kBAAF,OAAoB1+F,KAAKo+F,QAAzB,KACJO,MAAO,cAAF,OAAgB3+F,KAAKo+F,QAArB,KACLQ,MAAO,oBAAF,OAAsB5+F,KAAKo+F,QAA3B,KACLjC,SAAU,CACR3iF,KAAM,cAAF,OAAgBxZ,KAAKo+F,QAArB,KACJ7B,KAAM,cAAF,OAAgBv8F,KAAKo+F,QAArB,KACJ5B,MAAO,sBACPC,KAAM,wBAGVsB,EAAQC,UAAYh+F,MAEf+9F,EAAQC,SAChB,SA9CH,gCAmDE,WAEEh+F,KAAK6+F,SAAW7+F,KAAK+C,OAAO+7F,GAAGjD,OAAOjqF,MAAQ,GAG9C5R,KAAK47F,OAAS57F,KAAK+C,OAAO+7F,GAAGjD,OAAOjqF,MAAQ,GAG5C5R,KAAK69F,cAAgB,CAAEl8F,EAAiB,IAAd3B,KAAK47F,OAAch6F,EAAG,KAGhD,IAAIq7F,EAAiB,CACnB,CACEt7F,GAAI3B,KAAK47F,OAAS57F,KAAK47F,OAAS,EAAI57F,KAAK47F,OAAS,EAClDh6F,GAAI5B,KAAK47F,OAAS,EAClBr3E,EAAI,EAAI,EAAKvkB,KAAK47F,OAClBuB,MAAOn9F,KAAKiJ,QAAQo1F,IACpBtoF,KAAM,KAER,CACEpU,EAAG3B,KAAK47F,OAAS57F,KAAK47F,OAAS,EAC/Bh6F,IAAK5B,KAAK47F,OAAS57F,KAAK47F,OAAS,GACjCr3E,EAAI,EAAI,EAAKvkB,KAAK47F,OAClBuB,MAAOn9F,KAAKiJ,QAAQq1F,MACpBvoF,KAAM,KAER,CACEpU,EAAG3B,KAAK47F,OAAS57F,KAAK47F,OAAS,EAC/Bh6F,EAAG5B,KAAK47F,OACRr3E,EAAI,EAAI,EAAKvkB,KAAK47F,OAClBuB,MAAOn9F,KAAKiJ,QAAQs1F,KACpBxoF,KAAM,KAER,CACEpU,EAAiB,EAAd3B,KAAK47F,OAAa57F,KAAK47F,OAAS,EAAI57F,KAAK47F,OAAS,EACrDh6F,EAAG,EAAI5B,KAAK47F,OAAS,EACrBr3E,EAAI,EAAI,EAAKvkB,KAAK47F,OAClBuB,MAAOn9F,KAAKiJ,QAAQw1F,OACpB1oF,KAAM,MAGN/V,KAAKrB,OACPs+F,EAAexyF,KAAK,CAClB0yF,MAAOn9F,KAAKiJ,QAAQ01F,MACpB/8F,GAAI,GACJwH,EAAG,GACHC,EAAG,GACH0M,KAAM,UAGN/V,KAAKmwB,QACP8sE,EAAexyF,KAAK,CAClB7I,GAAI,GACJwH,EAAG,GACHC,EAAG,GACH8zF,MAAOn9F,KAAKiJ,QAAQ01F,MACpB5oF,KAAM,WAKV/V,KAAKi9F,eAAiBA,EACtBj9F,KAAK++F,WAAa,IAAInB,EAAW59F,KAAK+C,OAAO+7F,GAAI9+F,KAAK69F,cAAe79F,KAAKsI,QAAStI,KAAKrB,MAAOqB,KAAKmwB,OAAQnwB,KAAKiJ,QAASjJ,MAC1HA,KAAKg/F,aACN,GAnHH,yBAsHE,WAA0B,IAAdl8F,EAAc,uDAAJ,CAAC,EACrB9C,KAAKi/F,WAAWn8F,GAChB9C,KAAKk/F,SACLl/F,KAAKm/F,YACN,GA1HH,4BA6HE,SAAeC,GACb,OAAOp/F,KAAKg7E,UAAUvwE,KAAK20F,EAC5B,GA/HH,4BAkIE,SAAel9F,GACblC,KAAKg7E,UAAUtyD,OAAOxmB,EAAK,EAAG,EAC/B,GApIH,wBAuIE,WACE,OAAOlC,KAAKd,GACb,GAzIH,oBA4IE,WACEc,KAAK4R,MAAQ5R,KAAK+C,OAAO+7F,GAAGjD,OAAOjqF,MACnC5R,KAAK87F,OAAS97F,KAAK+C,OAAO+7F,GAAGjD,OAAOC,OACpC97F,KAAK++F,WAAWr/F,MACjB,GAhJH,wBAmJE,WAAa,WACLq/F,EAA8B/+F,KAA9B++F,WAAYntF,EAAkB5R,KAAlB4R,MAAOkqF,EAAW97F,KAAX87F,OACzB97F,KAAK+C,OAAO+7F,GAAG5C,UAAY,qBAC3Bl8F,KAAK+C,OAAO+7F,GAAGtB,UAAY,SAC3Bx9F,KAAK+C,OAAO+7F,GAAGrB,aAAe,SAC9Bz9F,KAAK+C,OAAO+7F,GAAGpB,KAAO,mBACtB19F,KAAK+C,OAAO+7F,GAAGnB,SAAS,UAAW/rF,EAAQ,EAAGkqF,EAAS,GACvDiD,EAAWvC,MAAMP,OACjB8C,EAAWjB,QAAQ7B,OACnBj2F,OAAOi0B,iBAAiB,UAAU,kBAAM,EAAKilE,QAAX,IAClC/mE,YAAW,WACTn4B,KAAKq/F,OAAQ,CACd,GAAE,IACJ,GAhKH,wBAmKE,SAAWv8F,GAAS,WAClB6F,OAAOC,KAAK5I,MAAMqe,SAAQ,SAACxV,QACJqM,IAAjBpS,EAAQ+F,KACV,EAAKA,GAAO/F,EAAQ+F,GACpB,EAAKo1F,OAAQ,EAEhB,GACF,GA1KH,sBA6KE,WACE,IAAMc,EAA+B/+F,KAA/B++F,WAAY9B,EAAmBj9F,KAAnBi9F,eACdtsF,EAAI3Q,KAAKkD,QACblD,KAAKkD,SAAU,IAAIC,MAAOC,UAAY,IAEtC,IAAK,IAAIyU,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACzCknF,EAAWjB,QAAQrmE,MAAM5f,GAE3B,OAAOlH,EAAI3Q,KAAKkD,OACjB,GAtLH,wBAyLE,SAAW2F,GACT,OAAyB,IAAlB7I,KAAKd,IAAI2J,IAAc7I,KAAKs/F,UACpC,GA3LH,oBA8LE,SAAOl8E,GAAG,MACF9a,EAAwCtI,KAAxCsI,QAASy2F,EAA+B/+F,KAA/B++F,WAAY9B,EAAmBj9F,KAAnBi9F,eAC3B,GAAI75E,EAAE1M,KAAM,SACNA,EAAO0M,EAAE1M,MACmB,GAA5B0M,EAAE1M,KAAKhF,QAAQ,WACjB0R,EAAEtI,WAAa,UACfsI,EAAI,CAAE9a,QAAS,CAAC8a,KAElB,IAAI9c,EAAStG,KAAKu/F,YAAYv/F,KAAK+C,OAAO+7F,GAAGjD,QAE7C77F,KAAKg7E,UAAU97E,KAAI,SAACoT,GAClB,GAAIA,EAAEoE,GACJ,OAAOpE,EAAEoE,GAAM0M,EAElB,IACDpjB,KAAK2B,GAAK,UAAAyhB,EAAE9a,QAAQ,UAAV,eAAck3F,OAAQl5F,EAAO3E,GAAM,EAC7C3B,KAAK4B,GAAK,UAAAwhB,EAAE9a,QAAQ,UAAV,eAAcm3F,OAAQn5F,EAAO1E,GAAM,EAE7C,IAAK,IAAIiW,EAAI,EAAGA,GAAKuL,EAAE9a,QAAQrJ,OAAS,EAAI,EAAImkB,EAAE9a,QAAQrJ,QAAS4Y,IAE5DvP,EADDpG,EAAKkhB,EAAE9a,QAAQuP,GAAGiD,aASpBxS,EAAQpG,GAAIP,EAAIyhB,EAAE9a,QAAQuP,GAAG2nF,MAAQl5F,EAAO3E,EAC5C2G,EAAQpG,GAAIN,EAAIwhB,EAAE9a,QAAQuP,GAAG4nF,MAAQn5F,EAAO1E,GAR5C0G,EAAQpG,GAAM,CACZP,EAAGyhB,EAAE9a,QAAQuP,GAAG2nF,MAAQl5F,EAAO3E,EAC/BC,EAAGwhB,EAAE9a,QAAQuP,GAAG4nF,MAAQn5F,EAAO1E,EAC/B89F,WAAW,EACXC,YAAY,GAQlB,IAAK,IAAIz9F,KAAMoG,EAEb,OAAQoO,GACN,IAAK,aACL,IAAK,YAGH,GAFA1W,KAAK4/F,gBACLb,EAAWvC,MAAMjnE,MAAMrzB,IACnB,IAAIiB,MAAOC,UAAYpD,KAAKkD,QAAU,IAAK,CAC7C,IAAS2U,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACzCknF,EAAWjB,QAAQvoE,MAAMrzB,EAAI2V,GAE/B7X,KAAKkD,SAAU,IAAIC,MAAOC,SAC3B,CACD,MACF,IAAK,WACH,IAASyU,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACzCknF,EAAWjB,QAAQrmE,MAAM5f,GAE3B,MACF,IAAK,YACH,GAAIvP,EAAQpG,GAAIw9F,UAAW,CACzB,IAAIG,EAAc,IACdC,EAAc,CAACx3F,EAAQpG,GAAIN,EAAIi+F,GAAcv3F,EAAQpG,GAAIP,EAAIk+F,EAAcv3F,EAAQpG,GAAIN,EAAIi+F,GAAcv3F,EAAQpG,GAAIP,EAAIk+F,EAAcv3F,EAAQpG,GAAIN,EAAIi+F,GAC3J7/F,KAAK+C,OAAOmI,cAAcC,OAAO40F,YAAYD,EAC9C,CACH,IAAK,YACC18E,EAAE9a,SAAF,UAAa8a,EAAE9a,QAAQ,UAAvB,OAAa,EAAc03F,OAE7B13F,EAAQpG,GAAIw9F,UAAmC,IAAvBt8E,EAAE9a,QAAQ,GAAG03F,MACrC13F,EAAQpG,GAAIy9F,WAAoC,IAAvBv8E,EAAE9a,QAAQ,GAAG03F,OAC7B,WAAY58E,IAErB9a,EAAQpG,GAAIw9F,UAAwB,GAAZt8E,EAAE85E,OAC1B50F,EAAQpG,GAAIy9F,WAAyB,GAAZv8E,EAAE85E,QAE7B6B,EAAWvC,MAAMjnE,MAAMrzB,EAAIwU,GAC3B,IAASmB,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACzCknF,EAAWjB,QAAQvoE,MAAMrzB,EAAI2V,EAAGnB,GAElC,MACF,IAAK,UAEH,IADAqoF,EAAWvC,MAAMjnE,MAAMrzB,EAAIwU,GAClBmB,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACzCknF,EAAWjB,QAAQvoE,MAAMrzB,EAAI2V,EAAGnB,GAElCpO,EAAQpG,GAAIw9F,UAAY,EACxBp3F,EAAQpG,GAAIy9F,WAAa,EAK/B,GAAc,YAAVv8E,EAAE1M,KAAoB,CAKxB,IAHsB,SAAlBpO,EADApG,EAAKkhB,EAAE68E,eAAe,GAAGnlF,YACb5Y,IACd68F,EAAWvC,MAAM/kE,QAEV5f,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACrCvP,EAAQpG,GAAIA,IAAM+6F,EAAeplF,GAAG9B,MACtCgpF,EAAWjB,QAAQrmE,MAAM5f,GAO7B,GAJIvP,EAAQpG,WACHoG,EAAQpG,GAGbkhB,EAAE68E,eAAehhG,OAASmkB,EAAE9a,QAAQrJ,OAAQ,CAC9C,IAAIA,EAAS,EACTioB,EAAQ9D,EAAE68E,eAAehhG,OAASmkB,EAAE9a,QAAQrJ,OAChD,IAAK,IAAIiD,KAAMoG,EACTrJ,GAAUioB,UACL5e,EAAQpG,GAEjBjD,GAEH,CACD,GAAwB,GAApBmkB,EAAE9a,QAAQrJ,OAAa,CAEzB,IADAqJ,EAAU,CAAC,EACFuP,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACzCknF,EAAWjB,QAAQrmE,MAAM5f,GAE3BknF,EAAWvC,MAAM/kE,OAClB,CAGDz3B,KAAKkgG,cACN,CACF,KAAM,CACL,IAAIt3F,EAAOwa,EACPyP,EAAM,EACV,IAAK,IAAI4xB,KAAQ77C,EAAM,CACrB,OAAQ67C,GACN,IAAK,IACC77C,EAAK67C,KACP5xB,GAAO,GAET,MACF,IAAK,IACCjqB,EAAK67C,KACP5xB,GAAO,GAET,MACF,IAAK,IACCjqB,EAAK67C,KACP5xB,GAAO,GAET,MACF,IAAK,IACCjqB,EAAK67C,KACP5xB,GAAO,GAET,MACF,QACE,GAAIjqB,EAAK67C,GACP,IAAS5sC,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACrColF,EAAeplF,GAAGhP,KAChBo0F,EAAeplF,GAAGhP,KAAO47C,IAC3Bn8C,EAAQ20F,EAAeplF,GAAG9B,MAAQ,CAChC7T,GAAI+6F,EAAeplF,GAAG9B,KACtBpU,EAAGs7F,EAAeplF,GAAf,IAAyBlW,EAAE,GAAKs7F,EAAeplF,GAAGzO,EAAI,EACzDxH,EAAGq7F,EAAeplF,GAAf,IAAyBjW,EAAE,GAAKq7F,EAAeplF,GAAGxO,EAAI,GAE3D01F,EAAWjB,QAAQvoE,MAAM0nE,EAAeplF,GAAG9B,KAAM8B,EAAG,mBAK1D,IAAKjP,EAAK67C,GAAO,CACf,IAAS5sC,EAAI,EAAGA,EAAIolF,EAAeh+F,OAAQ4Y,IACrColF,EAAeplF,GAAGhP,KAChBo0F,EAAeplF,GAAGhP,KAAO47C,IAC3Bs6C,EAAWjB,QAAQrmE,MAAM5f,UAClBvP,EAAQ20F,EAAeplF,GAAG9B,cAIhCnN,EAAK67C,EACb,EAMP,OAFAs6C,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EACvCo9F,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAC/BixB,GACN,KAAK,EACHksE,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EAAIo9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,KAAK,EACHmD,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAAIm9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,KAAK,EACHmD,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EAAIo9F,EAAWvC,MAAMZ,OAAS,EACrEmD,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAAIm9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,KAAK,EACHmD,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EAAIo9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,KAAK,EACHmD,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EAAIo9F,EAAWvC,MAAMZ,OAAS,EACrEmD,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAAIm9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,KAAK,EACHmD,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAAIm9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,KAAK,EACHmD,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EAAIo9F,EAAWvC,MAAMZ,OAAS,EACrEmD,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAAIm9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,KAAK,GACHmD,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EAAIo9F,EAAWvC,MAAMZ,OAAS,EACrEmD,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAAIm9F,EAAWvC,MAAMZ,OAAS,EACrE,MACF,QACEmD,EAAWvC,MAAMT,GAAKgD,EAAWvC,MAAM76F,EACvCo9F,EAAWvC,MAAMR,GAAK+C,EAAWvC,MAAM56F,EAGhC,GAAPixB,GACFvqB,EAAO,MAAY,CAAEpG,GAAI,SACzB68F,EAAWvC,MAAMjnE,MAAM,QAAS,eAEhCwpE,EAAWvC,MAAM/kE,eACVnvB,EAAO,MAEjB,CACF,CAED,OAAOtI,KAAKd,GACb,GA1ZH,oBA6ZE,WACEc,KAAK+C,OAAO+7F,GAAGqB,UAAU,EAAG,EAAGngG,KAAK+C,OAAO+7F,GAAGjD,OAAOjqF,MAAO5R,KAAK+C,OAAO+7F,GAAGjD,OAAOC,QAC9E97F,KAAKm+F,WACPn+F,KAAKo2B,QAEHp2B,KAAKk+F,WACPl+F,KAAKogG,QAEPpgG,KAAK++F,WAAWvC,MAAMP,OACtBj8F,KAAK++F,WAAWjB,QAAQ7B,MACzB,GAvaH,mBA0aE,WAC6Bj8F,KAArB8+F,GAAqB9+F,KAAjBd,IAAV,IAAeoJ,EAAYtI,KAAZsI,QASf,IAAK,IAAIm8C,KARTzkD,KAAKg8F,GAAK,GACVh8F,KAAK+C,OAAO+7F,GAAG5C,UAAY,qBAC3Bl8F,KAAK+C,OAAO+7F,GAAGtB,UAAY,OAC3Bx9F,KAAK+C,OAAO+7F,GAAGrB,aAAe,SAC9Bz9F,KAAK+C,OAAO+7F,GAAGpB,KAAO,mBACtB19F,KAAK+C,OAAO+7F,GAAGnB,SAAS,QAAS,GAAI39F,KAAKg8F,IAC1Ch8F,KAAK+C,OAAO+7F,GAAGpB,KAAO,mBACtB19F,KAAKg8F,IAAM,EACM1zF,EAAS,CACxBtI,KAAKg8F,IAAM,GACX,IAAIh5F,EAAOyhD,EAAO,MAAQl0C,KAAKC,UAAUlI,EAAQm8C,IAAOrmC,MAAM,GAAI,GAClEpe,KAAK+C,OAAO+7F,GAAGnB,SAAS36F,EAAM,GAAIhD,KAAKg8F,GACxC,CACF,GAzbH,mBA4bE,WACE,IAAM98F,EAAQc,KAARd,IASN,IAAK,IAAIulD,KARTzkD,KAAKg8F,GAAK,GACVh8F,KAAK+C,OAAO+7F,GAAG5C,UAAY,qBAC3Bl8F,KAAK+C,OAAO+7F,GAAGtB,UAAY,QAC3Bx9F,KAAK+C,OAAO+7F,GAAGrB,aAAe,SAC9Bz9F,KAAK+C,OAAO+7F,GAAGpB,KAAO,mBACtB19F,KAAK+C,OAAO+7F,GAAGnB,SAAS,QAAS39F,KAAK4R,MAAQ,GAAI5R,KAAKg8F,IACvDh8F,KAAK+C,OAAO+7F,GAAGpB,KAAO,mBACtB19F,KAAKg8F,IAAM,EACM98F,EAAK,CACpBc,KAAKg8F,IAAM,GACX,IAAIh5F,EAAOyhD,EAAO,MAAQvlD,EAAIulD,GAC9BzkD,KAAK+C,OAAO+7F,GAAGnB,SAAS36F,EAAMhD,KAAK4R,MAAQ,GAAI5R,KAAKg8F,GACrD,CACF,GA3cH,yBA8cE,SAAYvuB,GAIV,IAHA,IAAI4yB,EAAY,EACZC,EAAY,EAET7yB,GACL4yB,GAAa5yB,EAAQ8yB,WAAa9yB,EAAQ+yB,WAAa/yB,EAAQgzB,WAC/DH,GAAa7yB,EAAQizB,UAAYjzB,EAAQkzB,UAAYlzB,EAAQmzB,UAC7DnzB,EAAUA,EAAQozB,aAEpB,MAAO,CAAEl/F,EAAG0+F,EAAWz+F,EAAG0+F,EAC3B,GAxdH,0BA2dE,WACEpkD,SAASzhC,KAAKqmF,oBAAoB,YAAa9gG,KAAK+gG,eACrD,GA7dH,2BAgeE,WACE7kD,SAASzhC,KAAKwf,iBAAiB,YAAaj6B,KAAK+gG,eAAgB,CAAEC,SAAS,GAC7E,GAleH,4BAqeE,SAAe59E,GACbA,EAAE29E,iBACF39E,EAAE69E,iBACH,2EAxeH,+KCDqBC,EAAAA,WAMnB,WAAYn+F,GASV,mGATkB,SAEbm+F,EAASlD,YACZh+F,KAAKmhG,WAAa,GAClBnhG,KAAKohG,YAAc,GACnBphG,KAAK0F,OAAQ,EACb1F,KAAK+C,OAASA,EACdm+F,EAASlD,UAAYh+F,MAEhBkhG,EAASlD,SACjB,yCAED,WAEC,0BAED,SAAU56E,GACRA,EAAE29E,iBACF,IAAI1hG,EAAIL,OAAOoT,aAAagR,EAAEi+E,SAAS3uF,cACnCwuF,EAASlD,UAAUmD,WAAWzvF,QAAQrS,GAAK,GAAG6hG,EAASlD,UAAUmD,WAAW12F,KAAKpL,GACjF6hG,EAASlD,UAAUoD,YAAY1vF,QAAQ0R,EAAEva,KAAO,GAAGq4F,EAASlD,UAAUoD,YAAY32F,KAAK2Y,EAAEva,KAC7Fq4F,EAASlD,UAAUt4F,MAAQ0d,EAAEk+E,QAC9B,wBAED,SAAQl+E,GACN,IAAI/jB,EAAIL,OAAOoT,aAAagR,EAAEi+E,SAAS3uF,cACnCkD,EAAQsrF,EAASlD,UAAUmD,WAAWzvF,QAAQrS,GAClD6hG,EAASlD,UAAUmD,WAAWz4E,OAAO9S,EAAO,GAC5CsrF,EAASlD,UAAUoD,YAAY14E,OAAO9S,EAAO,EAC9C,4BAGD,SAAYhN,GAIV,IAHA,IAAI8Y,EAAQ9Y,EAAK8J,cACb6U,EAAM,KACNg6E,GAAQ,EACHniG,EAAI,EAAGA,EAAIwJ,EAAK3J,OAAQG,IAAK,CACpC,IAAIy7B,EAAInZ,EAAMtiB,GACVwW,EAAQsrF,EAASlD,UAAUmD,WAAWzvF,QAAQmpB,GAC9CjlB,EAAQ2rF,IACVh6E,EAAMsT,EACN0mE,EAAO3rF,EAEV,CACD,OAAO2R,CACR,gCAGD,WAGE,IAH2B,IAAbi6E,EAAa,uDAAJ,GACnB75F,EAAOu5F,EAASlD,UAAUoD,YAAYt9F,MACtC4d,EAAQ8/E,EAAO9uF,cACVtT,EAAI,EAAGA,EAAIsiB,EAAMziB,OAAQG,IACpB8hG,EAASlD,UAAUmD,WAAWzvF,QAAQ/J,GACtC,IACVA,EAAOu5F,EAASlD,UAAUoD,YAAYt9F,OAG1C,OAAO6D,CACR,+BAGD,WACE,OAAOu5F,EAASlD,UAAUmD,WAAWD,EAASlD,UAAUmD,WAAWliG,OAAS,EAC7E,6EArEkBiiG,GCDrB,MAAMO,EAAgC,oBAAflG,WAA6BA,WAChC,oBAAT9xF,KAAuBA,KACR,oBAAXzD,OAAyBA,OAC5Bq2C,OAENzzC,EAAOD,OAAOC,KACd0M,EAAU5E,MAAM4E,QAItB,SAAS2D,EAAOlJ,EAAK2xF,GACjB,MAAyB,iBAAdA,GAEX94F,EAAK84F,GAAWrjF,SAAQ,SAAUxV,GAC9BkH,EAAIlH,GAAO64F,EAAU74F,EACzB,IAHWkH,CAKf,CAVuB,oBAAZlJ,SAA4B46F,EAAQ56F,UAC3C46F,EAAQ56F,QAAUA,SAUtB,MAAM86F,EAAWh5F,OAAOojD,eAClB61C,EAAU,CAAC,EAAEtpF,eACnB,SAASupF,EAAO9xF,EAAK00C,GACjB,OAAOm9C,EAAQv3F,KAAK0F,EAAK00C,EAC7B,CACA,SAASqzB,EAAMjlC,EAAO6uD,GACO,mBAAdA,IACPA,EAAYA,EAAUC,EAAS9uD,MACf,oBAAZ0rC,QAA0B31E,EAAO21E,QAAQW,SAASwiB,GAAWrjF,SAAQxV,IACzEi5F,EAAQjvD,EAAOhqC,EAAK64F,EAAU74F,GAAK,GAE3C,CACA,MAAMmqC,EAAiBrqC,OAAOqqC,eAC9B,SAAS8uD,EAAQ/xF,EAAK00C,EAAMs9C,EAAkBj/F,GAC1CkwC,EAAejjC,EAAK00C,EAAMxrC,EAAO8oF,GAAoBF,EAAOE,EAAkB,QAA0C,mBAAzBA,EAAiBvsF,IAC5G,CAAEA,IAAKusF,EAAiBvsF,IAAK3T,IAAKkgG,EAAiBlgG,IAAKy3C,cAAc,GACtE,CAAEppC,MAAO6xF,EAAkBzoD,cAAc,EAAMD,UAAU,GAAQv2C,GACzE,CACA,SAASk/F,EAAOC,GACZ,MAAO,CACHjhG,KAAM,SAAUkhG,GAGZ,OAFAD,EAAMlvF,UAAYpK,OAAOwQ,OAAO+oF,EAAOnvF,WACvC+uF,EAAQG,EAAMlvF,UAAW,cAAekvF,GACjC,CACHhpF,OAAQ6+D,EAAMz1E,KAAK,KAAM4/F,EAAMlvF,WAEvC,EAER,CACA,MAAM+4C,EAA2BnjD,OAAOmjD,yBACxC,SAASq2C,EAAsBpyF,EAAK00C,GAEhC,IAAI5R,EACJ,OAFWiZ,EAAyB/7C,EAAK00C,KAE3B5R,EAAQ8uD,EAAS5xF,KAASoyF,EAAsBtvD,EAAO4R,EACzE,CACA,MAAM29C,EAAS,GAAGhkF,MAClB,SAASA,EAAM1T,EAAM/L,EAAOyc,GACxB,OAAOgnF,EAAO/3F,KAAKK,EAAM/L,EAAOyc,EACpC,CACA,SAAS0iB,EAASukE,EAAUC,GACxB,OAAOA,EAAiBD,EAC5B,CACA,SAAS5/E,EAAOjT,GACZ,IAAKA,EACD,MAAM,IAAImD,MAAM,mBACxB,CACA,SAAS4vF,EAAO7zE,GACR+yE,EAAQxmC,aACRA,aAAavsC,GAEbyJ,WAAWzJ,EAAI,EACvB,CACA,SAAS8zE,EAAc3yD,EAAO4yD,GAC1B,OAAO5yD,EAAMnlB,QAAO,CAACxjB,EAAQssB,EAAMp0B,KAC/B,IAAIsjG,EAAeD,EAAUjvE,EAAMp0B,GAGnC,OAFIsjG,IACAx7F,EAAOw7F,EAAa,IAAMA,EAAa,IACpCx7F,CAAM,GACd,CAAC,EACR,CASA,SAASy7F,EAAa5yF,EAAK6yF,GACvB,GAAIf,EAAO9xF,EAAK6yF,GACZ,OAAO7yF,EAAI6yF,GACf,IAAKA,EACD,OAAO7yF,EACX,GAAuB,iBAAZ6yF,EAAsB,CAE7B,IADA,IAAIC,EAAK,GACAzjG,EAAI,EAAGkT,EAAIswF,EAAQ3jG,OAAQG,EAAIkT,IAAKlT,EAAG,CAC5C,IAAI+X,EAAMwrF,EAAa5yF,EAAK6yF,EAAQxjG,IACpCyjG,EAAGp4F,KAAK0M,EACZ,CACA,OAAO0rF,CACX,CACA,IAAIC,EAASF,EAAQlxF,QAAQ,KAC7B,IAAgB,IAAZoxF,EAAe,CACf,IAAIC,EAAWhzF,EAAI6yF,EAAQ9wF,OAAO,EAAGgxF,IACrC,YAAoB5tF,IAAb6tF,OAAyB7tF,EAAYytF,EAAaI,EAAUH,EAAQ9wF,OAAOgxF,EAAS,GAC/F,CAEJ,CACA,SAASE,EAAajzF,EAAK6yF,EAAS1yF,GAChC,GAAKH,QAAmBmF,IAAZ0tF,MAER,aAAcj6F,UAAUA,OAAOs6F,SAASlzF,IAE5C,GAAuB,iBAAZ6yF,GAAwB,WAAYA,EAAS,CACpDngF,EAAwB,iBAAVvS,GAAsB,WAAYA,GAChD,IAAK,IAAI9Q,EAAI,EAAGkT,EAAIswF,EAAQ3jG,OAAQG,EAAIkT,IAAKlT,EACzC4jG,EAAajzF,EAAK6yF,EAAQxjG,GAAI8Q,EAAM9Q,GAE5C,KACK,CACD,IAAI0jG,EAASF,EAAQlxF,QAAQ,KAC7B,IAAgB,IAAZoxF,EAAe,CACf,IAAII,EAAiBN,EAAQ9wF,OAAO,EAAGgxF,GACnCK,EAAmBP,EAAQ9wF,OAAOgxF,EAAS,GAC/C,GAAyB,KAArBK,OACcjuF,IAAVhF,EACIoF,EAAQvF,KAASwC,MAAMZ,SAASuxF,IAChCnzF,EAAI2Y,OAAOw6E,EAAgB,UAEpBnzF,EAAImzF,GAGfnzF,EAAImzF,GAAkBhzF,MACzB,CACD,IAAI6yF,EAAWhzF,EAAImzF,GACdH,IACDA,EAAYhzF,EAAImzF,GAAkB,CAAC,GACvCF,EAAaD,EAAUI,EAAkBjzF,EAC7C,CACJ,WAEkBgF,IAAVhF,EACIoF,EAAQvF,KAASwC,MAAMZ,SAASixF,IAChC7yF,EAAI2Y,OAAOk6E,EAAS,UAEb7yF,EAAI6yF,GAGf7yF,EAAI6yF,GAAW1yF,CAE3B,CACJ,CASA,SAASwwE,EAAa3wE,GAClB,IAAI8yF,EAAK,CAAC,EACV,IAAK,IAAI5xF,KAAKlB,EACN8xF,EAAO9xF,EAAKkB,KACZ4xF,EAAG5xF,GAAKlB,EAAIkB,IAEpB,OAAO4xF,CACX,CACA,MAAMr9E,EAAS,GAAGA,OAClB,SAAS49E,EAAQ7zF,GACb,OAAOiW,EAAO6iB,MAAM,GAAI94B,EAC5B,CACA,MAAM8zF,EAAqB,oJACtBvkG,MAAM,KAAK0mB,OAAO49E,EAAQ,CAAC,EAAG,GAAI,GAAI,IAAIlkG,KAAI6iB,GAAO,CAAC,MAAO,OAAQ,SAAS7iB,KAAIyR,GAAKA,EAAIoR,EAAM,cAAYtb,QAAOkK,GAAK8wF,EAAQ9wF,KAChI2yF,EAAiBD,EAAmBnkG,KAAIyR,GAAK8wF,EAAQ9wF,KAC3D6xF,EAAca,GAAoB1hG,GAAK,CAACA,GAAG,KAC3C,IAAI4hG,EAAe,KACnB,SAASC,EAAUjrB,GACfgrB,EAAkC,oBAAZp9C,SAA2B,IAAIA,QACrD,MAAM08C,EAAKY,EAAelrB,GAE1B,OADAgrB,EAAe,KACRV,CACX,CACA,SAASY,EAAelrB,GACpB,IAAKA,GAAsB,iBAARA,EACf,OAAOA,EACX,IAAIsqB,EAAKU,GAAgBA,EAAa/tF,IAAI+iE,GAC1C,GAAIsqB,EACA,OAAOA,EACX,GAAIvtF,EAAQijE,GAAM,CACdsqB,EAAK,GACLU,GAAgBA,EAAa1hG,IAAI02E,EAAKsqB,GACtC,IAAK,IAAIzjG,EAAI,EAAGkT,EAAIimE,EAAIt5E,OAAQG,EAAIkT,IAAKlT,EACrCyjG,EAAGp4F,KAAKg5F,EAAelrB,EAAIn5E,IAEnC,MACK,GAAIkkG,EAAe5xF,QAAQ6mE,EAAIzjE,cAAgB,EAChD+tF,EAAKtqB,MAEJ,CACD,MAAM1lC,EAAQ8uD,EAASppB,GAGvB,IAAK,IAAI9zB,KAFTo+C,EAAKhwD,IAAUlqC,OAAOoK,UAAY,CAAC,EAAIpK,OAAOwQ,OAAO05B,GACrD0wD,GAAgBA,EAAa1hG,IAAI02E,EAAKsqB,GACrBtqB,EACTspB,EAAOtpB,EAAK9zB,KACZo+C,EAAGp+C,GAAQg/C,EAAelrB,EAAI9zB,IAG1C,CACA,OAAOo+C,CACX,CACA,MAAQrwF,SAAQ,GAAK,CAAC,EACtB,SAASqpE,EAAYjrE,GACjB,OAAO,EAASvG,KAAKuG,GAAGwN,MAAM,GAAI,EACtC,CACA,MAAMslF,EAAmC,oBAAX91D,OAC1BA,OAAO65C,SACP,aACEkc,EAA0C,iBAAnBD,EAA8B,SAAU/hG,GACjE,IAAIvC,EACJ,OAAY,MAALuC,IAAcvC,EAAIuC,EAAE+hG,KAAoBtkG,EAAEipC,MAAM1mC,EAC3D,EAAI,WAAc,OAAO,IAAM,EACzBiiG,EAAgB,CAAC,EACvB,SAASC,EAAWC,GAChB,IAAI1kG,EAAGmQ,EAAG5N,EAAGoiG,EACb,GAAyB,IAArBp5F,UAAU1L,OAAc,CACxB,GAAIqW,EAAQwuF,GACR,OAAOA,EAAU1lF,QACrB,GAAIpe,OAAS4jG,GAAsC,iBAAdE,EACjC,MAAO,CAACA,GACZ,GAAKC,EAAKJ,EAAcG,GAAa,CAEjC,IADAv0F,EAAI,KACI5N,EAAIoiG,EAAGjhF,QAAY6iD,MACvBp2D,EAAE9E,KAAK9I,EAAEuO,OACb,OAAOX,CACX,CACA,GAAiB,MAAbu0F,EACA,MAAO,CAACA,GAEZ,GAAiB,iBADjB1kG,EAAI0kG,EAAU7kG,QACa,CAEvB,IADAsQ,EAAI,IAAImB,MAAMtR,GACPA,KACHmQ,EAAEnQ,GAAK0kG,EAAU1kG,GACrB,OAAOmQ,CACX,CACA,MAAO,CAACu0F,EACZ,CAGA,IAFA1kG,EAAIuL,UAAU1L,OACdsQ,EAAI,IAAImB,MAAMtR,GACPA,KACHmQ,EAAEnQ,GAAKuL,UAAUvL,GACrB,OAAOmQ,CACX,CACA,MAAMy0F,GAAoC,oBAAXp2D,OACxBlf,GAAkC,kBAA3BA,EAAGkf,OAAOiuC,aAClB,KAAM,EAEZ,IAAIzlD,GAA4B,oBAAbjpB,UACf,6CAA6CyT,KAAKzT,SAAS2vC,MAC/D,SAASmnD,GAAS/zF,EAAOzJ,GACrB2vB,GAAQlmB,EACRg0F,GAAgBz9F,CACpB,CACA,IAAIy9F,GAAgB,KAAM,EAC1B,MAAMC,IAAyB,IAAIxxF,MAAM,IAAI4mC,MAC7C,SAAS6qD,KACL,GAAID,GACA,IAEI,MADAC,GAAkBz5F,UACZ,IAAIgI,KACd,CACA,MAAOyQ,GACH,OAAOA,CACX,CACJ,OAAO,IAAIzQ,KACf,CACA,SAAS0xF,GAAYC,EAAWC,GAC5B,IAAIhrD,EAAQ+qD,EAAU/qD,MACtB,OAAKA,GAELgrD,EAAoBA,GAAoB,EACF,IAAlChrD,EAAM7nC,QAAQ4yF,EAAUvuF,QACxBwuF,IAAqBD,EAAUvuF,KAAOuuF,EAAU1xF,SAAS9T,MAAM,MAAMG,QAClEs6C,EAAMz6C,MAAM,MACdsf,MAAMmmF,GACN99F,OAAOy9F,IACPhlG,KAAIoiC,GAAS,KAAOA,IACpB/hC,KAAK,KARC,EASf,CAEA,IAkBIilG,GAAmB,CACnB,UACA,aACA,OACA,sBACA,WACA,UACA,WACA,eACA,gBACA,QACA,UACA,gBACA,SACA,aAEAC,GAlCkB,CAClB,SACA,OACA,aACA,gBACA,SACA,UACA,eACA,aACA,iBACA,kBACA,iBACA,cACA,WACA,iBACA,kBACA,gBAkB4Bj/E,OAAOg/E,IACnCE,GAAe,CACfC,eAAgB,wDAChBC,eAAgB,2BAChBC,MAAO,sBACPC,oBAAqB,8CACrBC,WAAY,oEAEhB,SAASC,GAAWjvF,EAAMhW,GACtBC,KAAKilG,GAAKb,KACVpkG,KAAK+V,KAAOA,EACZ/V,KAAK4S,QAAU7S,CACnB,CAUA,SAASmlG,GAAqBnlG,EAAKolG,GAC/B,OAAOplG,EAAM,aAAe4I,OAAOC,KAAKu8F,GACnCjmG,KAAI2J,GAAOs8F,EAASt8F,GAAK2J,aACzB/L,QAAO,CAACkP,EAAGvW,EAAG2X,IAAMA,EAAErF,QAAQiE,KAAOvW,IACrCG,KAAK,KACd,CACA,SAAS6lG,GAAYrlG,EAAKolG,EAAUE,EAAcC,GAC9CtlG,KAAKilG,GAAKb,KACVpkG,KAAKmlG,SAAWA,EAChBnlG,KAAKslG,WAAaA,EAClBtlG,KAAKqlG,aAAeA,EACpBrlG,KAAK4S,QAAUsyF,GAAqBnlG,EAAKolG,EAC7C,CAEA,SAASI,GAAUxlG,EAAKolG,GACpBnlG,KAAKilG,GAAKb,KACVpkG,KAAK+V,KAAO,YACZ/V,KAAKmlG,SAAWx8F,OAAOC,KAAKu8F,GAAUjmG,KAAI4C,GAAOqjG,EAASrjG,KAC1D9B,KAAKwlG,cAAgBL,EACrBnlG,KAAK4S,QAAUsyF,GAAqBnlG,EAAKolG,EAC7C,CA7BAnD,EAAOgD,IAAYhkG,KAAK2R,OAAOsG,OAAO,CAClCsgC,MAAO,CACH/jC,IAAK,WACD,OAAOxV,KAAKylG,SACPzlG,KAAKylG,OAASzlG,KAAK+V,KAAO,KAAO/V,KAAK4S,QAAUyxF,GAAYrkG,KAAKilG,GAAI,GAC9E,GAEJzyF,SAAU,WAAc,OAAOxS,KAAK+V,KAAO,KAAO/V,KAAK4S,OAAS,IAepEovF,EAAOoD,IAAapkG,KAAKgkG,IAQzBhD,EAAOuD,IAAWvkG,KAAKgkG,IACvB,IAAIU,GAAWjB,GAAU/5E,QAAO,CAAC3a,EAAKgG,KAAUhG,EAAIgG,GAAQA,EAAO,QAAShG,IAAM,CAAC,GACnF,MAAM41F,GAAgBX,GACtB,IAAIY,GAAanB,GAAU/5E,QAAO,CAAC3a,EAAKgG,KACpC,IAAI8vF,EAAW9vF,EAAO,QACtB,SAASivF,EAAWc,EAAYC,GAC5B/lG,KAAKilG,GAAKb,KACVpkG,KAAK+V,KAAO8vF,EACPC,EAI0B,iBAAfA,GACZ9lG,KAAK4S,QAAU,GAAGkzF,IAAcC,EAAa,MAAQA,EAAb,KACxC/lG,KAAK+lG,MAAQA,GAAS,MAEK,iBAAfD,IACZ9lG,KAAK4S,QAAU,GAAGkzF,EAAW/vF,QAAQ+vF,EAAWlzF,UAChD5S,KAAK+lG,MAAQD,IATb9lG,KAAK4S,QAAU8xF,GAAa3uF,IAAS8vF,EACrC7lG,KAAK+lG,MAAQ,KAUrB,CAGA,OAFA/D,EAAOgD,GAAYhkG,KAAK2kG,IACxB51F,EAAIgG,GAAQivF,EACLj1F,CAAG,GACX,CAAC,GACJ61F,GAAWI,OAAS/3B,YACpB23B,GAAWK,KAAO33D,UAClBs3D,GAAWM,MAAQh4D,WACnB,IAAIi4D,GAAe3B,GAAiB95E,QAAO,CAAC3a,EAAKgG,KAC7ChG,EAAIgG,EAAO,SAAW6vF,GAAW7vF,GAC1BhG,IACR,CAAC,GAYAq2F,GAAqB3B,GAAU/5E,QAAO,CAAC3a,EAAKgG,MACO,IAA/C,CAAC,SAAU,OAAQ,SAASrE,QAAQqE,KACpChG,EAAIgG,EAAO,SAAW6vF,GAAW7vF,IAC9BhG,IACR,CAAC,GAKJ,SAASs2F,KAAQ,CACjB,SAASC,GAAOnvF,GAAO,OAAOA,CAAK,CACnC,SAASovF,GAAkBC,EAAIC,GAC3B,OAAU,MAAND,GAAcA,IAAOF,GACdG,EACJ,SAAUtvF,GACb,OAAOsvF,EAAGD,EAAGrvF,GACjB,CACJ,CACA,SAASuvF,GAASC,EAAKC,GACnB,OAAO,WACHD,EAAIt+D,MAAMroC,KAAM2K,WAChBi8F,EAAIv+D,MAAMroC,KAAM2K,UACpB,CACJ,CACA,SAASk8F,GAAkBL,EAAIC,GAC3B,OAAID,IAAOH,GACAI,EACJ,WACH,IAAIt4E,EAAMq4E,EAAGn+D,MAAMroC,KAAM2K,gBACbuK,IAARiZ,IACAxjB,UAAU,GAAKwjB,GACnB,IAAI24E,EAAY9mG,KAAK8mG,UACrBjrD,EAAU77C,KAAK67C,QACf77C,KAAK8mG,UAAY,KACjB9mG,KAAK67C,QAAU,KACf,IAAIkrD,EAAON,EAAGp+D,MAAMroC,KAAM2K,WAK1B,OAJIm8F,IACA9mG,KAAK8mG,UAAY9mG,KAAK8mG,UAAYJ,GAASI,EAAW9mG,KAAK8mG,WAAaA,GACxEjrD,IACA77C,KAAK67C,QAAU77C,KAAK67C,QAAU6qD,GAAS7qD,EAAS77C,KAAK67C,SAAWA,QACpD3mC,IAAT6xF,EAAqBA,EAAO54E,CACvC,CACJ,CACA,SAAS64E,GAAkBR,EAAIC,GAC3B,OAAID,IAAOH,GACAI,EACJ,WACHD,EAAGn+D,MAAMroC,KAAM2K,WACf,IAAIm8F,EAAY9mG,KAAK8mG,UACrBjrD,EAAU77C,KAAK67C,QACf77C,KAAK8mG,UAAY9mG,KAAK67C,QAAU,KAChC4qD,EAAGp+D,MAAMroC,KAAM2K,WACXm8F,IACA9mG,KAAK8mG,UAAY9mG,KAAK8mG,UAAYJ,GAASI,EAAW9mG,KAAK8mG,WAAaA,GACxEjrD,IACA77C,KAAK67C,QAAU77C,KAAK67C,QAAU6qD,GAAS7qD,EAAS77C,KAAK67C,SAAWA,EACxE,CACJ,CACA,SAASorD,GAAkBT,EAAIC,GAC3B,OAAID,IAAOH,GACAI,EACJ,SAAUS,GACb,IAAI/4E,EAAMq4E,EAAGn+D,MAAMroC,KAAM2K,WACzBsO,EAAOiuF,EAAe/4E,GACtB,IAAI24E,EAAY9mG,KAAK8mG,UACrBjrD,EAAU77C,KAAK67C,QACf77C,KAAK8mG,UAAY,KACjB9mG,KAAK67C,QAAU,KACf,IAAIkrD,EAAON,EAAGp+D,MAAMroC,KAAM2K,WAK1B,OAJIm8F,IACA9mG,KAAK8mG,UAAY9mG,KAAK8mG,UAAYJ,GAASI,EAAW9mG,KAAK8mG,WAAaA,GACxEjrD,IACA77C,KAAK67C,QAAU77C,KAAK67C,QAAU6qD,GAAS7qD,EAAS77C,KAAK67C,SAAWA,QACrD3mC,IAARiZ,OACOjZ,IAAT6xF,OAAqB7xF,EAAY6xF,EACjC9tF,EAAOkV,EAAK44E,EACrB,CACJ,CACA,SAASI,GAA2BX,EAAIC,GACpC,OAAID,IAAOH,GACAI,EACJ,WACH,OAAkC,IAA9BA,EAAGp+D,MAAMroC,KAAM2K,YAEZ67F,EAAGn+D,MAAMroC,KAAM2K,UAC1B,CACJ,CACA,SAASy8F,GAAgBZ,EAAIC,GACzB,OAAID,IAAOH,GACAI,EACJ,WACH,IAAIt4E,EAAMq4E,EAAGn+D,MAAMroC,KAAM2K,WACzB,GAAIwjB,GAA2B,mBAAbA,EAAI5oB,KAAqB,CAEvC,IADA,IAAI8hG,EAAOrnG,KAAMZ,EAAIuL,UAAU1L,OAAQyL,EAAO,IAAIgG,MAAMtR,GACjDA,KACHsL,EAAKtL,GAAKuL,UAAUvL,GACxB,OAAO+uB,EAAI5oB,MAAK,WACZ,OAAOkhG,EAAGp+D,MAAMg/D,EAAM38F,EAC1B,GACJ,CACA,OAAO+7F,EAAGp+D,MAAMroC,KAAM2K,UAC1B,CACJ,CAjGAy7F,GAAmBhB,YAAcA,GACjCgB,GAAmBpB,WAAaA,GAChCoB,GAAmBb,UAAYA,GAiG/B,IAAI+B,GAAW,CAAC,EAChB,MAC8CC,GAAuBC,GAAoBC,IAA4C,oBAAZ5gG,QACrH,GACA,MACI,IAAI6gG,EAAU7gG,QAAQmB,UACtB,GAAsB,oBAAX2/F,SAA2BA,OAAOC,OACzC,MAAO,CAACF,EAAS/F,EAAS+F,GAAUA,GACxC,MAAMG,EAAUF,OAAOC,OAAOE,OAAO,UAAW,IAAI9iG,WAAW,CAAC,KAChE,MAAO,CACH6iG,EACAlG,EAASkG,GACTH,EAEP,EAVD,GAUMK,GAAoBP,IAAsBA,GAAmBjiG,KACjEyiG,GAAgBT,IAAyBA,GAAsBzyF,YAC/DmzF,KAAuBR,GAC7B,IAAIS,IAAwB,EACxBC,GAAuBV,GACvB,KAAQA,GAAsBliG,KAAK6iG,GAAa,EAE5C3G,EAAQxmC,aACJA,aAAa54D,KAAK,KAAM+lG,IACxB3G,EAAQ7mC,iBACJ,KACI,IAAIytC,EAAYnsD,SAASS,cAAc,OACvC,IAAKie,kBAAiB,KAClBwtC,KACAC,EAAY,IAAI,IAChBttC,QAAQstC,EAAW,CAAE7oD,YAAY,IACrC6oD,EAAU7iB,aAAa,IAAK,IAAI,EAEpC,KAAQrtD,WAAWiwE,GAAc,EAAE,EAC/CE,GAAO,SAAUpkF,EAAUxZ,GAC3B69F,GAAe99F,KAAK,CAACyZ,EAAUxZ,IAC3B89F,KACAL,KACAK,IAAuB,EAE/B,EACIC,IAAqB,EACzBD,IAAuB,EACvBE,GAAkB,GAClBC,GAAkB,GAClBC,GAAmB,KAAMC,GAAkBvC,GACvCwC,GAAY,CACZ5mG,GAAI,SACJm6C,QAAQ,EACR0sD,IAAK,EACLC,WAAY,GACZC,YAAaC,GACbC,KAAK,EACL15E,IAAK,CAAC,EACN25E,SAAU,WACNppG,KAAKgpG,WAAW3qF,SAAQgrF,IACpB,IACIH,GAAYG,EAAG,GAAIA,EAAG,GAC1B,CACA,MAAOjmF,GAAK,IAEpB,GAEAkmF,GAAMR,GACNP,GAAiB,GACjBgB,GAAoB,EACpBC,GAAiB,GACrB,SAASC,GAAa/6E,GAClB,GAAoB,iBAAT1uB,KACP,MAAM,IAAIsuC,UAAU,wCACxBtuC,KAAK41D,WAAa,GAClB51D,KAAK0pG,YAAcrD,GACnBrmG,KAAK2pG,MAAO,EACZ,IAAIC,EAAO5pG,KAAK6pG,KAAOP,GAMvB,GALIlzE,KACAp2B,KAAK8pG,aAAe1F,KACpBpkG,KAAK+pG,MAAQ,KACb/pG,KAAKgqG,SAAW,GAEF,mBAAPt7E,EAAmB,CAC1B,GAAIA,IAAO44E,GACP,MAAM,IAAIh5D,UAAU,kBAKxB,OAJAtuC,KAAKiqG,OAASt/F,UAAU,GACxB3K,KAAKkqG,OAASv/F,UAAU,SACJ,IAAhB3K,KAAKiqG,QACLE,GAAgBnqG,KAAMA,KAAKkqG,QAEnC,CACAlqG,KAAKiqG,OAAS,KACdjqG,KAAKkqG,OAAS,OACZN,EAAIb,IACNqB,GAAmBpqG,KAAM0uB,EAC7B,CACA,MAAM27E,GAAW,CACb70F,IAAK,WACD,IAAIo0F,EAAMN,GAAKgB,EAAcC,GAC7B,SAAShlG,EAAKw2D,EAAaG,GACvB,IAAIsuC,GAAiBZ,EAAIvtD,SAAWutD,IAAQN,IAAOgB,IAAgBC,IACnE,MAAME,EAAUD,IAAkBE,KAClC,IAAI7H,EAAK,IAAI4G,IAAa,CAACzhG,EAAS+qD,KAChC43C,GAAoB3qG,KAAM,IAAI4qG,GAASC,GAA0B9uC,EAAa6tC,EAAKY,EAAeC,GAAUI,GAA0B3uC,EAAY0tC,EAAKY,EAAeC,GAAUziG,EAAS+qD,EAAQ62C,GAAK,IAG1M,OADAxzE,IAAS00E,GAAsBjI,EAAI7iG,MAC5B6iG,CACX,CAEA,OADAt9F,EAAKwN,UAAYu0F,GACV/hG,CACX,EACA1D,IAAK,SAAUqO,GACX4xF,EAAQ9hG,KAAM,OAAQkQ,GAASA,EAAM6C,YAAcu0F,GAC/C+C,GACA,CACI70F,IAAK,WACD,OAAOtF,CACX,EACArO,IAAKwoG,GAASxoG,KAE1B,GAqDJ,SAAS+oG,GAAS7uC,EAAaG,EAAYl0D,EAAS+qD,EAAQ5xD,GACxDnB,KAAK+7D,YAAqC,mBAAhBA,EAA6BA,EAAc,KACrE/7D,KAAKk8D,WAAmC,mBAAfA,EAA4BA,EAAa,KAClEl8D,KAAKgI,QAAUA,EACfhI,KAAK+yD,OAASA,EACd/yD,KAAK4pG,IAAMzoG,CACf,CA8FA,SAASipG,GAAmBtuC,EAASptC,GACjC,IACIA,GAAGxe,IACC,GAAuB,OAAnB4rD,EAAQmuC,OAAZ,CAEA,GAAI/5F,IAAU4rD,EACV,MAAM,IAAIxtB,UAAU,6CACxB,IAAIy8D,EAAoBjvC,EAAQ6tC,MAAQqB,KACpC96F,GAA+B,mBAAfA,EAAM3K,KACtB6kG,GAAmBtuC,GAAS,CAAC9zD,EAAS+qD,KAClC7iD,aAAiBu5F,GACbv5F,EAAM+6F,MAAMjjG,EAAS+qD,GACrB7iD,EAAM3K,KAAKyC,EAAS+qD,EAAO,KAInC+I,EAAQmuC,QAAS,EACjBnuC,EAAQouC,OAASh6F,EACjBg7F,GAAsBpvC,IAEtBivC,GACAI,IAjBM,CAiBa,GACxBhB,GAAgB9nG,KAAK,KAAMy5D,GAClC,CACA,MAAOsvC,GACHjB,GAAgBruC,EAASsvC,EAC7B,CACJ,CACA,SAASjB,GAAgBruC,EAASuvC,GAE9B,GADA1C,GAAgBl+F,KAAK4gG,GACE,OAAnBvvC,EAAQmuC,OAAZ,CAEA,IAAIc,EAAoBjvC,EAAQ6tC,MAAQqB,KACxCK,EAASxC,GAAgBwC,GACzBvvC,EAAQmuC,QAAS,EACjBnuC,EAAQouC,OAASmB,EACjBj1E,IAAoB,OAAXi1E,GAAqC,iBAAXA,IAAwBA,EAAOC,UAnuBtE,WACI,KAkuBuF,KACnF,IAAIC,EAAWpJ,EAAsBkJ,EAAQ,SAC7CA,EAAOC,SAAWxvC,EAClBgmC,EAAQuJ,EAAQ,QAAS,CACrB71F,IAAK,IAAM0yF,GACPqD,IAAaA,EAAS/1F,IAClB+1F,EAAS/1F,IAAI6yB,MAAMgjE,GACnBE,EAASr7F,OACb4rD,EAAQviB,OACd,GA1uBClR,MAAM,UAiuBiEmjE,EAhuB9E,CACA,MAAOJ,GAEP,CACJ,CA4tBkFI,GAwJlF,SAAmC1vC,GAC1B4sC,GAAgB9yE,MAAKjmB,GAAKA,EAAEu6F,SAAWpuC,EAAQouC,UAChDxB,GAAgBj+F,KAAKqxD,EAC7B,CAhJI2vC,CAA0B3vC,GAC1BovC,GAAsBpvC,GAClBivC,GACAI,IAnBM,CAoBd,CACA,SAASD,GAAsBpvC,GAC3B,IAAIkf,EAAYlf,EAAQlG,WACxBkG,EAAQlG,WAAa,GACrB,IAAK,IAAIx2D,EAAI,EAAG6S,EAAM+oE,EAAU/7E,OAAQG,EAAI6S,IAAO7S,EAC/CurG,GAAoB7uC,EAASkf,EAAU57E,IAE3C,IAAIwqG,EAAM9tC,EAAQ+tC,OAChBD,EAAIb,KAAOa,EAAIR,WACS,IAAtBG,OACEA,GACFjB,IAAK,KAC2B,KAAtBiB,IACFmC,IAAsB,GAC3B,IAEX,CACA,SAASf,GAAoB7uC,EAASsjC,GAClC,GAAuB,OAAnBtjC,EAAQmuC,OAAZ,CAIA,IAAIrtB,EAAK9gB,EAAQmuC,OAAS7K,EAASrjC,YAAcqjC,EAASljC,WAC1D,GAAW,OAAP0gB,EACA,OAAQ9gB,EAAQmuC,OAAS7K,EAASp3F,QAAUo3F,EAASrsC,QAAQ+I,EAAQouC,UAEvE9K,EAASwK,IAAIb,MACbQ,GACFjB,GAAKqD,GAAc,CAAC/uB,EAAI9gB,EAASsjC,GAPjC,MAFItjC,EAAQlG,WAAWnrD,KAAK20F,EAUhC,CACA,SAASuM,GAAa/uB,EAAI9gB,EAASsjC,GAC/B,IACIwJ,GAAmB9sC,EACnB,IAAIv6C,EAAKrR,EAAQ4rD,EAAQouC,OACrBpuC,EAAQmuC,OACR1oF,EAAMq7D,EAAG1sE,IAGLy4F,GAAgB1pG,SAChB0pG,GAAkB,IACtBpnF,EAAMq7D,EAAG1sE,IAC+B,IAApCy4F,GAAgBj3F,QAAQxB,IAoGxC,SAA4B4rD,GAExB,IADA,IAAI18D,EAAIspG,GAAgBzpG,OACjBG,MACCspG,KAAkBtpG,GAAG8qG,SAAWpuC,EAAQouC,OAExC,YADAxB,GAAgBhgF,OAAOtpB,EAAG,EAGtC,CA1GgBwsG,CAAmB9vC,IAE3BsjC,EAASp3F,QAAQuZ,EACrB,CACA,MAAO6B,GACHg8E,EAASrsC,OAAO3vC,EACpB,CACA,QACIwlF,GAAmB,KACS,KAAtBW,IACFmC,OACFtM,EAASwK,IAAIb,KAAO3J,EAASwK,IAAIR,UACvC,CACJ,CACA,SAASyC,GAAS/vC,EAASgwC,EAAQ5zD,GAC/B,GAAI4zD,EAAO7sG,SAAWi5C,EAClB,OAAO4zD,EACX,IAAIvyD,EAAQ,GACZ,IAAuB,IAAnBuiB,EAAQmuC,OAAkB,CAC1B,IAA8B8B,EAAWn5F,EAArCo5F,EAAUlwC,EAAQouC,OACP,MAAX8B,GACAD,EAAYC,EAAQj2F,MAAQ,QAC5BnD,EAAUo5F,EAAQp5F,SAAWo5F,EAC7BzyD,EAAQ8qD,GAAY2H,EAAS,KAG7BD,EAAYC,EACZp5F,EAAU,IAEdk5F,EAAOrhG,KAAKshG,GAAan5F,EAAU,KAAOA,EAAU,IAAM2mC,EAC9D,CAQA,OAPInjB,MACAmjB,EAAQ8qD,GAAYvoC,EAAQguC,aAAc,MACF,IAA3BgC,EAAOp6F,QAAQ6nC,IACxBuyD,EAAOrhG,KAAK8uC,GACZuiB,EAAQiuC,OACR8B,GAAS/vC,EAAQiuC,MAAO+B,EAAQ5zD,IAEjC4zD,CACX,CACA,SAAShB,GAAsBhvC,EAAS+F,GACpC,IAAIoqC,EAAUpqC,EAAOA,EAAKmoC,SAAW,EAAI,EACrCiC,EAnZuB,MAoZvBnwC,EAAQiuC,MAAQloC,EAChB/F,EAAQkuC,SAAWiC,EAE3B,CACA,SAAS7D,KACL4C,MAAyBG,IAC7B,CACA,SAASH,KACL,IAAIkB,EAAczD,GAGlB,OAFAA,IAAqB,EACrBD,IAAuB,EAChB0D,CACX,CACA,SAASf,KACL,IAAIgB,EAAW/sG,EAAGkT,EAClB,GACI,KAAOi2F,GAAetpG,OAAS,GAI3B,IAHAktG,EAAY5D,GACZA,GAAiB,GACjBj2F,EAAI65F,EAAUltG,OACTG,EAAI,EAAGA,EAAIkT,IAAKlT,EAAG,CACpB,IAAIo0B,EAAO24E,EAAU/sG,GACrBo0B,EAAK,GAAG6U,MAAM,KAAM7U,EAAK,GAC7B,QAEC+0E,GAAetpG,OAAS,GACjCwpG,IAAqB,EACrBD,IAAuB,CAC3B,CACA,SAASkD,KACL,IAAIU,EAAgB1D,GACpBA,GAAkB,GAClB0D,EAAc/tF,SAAQ1O,IAClBA,EAAEk6F,KAAKZ,YAAY5+F,KAAK,KAAMsF,EAAEu6F,OAAQv6F,EAAE,IAI9C,IAFA,IAAI08F,EAAa7C,GAAeprF,MAAM,GAClChf,EAAIitG,EAAWptG,OACZG,GACHitG,IAAajtG,IACrB,CAyBA,SAASktG,GAAcjB,GACnB,OAAO,IAAI5B,GAAanC,IAAU,EAAO+D,EAC7C,CACA,SAASjpC,GAAK1zC,EAAI69E,GACd,IAAI3C,EAAMN,GACV,OAAO,WACH,IAAI4C,EAAclB,KAAuBwB,EAAalD,GACtD,IAEI,OADAmD,GAAa7C,GAAK,GACXl7E,EAAG2Z,MAAMroC,KAAM2K,UAC1B,CACA,MAAOyY,GACHmpF,GAAgBA,EAAanpF,EACjC,CACA,QACIqpF,GAAaD,GAAY,GACrBN,GACAf,IACR,CACJ,CACJ,CAnXArzB,EAAM2xB,GAAa12F,UAAW,CAC1BxN,KAAM8kG,GACNY,MAAO,SAAUlvC,EAAaG,GAC1ByuC,GAAoB3qG,KAAM,IAAI4qG,GAAS,KAAM,KAAM7uC,EAAaG,EAAYotC,IAChF,EACAhtC,MAAO,SAAUJ,GACb,GAAyB,IAArBvxD,UAAU1L,OACV,OAAOe,KAAKuF,KAAK,KAAM22D,GAC3B,IAAIxlD,EAAO/L,UAAU,GAAI+hG,EAAU/hG,UAAU,GAC7C,MAAuB,mBAAT+L,EAAsB1W,KAAKuF,KAAK,MAAMw0B,GACpDA,aAAerjB,EAAOg2F,EAAQ3yE,GAAOuyE,GAAcvyE,KAC7C/5B,KAAKuF,KAAK,MAAMw0B,GAClBA,GAAOA,EAAIhkB,OAASW,EAAOg2F,EAAQ3yE,GAAOuyE,GAAcvyE,IAChE,EACAsiC,QAAS,SAAUswC,GACf,OAAO3sG,KAAKuF,MAAK2K,IACby8F,IACOz8F,KACR6pB,IACC4yE,IACOL,GAAcvyE,KAE7B,EACAwf,MAAO,CACH/jC,IAAK,WACD,GAAIxV,KAAKylG,OACL,OAAOzlG,KAAKylG,OAChB,IACIyC,IAAwB,EACxB,IACI3uD,EADSsyD,GAAS7rG,KAAM,GAjJ1B,IAkJiBT,KAAK,qBAGxB,OAFoB,OAAhBS,KAAKiqG,SACLjqG,KAAKylG,OAASlsD,GACXA,CACX,CACA,QACI2uD,IAAwB,CAC5B,CACJ,GAEJ0E,QAAS,SAAU3S,EAAIl6F,GACnB,OAAOk6F,EAAK1iF,IACR,IAAIkyF,IAAa,CAACzhG,EAAS+qD,KACvB,IAAI85C,EAAS10E,YAAW,IAAM46B,EAAO,IAAI6yC,GAAWkH,QAAQ/sG,KAAOk6F,GACnEj6F,KAAKuF,KAAKyC,EAAS+qD,GAAQsJ,QAAQhkC,aAAah2B,KAAK,KAAMwqG,GAAQ,IAClE7sG,IACb,IAEkB,oBAAX4tC,QAA0BA,OAAOiuC,aACxCimB,EAAQ2H,GAAa12F,UAAW66B,OAAOiuC,YAAa,iBACxDitB,GAAUr5E,IAAMs9E,KAQhBj1B,EAAM2xB,GAAc,CAChB3iG,IAAK,WACD,IAAIsO,EAASyuF,EAAWx7D,MAAM,KAAM19B,WAC/BzL,IAAI8tG,IACT,OAAO,IAAIvD,IAAa,SAAUzhG,EAAS+qD,GACjB,IAAlB39C,EAAOnW,QACP+I,EAAQ,IACZ,IAAIopC,EAAYh8B,EAAOnW,OACvBmW,EAAOiJ,SAAQ,CAAC9O,EAAGnQ,IAAMqqG,GAAazhG,QAAQuH,GAAGhK,MAAK5D,IAClDyT,EAAOhW,GAAKuC,IACLyvC,GACHppC,EAAQoN,EAAO,GACpB29C,IACP,GACJ,EACA/qD,QAASkI,IACL,GAAIA,aAAiBu5F,GACjB,OAAOv5F,EACX,GAAIA,GAA+B,mBAAfA,EAAM3K,KACtB,OAAO,IAAIkkG,IAAa,CAACzhG,EAAS+qD,KAC9B7iD,EAAM3K,KAAKyC,EAAS+qD,EAAO,IAEnC,IAAI8vC,EAAK,IAAI4G,GAAanC,IAAU,EAAMp3F,GAE1C,OADA46F,GAAsBjI,EAAI+F,IACnB/F,CAAE,EAEb9vC,OAAQu5C,GACR/vC,KAAM,WACF,IAAInnD,EAASyuF,EAAWx7D,MAAM,KAAM19B,WAAWzL,IAAI8tG,IACnD,OAAO,IAAIvD,IAAa,CAACzhG,EAAS+qD,KAC9B39C,EAAOlW,KAAIgR,GAASu5F,GAAazhG,QAAQkI,GAAO3K,KAAKyC,EAAS+qD,IAAQ,GAE9E,EACAu2C,IAAK,CACD9zF,IAAK,IAAM8zF,GACXznG,IAAKqO,GAASo5F,GAAMp5F,GAExBq6F,YAAa,CAAE/0F,IAAK,IAAM+0F,IAC1B0C,OAAQC,GACRC,OAAQA,GACRC,UAAW,CACP53F,IAAK,IAAM8yF,GACXzmG,IAAKqO,IAAWo4F,GAAOp4F,CAAK,GAEhC24F,gBAAiB,CACbrzF,IAAK,IAAMqzF,GACXhnG,IAAKqO,IAAW24F,GAAkB34F,CAAK,GAE3Cm9F,OAAQ,CAAC3+E,EAAI4+E,IACF,IAAI7D,IAAa,CAACzhG,EAAS+qD,IACvBm6C,IAAS,CAACllG,EAAS+qD,KACtB,IAAI62C,EAAMN,GACVM,EAAIZ,WAAa,GACjBY,EAAIX,YAAcl2C,EAClB62C,EAAIR,SAAW1C,IAAS,YAuNxC,SAAkDh4E,GAK9C86E,GAAe/+F,MAJf,SAAS8iG,IACL7+E,IACA86E,GAAe9gF,OAAO8gF,GAAe93F,QAAQ67F,GAAY,EAC7D,MAEEhE,GACFjB,IAAK,KAC2B,KAAtBiB,IACFmC,IAAsB,GAC3B,GACP,CAjOoB8B,EAAyC,KACV,IAA3BxtG,KAAKgpG,WAAW/pG,OAAe+I,IAAY+qD,EAAO/yD,KAAKgpG,WAAW,GAAG,GAE7E,GAAGY,EAAIR,UACP16E,GAAI,GACL4+E,EAAWtlG,EAAS+qD,OAI/Bi1C,KACIA,GAAcyF,YACd3L,EAAQ2H,GAAc,cAAc,WAChC,MAAMiE,EAAmB7J,EAAWx7D,MAAM,KAAM19B,WAAWzL,IAAI8tG,IAC/D,OAAO,IAAIvD,IAAazhG,IACY,IAA5B0lG,EAAiBzuG,QACjB+I,EAAQ,IACZ,IAAIopC,EAAYs8D,EAAiBzuG,OACjC,MAAM0uG,EAAU,IAAIj9F,MAAM0gC,GAC1Bs8D,EAAiBrvF,SAAQ,CAAC1O,EAAGvQ,IAAMqqG,GAAazhG,QAAQ2H,GAAGpK,MAAK2K,GAASy9F,EAAQvuG,GAAK,CAAE28C,OAAQ,YAAa7rC,WAASm7F,GAAUsC,EAAQvuG,GAAK,CAAE28C,OAAQ,WAAYsvD,YAC9J9lG,MAAK,MAAQ6rC,GAAappC,EAAQ2lG,MAAU,GAEzD,IACA3F,GAAczvB,KAAiC,oBAAnBq1B,gBAC5B9L,EAAQ2H,GAAc,OAAO,WACzB,MAAMiE,EAAmB7J,EAAWx7D,MAAM,KAAM19B,WAAWzL,IAAI8tG,IAC/D,OAAO,IAAIvD,IAAa,CAACzhG,EAAS+qD,KACE,IAA5B26C,EAAiBzuG,QACjB8zD,EAAO,IAAI66C,eAAe,KAC9B,IAAIx8D,EAAYs8D,EAAiBzuG,OACjC,MAAMkmG,EAAW,IAAIz0F,MAAM0gC,GAC3Bs8D,EAAiBrvF,SAAQ,CAAC1O,EAAGvQ,IAAMqqG,GAAazhG,QAAQ2H,GAAGpK,MAAK2K,GAASlI,EAAQkI,KAAQ87F,IACrF7G,EAAS/lG,GAAK4sG,IACP56D,GACH2hB,EAAO,IAAI66C,eAAezI,GAAU,KACzC,GAEX,KA+NR,MAAM0I,GAAO,CAAEC,OAAQ,EAAGC,OAAQ,EAAG7rG,GAAI,GACzC,IAAI8rG,GAAc,EACdC,GAAY,GACZC,GAAa,EACb3D,GAAc,EACd4D,GAAkB,EACtB,SAASjB,GAASx+E,EAAIopD,EAAOjvD,EAAIC,GAC7B,IAAIlQ,EAAS0wF,GAAKM,EAAMjhG,OAAOwQ,OAAOP,GACtCgxF,EAAIhxF,OAASA,EACbgxF,EAAIb,IAAM,EACVa,EAAIvtD,QAAS,EACbutD,EAAI1nG,KAAOisG,GACX,IAAIC,EAAYtF,GAAUr5E,IAC1Bm6E,EAAIn6E,IAAMw4E,GAAqB,CAC3BphG,QAAS4iG,GACT4E,YAAa,CAAEn+F,MAAOu5F,GAAcnwD,cAAc,EAAMD,UAAU,GAClEvyC,IAAK2iG,GAAa3iG,IAClBy1D,KAAMktC,GAAaltC,KACnBkxC,WAAYhE,GAAagE,WACzBl1B,IAAKkxB,GAAalxB,IAClBvwE,QAASyhG,GAAazhG,QACtB+qD,OAAQ02C,GAAa12C,OACrBu7C,MAAOC,GAAsBH,EAAUE,MAAO1E,GAC9C4E,MAAOD,GAAsBH,EAAUI,MAAO5E,IAC9C,CAAC,EACD9xB,GACA7+D,EAAO2wF,EAAK9xB,KACdl/D,EAAOmwF,IACTa,EAAIR,SAAW,aACTppG,KAAK4Y,OAAOmwF,KAAO/oG,KAAK4Y,OAAOwwF,UACrC,EACA,IAAIvG,EAAKsK,GAAOvD,EAAKl7E,EAAI7F,EAAIC,GAG7B,OAFgB,IAAZ8gF,EAAIb,KACJa,EAAIR,WACDvG,CACX,CACA,SAAS4L,KAKL,OAJKZ,GAAK3rG,KACN2rG,GAAK3rG,KAAO8rG,MACdH,GAAKC,OACPD,GAAKE,QAhhB+B,IAihB7BF,GAAK3rG,EAChB,CACA,SAASwoG,KACL,QAAKmD,GAAKC,SAEY,KAAhBD,GAAKC,SACPD,GAAK3rG,GAAK,GACd2rG,GAAKE,OAxhB+B,IAwhBtBF,GAAKC,QACZ,EACX,CAIA,SAASd,GAAyB0B,GAC9B,OAAIb,GAAKE,QAAUW,GAAmBA,EAAgB55F,cAAgBkzF,IAClEyG,KACOC,EAAgBnpG,MAAK5D,IACxB+oG,KACO/oG,KACRyhB,IACCsnF,KACOiE,GAAUvrF,OAGlBsrF,CACX,CACA,SAASE,GAAcC,KACjBtE,GACGsD,GAAKE,QAA4B,KAAhBF,GAAKE,SACvBF,GAAKE,OAASF,GAAK3rG,GAAK,GAE5B+rG,GAAUxjG,KAAK6+F,IACfmD,GAAaoC,GAAY,EAC7B,CACA,SAASC,KACL,IAAI3tG,EAAO8sG,GAAUA,GAAUhvG,OAAS,GACxCgvG,GAAUnqG,MACV2oG,GAAatrG,GAAM,EACvB,CACA,SAASsrG,GAAaoC,EAAYE,GAC9B,IAAIC,EAAc1F,GAIlB,IAHIyF,GAAgBlB,GAAKE,QAAYG,MAAgBW,IAAevF,IAAO4E,MAAkBA,IAAcW,IAAevF,KACtH2F,GAAuBF,EAAgBH,GAAcvsG,KAAK,KAAMwsG,GAAcC,IAE9ED,IAAevF,KAEnBA,GAAMuF,EACFG,IAAgBlG,KAChBA,GAAUr5E,IAAMs9E,MAChB9E,IAAoB,CACpB,IAAIiH,EAAgBpG,GAAUr5E,IAAI5oB,QAC9BsoG,EAAYN,EAAWp/E,IAC3B+3E,GAAmBjiG,KAAO4pG,EAAUb,MACpCY,EAAcn8F,UAAUxN,KAAO4pG,EAAUX,OACrCQ,EAAY3yD,QAAUwyD,EAAWxyD,UACjC1zC,OAAOqqC,eAAeyuD,EAAS,UAAW0N,EAAUd,aACpDa,EAAcpoG,IAAMqoG,EAAUroG,IAC9BooG,EAAc3yC,KAAO4yC,EAAU5yC,KAC/B2yC,EAAclnG,QAAUmnG,EAAUnnG,QAClCknG,EAAcn8C,OAASo8C,EAAUp8C,OAC7Bo8C,EAAU1B,aACVyB,EAAczB,WAAa0B,EAAU1B,YACrC0B,EAAU52B,MACV22B,EAAc32B,IAAM42B,EAAU52B,KAE1C,CACJ,CACA,SAASw0B,KACL,IAAImC,EAAgBzN,EAAQ56F,QAC5B,OAAOohG,GAAqB,CACxBphG,QAASqoG,EACTb,YAAa1lG,OAAOmjD,yBAAyB21C,EAAS,WACtD36F,IAAKooG,EAAcpoG,IACnBy1D,KAAM2yC,EAAc3yC,KACpBkxC,WAAYyB,EAAczB,WAC1Bl1B,IAAK22B,EAAc32B,IACnBvwE,QAASknG,EAAclnG,QACvB+qD,OAAQm8C,EAAcn8C,OACtBu7C,MAAO9G,GAAmBjiG,KAC1BipG,MAAOU,EAAcn8F,UAAUxN,MAC/B,CAAC,CACT,CACA,SAAS4nG,GAAOvD,EAAKl7E,EAAI7F,EAAIC,EAAIsmF,GAC7B,IAAI5C,EAAalD,GACjB,IAEI,OADAmD,GAAa7C,GAAK,GACXl7E,EAAG7F,EAAIC,EAAIsmF,EACtB,CACA,QACI3C,GAAaD,GAAY,EAC7B,CACJ,CACA,SAASyC,GAAuBI,GAC5BtH,GAAkB19F,KAAKk9F,GAAuB8H,EAClD,CACA,SAASxE,GAA0Bn8E,EAAIvtB,EAAMqpG,EAAeC,GACxD,MAAqB,mBAAP/7E,EAAoBA,EAAK,WACnC,IAAI4gF,EAAYhG,GACZkB,GACAiE,KACJhC,GAAatrG,GAAM,GACnB,IACI,OAAOutB,EAAG2Z,MAAMroC,KAAM2K,UAC1B,CACA,QACI8hG,GAAa6C,GAAW,GACpB7E,GACAwE,GAAuBvE,GAC/B,CACJ,CACJ,CACA,SAAS6D,GAAsBgB,EAAUpuG,GACrC,OAAO,SAAUquG,EAAYtzC,GACzB,OAAOqzC,EAASllG,KAAKrK,KAAM6qG,GAA0B2E,EAAYruG,GAAO0pG,GAA0B3uC,EAAY/6D,GAClH,CACJ,EAzG2D,KAAtD,GAAK4mG,IAAmBr2F,QAAQ,mBACjC+8F,GAA0B/D,GAA0BrE,IAyGxD,MAAMoJ,GAAqB,qBAC3B,SAASvG,GAAYnvE,EAAK+hC,GACtB,IAAI+mC,EACJ,IACIA,EAAK/mC,EAAQ4tC,YAAY3vE,EAC7B,CACA,MAAO3W,GAAK,CACZ,IAAW,IAAPy/E,EACA,IACI,IAAIlrE,EAAO+3E,EAAY,CAAE5zC,QAASA,EAASuvC,OAAQtxE,GAUnD,GATI0nE,EAAQvlD,UAAYA,SAASC,cAC7BxkB,EAAQukB,SAASC,YAAY,UACvBwzD,UAAUF,IAAoB,GAAM,GAC1Cx2F,EAAO0e,EAAO+3E,IAETjO,EAAQmO,aAEb32F,EADA0e,EAAQ,IAAIi4E,YAAYH,GAAoB,CAAEI,OAAQH,IACxCA,GAEd/3E,GAAS8pE,EAAQzlD,gBACjBA,cAAcrkB,IACT8pE,EAAQqO,uBAAyBrO,EAAQsO,sBAC1C,IACItO,EAAQsO,qBAAqBp4E,EACjC,CACA,MAAOjc,GAAK,CAEhB0a,IAASuB,IAAUA,EAAMq4E,kBACzBnwG,QAAQs9C,KAAK,wBAAwBpjB,EAAIwf,OAASxf,IAE1D,CACA,MAAO3W,GAAK,CACpB,CACA,IAAIurF,GAAYlF,GAAa12C,OAE7B,SAASk9C,GAAgBC,EAAIpgF,EAAMqgF,EAAYzhF,GAC3C,GAAKwhF,EAAGE,QAAWF,EAAGjG,OAAOoG,cAAkB/G,GAAIgH,YAAeJ,EAAGK,MAWhE,CACD,IAAIC,EAAQN,EAAGO,mBAAmB3gF,EAAMqgF,EAAYD,EAAGQ,WACvD,IACIF,EAAMr3F,QACV,CACA,MAAOiyF,GACH,OAAOuD,GAAUvD,EACrB,CACA,OAAOoF,EAAMlF,SAASx7E,GAAM,CAAC9nB,EAAS+qD,IAC3Bm6C,IAAS,KACZ5D,GAAIkH,MAAQA,EACL9hF,EAAG1mB,EAAS+qD,EAAQy9C,QAEhCjrG,MAAK2B,GACGspG,EAAMG,YAAYprG,MAAK,IAAM2B,KAE5C,CA1BI,GAAIgpG,EAAGjG,OAAOoG,aACV,OAAO1B,GAAU,IAAI/I,GAAWhB,eAAesL,EAAGjG,OAAO2G,cAE7D,IAAKV,EAAGjG,OAAO4G,cAAe,CAC1B,IAAKX,EAAG74B,SAASy5B,SACb,OAAOnC,GAAU,IAAI/I,GAAWhB,gBACpCsL,EAAGz0D,OAAO6gB,MAAM+pC,GACpB,CACA,OAAO6J,EAAGjG,OAAO8G,eAAexrG,MAAK,IAAM0qG,GAAgBC,EAAIpgF,EAAMqgF,EAAYzhF,IAmBzF,CAEA,MAAMsiF,GAAgB,QAChBC,GAAYjyG,OAAOoT,aAAa,OAChC8+F,IAAS,IACTC,GAAuB,oGACvBC,GAAkB,mBAClBC,GAAc,GACdC,GAAkC,oBAAdh1D,WAA6B,sBAAsB17B,KAAK07B,UAAUC,WACtFg1D,GAA4BD,GAC5BE,GAA6BF,GAC7BG,GAAwBnwE,IAAU,6BAA6B1gB,KAAK0gB,GACpEowE,GAAa,YACbC,GAAW,WACXC,GAAY,YAElB,SAASC,GAAQC,EAASC,GACtB,OAAOD,EACHC,EACI,WAAc,OAAOD,EAAQzpE,MAAMroC,KAAM2K,YAAconG,EAAQ1pE,MAAMroC,KAAM2K,UAAY,EACvFmnG,EACJC,CACR,CAEA,MAAMC,GAAW,CACbt7F,KAAM,EACNgL,OAAO,IACPuwF,WAAW,EACX9vF,MAAO,CAAC,IACR+vF,WAAW,GAGf,SAASC,GAA8BvP,GACnC,MAA0B,iBAAZA,GAAyB,KAAKhiF,KAAKgiF,GAQ1C7yF,GAAQA,EAPRA,SACsBmF,IAAjBnF,EAAI6yF,IAA2BA,KAAW7yF,UAC1CA,EAAMyzF,EAAUzzF,IACL6yF,GAER7yF,EAGnB,CAEA,MAAMhE,GACF,MAAAqmG,CAAOtiF,EAAMpB,EAAI2jF,GACb,MAAM7B,EAAQxwG,KAAKsyG,KAAOhJ,GAAIkH,MACxB+B,EAAYvyG,KAAK+V,KACvB,SAASy8F,EAAwBxqG,EAAS+qD,EAAQy9C,GAC9C,IAAKA,EAAMiC,OAAOF,GACd,MAAM,IAAI3M,GAAW8M,SAAS,SAAWH,EAAY,4BACzD,OAAO7jF,EAAG8hF,EAAMmC,SAAUnC,EAC9B,CACA,MAAMtE,EAAclB,KACpB,IACI,OAAOwF,GAASA,EAAMN,KAAOlwG,KAAKkwG,GAC9BM,IAAUlH,GAAIkH,MACVA,EAAMlF,SAASx7E,EAAM0iF,EAAyBH,GAC9CnF,IAAS,IAAMsD,EAAMlF,SAASx7E,EAAM0iF,EAAyBH,IAAc,CAAE7B,MAAOA,EAAOoC,UAAWtJ,GAAIsJ,WAAatJ,KAC3H2G,GAAgBjwG,KAAKkwG,GAAIpgF,EAAM,CAAC9vB,KAAK+V,MAAOy8F,EACpD,CACA,QACQtG,GACAf,IACR,CACJ,CACA,GAAA31F,CAAIq9F,EAAWj2B,GACX,OAAIi2B,GAAaA,EAAU/9F,cAAgBnM,OAChC3I,KAAK8yG,MAAMD,GAAW58D,MAAM2mC,GAChC58E,KAAKoyG,OAAO,YAAa5B,GACrBxwG,KAAK+yG,KAAKv9F,IAAI,CAAEg7F,QAAO3nG,IAAKgqG,IAC9BttG,MAAK4oB,GAAOnuB,KAAKgzG,KAAKC,QAAQC,KAAK/kF,OACzC5oB,KAAKq3E,EACZ,CACA,KAAAk2B,CAAMK,GACF,GAA2B,iBAAhBA,EACP,OAAO,IAAInzG,KAAKkwG,GAAGkD,YAAYpzG,KAAMmzG,GACzC,GAAI79F,EAAQ69F,GACR,OAAO,IAAInzG,KAAKkwG,GAAGkD,YAAYpzG,KAAM,IAAImzG,EAAY5zG,KAAK,SAC9D,MAAM8zG,EAAWzqG,EAAKuqG,GACtB,GAAwB,IAApBE,EAASp0G,OACT,OAAOe,KACF8yG,MAAMO,EAAS,IACf3/D,OAAOy/D,EAAYE,EAAS,KACrC,MAAMC,EAAgBtzG,KAAKyyG,OAAOc,QAAQ/tF,OAAOxlB,KAAKyyG,OAAOe,SAAS/sG,QAAOgtG,GAAMA,EAAGC,UAClFL,EAASn2F,OAAM0lF,GAAW6Q,EAAG7Q,QAAQlxF,QAAQkxF,IAAY,KACzD6Q,EAAG7Q,QAAQ1lF,OAAM0lF,GAAWyQ,EAAS3hG,QAAQkxF,IAAY,MAAI,GACjE,GAAI0Q,GAAiBtzG,KAAKkwG,GAAGyD,UAAY1C,GACrC,OAAOjxG,KACF8yG,MAAMQ,EAAcv9F,MACpB29B,OAAO4/D,EAAc1Q,QAAQ1jG,KAAI00G,GAAMT,EAAYS,OACvDN,GAAiBl9E,IAClBv2B,QAAQs9C,KAAK,aAAa5sC,KAAKC,UAAU2iG,SAAmBnzG,KAAK+V,2CAC1Cs9F,EAAS9zG,KAAK,SACzC,MAAM,UAAEs0G,GAAc7zG,KAAKyyG,OACrBqB,EAAM9zG,KAAKkwG,GAAG6D,MAAMC,UAC1B,SAAStgE,EAAOnkC,EAAGC,GACf,IACI,OAAyB,IAAlBskG,EAAIG,IAAI1kG,EAAGC,EACtB,CACA,MAAO4T,GACH,OAAO,CACX,CACJ,CACA,MAAOtS,EAAKojG,GAAkBb,EAAS3oF,QAAO,EAAEypF,EAAWC,GAAexR,KACtE,MAAMhtF,EAAQi+F,EAAUjR,GAClB1yF,EAAQijG,EAAYvQ,GAC1B,MAAO,CACHuR,GAAav+F,EACbu+F,IAAcv+F,EACVi8F,GAAQuC,EAAcx+F,GAASA,EAAMy+F,MACjC1yG,IACI,MAAM8iD,EAAOk+C,EAAahhG,EAAGihG,GAC7B,OAAOttF,EAAQmvC,IAASA,EAAK7uB,MAAKpC,GAAQkgB,EAAOxjC,EAAOsjB,IAAM,EAC9D7xB,GAAK+xC,EAAOxjC,EAAOyyF,EAAahhG,EAAGihG,KACzCwR,EACT,GACF,CAAC,KAAM,OACV,OAAOtjG,EACH9Q,KAAK8yG,MAAMhiG,EAAIiF,MAAM29B,OAAOy/D,EAAYriG,EAAI8xF,UACvCn8F,OAAOytG,GACZZ,EACItzG,KAAKyG,OAAOytG,GACZl0G,KAAK8yG,MAAMO,GAAU3/D,OAAO,GACxC,CACA,MAAAjtC,CAAOytG,GACH,OAAOl0G,KAAKs0G,eAAe5vF,IAAIwvF,EACnC,CACA,KAAAzyF,CAAM8yF,GACF,OAAOv0G,KAAKs0G,eAAe7yF,MAAM8yF,EACrC,CACA,MAAAjuG,CAAOA,GACH,OAAOtG,KAAKs0G,eAAehuG,OAAOA,EACtC,CACA,KAAA4xC,CAAMs8D,GACF,OAAOx0G,KAAKs0G,eAAep8D,MAAMs8D,EACrC,CACA,IAAAC,CAAKvwF,GACD,OAAOlkB,KAAKs0G,eAAeG,KAAKvwF,EACpC,CACA,OAAAnc,CAAQwsG,GACJ,OAAOv0G,KAAKs0G,eAAevsG,QAAQwsG,EACvC,CACA,YAAAD,GACI,OAAO,IAAIt0G,KAAKkwG,GAAGwE,WAAW,IAAI10G,KAAKkwG,GAAGkD,YAAYpzG,MAC1D,CACA,OAAA20G,CAAQ/+F,GACJ,OAAO,IAAI5V,KAAKkwG,GAAGwE,WAAW,IAAI10G,KAAKkwG,GAAGkD,YAAYpzG,KAAMsV,EAAQM,GAChE,IAAIA,EAAMrW,KAAK,QACfqW,GACR,CACA,OAAAsM,GACI,OAAOliB,KAAKs0G,eAAepyF,SAC/B,CACA,UAAA0yF,CAAW9/F,GACP9U,KAAKyyG,OAAOoC,YAAc//F,EAC1B,MAAMggG,EAAW/kG,IACb,IAAKA,EACD,OAAOA,EACX,MAAMoe,EAAMxlB,OAAOwQ,OAAOrE,EAAY/B,WACtC,IAAK,IAAI9B,KAAKlB,EACV,GAAI8xF,EAAO9xF,EAAKkB,GACZ,IACIkd,EAAIld,GAAKlB,EAAIkB,EACjB,CACA,MAAOyK,GAAK,CACpB,OAAOyS,CAAG,EAOd,OALInuB,KAAKyyG,OAAOqC,UACZ90G,KAAKgzG,KAAKC,QAAQ8B,YAAY/0G,KAAKyyG,OAAOqC,UAE9C90G,KAAKyyG,OAAOqC,SAAWA,EACvB90G,KAAKgzG,KAAK,UAAW8B,GACdhgG,CACX,CACA,WAAAkgG,GAII,OAAOh1G,KAAK40G,YAHZ,SAAevkF,GACXpX,EAAOjZ,KAAMqwB,EACjB,GAEJ,CACA,GAAAvlB,CAAIiF,EAAKlH,GACL,MAAM,KAAEosG,EAAI,QAAErS,GAAY5iG,KAAKyyG,OAAOe,QACtC,IAAI0B,EAAWnlG,EAIf,OAHI6yF,GAAWqS,IACXC,EAAW/C,GAA8BvP,EAA9BuP,CAAuCpiG,IAE/C/P,KAAKoyG,OAAO,aAAa5B,GACrBxwG,KAAK+yG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,MAAO9N,KAAa,MAAPC,EAAc,CAACA,GAAO,KAAMuM,OAAQ,CAAC8/F,OAC1F3vG,MAAK4oB,GAAOA,EAAIinF,YAAc3L,GAAa12C,OAAO5kC,EAAIg3E,SAAS,IAAMh3E,EAAIknF,aACvE9vG,MAAK8vG,IACN,GAAIzS,EACA,IACII,EAAajzF,EAAK6yF,EAASyS,EAC/B,CACA,MAAO35F,GAAK,CAEhB,OAAO25F,CAAU,GAEzB,CACA,MAAA51E,CAAO61E,EAAapO,GAChB,GAA2B,iBAAhBoO,GAA6BhgG,EAAQggG,GAmB5C,OAAOt1G,KAAK8yG,MAAM,OAAOp/D,OAAO4hE,GAAaC,OAAOrO,GAnBM,CAC1D,MAAMr+F,EAAM85F,EAAa2S,EAAat1G,KAAKyyG,OAAOe,QAAQ5Q,SAC1D,QAAY1tF,IAARrM,EACA,OAAO8lG,GAAU,IAAI/I,GAAW4P,gBAAgB,kDACpD,IACiC,mBAAlBtO,EACPt+F,EAAKs+F,GAAe7oF,SAAQukF,IACxBI,EAAasS,EAAa1S,EAASsE,EAActE,GAAS,IAI9DsE,EAAcoO,EAAa,CAAEplG,MAAOolG,EAAa9B,QAAS3qG,GAElE,CACA,MAAOk/E,GACP,CACA,OAAO/nF,KAAK8yG,MAAM,OAAOp/D,OAAO7qC,GAAK0sG,OAAOrO,EAChD,CAIJ,CACA,GAAAuO,CAAI1lG,EAAKlH,GACL,MAAM,KAAEosG,EAAI,QAAErS,GAAY5iG,KAAKyyG,OAAOe,QACtC,IAAI0B,EAAWnlG,EAIf,OAHI6yF,GAAWqS,IACXC,EAAW/C,GAA8BvP,EAA9BuP,CAAuCpiG,IAE/C/P,KAAKoyG,OAAO,aAAa5B,GAASxwG,KAAK+yG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,MAAOtB,OAAQ,CAAC8/F,GAAWtsG,KAAa,MAAPC,EAAc,CAACA,GAAO,SAC3HtD,MAAK4oB,GAAOA,EAAIinF,YAAc3L,GAAa12C,OAAO5kC,EAAIg3E,SAAS,IAAMh3E,EAAIknF,aACzE9vG,MAAK8vG,IACN,GAAIzS,EACA,IACII,EAAajzF,EAAK6yF,EAASyS,EAC/B,CACA,MAAO35F,GAAK,CAEhB,OAAO25F,CAAU,GAEzB,CACA,OAAOxsG,GACH,OAAO7I,KAAKoyG,OAAO,aAAa5B,GAASxwG,KAAK+yG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,SAAU9N,KAAM,CAACC,OACrFtD,MAAK4oB,GAAOA,EAAIinF,YAAc3L,GAAa12C,OAAO5kC,EAAIg3E,SAAS,SAAMjwF,GAC9E,CACA,KAAAwnE,GACI,OAAO18E,KAAKoyG,OAAO,aAAa5B,GAASxwG,KAAK+yG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,cAAe+iC,MAAOu4D,OAC1FzsG,MAAK4oB,GAAOA,EAAIinF,YAAc3L,GAAa12C,OAAO5kC,EAAIg3E,SAAS,SAAMjwF,GAC9E,CACA,OAAAwgG,CAAQ9sG,GACJ,OAAO5I,KAAKoyG,OAAO,YAAY5B,GACpBxwG,KAAK+yG,KAAK4C,QAAQ,CACrB/sG,OACA4nG,UACDjrG,MAAK2B,GAAUA,EAAOhI,KAAIivB,GAAOnuB,KAAKgzG,KAAKC,QAAQC,KAAK/kF,QAEnE,CACA,OAAAynF,CAAQC,EAASC,EAAehzG,GAC5B,MAAM8F,EAAO8H,MAAM4E,QAAQwgG,GAAiBA,OAAgB5gG,EAEtD6gG,GADNjzG,EAAUA,IAAY8F,OAAOsM,EAAY4gG,IACXhzG,EAAQkzG,aAAU9gG,EAChD,OAAOlV,KAAKoyG,OAAO,aAAa5B,IAC5B,MAAM,KAAEyE,EAAI,QAAErS,GAAY5iG,KAAKyyG,OAAOe,QACtC,GAAI5Q,GAAWh6F,EACX,MAAM,IAAIg9F,GAAW4P,gBAAgB,gEACzC,GAAI5sG,GAAQA,EAAK3J,SAAW42G,EAAQ52G,OAChC,MAAM,IAAI2mG,GAAW4P,gBAAgB,wDACzC,MAAMS,EAAaJ,EAAQ52G,OAC3B,IAAIi3G,EAAetT,GAAWqS,EAC1BY,EAAQ32G,IAAIizG,GAA8BvP,IAC1CiT,EACJ,OAAO71G,KAAK+yG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,MAAO9N,KAAMA,EAAMwM,OAAQ8gG,EAAcH,gBAC3ExwG,MAAK,EAAG6vG,cAAazH,UAAS0H,aAAYlQ,eAE3C,GAAoB,IAAhBiQ,EACA,OAFWW,EAAcpI,EAAU0H,EAGvC,MAAM,IAAI9P,GAAU,GAAGvlG,KAAK+V,mBAAmBq/F,QAAkBa,sBAAgC9Q,EAAS,GAC5G,GAEV,CACA,OAAAgR,CAAQN,EAASC,EAAehzG,GAC5B,MAAM8F,EAAO8H,MAAM4E,QAAQwgG,GAAiBA,OAAgB5gG,EAEtD6gG,GADNjzG,EAAUA,IAAY8F,OAAOsM,EAAY4gG,IACXhzG,EAAQkzG,aAAU9gG,EAChD,OAAOlV,KAAKoyG,OAAO,aAAa5B,IAC5B,MAAM,KAAEyE,EAAI,QAAErS,GAAY5iG,KAAKyyG,OAAOe,QACtC,GAAI5Q,GAAWh6F,EACX,MAAM,IAAIg9F,GAAW4P,gBAAgB,gEACzC,GAAI5sG,GAAQA,EAAK3J,SAAW42G,EAAQ52G,OAChC,MAAM,IAAI2mG,GAAW4P,gBAAgB,wDACzC,MAAMS,EAAaJ,EAAQ52G,OAC3B,IAAIm3G,EAAexT,GAAWqS,EAC1BY,EAAQ32G,IAAIizG,GAA8BvP,IAC1CiT,EACJ,OAAO71G,KAAK+yG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,MAAO9N,KAAMA,EAAMwM,OAAQghG,EAAcL,gBAC3ExwG,MAAK,EAAG6vG,cAAazH,UAAS0H,aAAYlQ,eAE3C,GAAoB,IAAhBiQ,EACA,OAFWW,EAAcpI,EAAU0H,EAGvC,MAAM,IAAI9P,GAAU,GAAGvlG,KAAK+V,mBAAmBq/F,QAAkBa,sBAAgC9Q,EAAS,GAC5G,GAEV,CACA,UAAAkR,CAAWztG,GACP,MAAM0tG,EAAU1tG,EAAK3J,OACrB,OAAOe,KAAKoyG,OAAO,aAAa5B,GACrBxwG,KAAK+yG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,SAAU9N,KAAMA,MACxDrD,MAAK,EAAG6vG,cAAaC,aAAYlQ,eAChC,GAAoB,IAAhBiQ,EACA,OAAOC,EACX,MAAM,IAAI9P,GAAU,GAAGvlG,KAAK+V,sBAAsBq/F,QAAkBkB,sBAA6BnR,EAAS,GAElH,EAGJ,SAASoR,GAAO5a,GACZ,IAAI6a,EAAM,CAAC,EACP3T,EAAK,SAAU4T,EAAWC,GAC1B,GAAIA,EAAY,CAEZ,IADA,IAAIt3G,EAAIuL,UAAU1L,OAAQyL,EAAO,IAAIgG,MAAMtR,EAAI,KACtCA,GACLsL,EAAKtL,EAAI,GAAKuL,UAAUvL,GAE5B,OADAo3G,EAAIC,GAAWE,UAAUtuE,MAAM,KAAM39B,GAC9BixF,CACX,CACK,GAA2B,iBAAhB,EACZ,OAAO6a,EAAIC,EAEnB,EACA5T,EAAG+T,aAAe9rG,EAClB,IAAK,IAAI1L,EAAI,EAAGkT,EAAI3H,UAAU1L,OAAQG,EAAIkT,IAAKlT,EAC3C0L,EAAIH,UAAUvL,IAElB,OAAOyjG,EACP,SAAS/3F,EAAI2rG,EAAWI,EAAeC,GACnC,GAAyB,iBAAdL,EAAX,CAuBJ,IAA6B1pF,EArBpB8pF,IACDA,EAAgB1P,IACf2P,IACDA,EAAkBzQ,IACtB,IAAI1xE,EAAU,CACVopD,YAAa,GACbm1B,KAAM4D,EACNH,UAAW,SAAU/5B,IACwB,IAArCjoD,EAAQopD,YAAYrsE,QAAQkrE,KAC5BjoD,EAAQopD,YAAYtzE,KAAKmyE,GACzBjoD,EAAQu+E,KAAO2D,EAAcliF,EAAQu+E,KAAMt2B,GAEnD,EACAm4B,YAAa,SAAUn4B,GACnBjoD,EAAQopD,YAAcppD,EAAQopD,YAAYt3E,QAAO,SAAUioB,GAAM,OAAOA,IAAOkuD,CAAI,IACnFjoD,EAAQu+E,KAAOv+E,EAAQopD,YAAYrzD,OAAOmsF,EAAeC,EAC7D,GAGJ,OADAN,EAAIC,GAAa5T,EAAG4T,GAAa9hF,EAC1BA,CApBkC,CAuBzC/rB,EADyBmkB,EAtBM0pF,GAuBrBp4F,SAAQ,SAAUo4F,GACxB,IAAI/rG,EAAOqiB,EAAI0pF,GACf,GAAInhG,EAAQ5K,GACRI,EAAI2rG,EAAW1pF,EAAI0pF,GAAW,GAAI1pF,EAAI0pF,GAAW,QAEhD,IAAa,SAAT/rG,EAaL,MAAM,IAAIk7F,GAAW4P,gBAAgB,wBAZrC,IAAI7gF,EAAU7pB,EAAI2rG,EAAWnQ,IAAQ,WAEjC,IADA,IAAIlnG,EAAIuL,UAAU1L,OAAQyL,EAAO,IAAIgG,MAAMtR,GACpCA,KACHsL,EAAKtL,GAAKuL,UAAUvL,GACxBu1B,EAAQopD,YAAY1/D,SAAQ,SAAUqQ,GAClC6zE,GAAO,WACH7zE,EAAG2Z,MAAM,KAAM39B,EACnB,GACJ,GACJ,GAG4D,CACpE,GArBJ,CAuBJ,CAEA,SAASqsG,GAAqBhkG,EAAW+B,GAErC,OADAktF,EAAOltF,GAAa9T,KAAK,CAAE+R,cACpB+B,CACX,CAiBA,SAASkiG,GAAgBrb,EAAKsb,GAC1B,QAAStb,EAAIl1F,QAAUk1F,EAAIub,WAAavb,EAAIh3E,MACvCsyF,EAAoBtb,EAAIwb,WAAaxb,EAAIyb,aAClD,CACA,SAASC,GAAU1b,EAAKjtE,GACpBitE,EAAIl1F,OAASorG,GAAQlW,EAAIl1F,OAAQioB,EACrC,CACA,SAAS4oF,GAAgB3b,EAAK1zB,EAASsvC,GACnC,IAAIC,EAAO7b,EAAIyb,aACfzb,EAAIyb,aAAeI,EAAO,IAAM3F,GAAQ2F,IAAQvvC,KAAaA,EAC7D0zB,EAAIwb,UAAYI,IAAkBC,CACtC,CAIA,SAASC,GAAgB9b,EAAK+b,GAC1B,GAAI/b,EAAIgc,UACJ,OAAOD,EAAWE,WACtB,MAAMhiG,EAAQ8hG,EAAWG,kBAAkBlc,EAAI/lF,OAC/C,IAAKA,EACD,MAAM,IAAIgwF,GAAWkS,OAAO,WAAanc,EAAI/lF,MAAQ,oBAAsB8hG,EAAW3hG,KAAO,mBACjG,OAAOH,CACX,CACA,SAASmiG,GAAWpc,EAAKqc,EAAWxH,GAChC,MAAM56F,EAAQ6hG,GAAgB9b,EAAKqc,EAAUvF,QAC7C,OAAOuF,EAAUD,WAAW,CACxBvH,QACAp7F,QAASumF,EAAIsc,SACb/1F,QAAqB,SAAZy5E,EAAI9oE,IACbqlF,SAAUvc,EAAIuc,OACdC,MAAO,CACHviG,QACA6jC,MAAOkiD,EAAIliD,QAGvB,CACA,SAAS2+D,GAAKzc,EAAKjtE,EAAI2pF,EAAWL,GAC9B,MAAMvxG,EAASk1F,EAAIyb,aAAevF,GAAQlW,EAAIl1F,OAAQk1F,EAAIyb,gBAAkBzb,EAAIl1F,OAChF,GAAKk1F,EAAIh3E,GAGJ,CACD,MAAM9iB,EAAM,CAAC,EACPy2G,EAAQ,CAAC9kF,EAAMqvD,EAAQ01B,KACzB,IAAK9xG,GAAUA,EAAOo8E,EAAQ01B,GAASrxG,GAAU27E,EAAO3uD,KAAKhtB,KAAS6yB,GAAO8oD,EAAO21B,KAAKz+E,KAAO,CAC5F,IAAI69E,EAAa/0B,EAAO+0B,WACpB/uG,EAAM,GAAK+uG,EACH,yBAAR/uG,IACAA,EAAM,GAAK,IAAI7D,WAAW4yG,IACzB/V,EAAOhgG,EAAKgH,KACbhH,EAAIgH,IAAO,EACX6lB,EAAG8E,EAAMqvD,EAAQ01B,GAEzB,GAEJ,OAAO1xG,QAAQC,IAAI,CACf60F,EAAIh3E,GAAG8zF,SAASH,EAAOD,GACvBK,GAAQX,GAAWpc,EAAKqc,EAAWK,GAAY1c,EAAIub,UAAWoB,GAAQ3c,EAAIsc,UAAYtc,EAAIgd,cAElG,CApBI,OAAOD,GAAQX,GAAWpc,EAAKqc,EAAWK,GAAYxG,GAAQlW,EAAIub,UAAWzwG,GAASioB,GAAKitE,EAAIsc,UAAYtc,EAAIgd,YAqBvH,CACA,SAASD,GAAQE,EAAenyG,EAAQioB,EAAIiqF,GACxC,IACIE,EAAYz2C,GADDu2C,EAAc,CAACh3G,EAAGtC,EAAGkQ,IAAMmf,EAAGiqF,EAAYh3G,GAAItC,EAAGkQ,GAAKmf,GAErE,OAAOkqF,EAAcrzG,MAAKs9E,IACtB,GAAIA,EACA,OAAOA,EAAOlkF,OAAM,KAChB,IAAIU,EAAI,IAAMwjF,EAAOi2B,WAChBryG,IAAUA,EAAOo8E,GAAQk2B,GAAY15G,EAAI05G,IAAU5hG,IAAS0rE,EAAO3uD,KAAK/c,GAAM9X,EAAIgnG,EAAG,IAAKjjF,IAAOy/D,EAAO21B,KAAKp1F,GAAI/jB,EAAIgnG,EAAG,KACzHwS,EAAUh2B,EAAO3yE,MAAO2yE,GAAQk2B,GAAY15G,EAAI05G,IACpD15G,GAAG,GAEX,GAER,CAEA,SAAS40G,GAAI1kG,EAAGC,GACZ,IACI,MAAMwpG,EAAKtiG,GAAKnH,GACV0pG,EAAKviG,GAAKlH,GAChB,GAAIwpG,IAAOC,EACP,MAAW,UAAPD,EACO,EACA,UAAPC,GACQ,EACD,WAAPD,EACO,EACA,WAAPC,GACQ,EACD,WAAPD,EACO,EACA,WAAPC,GACQ,EACD,SAAPD,EACO,EACA,SAAPC,EACOzhG,KACH,EAEZ,OAAQwhG,GACJ,IAAK,SACL,IAAK,OACL,IAAK,SACD,OAAOzpG,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,EACpC,IAAK,SACD,OAoBhB,SAA4BD,EAAGC,GAC3B,MAAM0pG,EAAK3pG,EAAEtQ,OACPmhC,EAAK5wB,EAAEvQ,OACPqT,EAAI4mG,EAAK94E,EAAK84E,EAAK94E,EACzB,IAAK,IAAIhhC,EAAI,EAAGA,EAAIkT,IAAKlT,EACrB,GAAImQ,EAAEnQ,KAAOoQ,EAAEpQ,GACX,OAAOmQ,EAAEnQ,GAAKoQ,EAAEpQ,IAAM,EAAI,EAElC,OAAO85G,IAAO94E,EAAK,EAAI84E,EAAK94E,GAAM,EAAI,CAC1C,CA7BuB+4E,CAAmBC,GAAc7pG,GAAI6pG,GAAc5pG,IAE9D,IAAK,QACD,OAMhB,SAAuBD,EAAGC,GACtB,MAAM0pG,EAAK3pG,EAAEtQ,OACPmhC,EAAK5wB,EAAEvQ,OACPqT,EAAI4mG,EAAK94E,EAAK84E,EAAK94E,EACzB,IAAK,IAAIhhC,EAAI,EAAGA,EAAIkT,IAAKlT,EAAG,CACxB,MAAM+uB,EAAM8lF,GAAI1kG,EAAEnQ,GAAIoQ,EAAEpQ,IACxB,GAAY,IAAR+uB,EACA,OAAOA,CACf,CACA,OAAO+qF,IAAO94E,EAAK,EAAI84E,EAAK94E,GAAM,EAAI,CAC1C,CAhBuBi5E,CAAc9pG,EAAGC,GAEpC,CACA,MAAOu4E,GAAM,CACb,OAAOvwE,GACX,CAsBA,SAASd,GAAK/U,GACV,MAAMgP,SAAWhP,EACjB,GAAU,WAANgP,EACA,OAAOA,EACX,GAAIk+B,YAAYC,OAAOntC,GACnB,MAAO,SACX,MAAM23G,EAAQz9B,EAAYl6E,GAC1B,MAAiB,gBAAV23G,EAA0B,SAAWA,CAChD,CACA,SAASF,GAAc7pG,GACnB,OAAIA,aAAavK,WACNuK,EACPs/B,YAAYC,OAAOv/B,GACZ,IAAIvK,WAAWuK,EAAEglB,OAAQhlB,EAAE4/B,WAAY5/B,EAAE88B,YAC7C,IAAIrnC,WAAWuK,EAC1B,CAEA,MAAMmlG,GACF,KAAAjhD,CAAM/kC,EAAIkuD,GACN,IAAI+e,EAAM37F,KAAKu5G,KACf,OAAO5d,EAAIh5E,MACPg5E,EAAI3rF,MAAMoiG,OAAO,KAAMzD,GAAUtsG,KAAK,KAAMs5F,EAAIh5E,QAChDg5E,EAAI3rF,MAAMoiG,OAAO,WAAY1jF,GAAInpB,KAAKq3E,EAC9C,CACA,MAAA48B,CAAO9qF,GACH,IAAIitE,EAAM37F,KAAKu5G,KACf,OAAO5d,EAAIh5E,MACPg5E,EAAI3rF,MAAMoiG,OAAO,KAAMzD,GAAUtsG,KAAK,KAAMs5F,EAAIh5E,QAChDg5E,EAAI3rF,MAAMoiG,OAAO,YAAa1jF,EAAI,SAC1C,CACA,aAAA+qF,CAAc/qF,GACV,IAAIitE,EAAM37F,KAAKu5G,KACf5d,EAAIub,UAAYrF,GAAQlW,EAAIub,UAAWxoF,EAC3C,CACA,QAAA+pF,CAAS/pF,EAAI2pF,GACT,OAAOD,GAAKp4G,KAAKu5G,KAAM7qF,EAAI2pF,EAAWr4G,KAAKu5G,KAAKvpG,MAAM+iG,KAC1D,CACA,KAAA5gD,CAAM2lB,GACF,IAAI+qB,EAAKl6F,OAAOwQ,OAAOnZ,KAAK8U,YAAY/B,WAAY4oF,EAAMhzF,OAAOwQ,OAAOnZ,KAAKu5G,MAI7E,OAHIzhC,GACA7+D,EAAO0iF,EAAK7jB,GAChB+qB,EAAG0W,KAAO5d,EACHkH,CACX,CACA,GAAAjzC,GAEI,OADA5vD,KAAKu5G,KAAKZ,YAAc,KACjB34G,IACX,CACA,IAAAy0G,CAAK/lF,GACD,IAAIitE,EAAM37F,KAAKu5G,KACf,OAAOv5G,KAAKyzD,OAAM+8C,GAAS4H,GAAKzc,EAAKjtE,EAAI8hF,EAAO7U,EAAI3rF,MAAM+iG,OAC9D,CACA,KAAAtxF,CAAMm7D,GACF,OAAO58E,KAAKyzD,OAAM+8C,IACd,MAAM7U,EAAM37F,KAAKu5G,KACXvB,EAAYrc,EAAI3rF,MAAM+iG,KAC5B,GAAIiE,GAAgBrb,GAAK,GACrB,OAAOqc,EAAUv2F,MAAM,CACnB+uF,QACA2H,MAAO,CACHviG,MAAO6hG,GAAgB9b,EAAKqc,EAAUvF,QACtCh5D,MAAOkiD,EAAIliD,SAEhBl0C,MAAKkc,GAAS9gB,KAAK8mB,IAAIhG,EAAOk6E,EAAIzjD,SAGrC,IAAIz2B,EAAQ,EACZ,OAAO22F,GAAKzc,GAAK,OAAUl6E,GAAc,IAAU+uF,EAAOwH,GACrDzyG,MAAK,IAAMkc,GACpB,IACDlc,KAAKq3E,EACZ,CACA,MAAA88B,CAAO9W,EAAShmB,GACZ,MAAMxvC,EAAQw1D,EAAQ9jG,MAAM,KAAKojB,UAAWy3F,EAAWvsE,EAAM,GAAIwsE,EAAYxsE,EAAMnuC,OAAS,EAC5F,SAAS46G,EAAO9pG,EAAK3Q,GACjB,OAAIA,EACOy6G,EAAO9pG,EAAIq9B,EAAMhuC,IAAKA,EAAI,GAC9B2Q,EAAI4pG,EACf,CACA,IAAIG,EAA0B,SAAlB95G,KAAKu5G,KAAK1mF,IAAiB,GAAK,EAC5C,SAASknF,EAAOxqG,EAAGC,GACf,IAAIwqG,EAAOH,EAAOtqG,EAAGqqG,GAAYK,EAAOJ,EAAOrqG,EAAGoqG,GAClD,OAAOI,EAAOC,GAAQH,EAAQE,EAAOC,EAAOH,EAAQ,CACxD,CACA,OAAO95G,KAAK+H,SAAQ,SAAUwH,GAC1B,OAAOA,EAAE+O,KAAKy7F,EAClB,IAAGx0G,KAAKq3E,EACZ,CACA,OAAA70E,CAAQ60E,GACJ,OAAO58E,KAAKyzD,OAAM+8C,IACd,IAAI7U,EAAM37F,KAAKu5G,KACf,GAAgB,SAAZ5d,EAAI9oE,KAAkBmkF,GAAgBrb,GAAK,IAASA,EAAIzjD,MAAQ,EAAG,CACnE,MAAM,YAAEygE,GAAgBhd,EAClB/lF,EAAQ6hG,GAAgB9b,EAAKA,EAAI3rF,MAAM+iG,KAAKN,QAClD,OAAO9W,EAAI3rF,MAAM+iG,KAAKoF,MAAM,CACxB3H,QACAt4D,MAAOyjD,EAAIzjD,MACX9iC,QAAQ,EACR+iG,MAAO,CACHviG,QACA6jC,MAAOkiD,EAAIliD,SAEhBl0C,MAAK,EAAG2B,YAAayxG,EAAczxG,EAAOhI,IAAIy5G,GAAezxG,GACpE,CACK,CACD,MAAMqI,EAAI,GACV,OAAO6oG,GAAKzc,GAAKnoE,GAAQjkB,EAAE9E,KAAK+oB,IAAOg9E,EAAO7U,EAAI3rF,MAAM+iG,MAAMxtG,MAAK,IAAMgK,GAC7E,IACDqtE,EACP,CACA,MAAAt2E,CAAOA,GACH,IAAIq1F,EAAM37F,KAAKu5G,KACf,OAAIjzG,GAAU,IAEdq1F,EAAIr1F,QAAUA,EACV0wG,GAAgBrb,GAChB2b,GAAgB3b,GAAK,KACjB,IAAI4E,EAAaj6F,EACjB,MAAO,CAACu8E,EAAQ01B,IACO,IAAfhY,IAEe,IAAfA,KACEA,GACK,IAEXgY,GAAQ,KACJ11B,EAAO01B,QAAQhY,GACfA,EAAa,CAAC,KAEX,GACV,IAIL+W,GAAgB3b,GAAK,KACjB,IAAI4E,EAAaj6F,EACjB,MAAO,MAASi6F,EAAa,CAAE,KAvB5BvgG,IA2Bf,CACA,KAAAk4C,CAAMs8D,GAUF,OATAx0G,KAAKu5G,KAAKrhE,MAAQv3C,KAAK8mB,IAAIznB,KAAKu5G,KAAKrhE,MAAOs8D,GAC5C8C,GAAgBt3G,KAAKu5G,MAAM,KACvB,IAAIW,EAAW1F,EACf,OAAO,SAAU3xB,EAAQ01B,EAASvwG,GAG9B,QAFMkyG,GAAY,GACd3B,EAAQvwG,GACLkyG,GAAY,CACvB,CAAC,IACF,GACIl6G,IACX,CACA,KAAAm6G,CAAMjG,EAAgBkG,GAUlB,OATA/C,GAAUr3G,KAAKu5G,MAAM,SAAU12B,EAAQ01B,EAASvwG,GAC5C,OAAIksG,EAAerxB,EAAO3yE,SACtBqoG,EAAQvwG,GACDoyG,EAKf,IACOp6G,IACX,CACA,KAAAi2C,CAAM2mC,GACF,OAAO58E,KAAKk4C,MAAM,GAAGnwC,SAAQ,SAAUwH,GAAK,OAAOA,EAAE,EAAI,IAAGhK,KAAKq3E,EACrE,CACA,IAAAj1E,CAAKi1E,GACD,OAAO58E,KAAKkiB,UAAU+zB,MAAM2mC,EAChC,CACA,MAAAn2E,CAAOytG,GAtSX,IAAwBvY,EAAKjtE,EA2SrB,OAJA2oF,GAAUr3G,KAAKu5G,MAAM,SAAU12B,GAC3B,OAAOqxB,EAAerxB,EAAO3yE,MACjC,IAzSgByrF,EA0SD37F,KAAKu5G,KA1SC7qF,EA0SKwlF,EAzS9BvY,EAAI0e,QAAUxI,GAAQlW,EAAI0e,QAAS3rF,GA0SxB1uB,IACX,CACA,GAAA0kB,CAAIje,GACA,OAAOzG,KAAKyG,OAAOA,EACvB,CACA,EAAAke,CAAG21F,GACC,OAAO,IAAIt6G,KAAKkwG,GAAGkD,YAAYpzG,KAAKu5G,KAAKvpG,MAAOsqG,EAAWt6G,KAC/D,CACA,OAAAkiB,GAII,OAHAliB,KAAKu5G,KAAK1mF,IAAyB,SAAlB7yB,KAAKu5G,KAAK1mF,IAAiB,OAAS,OACjD7yB,KAAKu6G,oBACLv6G,KAAKu6G,mBAAmBv6G,KAAKu5G,KAAK1mF,KAC/B7yB,IACX,CACA,IAAAw6G,GACI,OAAOx6G,KAAKkiB,SAChB,CACA,OAAAu4F,CAAQ79B,GACJ,IAAI+e,EAAM37F,KAAKu5G,KAEf,OADA5d,EAAIsc,UAAYtc,EAAI0e,QACbr6G,KAAKy0G,MAAK,SAAUt9F,EAAK0rE,GAAUjG,EAAGiG,EAAOh6E,IAAKg6E,EAAS,GACtE,CACA,aAAA63B,CAAc99B,GAEV,OADA58E,KAAKu5G,KAAKrB,OAAS,SACZl4G,KAAKy6G,QAAQ79B,EACxB,CACA,cAAA+9B,CAAe/9B,GACX,IAAI+e,EAAM37F,KAAKu5G,KAEf,OADA5d,EAAIsc,UAAYtc,EAAI0e,QACbr6G,KAAKy0G,MAAK,SAAUt9F,EAAK0rE,GAAUjG,EAAGiG,EAAO+0B,WAAY/0B,EAAS,GAC7E,CACA,IAAAj6E,CAAKg0E,GACD,IAAI+e,EAAM37F,KAAKu5G,KACf5d,EAAIsc,UAAYtc,EAAI0e,QACpB,IAAI9qG,EAAI,GACR,OAAOvP,KAAKy0G,MAAK,SAAUjhF,EAAMqvD,GAC7BtzE,EAAE9E,KAAKo4E,EAAOh6E,IAClB,IAAGtD,MAAK,WACJ,OAAOgK,CACX,IAAGhK,KAAKq3E,EACZ,CACA,WAAAg+B,CAAYh+B,GACR,IAAI+e,EAAM37F,KAAKu5G,KACf,GAAgB,SAAZ5d,EAAI9oE,KAAkBmkF,GAAgBrb,GAAK,IAASA,EAAIzjD,MAAQ,EAChE,OAAOl4C,KAAKyzD,OAAM+8C,IACd,IAAI56F,EAAQ6hG,GAAgB9b,EAAKA,EAAI3rF,MAAM+iG,KAAKN,QAChD,OAAO9W,EAAI3rF,MAAM+iG,KAAKoF,MAAM,CACxB3H,QACAp7F,QAAQ,EACR8iC,MAAOyjD,EAAIzjD,MACXigE,MAAO,CACHviG,QACA6jC,MAAOkiD,EAAIliD,QAEjB,IACHl0C,MAAK,EAAG2B,YAAaA,IAAQ3B,KAAKq3E,GAEzC+e,EAAIsc,UAAYtc,EAAI0e,QACpB,IAAI9qG,EAAI,GACR,OAAOvP,KAAKy0G,MAAK,SAAUjhF,EAAMqvD,GAC7BtzE,EAAE9E,KAAKo4E,EAAO+0B,WAClB,IAAGryG,MAAK,WACJ,OAAOgK,CACX,IAAGhK,KAAKq3E,EACZ,CACA,UAAAi+B,CAAWj+B,GAEP,OADA58E,KAAKu5G,KAAKrB,OAAS,SACZl4G,KAAK4I,KAAKg0E,EACrB,CACA,QAAAk+B,CAASl+B,GACL,OAAO58E,KAAKk4C,MAAM,GAAGtvC,MAAK,SAAU2G,GAAK,OAAOA,EAAE,EAAI,IAAGhK,KAAKq3E,EAClE,CACA,OAAA15E,CAAQ05E,GACJ,OAAO58E,KAAKkiB,UAAU44F,SAASl+B,EACnC,CACA,QAAAm+B,GACI,IAAIpf,EAAM37F,KAAKu5G,KAAMzoG,EAAM6qF,EAAI/lF,OAAS+lF,EAAI3rF,MAAMyiG,OAAOoB,UAAUlY,EAAI/lF,OACvE,IAAK9E,IAAQA,EAAIujG,MACb,OAAOr0G,KACX,IAAI6B,EAAM,CAAC,EAOX,OANAw1G,GAAUr3G,KAAKu5G,MAAM,SAAU12B,GAC3B,IAAIm4B,EAASn4B,EAAO+0B,WAAWplG,WAC3BwQ,EAAQ6+E,EAAOhgG,EAAKm5G,GAExB,OADAn5G,EAAIm5G,IAAU,GACNh4F,CACZ,IACOhjB,IACX,CACA,MAAAu1G,CAAO0F,GACH,IAAItf,EAAM37F,KAAKu5G,KACf,OAAOv5G,KAAKw5G,QAAOhJ,IACf,IAAI0K,EACJ,GAAuB,mBAAZD,EACPC,EAAWD,MAEV,CACD,IAAI5H,EAAWzqG,EAAKqyG,GAChB3E,EAAUjD,EAASp0G,OACvBi8G,EAAW,SAAU1nF,GAEjB,IADA,IAAI2nF,GAAmB,EACd/7G,EAAI,EAAGA,EAAIk3G,IAAWl3G,EAAG,CAC9B,IAAIwjG,EAAUyQ,EAASj0G,GAAI+X,EAAM8jG,EAAQrY,GACrCD,EAAanvE,EAAMovE,KAAazrF,IAChC6rF,EAAaxvE,EAAMovE,EAASzrF,GAC5BgkG,GAAmB,EAE3B,CACA,OAAOA,CACX,CACJ,CACA,MAAMnD,EAAYrc,EAAI3rF,MAAM+iG,MACtB,SAAEqI,EAAQ,WAAEC,GAAerD,EAAUvF,OAAOmF,WAC5C1/D,EAAQl4C,KAAKkwG,GAAG74B,SAASikC,iBAAmB,IAC5CC,EAAgB,GACtB,IAAIlW,EAAe,EACnB,MAAMC,EAAa,GACbkW,EAAoB,CAACC,EAAettF,KACtC,MAAM,SAAEg3E,EAAQ,YAAEiQ,GAAgBjnF,EAClCk3E,GAAgBoW,EAAgBrG,EAChC,IAAK,IAAItzG,KAAO8G,EAAKu8F,GACjBoW,EAAc9wG,KAAK06F,EAASrjG,GAChC,EAEJ,OAAO9B,KAAKmyD,QAAQyoD,cAAcr1G,MAAKqD,IACnC,MAAM8yG,EAAap1G,IACf,MAAMmb,EAAQ9gB,KAAK8mB,IAAIywB,EAAOtvC,EAAK3J,OAASqH,GAC5C,OAAO0xG,EAAUrC,QAAQ,CACrBnF,QACA5nG,KAAMA,EAAKwV,MAAM9X,EAAQA,EAASmb,GAClC8kC,MAAO,cACRhhD,MAAK6P,IACJ,MAAMumG,EAAY,GACZC,EAAY,GACZC,EAAUT,EAAW,GAAK,KAC1BU,EAAa,GACnB,IAAK,IAAI18G,EAAI,EAAGA,EAAIqiB,IAASriB,EAAG,CAC5B,MAAM28G,EAAY3mG,EAAOhW,GACnBu8F,EAAM,CACRzrF,MAAOszF,EAAUuY,GACjBvI,QAAS5qG,EAAKtC,EAASlH,KAEgB,IAAvC87G,EAAS7wG,KAAKsxF,EAAKA,EAAIzrF,MAAOyrF,KACb,MAAbA,EAAIzrF,MACJ4rG,EAAWrxG,KAAK7B,EAAKtC,EAASlH,IAExBg8G,GAAkE,IAAtDnH,GAAIoH,EAAWU,GAAYV,EAAW1f,EAAIzrF,SAK5D0rG,EAAUnxG,KAAKkxF,EAAIzrF,OACfkrG,GACAS,EAAQpxG,KAAK7B,EAAKtC,EAASlH,MAN/B08G,EAAWrxG,KAAK7B,EAAKtC,EAASlH,IAC9Bu8G,EAAUlxG,KAAKkxF,EAAIzrF,QAQ/B,CACA,MAAM8rG,EAAWhF,GAAgBrb,IAC7BA,EAAIzjD,QAAU3gC,MACM,mBAAZ0jG,GAA0BA,IAAYgB,KAAmB,CACjErmG,MAAO+lF,EAAI/lF,MACX6jC,MAAOkiD,EAAIliD,OAEf,OAAO5yC,QAAQmB,QAAQ2zG,EAAU18G,OAAS,GACtC+4G,EAAU7C,OAAO,CAAE3E,QAAO95F,KAAM,MAAOtB,OAAQumG,IAC1Cp2G,MAAK4oB,IACN,IAAK,IAAIrsB,KAAOqsB,EAAIg3E,SAChB2W,EAAWpzF,OAAO/W,SAAS7P,GAAM,GAErC05G,EAAkBG,EAAU18G,OAAQkvB,EAAI,KACxC5oB,MAAK,KAAOq2G,EAAU38G,OAAS,GAAM+8G,GAA+B,iBAAZf,IAC5DjD,EAAU7C,OAAO,CACb3E,QACA95F,KAAM,MACN9N,KAAMizG,EACNzmG,OAAQwmG,EACRI,WACAE,WAA+B,mBAAZjB,GACZA,IACR11G,MAAK4oB,GAAOqtF,EAAkBI,EAAU38G,OAAQkvB,OAAO5oB,MAAK,KAAOu2G,EAAW78G,OAAS,GAAM+8G,GAAYf,IAAYgB,KACxHjE,EAAU7C,OAAO,CACb3E,QACA95F,KAAM,SACN9N,KAAMkzG,EACNE,aACDz2G,MAAK4oB,GAAOqtF,EAAkBM,EAAW78G,OAAQkvB,OAAO5oB,MAAK,IACzDqD,EAAK3J,OAASqH,EAASmb,GAASi6F,EAAUp1G,EAAS4xC,IAC5D,GACJ,EAEN,OAAOwjE,EAAU,GAAGn2G,MAAK,KACrB,GAAIg2G,EAAct8G,OAAS,EACvB,MAAM,IAAImmG,GAAY,sCAAuCmW,EAAelW,EAAcC,GAC9F,OAAO18F,EAAK3J,MAAM,GACpB,GACJ,GAEV,CACA,SACI,IAAI08F,EAAM37F,KAAKu5G,KAAM9/D,EAAQkiD,EAAIliD,MACjC,OAAIu9D,GAAgBrb,KACdA,EAAIgc,YAAcnG,IAA8C,IAAf/3D,EAAM/iC,MAElD1W,KAAKw5G,QAAOhJ,IACf,MAAM,WAAEoH,GAAejc,EAAI3rF,MAAM+iG,KAAKN,OAChC0J,EAAY1iE,EAClB,OAAOkiD,EAAI3rF,MAAM+iG,KAAKtxF,MAAM,CAAE+uF,QAAO2H,MAAO,CAAEviG,MAAOgiG,EAAYn+D,MAAO0iE,KAAe52G,MAAKkc,GACjFk6E,EAAI3rF,MAAM+iG,KAAKoC,OAAO,CAAE3E,QAAO95F,KAAM,cAAe+iC,MAAO0iE,IAC7D52G,MAAK,EAAG4/F,WAAUkQ,aAAY1H,UAASyH,kBACxC,GAAIA,EACA,MAAM,IAAIhQ,GAAY,+BAAgCz8F,OAAOC,KAAKu8F,GAAUjmG,KAAI4C,GAAOqjG,EAASrjG,KAAO2f,EAAQ2zF,GACnH,OAAO3zF,EAAQ2zF,CAAW,KAEhC,IAGHp1G,KAAKu1G,OAAO0G,GACvB,EAEJ,MAAMA,GAAiB,CAAC/rG,EAAOyrF,IAAQA,EAAIzrF,MAAQ,KAsCnD,SAASksG,GAAc7sG,EAAGC,GACtB,OAAOD,EAAIC,GAAK,EAAID,IAAMC,EAAI,EAAI,CACtC,CACA,SAAS6sG,GAAqB9sG,EAAGC,GAC7B,OAAOD,EAAIC,GAAK,EAAID,IAAMC,EAAI,EAAI,CACtC,CAEA,SAASgpG,GAAK8D,EAAyBviF,EAAK9Q,GACxC,IAAIszF,EAAaD,aAAmClJ,GAChD,IAAIkJ,EAAwB5H,WAAW4H,GACvCA,EAEJ,OADAC,EAAWhD,KAAK52F,MAAQsG,EAAI,IAAIA,EAAE8Q,GAAO,IAAIuU,UAAUvU,GAChDwiF,CACX,CACA,SAASC,GAAgBC,GACrB,OAAO,IAAIA,EAAY/H,WAAW+H,GAAa,IAAMC,GAAW,MAAKxkE,MAAM,EAC/E,CAWA,SAASykE,GAAW9zG,EAAK+zG,EAAUC,EAAaC,EAAa7I,EAAKphF,GAG9D,IAFA,IAAI5zB,EAAS0B,KAAK8mB,IAAI5e,EAAI5J,OAAQ69G,EAAY79G,QAC1C89G,GAAO,EACF39G,EAAI,EAAGA,EAAIH,IAAUG,EAAG,CAC7B,IAAI49G,EAAaJ,EAASx9G,GAC1B,GAAI49G,IAAeF,EAAY19G,GAC3B,OAAI60G,EAAIprG,EAAIzJ,GAAIy9G,EAAYz9G,IAAM,EACvByJ,EAAIiJ,OAAO,EAAG1S,GAAKy9G,EAAYz9G,GAAKy9G,EAAY/qG,OAAO1S,EAAI,GAClE60G,EAAIprG,EAAIzJ,GAAI09G,EAAY19G,IAAM,EACvByJ,EAAIiJ,OAAO,EAAG1S,GAAK09G,EAAY19G,GAAKy9G,EAAY/qG,OAAO1S,EAAI,GAClE29G,GAAO,EACAl0G,EAAIiJ,OAAO,EAAGirG,GAAOH,EAASG,GAAOF,EAAY/qG,OAAOirG,EAAM,GAClE,KAEP9I,EAAIprG,EAAIzJ,GAAI49G,GAAc,IAC1BD,EAAM39G,EACd,CACA,OAAIH,EAAS69G,EAAY79G,QAAkB,SAAR4zB,EACxBhqB,EAAMg0G,EAAY/qG,OAAOjJ,EAAI5J,QACpCA,EAAS4J,EAAI5J,QAAkB,SAAR4zB,EAChBhqB,EAAIiJ,OAAO,EAAG+qG,EAAY59G,QAC7B89G,EAAM,EAAI,KAAOl0G,EAAIiJ,OAAO,EAAGirG,GAAOD,EAAYC,GAAOF,EAAY/qG,OAAOirG,EAAM,EAC9F,CACA,SAASE,GAAuBR,EAAa1oG,EAAOmpG,EAASC,GACzD,IAAIh7F,EAAOT,EAAO2xB,EAAS+pE,EAAcC,EAAcj2G,EAAWk2G,EAAeC,EAAaL,EAAQj+G,OACtG,IAAKi+G,EAAQhgG,OAAMnG,GAAkB,iBAANA,IAC3B,OAAOyhG,GAAKiE,EAAarL,IAE7B,SAASoM,EAAc3qF,GACnB1Q,EAvCR,SAAsB0Q,GAClB,MAAe,SAARA,EACF9b,GAAMA,EAAE/D,cACR+D,GAAMA,EAAErE,aACjB,CAmCgB+qG,CAAa5qF,GACrBnR,EAnCR,SAAsBmR,GAClB,MAAe,SAARA,EACF9b,GAAMA,EAAErE,cACRqE,GAAMA,EAAE/D,aACjB,CA+BgB0qG,CAAa7qF,GACrBwgB,EAAmB,SAARxgB,EAAiBupF,GAAgBC,GAC5C,IAAIsB,EAAeT,EAAQh+G,KAAI,SAAU0+G,GACrC,MAAO,CAAEl8F,MAAOA,EAAMk8F,GAASz7F,MAAOA,EAAMy7F,GAChD,IAAGt/F,MAAK,SAAU/O,EAAGC,GACjB,OAAO6jC,EAAQ9jC,EAAEmS,MAAOlS,EAAEkS,MAC9B,IACA07F,EAAeO,EAAaz+G,KAAI,SAAU2+G,GAAM,OAAOA,EAAG17F,KAAO,IACjEk7F,EAAeM,EAAaz+G,KAAI,SAAU2+G,GAAM,OAAOA,EAAGn8F,KAAO,IACjEta,EAAYyrB,EACZyqF,EAAyB,SAARzqF,EAAiB,GAAKsqF,CAC3C,CACAK,EAAc,QACd,IAAIn+G,EAAI,IAAIo9G,EAAY/H,WAAW+H,GAAa,IAAMqB,GAAYV,EAAa,GAAIC,EAAaE,EAAa,GAAKJ,KAClH99G,EAAEk7G,mBAAqB,SAAUnzG,GAC7Bo2G,EAAcp2G,EAClB,EACA,IAAI22G,EAAsB,EA4B1B,OA3BA1+G,EAAEo6G,eAAc,SAAU52B,EAAQ01B,EAASvwG,GACvC,IAAIa,EAAMg6E,EAAOh6E,IACjB,GAAmB,iBAARA,EACP,OAAO,EACX,IAAI+zG,EAAWl7F,EAAM7Y,GACrB,GAAIkL,EAAM6oG,EAAUS,EAAcU,GAC9B,OAAO,EAIP,IADA,IAAIC,EAAuB,KAClB5+G,EAAI2+G,EAAqB3+G,EAAIm+G,IAAcn+G,EAAG,CACnD,IAAI6+G,EAAStB,GAAW9zG,EAAK+zG,EAAUQ,EAAah+G,GAAIi+G,EAAaj+G,GAAIi0C,EAASjsC,GACnE,OAAX62G,GAA4C,OAAzBD,EACnBD,EAAsB3+G,EAAI,GACI,OAAzB4+G,GAAiC3qE,EAAQ2qE,EAAsBC,GAAU,KAC9ED,EAAuBC,EAE/B,CAOA,OALI1F,EADyB,OAAzByF,EACQ,WAAcn7B,EAAOi2B,SAASkF,EAAuBV,EAAgB,EAGrEt1G,IAEL,CAEf,IACO3I,CACX,CACA,SAASy+G,GAAYp8F,EAAOS,EAAO8vF,EAAWC,GAC1C,MAAO,CACHx7F,KAAM,EACNgL,QACAS,QACA8vF,YACAC,YAER,CACA,SAASwK,GAAWxsG,GAChB,MAAO,CACHwG,KAAM,EACNgL,MAAOxR,EACPiS,MAAOjS,EAEf,CAEA,MAAMkjG,GACF,cAAIsB,GACA,OAAO10G,KAAKu5G,KAAKvpG,MAAMkgG,GAAGwE,UAC9B,CACA,OAAAwJ,CAAQx8F,EAAOS,EAAOg8F,EAAcC,GAChCD,GAAgC,IAAjBA,EACfC,GAAgC,IAAjBA,EACf,IACI,OAAKp+G,KAAKq+G,KAAK38F,EAAOS,GAAS,GACE,IAA5BniB,KAAKq+G,KAAK38F,EAAOS,KAAiBg8F,GAAgBC,MAAmBD,IAAgBC,GAC/E5B,GAAgBx8G,MACpB,IAAIA,KAAK00G,WAAW10G,MAAM,IAAM89G,GAAYp8F,EAAOS,GAAQg8F,GAAeC,IACrF,CACA,MAAOh7F,GACH,OAAOo1F,GAAKx4G,KAAMmxG,GACtB,CACJ,CACA,MAAAz9D,CAAOxjC,GACH,OAAa,MAATA,EACOsoG,GAAKx4G,KAAMmxG,IACf,IAAInxG,KAAK00G,WAAW10G,MAAM,IAAM08G,GAAWxsG,IACtD,CACA,KAAAouG,CAAMpuG,GACF,OAAa,MAATA,EACOsoG,GAAKx4G,KAAMmxG,IACf,IAAInxG,KAAK00G,WAAW10G,MAAM,IAAM89G,GAAY5tG,OAAOgF,GAAW,IACzE,CACA,YAAAqpG,CAAaruG,GACT,OAAa,MAATA,EACOsoG,GAAKx4G,KAAMmxG,IACf,IAAInxG,KAAK00G,WAAW10G,MAAM,IAAM89G,GAAY5tG,OAAOgF,GAAW,IACzE,CACA,KAAAspG,CAAMtuG,GACF,OAAa,MAATA,EACOsoG,GAAKx4G,KAAMmxG,IACf,IAAInxG,KAAK00G,WAAW10G,MAAM,IAAM89G,QAAY5oG,EAAWhF,GAAO,GAAO,IAChF,CACA,YAAAuuG,CAAavuG,GACT,OAAa,MAATA,EACOsoG,GAAKx4G,KAAMmxG,IACf,IAAInxG,KAAK00G,WAAW10G,MAAM,IAAM89G,QAAY5oG,EAAWhF,IAClE,CACA,UAAAo+E,CAAW9uF,GACP,MAAmB,iBAARA,EACAg5G,GAAKx4G,KAAMoxG,IACfpxG,KAAKk+G,QAAQ1+G,EAAKA,EAAMyxG,IAAW,GAAM,EACpD,CACA,oBAAAyN,CAAqBl/G,GACjB,MAAY,KAARA,EACOQ,KAAKsuF,WAAW9uF,GACpBy9G,GAAuBj9G,MAAM,CAAC2B,EAAG4N,IAA0B,IAApB5N,EAAE+P,QAAQnC,EAAE,KAAW,CAAC/P,GAAMyxG,GAChF,CACA,gBAAA0N,CAAiBn/G,GACb,OAAOy9G,GAAuBj9G,MAAM,CAAC2B,EAAG4N,IAAM5N,IAAM4N,EAAE,IAAI,CAAC/P,GAAM,GACrE,CACA,eAAAo/G,GACI,IAAI/8G,EAAMgiG,EAAWx7D,MAAMu7D,EAAej5F,WAC1C,OAAmB,IAAf9I,EAAI5C,OACGu9G,GAAgBx8G,MACpBi9G,GAAuBj9G,MAAM,CAAC2B,EAAG4N,KAAwB,IAAlBA,EAAEmC,QAAQ/P,IAAWE,EAAK,GAC5E,CACA,yBAAAg9G,GACI,IAAIh9G,EAAMgiG,EAAWx7D,MAAMu7D,EAAej5F,WAC1C,OAAmB,IAAf9I,EAAI5C,OACGu9G,GAAgBx8G,MACpBi9G,GAAuBj9G,MAAM,CAAC2B,EAAG4N,IAAMA,EAAEqmB,MAAK/d,GAAsB,IAAjBlW,EAAE+P,QAAQmG,MAAWhW,EAAKovG,GACxF,CACA,KAAA6N,GACI,MAAMj9G,EAAMgiG,EAAWx7D,MAAMu7D,EAAej5F,WAC5C,IAAI0oC,EAAUrzC,KAAKq+G,KACnB,IACIx8G,EAAIyc,KAAK+0B,EACb,CACA,MAAOjwB,GACH,OAAOo1F,GAAKx4G,KAAMmxG,GACtB,CACA,GAAmB,IAAftvG,EAAI5C,OACJ,OAAOu9G,GAAgBx8G,MAC3B,MAAMX,EAAI,IAAIW,KAAK00G,WAAW10G,MAAM,IAAM89G,GAAYj8G,EAAI,GAAIA,EAAIA,EAAI5C,OAAS,MAC/EI,EAAEk7G,mBAAqBnzG,IACnBisC,EAAyB,SAAdjsC,EACPpH,KAAK++G,WACL/+G,KAAKg/G,YACTn9G,EAAIyc,KAAK+0B,EAAQ,EAErB,IAAIj0C,EAAI,EAkBR,OAjBAC,EAAEo6G,eAAc,CAAC52B,EAAQ01B,EAASvwG,KAC9B,MAAMa,EAAMg6E,EAAOh6E,IACnB,KAAOwqC,EAAQxqC,EAAKhH,EAAIzC,IAAM,GAE1B,KADEA,EACEA,IAAMyC,EAAI5C,OAEV,OADAs5G,EAAQvwG,IACD,EAGf,OAA6B,IAAzBqrC,EAAQxqC,EAAKhH,EAAIzC,MAIjBm5G,GAAQ,KAAQ11B,EAAOi2B,SAASj3G,EAAIzC,GAAG,KAChC,EACX,IAEGC,CACX,CACA,QAAA4/G,CAAS/uG,GACL,OAAOlQ,KAAKk/G,WAAW,CAAC,CAAChO,GAAQhhG,GAAQ,CAACA,EAAOlQ,KAAKkwG,GAAGyD,UAAW,CAAEwL,eAAe,EAAOC,eAAe,GAC/G,CACA,MAAAC,GACI,MAAMx9G,EAAMgiG,EAAWx7D,MAAMu7D,EAAej5F,WAC5C,GAAmB,IAAf9I,EAAI5C,OACJ,OAAO,IAAIe,KAAK00G,WAAW10G,MAC/B,IACI6B,EAAIyc,KAAKte,KAAK++G,WAClB,CACA,MAAO37F,GACH,OAAOo1F,GAAKx4G,KAAMmxG,GACtB,CACA,MAAMxoC,EAAS9mE,EAAI6oB,QAAO,CAACyD,EAAKhX,IAAQgX,EACpCA,EAAI3I,OAAO,CAAC,CAAC2I,EAAIA,EAAIlvB,OAAS,GAAG,GAAIkY,KACrC,CAAC,CAAC+5F,GAAQ/5F,KAAO,MAErB,OADAwxD,EAAOl+D,KAAK,CAAC5I,EAAIA,EAAI5C,OAAS,GAAIe,KAAKkwG,GAAGyD,UACnC3zG,KAAKk/G,WAAWv2C,EAAQ,CAAEw2C,eAAe,EAAOC,eAAe,GAC1E,CACA,UAAAF,CAAWv2C,EAAQ7lE,GACf,MAAMmxG,EAAMj0G,KAAKq+G,KAAMiB,EAAYt/G,KAAK++G,WAAYQ,EAAav/G,KAAKg/G,YAAav3F,EAAMznB,KAAKw/G,KAAMj4F,EAAMvnB,KAAKy/G,KAC/G,GAAsB,IAAlB92C,EAAO1pE,OACP,OAAOu9G,GAAgBx8G,MAC3B,IAAK2oE,EAAOzrD,OAAMu8B,QAAsBvkC,IAAbukC,EAAM,SAChBvkC,IAAbukC,EAAM,IACN6lE,EAAU7lE,EAAM,GAAIA,EAAM,KAAO,IACjC,OAAO++D,GAAKx4G,KAAM,6HAA8H4lG,GAAW4P,iBAE/J,MAAM2J,GAAiBr8G,IAAqC,IAA1BA,EAAQq8G,cACpCC,EAAgBt8G,IAAqC,IAA1BA,EAAQs8G,cAezC,IAEIv9G,EAFA69G,EAAgBJ,EACpB,SAASK,EAAYpwG,EAAGC,GAAK,OAAOkwG,EAAcnwG,EAAE,GAAIC,EAAE,GAAK,CAE/D,IACI3N,EAAM8mE,EAAOj+C,QAlBjB,SAAkBi+C,EAAQi3C,GACtB,IAAIxgH,EAAI,EAAGkT,EAAIq2D,EAAO1pE,OACtB,KAAOG,EAAIkT,IAAKlT,EAAG,CACf,MAAMq6C,EAAQkvB,EAAOvpE,GACrB,GAAI60G,EAAI2L,EAAS,GAAInmE,EAAM,IAAM,GAAKw6D,EAAI2L,EAAS,GAAInmE,EAAM,IAAM,EAAG,CAClEA,EAAM,GAAKhyB,EAAIgyB,EAAM,GAAImmE,EAAS,IAClCnmE,EAAM,GAAKlyB,EAAIkyB,EAAM,GAAImmE,EAAS,IAClC,KACJ,CACJ,CAGA,OAFIxgH,IAAMkT,GACNq2D,EAAOl+D,KAAKm1G,GACTj3C,CACX,GAKkC,IAC9B9mE,EAAIyc,KAAKqhG,EACb,CACA,MAAOvU,GACH,OAAOoN,GAAKx4G,KAAMmxG,GACtB,CACA,IAAI0O,EAAW,EACf,MAAMC,EAA0BV,EAC5Bv2G,GAAOy2G,EAAUz2G,EAAKhH,EAAIg+G,GAAU,IAAM,EAC1Ch3G,GAAOy2G,EAAUz2G,EAAKhH,EAAIg+G,GAAU,KAAO,EACzCE,EAA0BZ,EAC5Bt2G,GAAO02G,EAAW12G,EAAKhH,EAAIg+G,GAAU,IAAM,EAC3Ch3G,GAAO02G,EAAW12G,EAAKhH,EAAIg+G,GAAU,KAAO,EAIhD,IAAIG,EAAWF,EACf,MAAMzgH,EAAI,IAAIW,KAAK00G,WAAW10G,MAAM,IAAM89G,GAAYj8G,EAAI,GAAG,GAAIA,EAAIA,EAAI5C,OAAS,GAAG,IAAKkgH,GAAgBC,KAqC1G,OApCA//G,EAAEk7G,mBAAqBnzG,IACD,SAAdA,GACA44G,EAAWF,EACXJ,EAAgBJ,IAGhBU,EAAWD,EACXL,EAAgBH,GAEpB19G,EAAIyc,KAAKqhG,EAAY,EAEzBtgH,EAAEo6G,eAAc,CAAC52B,EAAQ01B,EAASvwG,KAE9B,IADA,IAAIa,EAAMg6E,EAAOh6E,IACVm3G,EAASn3G,IAEZ,KADEg3G,EACEA,IAAah+G,EAAI5C,OAEjB,OADAs5G,EAAQvwG,IACD,EAGf,QAzBJ,SAA+Ba,GAC3B,OAAQi3G,EAAwBj3G,KAASk3G,EAAwBl3G,EACrE,CAuBQo3G,CAAsBp3G,KAGoB,IAArC7I,KAAKq+G,KAAKx1G,EAAKhH,EAAIg+G,GAAU,KAAkD,IAArC7/G,KAAKq+G,KAAKx1G,EAAKhH,EAAIg+G,GAAU,KAI5EtH,GAAQ,KACAmH,IAAkBJ,EAClBz8B,EAAOi2B,SAASj3G,EAAIg+G,GAAU,IAE9Bh9B,EAAOi2B,SAASj3G,EAAIg+G,GAAU,GAAG,KAPlC,EAUX,IAEGxgH,CACX,CACA,eAAA6gH,GACI,MAAMr+G,EAAMgiG,EAAWx7D,MAAMu7D,EAAej5F,WAC5C,OAAK9I,EAAIqb,OAAMnG,GAAkB,iBAANA,IAGR,IAAflV,EAAI5C,OACGu9G,GAAgBx8G,MACpBA,KAAKk/G,WAAWr9G,EAAI3C,KAAKM,GAAQ,CAACA,EAAKA,EAAMyxG,OAJzCuH,GAAKx4G,KAAM,4CAK1B,EAsBJ,SAASmgH,GAAmBptD,GACxB,OAAOqP,IAAK,SAAUzqC,GAGlB,OAFAopE,GAAeppE,GACfo7B,EAAOp7B,EAAMzpB,OAAOyU,QACb,CACX,GACJ,CACA,SAASo+E,GAAeppE,GAChBA,EAAMspE,iBACNtpE,EAAMspE,kBACNtpE,EAAMopE,gBACNppE,EAAMopE,gBACd,CAEA,MAAMqf,GAAmC,iBACnCC,GAAiC,qBACjCC,GAAe/J,GAAO,KAAM6J,IAElC,MAAMG,GACF,KAAAC,GAKI,OAJA/9F,GAAQ6mF,GAAIjtD,UACVr8C,KAAKygH,UACgB,IAAnBzgH,KAAKygH,WAAoBnX,GAAIjtD,SAC7BitD,GAAIoX,aAAe1gH,MAChBA,IACX,CACA,OAAA2gH,GAEI,GADAl+F,GAAQ6mF,GAAIjtD,QACa,KAAnBr8C,KAAKygH,UAGP,IAFKnX,GAAIjtD,SACLitD,GAAIoX,aAAe,MAChB1gH,KAAK4gH,cAAc3hH,OAAS,IAAMe,KAAK6gH,WAAW,CACrD,IAAIC,EAAW9gH,KAAK4gH,cAAcl7G,QAClC,IACIynG,GAAO2T,EAAS,GAAIA,EAAS,GACjC,CACA,MAAO19F,GAAK,CAChB,CAEJ,OAAOpjB,IACX,CACA,OAAA6gH,GACI,OAAO7gH,KAAKygH,WAAanX,GAAIoX,eAAiB1gH,IAClD,CACA,MAAAmZ,CAAOw5F,GACH,IAAK3yG,KAAK8vB,KACN,OAAO9vB,KACX,MAAMowG,EAAQpwG,KAAKkwG,GAAGE,MAChBQ,EAAc5wG,KAAKkwG,GAAGjG,OAAO2G,YAEnC,GADAnuF,GAAQziB,KAAK2yG,WACRA,IAAavC,EACd,OAAQQ,GAAeA,EAAY76F,MAC/B,IAAK,sBACD,MAAM,IAAI6vF,GAAWhB,eAAegM,GACxC,IAAK,kBACD,MAAM,IAAIhL,GAAWb,WAAW6L,EAAYh+F,QAASg+F,GACzD,QACI,MAAM,IAAIhL,GAAWmb,WAAWnQ,GAG5C,IAAK5wG,KAAKkJ,OACN,MAAM,IAAI08F,GAAWd,oBAuBzB,OAtBAriF,EAAmC,OAA5BziB,KAAK2wG,YAAY1G,SACxB0I,EAAW3yG,KAAK2yG,SAAWA,IACtB3yG,KAAKkwG,GAAG6C,KACH/yG,KAAKkwG,GAAG6C,KAAKiO,YAAYhhH,KAAKmwG,WAAYnwG,KAAK8vB,KAAM,CAAEmxF,WAAYjhH,KAAKkhH,8BACxE9Q,EAAM4Q,YAAYhhH,KAAKmwG,WAAYnwG,KAAK8vB,KAAM,CAAEmxF,WAAYjhH,KAAKkhH,gCAClErlE,QAAUumB,IAAK++C,IACpBpgB,GAAeogB,GACfnhH,KAAKohH,QAAQzO,EAAShwF,MAAM,IAEhCgwF,EAAS0O,QAAUj/C,IAAK++C,IACpBpgB,GAAeogB,GACfnhH,KAAKkJ,QAAUlJ,KAAKohH,QAAQ,IAAIxb,GAAWf,MAAM8N,EAAShwF,QAC1D3iB,KAAKkJ,QAAS,EACdlJ,KAAK+tD,GAAG,SAASmlD,KAAKiO,EAAG,IAE7BxO,EAAS2O,WAAal/C,IAAK,KACvBpiE,KAAKkJ,QAAS,EACdlJ,KAAKuhH,WACD,iBAAkB5O,GAClB2N,GAAakB,eAAetO,KAAKP,EAAuB,aAC5D,IAEG3yG,IACX,CACA,QAAAsrG,CAASx7E,EAAMpB,EAAI+yF,GACf,GAAa,cAAT3xF,GAAsC,cAAd9vB,KAAK8vB,KAC7B,OAAO6+E,GAAU,IAAI/I,GAAW8b,SAAS,4BAC7C,IAAK1hH,KAAKkJ,OACN,OAAOylG,GAAU,IAAI/I,GAAWd,qBACpC,GAAI9kG,KAAK6gH,UACL,OAAO,IAAIpX,IAAa,CAACzhG,EAAS+qD,KAC9B/yD,KAAK4gH,cAAcn2G,KAAK,CAAC,KACjBzK,KAAKsrG,SAASx7E,EAAMpB,EAAI+yF,GAAYl8G,KAAKyC,EAAS+qD,EAAO,EAC1Du2C,IAAK,IAGf,GAAImY,EACL,OAAOvU,IAAS,KACZ,IAAIv9F,EAAI,IAAI85F,IAAa,CAACzhG,EAAS+qD,KAC/B/yD,KAAKwgH,QACL,MAAM3d,EAAKn0E,EAAG1mB,EAAS+qD,EAAQ/yD,MAC3B6iG,GAAMA,EAAGt9F,MACTs9F,EAAGt9F,KAAKyC,EAAS+qD,EAAO,IAIhC,OAFApjD,EAAE0sD,SAAQ,IAAMr8D,KAAK2gH,YACrBhxG,EAAEg6F,MAAO,EACFh6F,CAAC,IAIZ,IAAIA,EAAI,IAAI85F,IAAa,CAACzhG,EAAS+qD,KAC/B,IAAI8vC,EAAKn0E,EAAG1mB,EAAS+qD,EAAQ/yD,MACzB6iG,GAAMA,EAAGt9F,MACTs9F,EAAGt9F,KAAKyC,EAAS+qD,EAAO,IAGhC,OADApjD,EAAEg6F,MAAO,EACFh6F,CAEf,CACA,KAAAgyG,GACI,OAAO3hH,KAAK4Y,OAAS5Y,KAAK4Y,OAAO+oG,QAAU3hH,IAC/C,CACA,OAAA4hH,CAAQC,GACJ,IAAI3vD,EAAOlyD,KAAK2hH,QAChB,MAAM7lD,EAAU2tC,GAAazhG,QAAQ65G,GACrC,GAAI3vD,EAAK4vD,YACL5vD,EAAK4vD,YAAc5vD,EAAK4vD,YAAYv8G,MAAK,IAAMu2D,QAE9C,CACD5J,EAAK4vD,YAAchmD,EACnB5J,EAAK6vD,cAAgB,GACrB,IAAI1mC,EAAQnpB,EAAKygD,SAASqP,YAAY9vD,EAAKi+C,WAAW,KACrD,SAAS8R,IAEN,MADE/vD,EAAKgwD,WACAhwD,EAAK6vD,cAAc9iH,QACrBizD,EAAK6vD,cAAcr8G,OAApB,GACAwsD,EAAK4vD,cACLzmC,EAAM7lE,KAAI,KAAWsxF,UAAYmb,EACzC,CANA,EAOJ,CACA,IAAIE,EAAqBjwD,EAAK4vD,YAC9B,OAAO,IAAIrY,IAAa,CAACzhG,EAAS+qD,KAC9B+I,EAAQv2D,MAAK4oB,GAAO+jC,EAAK6vD,cAAct3G,KAAK23D,GAAKp6D,EAAQ3F,KAAK,KAAM8rB,OAAQ4L,GAAOm4B,EAAK6vD,cAAct3G,KAAK23D,GAAKrP,EAAO1wD,KAAK,KAAM03B,OAAQsiC,SAAQ,KAC1InK,EAAK4vD,cAAgBK,IACrBjwD,EAAK4vD,YAAc,KACvB,GACF,GAEV,CACA,KAAAM,GACQpiH,KAAKkJ,SACLlJ,KAAKkJ,QAAS,EACVlJ,KAAK2yG,UACL3yG,KAAK2yG,SAASyP,QAClBpiH,KAAKohH,QAAQ,IAAIxb,GAAWf,OAEpC,CACA,KAAA70F,CAAMuiG,GACF,MAAM8P,EAAkBriH,KAAKsiH,kBAAoBtiH,KAAKsiH,gBAAkB,CAAC,GACzE,GAAIzgB,EAAOwgB,EAAgB9P,GACvB,OAAO8P,EAAe9P,GAC1B,MAAMgQ,EAAcviH,KAAKyyG,OAAOF,GAChC,IAAKgQ,EACD,MAAM,IAAI3c,GAAW8M,SAAS,SAAWH,EAAY,4BAEzD,MAAMiQ,EAAwB,IAAIxiH,KAAKkwG,GAAGnkG,MAAMwmG,EAAWgQ,EAAaviH,MAGxE,OAFAwiH,EAAsBzP,KAAO/yG,KAAKkwG,GAAG6C,KAAK/iG,MAAMuiG,GAChD8P,EAAe9P,GAAaiQ,EACrBA,CACX,EAwCJ,SAASC,GAAgB1sG,EAAM6sF,EAASsV,EAAQ7D,EAAOY,EAAMvB,EAAUiE,GACnE,MAAO,CACH5hG,OACA6sF,UACAsV,SACA7D,QACAY,OACAvB,WACAj7E,KAAMy/E,IAAWP,EAAY,IAAM,KAAOtD,EAAQ,IAAM,KAAOY,EAAO,KAAO,IAAMyN,GAAgB9f,GAE3G,CACA,SAAS8f,GAAgB9f,GACrB,MAA0B,iBAAZA,EACVA,EACAA,EAAW,IAAM,GAAGrjG,KAAK8K,KAAKu4F,EAAS,KAAO,IAAO,EAC7D,CAEA,SAAS+f,GAAkB5sG,EAAMy9F,EAASD,GACtC,MAAO,CACHx9F,OACAy9F,UACAD,UACAsB,YAAa,KACbhB,UAAWrR,EAAc+Q,GAAS39F,GAAS,CAACA,EAAMG,KAAMH,KAEhE,CAKA,IAAIgtG,GAAaC,IACb,IAGI,OAFAA,EAAYC,KAAK,CAAC,KAClBF,GAAY,IAAM,CAAC,IACZ,CAAC,GACZ,CACA,MAAOx/F,GAEH,OADAw/F,GAAY,IAAM3R,GACXA,EACX,GAGJ,SAAS8R,GAAgBngB,GACrB,OAAe,MAAXA,EACO,KAAe,EAEE,iBAAZA,EAOpB,SAAmCA,GAE/B,OAAqB,IADPA,EAAQ9jG,MAAM,KAClBG,OACC8Q,GAAOA,EAAI6yF,GAGX7yF,GAAO4yF,EAAa5yF,EAAK6yF,EAExC,CAdeogB,CAA0BpgB,GAG1B7yF,GAAO4yF,EAAa5yF,EAAK6yF,EAExC,CAWA,SAASqgB,GAASnf,GACd,MAAO,GAAG1lF,MAAM/T,KAAKy5F,EACzB,CACA,IAAIof,GAAc,EAClB,SAASC,GAAgBvgB,GACrB,OAAkB,MAAXA,EACH,MACmB,iBAAZA,EACHA,EACA,IAAIA,EAAQrjG,KAAK,OAC7B,CAyVA,SAAS6jH,IAA2BC,OAAQnT,GAAMoT,GAC9C,MAAMlT,EAAQkT,EAASpT,GACjBpE,EARV,SAAgCyX,EAAanT,GAAO,YAAEoT,EAAW,UAAExP,GAAasP,GAC5E,MAAMG,EAJV,SAA+BC,EAAWH,GACtC,OAAOA,EAAY74F,QAAO,CAACi5F,GAAQxqG,aAAa,IAAMwqG,KAASxqG,EAAOwqG,MAAUD,EACpF,CAEmBE,CAnVnB,SAAsB1T,EAAI2S,EAAaS,GAqDnC,SAASO,EAAgBpqE,GACrB,GAAmB,IAAfA,EAAM/iC,KACN,OAAO,KACX,GAAmB,IAAf+iC,EAAM/iC,KACN,MAAM,IAAI/D,MAAM,4CACpB,MAAM,MAAE+O,EAAK,MAAES,EAAK,UAAE8vF,EAAS,UAAEC,GAAcz4D,EAQ/C,YAP2BvkC,IAAVwM,OACHxM,IAAViN,EACI,KACA0gG,EAAYiB,WAAW3hG,IAAS+vF,QAC1Bh9F,IAAViN,EACI0gG,EAAYkB,WAAWriG,IAASuwF,GAChC4Q,EAAYmB,MAAMtiG,EAAOS,IAAS8vF,IAAaC,EAE3D,CAyPA,MAAM,OAAEO,EAAM,UAAEwR,GA3ThB,SAAuB/T,EAAIM,GACvB,MAAM0T,EAASjB,GAAS/S,EAAGiU,kBAC3B,MAAO,CACH1R,OAAQ,CACJ18F,KAAMm6F,EAAGn6F,KACTmuG,OAAQA,EAAOhlH,KAAI8Q,GAASwgG,EAAMwR,YAAYhyG,KAAQ9Q,KAAIm8E,IACtD,MAAM,QAAEunB,EAAO,cAAEwhB,GAAkB/oC,EAC7Bq4B,EAAWp+F,EAAQstF,GACnBwY,EAAsB,MAAXxY,EACXyhB,EAAiB,CAAC,EAClBn9G,EAAS,CACX6O,KAAMslE,EAAMtlE,KACZ6hG,WAAY,CACR7hG,KAAM,KACNuuG,cAAc,EACdlJ,WACA1H,WACA9Q,UACAwhB,gBACAlM,QAAQ,EACRmD,WAAY0H,GAAgBngB,IAEhC2Q,QAAS0P,GAAS5nC,EAAMkpC,YAAYrlH,KAAIo7G,GAAaj/B,EAAMzlE,MAAM0kG,KAC5Dp7G,KAAI0W,IACL,MAAM,KAAEG,EAAI,OAAEmiG,EAAM,WAAEsM,EAAU,QAAE5hB,GAAYhtF,EAExC1O,EAAS,CACX6O,OACA29F,SAHap+F,EAAQstF,GAIrBA,UACAsV,SACAsM,aACAnJ,WAAY0H,GAAgBngB,IAGhC,OADAyhB,EAAelB,GAAgBvgB,IAAY17F,EACpCA,CAAM,IAEjB2wG,kBAAoBjV,GAAYyhB,EAAelB,GAAgBvgB,KAMnE,OAJAyhB,EAAe,OAASn9G,EAAO0wG,WAChB,MAAXhV,IACAyhB,EAAelB,GAAgBvgB,IAAY17F,EAAO0wG,YAE/C1wG,CAAM,KAGrB+8G,UAAWC,EAAOjlH,OAAS,GAAM,WAAYuxG,EAAMwR,YAAYkC,EAAO,OAC3C,oBAAd5nE,WAA6B,SAAS17B,KAAK07B,UAAUC,aACzD,oBAAoB37B,KAAK07B,UAAUC,YACpC,GAAG/2B,OAAO82B,UAAUC,UAAUxoC,MAAM,kBAAkB,GAAK,KAE3E,CAwQ8B0wG,CAAcvU,EAAIoT,GAC1CY,EAASzR,EAAOyR,OAAOhlH,KAAIqjH,GAzPjC,SAA2BA,GACvB,MAAMhQ,EAAYgQ,EAAYxsG,KA4L9B,MAAO,CACHA,KAAMw8F,EACNE,OAAQ8P,EACRpN,OA9LJ,UAAgB,MAAE3E,EAAK,KAAE95F,EAAI,KAAE9N,EAAI,OAAEwM,EAAM,MAAEqkC,IACzC,OAAO,IAAI5yC,SAAQ,CAACmB,EAAS+qD,KACzB/qD,EAAUo6D,GAAKp6D,GACf,MAAMqzE,EAAQm1B,EAAMwR,YAAYzP,GAC1B6I,EAA4B,MAAjB//B,EAAMunB,QACjB8hB,EAAsB,QAAThuG,GAA2B,QAATA,EACrC,IAAKguG,GAAuB,WAAThuG,GAA8B,gBAATA,EACpC,MAAM,IAAI/D,MAAM,2BAA6B+D,GACjD,MAAM,OAAEzX,GAAW2J,GAAQwM,GAAU,CAAEnW,OAAQ,GAC/C,GAAI2J,GAAQwM,GAAUxM,EAAK3J,SAAWmW,EAAOnW,OACzC,MAAM,IAAI0T,MAAM,iEAEpB,GAAe,IAAX1T,EACA,OAAO+I,EAAQ,CAAEotG,YAAa,EAAGjQ,SAAU,CAAC,EAAGwI,QAAS,GAAI0H,gBAAYngG,IAC5E,IAAIkxE,EACJ,MAAMu+B,EAAO,GACPxf,EAAW,GACjB,IAAIiQ,EAAc,EAClB,MAAMwP,EAAejtF,MACfy9E,EACFrU,GAAeppE,EAAM,EAEzB,GAAa,gBAATjhB,EAAwB,CACxB,GAAmB,IAAf+iC,EAAM/iC,KACN,OAAO1O,EAAQ,CAAEotG,cAAajQ,WAAUwI,QAAS,GAAI0H,gBAAYngG,IAClD,IAAfukC,EAAM/iC,KACNiuG,EAAKl6G,KAAK27E,EAAM/K,EAAMqB,SAEtBioC,EAAKl6G,KAAK27E,EAAM/K,EAAMwpC,OAAOhB,EAAgBpqE,IACrD,KACK,CACD,MAAOqrE,EAAOC,GAASL,EACnBtJ,EACI,CAAChmG,EAAQxM,GACT,CAACwM,EAAQ,MACb,CAACxM,EAAM,MACX,GAAI87G,EACA,IAAK,IAAItlH,EAAI,EAAGA,EAAIH,IAAUG,EAC1BulH,EAAKl6G,KAAK27E,EAAO2+B,QAAsB7vG,IAAb6vG,EAAM3lH,GAC5Bi8E,EAAM3kE,GAAMouG,EAAM1lH,GAAI2lH,EAAM3lH,IAC5Bi8E,EAAM3kE,GAAMouG,EAAM1lH,KACtBgnF,EAAIvqC,QAAU+oE,OAIlB,IAAK,IAAIxlH,EAAI,EAAGA,EAAIH,IAAUG,EAC1BulH,EAAKl6G,KAAK27E,EAAM/K,EAAM3kE,GAAMouG,EAAM1lH,KAClCgnF,EAAIvqC,QAAU+oE,CAG1B,CACA,MAAMj/C,EAAOhuC,IACT,MAAM09E,EAAa19E,EAAMzpB,OAAOhH,OAChCy9G,EAAKtmG,SAAQ,CAAC+nE,EAAKhnF,IAAmB,MAAbgnF,EAAIzjE,QAAkBwiF,EAAS/lG,GAAKgnF,EAAIzjE,SACjE3a,EAAQ,CACJotG,cACAjQ,WACAwI,QAAkB,WAATj3F,EAAoB9N,EAAO+7G,EAAKzlH,KAAIknF,GAAOA,EAAIl/E,SACxDmuG,cACF,EAENjvB,EAAIvqC,QAAUlkB,IACVitF,EAAajtF,GACbguC,EAAKhuC,EAAM,EAEfyuD,EAAI0gB,UAAYnhC,CAAI,GAE5B,EA4HIgwC,QAAO,EAAC,MAAEnF,EAAK,KAAE5nG,KACN,IAAI/B,SAAQ,CAACmB,EAAS+qD,KACzB/qD,EAAUo6D,GAAKp6D,GACf,MAAMqzE,EAAQm1B,EAAMwR,YAAYzP,GAC1BtzG,EAAS2J,EAAK3J,OACdiI,EAAS,IAAIwJ,MAAMzR,GACzB,IAEImnF,EAFA4+B,EAAW,EACXC,EAAgB,EAEpB,MAAMC,EAAiBvtF,IACnB,MAAMyuD,EAAMzuD,EAAMzpB,OACbhH,EAAOk/E,EAAI++B,MAAQ/+B,EAAIl/E,SAEtB+9G,IAAkBD,GACpBh9G,EAAQd,EAAO,EAEjB09G,EAAezE,GAAmBptD,GACxC,IAAK,IAAI3zD,EAAI,EAAGA,EAAIH,IAAUG,EAEf,MADCwJ,EAAKxJ,KAEbgnF,EAAM/K,EAAM7lE,IAAI5M,EAAKxJ,IACrBgnF,EAAI++B,KAAO/lH,EACXgnF,EAAI0gB,UAAYoe,EAChB9+B,EAAIvqC,QAAU+oE,IACZI,GAGO,IAAbA,GACAh9G,EAAQd,EAAO,IAG3BsO,IAAG,EAAC,MAAEg7F,EAAK,IAAE3nG,KACF,IAAIhC,SAAQ,CAACmB,EAAS+qD,KACzB/qD,EAAUo6D,GAAKp6D,GACf,MACMo+E,EADQoqB,EAAMwR,YAAYzP,GACd/8F,IAAI3M,GACtBu9E,EAAI0gB,UAAYnvE,GAAS3vB,EAAQ2vB,EAAMzpB,OAAOhH,QAC9Ck/E,EAAIvqC,QAAUskE,GAAmBptD,EAAO,IAGhDolD,MAnFJ,SAAe8L,GACX,OAAQmB,GACG,IAAIv+G,SAAQ,CAACmB,EAAS+qD,KACzB/qD,EAAUo6D,GAAKp6D,GACf,MAAM,MAAEwoG,EAAK,OAAEp7F,EAAM,MAAE8iC,EAAK,MAAEigE,GAAUiN,EAClCC,EAAkBntE,IAAU3gC,SAAWrC,EAAYgjC,GACnD,MAAEtiC,EAAK,MAAE6jC,GAAU0+D,EACnB98B,EAAQm1B,EAAMwR,YAAYzP,GAC1B5+E,EAAS/d,EAAM0uG,aAAejpC,EAAQA,EAAMzlE,MAAMA,EAAMG,MACxDuvG,EAAczB,EAAgBpqE,GACpC,GAAc,IAAVvB,EACA,OAAOlwC,EAAQ,CAAEd,OAAQ,KAC7B,GAAI+8G,EAAW,CACX,MAAM79B,EAAMhxE,EACRue,EAAO4xF,OAAOD,EAAaD,GAC3B1xF,EAAO6xF,WAAWF,EAAaD,GACnCj/B,EAAI0gB,UAAYnvE,GAAS3vB,EAAQ,CAAEd,OAAQywB,EAAMzpB,OAAOhH,SACxDk/E,EAAIvqC,QAAUskE,GAAmBptD,EACrC,KACK,CACD,IAAItxC,EAAQ,EACZ,MAAM2kE,EAAMhxE,KAAY,kBAAmBue,GACvCA,EAAOokF,WAAWuN,GAClB3xF,EAAO8xF,cAAcH,GACnBp+G,EAAS,GACfk/E,EAAI0gB,UAAYnvE,IACZ,MAAMkrD,EAASuD,EAAIl/E,OACnB,OAAK27E,GAEL37E,EAAOuD,KAAK2K,EAASytE,EAAO3yE,MAAQ2yE,EAAO+0B,cACrCn2F,IAAUy2B,EACLlwC,EAAQ,CAAEd,gBACrB27E,EAAOi2B,YAJI9wG,EAAQ,CAAEd,UAIJ,EAErBk/E,EAAIvqC,QAAUskE,GAAmBptD,EACrC,IAGZ,CA6CWolD,CAAM8L,GACblM,WApKJ,UAAoB,MAAEvH,EAAK,OAAEp7F,EAAM,MAAE+iG,EAAK,QAAEj2F,EAAO,OAAEg2F,IACjD,OAAO,IAAIrxG,SAAQ,CAACmB,EAAS+qD,KACzB/qD,EAAUo6D,GAAKp6D,GACf,MAAM,MAAE4N,EAAK,MAAE6jC,GAAU0+D,EACnB98B,EAAQm1B,EAAMwR,YAAYzP,GAC1B5+E,EAAS/d,EAAM0uG,aACjBjpC,EACAA,EAAMzlE,MAAMA,EAAMG,MAChB3O,EAAY8a,EACdg2F,EACI,aACA,OACJA,EACI,aACA,OACF9xB,EAAMhxE,KAAY,kBAAmBue,GACvCA,EAAOokF,WAAW8L,EAAgBpqE,GAAQryC,GAC1CusB,EAAO8xF,cAAc5B,EAAgBpqE,GAAQryC,GACjDg/E,EAAIvqC,QAAUskE,GAAmBptD,GACjCqzB,EAAI0gB,UAAY1kC,IAAK++C,IACjB,MAAMt+B,EAASuD,EAAIl/E,OACnB,IAAK27E,EAED,YADA76E,EAAQ,MAGZ66E,EAAO6iC,QAAUxC,GACjBrgC,EAAOld,MAAO,EACd,MAAMggD,EAAkB9iC,EAAOi2B,SAASz2G,KAAKwgF,GAC7C,IAAI+iC,EAA4B/iC,EAAOgjC,mBACnCD,IACAA,EAA4BA,EAA0BvjH,KAAKwgF,IAC/D,MAAMijC,EAAiBjjC,EAAO01B,QAAQl2G,KAAKwgF,GAErCkjC,EAAyB,KAAQ,MAAM,IAAIpzG,MAAM,qBAAqB,EAC5EkwE,EAAO2tB,MAAQA,EACf3tB,EAAO3uD,KAAO2uD,EAAOi2B,SAAWj2B,EAAOgjC,mBAAqBhjC,EAAO01B,QAHjC,KAAQ,MAAM,IAAI5lG,MAAM,qBAAqB,EAI/EkwE,EAAO21B,KAAOp2C,GAAKrP,GACnB8vB,EAAO//D,KAAO,WACV,IAAIkjG,EAAS,EACb,OAAOhmH,KAAKrB,OAAM,IAAMqnH,IAAWhmH,KAAK84G,WAAa94G,KAAKk0B,SAAQ3uB,MAAK,IAAMvF,MACjF,EACA6iF,EAAOlkF,MAASulB,IACZ,MAAM+hG,EAAmB,IAAIp/G,SAAQ,CAACq/G,EAAkBC,KACpDD,EAAmB9jD,GAAK8jD,GACxB9/B,EAAIvqC,QAAUskE,GAAmBgG,GACjCtjC,EAAO21B,KAAO2N,EACdtjC,EAAO3uD,KAAOhkB,IACV2yE,EAAO3uD,KAAO2uD,EAAOi2B,SAAWj2B,EAAOgjC,mBAAqBhjC,EAAO01B,QAAUwN,EAC7EG,EAAiBh2G,EAAM,CAC1B,IAECk2G,EAAkB,KACpB,GAAIhgC,EAAIl/E,OACJ,IACIgd,GACJ,CACA,MAAO6V,GACH8oD,EAAO21B,KAAKz+E,EAChB,MAGA8oD,EAAOld,MAAO,EACdkd,EAAOlkF,MAAQ,KAAQ,MAAM,IAAIgU,MAAM,2BAA2B,EAClEkwE,EAAO3uD,MACX,EAUJ,OARAkyD,EAAI0gB,UAAY1kC,IAAK++C,IACjB/6B,EAAI0gB,UAAYsf,EAChBA,GAAiB,IAErBvjC,EAAOi2B,SAAW6M,EAClB9iC,EAAOgjC,mBAAqBD,EAC5B/iC,EAAO01B,QAAUuN,EACjBM,IACOH,CAAgB,EAE3Bj+G,EAAQ66E,EAAO,GAChB9vB,EAAO,GAElB,EAsFI,KAAAtxC,EAAM,MAAE02F,EAAK,MAAE3H,IACX,MAAM,MAAE56F,EAAK,MAAE6jC,GAAU0+D,EACzB,OAAO,IAAItxG,SAAQ,CAACmB,EAAS+qD,KACzB,MAAMsoB,EAAQm1B,EAAMwR,YAAYzP,GAC1B5+E,EAAS/d,EAAM0uG,aAAejpC,EAAQA,EAAMzlE,MAAMA,EAAMG,MACxDuvG,EAAczB,EAAgBpqE,GAC9B2sC,EAAMk/B,EAAc3xF,EAAOlS,MAAM6jG,GAAe3xF,EAAOlS,QAC7D2kE,EAAI0gB,UAAY1kC,IAAK++C,GAAMn5G,EAAQm5G,EAAGjzG,OAAOhH,UAC7Ck/E,EAAIvqC,QAAUskE,GAAmBptD,EAAO,GAEhD,EAER,CAEgDszD,CAAkB9D,KAC5D+D,EAAW,CAAC,EAElB,OADApC,EAAO7lG,SAAQrO,GAASs2G,EAASt2G,EAAM+F,MAAQ/F,IACxC,CACHupC,MAAO,SACPynE,YAAa9Q,EAAG8Q,YAAY3+G,KAAK6tG,GACjC,KAAAlgG,CAAM+F,GAEF,IADeuwG,EAASvwG,GAEpB,MAAM,IAAIpD,MAAM,UAAUoD,gBAC9B,OAAOuwG,EAASvwG,EACpB,EACAwwG,SAAS,IACTC,QAAS5D,GAAUC,GACnBpQ,SAER,CAMyCgU,CAAarW,EAAOoT,EAAaF,GAAWC,EAAYE,QAC7F,MAAO,CACHA,SAER,CAGmBiD,CAAuBxW,EAAGyW,aAAcvW,EAAOF,EAAG6D,MAAOuP,GACxEpT,EAAG6C,KAAOjH,EAAO2X,OACjBvT,EAAGgU,OAAO7lG,SAAQrO,IACd,MAAMuiG,EAAYviG,EAAM+F,KACpBm6F,EAAG6C,KAAKN,OAAOyR,OAAOtuF,MAAKvmB,GAAOA,EAAI0G,OAASw8F,MAC/CviG,EAAM+iG,KAAO7C,EAAG6C,KAAK/iG,MAAMuiG,GACvBrC,EAAGqC,aAAsBrC,EAAGnkG,QAC5BmkG,EAAGqC,GAAWQ,KAAO/iG,EAAM+iG,MAEnC,GAER,CAEA,SAAS6T,IAAgBvD,OAAQnT,GAAM2W,EAAMC,EAAYC,GACrDD,EAAWzoG,SAAQk0F,IACf,MAAME,EAASsU,EAASxU,GACxBsU,EAAKxoG,SAAQtO,IACT,MAAMi3G,EAAW7kB,EAAsBpyF,EAAKwiG,KACvCyU,GAAa,UAAWA,QAA+B9xG,IAAnB8xG,EAAS92G,SAC1CH,IAAQmgG,EAAGqQ,YAAYxtG,WAAahD,aAAemgG,EAAGqQ,YACtDze,EAAQ/xF,EAAKwiG,EAAW,CACpB,GAAA/8F,GAAQ,OAAOxV,KAAKgQ,MAAMuiG,EAAY,EACtC,GAAA1wG,CAAIqO,GACA8iC,EAAehzC,KAAMuyG,EAAW,CAAEriG,QAAOmpC,UAAU,EAAMC,cAAc,EAAMrG,YAAY,GAC7F,IAIJljC,EAAIwiG,GAAa,IAAIrC,EAAGnkG,MAAMwmG,EAAWE,GAEjD,GACF,GAEV,CACA,SAASwU,IAAkB5D,OAAQnT,GAAM2W,GACrCA,EAAKxoG,SAAQtO,IACT,IAAK,IAAIlH,KAAOkH,EACRA,EAAIlH,aAAgBqnG,EAAGnkG,cAChBgE,EAAIlH,EACnB,GAER,CACA,SAASq+G,GAAkB33G,EAAGC,GAC1B,OAAOD,EAAE43G,KAAK9+D,QAAU74C,EAAE23G,KAAK9+D,OACnC,CAqGA,SAAS++D,GAAcC,EAAWC,GAC9B,MAAMC,EAAO,CACTC,IAAK,GACL18G,IAAK,GACL28G,OAAQ,IAEZ,IAAIz3G,EACJ,IAAKA,KAASq3G,EACLC,EAAUt3G,IACXu3G,EAAKC,IAAI/8G,KAAKuF,GAEtB,IAAKA,KAASs3G,EAAW,CACrB,MAAMI,EAASL,EAAUr3G,GAAQ23G,EAASL,EAAUt3G,GACpD,GAAK03G,EAGA,CACD,MAAMD,EAAS,CACX1xG,KAAM/F,EACN43G,IAAKD,EACLE,UAAU,EACVL,IAAK,GACL18G,IAAK,GACL28G,OAAQ,IAEZ,GACA,IAAMC,EAAOlU,QAAQ5Q,SAAW,KAAU,IAAM+kB,EAAOnU,QAAQ5Q,SAAW,KACrE8kB,EAAOlU,QAAQyB,OAAS0S,EAAOnU,QAAQyB,OAAS3D,GAEjDmW,EAAOI,UAAW,EAClBN,EAAKE,OAAOh9G,KAAKg9G,OAEhB,CACD,MAAMK,EAAaJ,EAAO7T,UACpBkU,EAAaJ,EAAO9T,UAC1B,IAAImU,EACJ,IAAKA,KAAWF,EACPC,EAAWC,IACZP,EAAOD,IAAI/8G,KAAKu9G,GAExB,IAAKA,KAAWD,EAAY,CACxB,MAAME,EAASH,EAAWE,GAAUE,EAASH,EAAWC,GACnDC,EAEIA,EAAOxvF,MAAQyvF,EAAOzvF,KAC3BgvF,EAAOA,OAAOh9G,KAAKy9G,GAFnBT,EAAO38G,IAAIL,KAAKy9G,EAGxB,EACIT,EAAOD,IAAIvoH,OAAS,GAAKwoH,EAAO38G,IAAI7L,OAAS,GAAKwoH,EAAOA,OAAOxoH,OAAS,IACzEsoH,EAAKE,OAAOh9G,KAAKg9G,EAEzB,CACJ,MArCIF,EAAKz8G,IAAIL,KAAK,CAACuF,EAAO23G,GAsC9B,CACA,OAAOJ,CACX,CACA,SAASY,GAAYxV,EAAUJ,EAAWiB,EAASD,GAC/C,MAAMl4B,EAAQs3B,EAASzC,GAAGkY,kBAAkB7V,EAAWiB,EAAQ5Q,QAC3D,CAAEA,QAAS4Q,EAAQ5Q,QAASwhB,cAAe5Q,EAAQyB,MACnD,CAAEmP,cAAe5Q,EAAQyB,OAE7B,OADA1B,EAAQl1F,SAAQvN,GAAOu3G,GAAShtC,EAAOvqE,KAChCuqE,CACX,CAWA,SAASgtC,GAAShtC,EAAOvqE,GACrBuqE,EAAMitC,YAAYx3G,EAAIiF,KAAMjF,EAAI8xF,QAAS,CAAEsV,OAAQpnG,EAAIonG,OAAQsM,WAAY1zG,EAAIujG,OACnF,CACA,SAASkU,GAAkBrY,EAAIE,EAAOkT,GAClC,MAAMkF,EAAe,CAAC,EAetB,OAdqBpqG,EAAMgyF,EAAM+T,iBAAkB,GACtC9lG,SAAQoqG,IACjB,MAAMptC,EAAQioC,EAAStB,YAAYyG,GACnC,IAAI7lB,EAAUvnB,EAAMunB,QACpB,MAAM4Q,EAAUiP,GAAgBC,GAAgB9f,GAAUA,GAAW,IAAI,GAAO,IAASvnB,EAAM+oC,cAAexhB,GAA8B,iBAAZA,GAAsB,GAChJ2Q,EAAU,GAChB,IAAK,IAAIh9F,EAAI,EAAGA,EAAI8kE,EAAMkpC,WAAWtlH,SAAUsX,EAAG,CAC9C,MAAMmyG,EAAWrtC,EAAMzlE,MAAMylE,EAAMkpC,WAAWhuG,IAC9CqsF,EAAU8lB,EAAS9lB,QACnB,IAAIhtF,EAAQ6sG,GAAgBiG,EAAS3yG,KAAM6sF,IAAW8lB,EAASxQ,SAAUwQ,EAASlE,YAAY,EAAO5hB,GAA8B,iBAAZA,GAAsB,GAC7I2Q,EAAQ9oG,KAAKmL,EACjB,CACA4yG,EAAaC,GAAa9F,GAAkB8F,EAAWjV,EAASD,EAAQ,IAErEiV,CACX,CAYA,SAASG,IAA6BtF,OAAQnT,GAAMuC,EAAQE,GACxD,MAAMxC,EAAawC,EAASzC,GAAGiU,iBAC/B,IAAK,IAAI/kH,EAAI,EAAGA,EAAI+wG,EAAWlxG,SAAUG,EAAG,CACxC,MAAMqpH,EAAYtY,EAAW/wG,GACvBi8E,EAAQs3B,EAASqP,YAAYyG,GACnCvY,EAAG0Y,WAAa,WAAYvtC,EAC5B,IAAK,IAAI9kE,EAAI,EAAGA,EAAI8kE,EAAMkpC,WAAWtlH,SAAUsX,EAAG,CAC9C,MAAM+jG,EAAYj/B,EAAMkpC,WAAWhuG,GAC7BqsF,EAAUvnB,EAAMzlE,MAAM0kG,GAAW1X,QACjCimB,EAA+B,iBAAZjmB,EAAuBA,EAAU,IAAMxkF,EAAMwkF,GAASrjG,KAAK,KAAO,IAC3F,GAAIkzG,EAAOgW,GAAY,CACnB,MAAMK,EAAYrW,EAAOgW,GAAW5U,UAAUgV,GAC1CC,IACAA,EAAU/yG,KAAOukG,SACV7H,EAAOgW,GAAW5U,UAAUgV,GACnCpW,EAAOgW,GAAW5U,UAAUyG,GAAawO,EAEjD,CACJ,CACJ,CACyB,oBAAdxsE,WAA6B,SAAS17B,KAAK07B,UAAUC,aAC3D,oBAAoB37B,KAAK07B,UAAUC,YACpCklD,EAAQsnB,mBAAqBtnB,aAAmBA,EAAQsnB,mBACxD,GAAGvjG,OAAO82B,UAAUC,UAAUxoC,MAAM,kBAAkB,GAAK,MAC3Dm8F,EAAG0Y,YAAa,EAExB,CAUA,MAAMI,GACF,gBAAAC,CAAiBC,EAAQC,GACrBvgH,EAAKsgH,GAAQ7qG,SAAQk0F,IACjB,GAA0B,OAAtB2W,EAAO3W,GAAqB,CAC5B,IAAIgB,EAA2B2V,EAAO3W,GAZzBzzG,MAAM,KAAKI,KAAI,CAAC0W,EAAOwzG,KAE5C,MAAMrzG,GADNH,EAAQA,EAAMgO,QACKjQ,QAAQ,eAAgB,IACrCivF,EAAU,MAAMhiF,KAAK7K,GAAQA,EAAKhC,MAAM,cAAc,GAAGjV,MAAM,KAAOiX,EAC5E,OAAO0sG,GAAgB1sG,EAAM6sF,GAAW,KAAM,KAAKhiF,KAAKhL,GAAQ,KAAKgL,KAAKhL,GAAQ,OAAOgL,KAAKhL,GAAQN,EAAQstF,GAAuB,IAAbwmB,EAAe,IAS3H5V,EAAUD,EAAQ7tG,QACtB,GAAI8tG,EAAQa,MACR,MAAM,IAAIzO,GAAWkS,OAAO,sCAChCvE,EAAQl1F,SAAQvN,IACZ,GAAIA,EAAImkG,KACJ,MAAM,IAAIrP,GAAWkS,OAAO,wDAChC,IAAKhnG,EAAI8xF,QACL,MAAM,IAAIgD,GAAWkS,OAAO,uDAAuD,IAE3FqR,EAAU5W,GAAaoQ,GAAkBpQ,EAAWiB,EAASD,EACjE,IAER,CACA,MAAA2V,CAAOA,GACH,MAAMhZ,EAAKlwG,KAAKkwG,GAChBlwG,KAAKmnH,KAAKkC,aAAerpH,KAAKmnH,KAAKkC,aAC/BpwG,EAAOjZ,KAAKmnH,KAAKkC,aAAcH,GAC/BA,EACJ,MAAMI,EAAWpZ,EAAGqZ,UACdC,EAAa,CAAC,EACpB,IAAIzC,EAAW,CAAC,EAUhB,OATAuC,EAASjrG,SAAQgqC,IACbpvC,EAAOuwG,EAAYnhE,EAAQ8+D,KAAKkC,cAChCtC,EAAY1+D,EAAQ8+D,KAAKJ,SAAW,CAAC,EACrC1+D,EAAQ4gE,iBAAiBO,EAAYzC,EAAS,IAElD7W,EAAGQ,UAAYqW,EACfE,GAAgB/W,EAAI,CAACA,EAAGuZ,WAAYvZ,EAAIA,EAAGqQ,YAAYxtG,YACvD6zG,GAAc1W,EAAI,CAACA,EAAGuZ,WAAYvZ,EAAIA,EAAGqQ,YAAYxtG,UAAW/S,KAAKmnH,KAAKjD,QAASt7G,EAAKm+G,GAAWA,GACnG7W,EAAGwZ,YAAc9gH,EAAKm+G,GACf/mH,IACX,CACA,OAAA2pH,CAAQC,GAEJ,OADA5pH,KAAKmnH,KAAK0C,eAAiBziB,GAAgBpnG,KAAKmnH,KAAK0C,gBAAkBxjB,GAAKujB,GACrE5pH,IACX,EAgBJ,SAAS8pH,GAAgB9V,EAAWwP,GAChC,IAAIuG,EAAY/V,EAAsB,WAStC,OARK+V,IACDA,EAAY/V,EAAsB,WAAI,IAAIgW,GAAQtY,GAAY,CAC1DuY,OAAQ,GACRjW,YACAwP,gBAEJuG,EAAU1hE,QAAQ,GAAG6gE,OAAO,CAAEgB,QAAS,UAEpCH,EAAU/5G,MAAM,UAC3B,CACA,SAASm6G,GAAmBnW,GACxB,OAAOA,GAA4C,mBAAxBA,EAAUoW,SACzC,CAmBA,SAASC,GAAI37F,GACT,OAAOw+E,IAAS,WAEZ,OADA5D,GAAIgH,YAAa,EACV5hF,GACX,GACJ,CAEA,SAAS47F,KACL,IAKIC,EAFJ,OAHgBjuE,UAAUkuE,eACtB,WAAW5pG,KAAK07B,UAAUC,aACzB,iBAAiB37B,KAAK07B,UAAUC,YACnBy3D,UAAUoW,UAGrB,IAAIvjH,SAAQ,SAAUmB,GACzB,IAAIyiH,EAAS,WAAc,OAAOzW,UAAUoW,YAAY/tD,QAAQr0D,EAAU,EAC1EuiH,EAAaG,YAAYD,EAAQ,KACjCA,GACJ,IAAGpuD,SAAQ,WAAc,OAAOsuD,cAAcJ,EAAa,IANhD1jH,QAAQmB,SAOvB,CAEA,SAAS4iH,GAAU1a,GACf,MAAM36E,EAAQ26E,EAAGjG,QACX,UAAE+J,GAAc9D,EAAG6D,MACzB,GAAIx+E,EAAMs7E,eAAiBX,EAAGE,MAC1B,OAAO76E,EAAMw7E,eAAexrG,MAAK,IAAMgwB,EAAMq7E,YACzCjC,GAAUp5E,EAAMq7E,aAChBV,IACR95E,KAAUb,EAAMs1F,cAAc/gB,aAAe1F,MAC7C7uE,EAAMs7E,eAAgB,EACtBt7E,EAAMq7E,YAAc,KACpBr7E,EAAM86E,cAAe,EACrB,MAAMwa,EAAgBt1F,EAAMs1F,cAC5B,SAASC,IACL,GAAIv1F,EAAMs1F,gBAAkBA,EACxB,MAAM,IAAIjlB,GAAWhB,eAAe,0BAC5C,CACA,IAAImmB,EAAiBx1F,EAAMy1F,eAC3BC,EAAqB,KAAMC,GAAa,EACxC,OAAOzhB,GAAaltC,KAAK,CAACsuD,GAAqC,oBAAdvuE,UAA4BmtD,GAAazhG,UAAYsiH,MAAY/kH,MAAK,IAAM,IAAIkkG,IAAa,CAACzhG,EAAS+qD,KAEhJ,GADA+3D,KACK9W,EACD,MAAM,IAAIpO,GAAWb,WACzB,MAAMomB,EAASjb,EAAGn6F,KACZqwE,EAAM7wD,EAAM61F,WACdpX,EAAUv4D,KAAK0vE,GACfnX,EAAUv4D,KAAK0vE,EAAQxqH,KAAKe,MAAiB,GAAXwuG,EAAGmb,QACzC,IAAKjlC,EACD,MAAM,IAAIwf,GAAWb,WACzB3e,EAAIvqC,QAAUskE,GAAmBptD,GACjCqzB,EAAIklC,UAAYlpD,GAAK8tC,EAAGqb,gBACxBnlC,EAAIolC,gBAAkBppD,IAAKh/C,IAEvB,GADA6nG,EAAqB7kC,EAAI46B,YACrBzrF,EAAM61F,aAAelb,EAAG74B,SAASo0C,aAAc,CAC/CrlC,EAAIvqC,QAAUklD,GACdkqB,EAAmB7I,QACnBh8B,EAAIl/E,OAAOwkH,QACX,MAAMC,EAAS3X,EAAU4X,eAAeT,GACxCQ,EAAO7kB,UAAY6kB,EAAO9vE,QAAUumB,IAAK,KACrCrP,EAAO,IAAI6yC,GAAWimB,eAAe,YAAYV,kBAAuB,GAEhF,KACK,CACDF,EAAmBpvE,QAAUskE,GAAmBptD,GAChD,IAAI+4D,EAAS1oG,EAAE2oG,WAAaprH,KAAKsS,IAAI,EAAG,IAAM,EAAImQ,EAAE2oG,WACpDb,EAAaY,EAAS,EACtB5b,EAAGmT,OAAOjT,MAAQhqB,EAAIl/E,OA3Y1C,SAAsBgpG,EAAI6b,EAAYC,EAAiBj5D,GACnD,MAAMy1D,EAAetY,EAAGQ,UAClBF,EAAQN,EAAGO,mBAAmB,YAAaP,EAAGwZ,YAAalB,GACjEhY,EAAMr3F,OAAO6yG,GACbxb,EAAMG,YAAYr0C,MAAMvJ,GACxB,MAAMk5D,EAAoBzb,EAAM4Q,QAAQ/+G,KAAKmuG,GACvCoC,EAAYtJ,GAAIsJ,WAAatJ,GACnC4D,IAAS,KACL5D,GAAIkH,MAAQA,EACZlH,GAAIsJ,UAAYA,EACG,IAAfmZ,GACAnjH,EAAK4/G,GAAcnqG,SAAQk0F,IACvB4V,GAAY6D,EAAiBzZ,EAAWiW,EAAajW,GAAWiB,QAASgV,EAAajW,GAAWgB,QAAQ,IAE7G6P,GAAyBlT,EAAI8b,GAC7BviB,GAAa4D,QAAO,IAAM6C,EAAGniD,GAAGm+D,SAAShZ,KAAK1C,KAAQl0C,MAAM2vD,IAMxE,UAAkC5I,OAAQnT,GAAM6b,EAAYvb,EAAOwb,GAC/D,MAAMpwD,EAAQ,GACR0tD,EAAWpZ,EAAGqZ,UACpB,IAAIf,EAAetY,EAAGQ,UAAY6X,GAAkBrY,EAAIA,EAAGE,MAAO4b,GAC9DG,GAA2B,EAuE/B,OAtEkB7C,EAAS7iH,QAAOkP,GAAKA,EAAEwxG,KAAK9+D,SAAW0jE,IAC/C1tG,SAAQgqC,IACduT,EAAMnxD,MAAK,KACP,MAAM48G,EAAYmB,EACZlB,EAAYj/D,EAAQ8+D,KAAKJ,SAC/B4B,GAA2BzY,EAAImX,EAAW2E,GAC1CrD,GAA2BzY,EAAIoX,EAAW0E,GAC1CxD,EAAetY,EAAGQ,UAAY4W,EAC9B,MAAMC,EAAOH,GAAcC,EAAWC,GACtCC,EAAKz8G,IAAIuT,SAAQ+tG,IACbjE,GAAY6D,EAAiBI,EAAM,GAAIA,EAAM,GAAG5Y,QAAS4Y,EAAM,GAAG7Y,QAAQ,IAE9EgU,EAAKE,OAAOppG,SAAQopG,IAChB,GAAIA,EAAOI,SACP,MAAM,IAAIjiB,GAAWymB,QAAQ,4CAE5B,CACD,MAAMhxC,EAAQ2wC,EAAgBhK,YAAYyF,EAAO1xG,MACjD0xG,EAAO38G,IAAIuT,SAAQvN,GAAOu3G,GAAShtC,EAAOvqE,KAC1C22G,EAAOA,OAAOppG,SAAQvN,IAClBuqE,EAAMixC,YAAYx7G,EAAIiF,MACtBsyG,GAAShtC,EAAOvqE,EAAI,IAExB22G,EAAOD,IAAInpG,SAAQ2pG,GAAW3sC,EAAMixC,YAAYtE,IACpD,KAEJ,MAAM6B,EAAiBxhE,EAAQ8+D,KAAK0C,eACpC,GAAIA,GAAkBxhE,EAAQ8+D,KAAK9+D,QAAU0jE,EAAY,CACrD3I,GAAyBlT,EAAI8b,GAC7Bxb,EAAM8R,gBAAkB,CAAC,EACzB6J,GAA2B,EAC3B,IAAII,EAAgB7rC,EAAa4mC,GACjCC,EAAKC,IAAInpG,SAAQrO,IACbu8G,EAAcv8G,GAASq3G,EAAUr3G,EAAM,IAE3Ci3G,GAAgB/W,EAAI,CAACA,EAAGqQ,YAAYxtG,YACpC6zG,GAAc1W,EAAI,CAACA,EAAGqQ,YAAYxtG,WAAYnK,EAAK2jH,GAAgBA,GACnE/b,EAAMiC,OAAS8Z,EACf,MAAMC,EAAwBxoB,GAAgB6lB,GAI9C,IAAI4C,EAHAD,GACA/d,KAGJ,MAAMie,EAAkBjjB,GAAa4D,QAAO,KAExC,GADAof,EAAc5C,EAAerZ,GACzBic,GACID,EAAuB,CACvB,IAAIG,EAAcjiB,GAAwBroG,KAAK,KAAM,MACrDoqH,EAAYlnH,KAAKonH,EAAaA,EAClC,CACJ,IAEJ,OAAQF,GAA2C,mBAArBA,EAAYlnH,KACtCkkG,GAAazhG,QAAQykH,GAAeC,EAAgBnnH,MAAK,IAAMknH,GACvE,KAEJ7wD,EAAMnxD,MAAKkoG,IACFwZ,GAA6B5a,IAsF9C,SAA6B+V,EAAW3U,GACpC,GAAGv0F,MAAM/T,KAAKsoG,EAASzC,GAAGiU,kBAAkB9lG,SAAQoqG,GAAqC,MAAxBnB,EAAUmB,IAAsB9V,EAASzC,GAAG0c,kBAAkBnE,IACnI,CAtFgBoE,CADkBxkE,EAAQ8+D,KAAKJ,SACApU,GAEnCsU,GAAgB/W,EAAI,CAACA,EAAGqQ,YAAYxtG,YACpC6zG,GAAc1W,EAAI,CAACA,EAAGqQ,YAAYxtG,WAAYm9F,EAAGwZ,YAAaxZ,EAAGQ,WACjEF,EAAMiC,OAASvC,EAAGQ,SAAS,GAC7B,IAEN,SAASoc,IACL,OAAOlxD,EAAM38D,OAASwqG,GAAazhG,QAAQ4zD,EAAMl2D,OAANk2D,CAAc40C,EAAMmC,WAAWptG,KAAKunH,GAC3ErjB,GAAazhG,SACrB,CACO8kH,GAAWvnH,MAAK,KAkE3B,IAA6B+hH,EAAW3U,IAjEEqZ,EAkEtCpjH,EADyB0+G,EAjEDkB,GAkERnqG,SAAQk0F,IACfI,EAASzC,GAAGiU,iBAAiB4I,SAASxa,IACvC4V,GAAYxV,EAAUJ,EAAW+U,EAAU/U,GAAWiB,QAAS8T,EAAU/U,GAAWgB,QACxF,GArEkD,GAE1D,CAjFYyZ,CAAuB9c,EAAI6b,EAAYvb,EAAOwb,GAAiB1vD,MAAM2vD,EAAkB,GAEnG,CAwXoBgB,CAAa/c,EAAI4b,EAAS,GAAIb,EAAoBl4D,EACtD,IACDA,GACHqzB,EAAI0gB,UAAY1kC,IAAK,KACjB6oD,EAAqB,KACrB,MAAM7a,EAAQF,EAAGmT,OAAOjT,MAAQhqB,EAAIl/E,OAC9Bi9G,EAAmB/lG,EAAMgyF,EAAM+T,kBACrC,GAAIA,EAAiBllH,OAAS,EAC1B,IACI,MAAMqkH,EAAWlT,EAAM4Q,YA10Bd,KADJ7Q,EA20BkDgU,GA10BzDllH,OAAekxG,EAAW,GAAKA,EA00B6C,YACtE56E,EAAM61F,WArNlC,UAA4B/H,OAAQnT,GAAME,EAAOkT,GAC7CpT,EAAGmb,MAAQjb,EAAM/nD,QAAU,GAC3B,MAAMmgE,EAAetY,EAAGQ,UAAY6X,GAAkBrY,EAAIE,EAAOkT,GACjEpT,EAAGwZ,YAActrG,EAAMgyF,EAAM+T,iBAAkB,GAC/CyC,GAAc1W,EAAI,CAACA,EAAGuZ,YAAa7gH,EAAK4/G,GAAeA,EAC3D,CAiN4B0E,CAAiBhd,EAAIE,EAAOkT,IAE5BqF,GAA2BzY,EAAIA,EAAGQ,UAAW4S,GAlNzE,SAA+BpT,EAAIoT,GAC/B,MACMiE,EAAOH,GADWmB,GAAkBrY,EAAIA,EAAGE,MAAOkT,GACZpT,EAAGQ,WAC/C,QAAS6W,EAAKz8G,IAAI7L,QAAUsoH,EAAKE,OAAO7xF,MAAK4hD,GAAMA,EAAG1sE,IAAI7L,QAAUu4E,EAAGiwC,OAAOxoH,SAClF,CA+MiCkuH,CAAsBjd,EAAIoT,IAC3BzjH,QAAQs9C,KAAK,uHAGrBimE,GAAyBlT,EAAIoT,EACjC,CACA,MAAOlgG,GACP,CAv1BpB,IAA6B+sF,EAw1BbkB,GAAY5mG,KAAKylG,GACjBE,EAAMgd,gBAAkBhrD,IAAK++C,IACzB5rF,EAAM83F,SAAU,EAChBnd,EAAGniD,GAAG,iBAAiBmlD,KAAKiO,EAAG,IAEnC/Q,EAAMkd,QAAUlrD,IAAK++C,IACjBjR,EAAGniD,GAAG,SAASmlD,KAAKiO,EAAG,IAEvB+J,GA5GpB,UAA4B,UAAElX,EAAS,YAAEwP,GAAeztG,IACnDo0G,GAAmBnW,IAChBj+F,IAAS27F,IACToY,GAAgB9V,EAAWwP,GAAa/N,IAAI,CAAE1/F,SAAQumD,MAAM+pC,GACpE,CAyGoBknB,CAAmBrd,EAAG6D,MAAOoX,GACjCnjH,GAAS,GACV+qD,EAAO,QACRxtD,MAAK,KACXulH,IACAv1F,EAAMi4F,kBAAoB,GACnB/jB,GAAazhG,QAAQqiH,IAAI,IAAMna,EAAGniD,GAAGsxC,MAAM6T,KAAKhD,EAAGma,QAAO9kH,MAAK,SAASkoH,IAC3E,GAAIl4F,EAAMi4F,kBAAkBvuH,OAAS,EAAG,CACpC,IAAIyuH,EAAan4F,EAAMi4F,kBAAkB9iG,OAAO08E,GAAiBf,IAEjE,OADA9wE,EAAMi4F,kBAAoB,GACnB/jB,GAAazhG,QAAQqiH,IAAI,IAAMqD,EAAWxd,EAAGma,QAAO9kH,KAAKkoH,EACpE,CACJ,OACDpxD,SAAQ,KACP9mC,EAAMi4F,kBAAoB,KAC1Bj4F,EAAMs7E,eAAgB,CAAK,IAC5BtrG,MAAK,IACG2qG,IACR5zC,OAAMviC,IACLxE,EAAMq7E,YAAc72E,EACpB,IACIkxF,GAAsBA,EAAmB7I,OAC7C,CACA,MAAOr6B,GAAM,CAIb,OAHI8iC,IAAkBt1F,EAAMs1F,eACxB3a,EAAGyd,SAEAhf,GAAU50E,EAAI,IACtBsiC,SAAQ,KACP9mC,EAAM86E,cAAe,EACrB0a,GAAgB,GAExB,CAEA,SAAS6C,GAAcnmC,GACnB,IAAIomC,EAAW3mH,GAAUugF,EAAS3kE,KAAK5b,GAAmD4mH,EAAYzyG,EAAKwyG,GAAWE,EAAU1yG,GAAtEsH,GAAS8kE,EAASumC,MAAMrrG,KAClF,SAAStH,EAAK4yG,GACV,OAAQ92G,IACJ,IAAI2L,EAAOmrG,EAAQ92G,GAAMjH,EAAQ4S,EAAK5S,MACtC,OAAO4S,EAAK6iD,KAAOz1D,EACbA,GAA+B,mBAAfA,EAAM3K,KAEpB2K,EAAM3K,KAAKuoH,EAAWC,GADtBz4G,EAAQpF,GAASrJ,QAAQC,IAAIoJ,GAAO3K,KAAKuoH,EAAWC,GAAWD,EAAU59G,EAC1C,CAE/C,CACA,OAAOmL,EAAKwyG,EAALxyG,EACX,CAEA,SAAS6yG,GAAuBp+F,EAAMq+F,EAAaC,GAC/C,IAAIhvH,EAAIuL,UAAU1L,OAClB,GAAIG,EAAI,EACJ,MAAM,IAAIwmG,GAAW4P,gBAAgB,qBAEzC,IADA,IAAI9qG,EAAO,IAAIgG,MAAMtR,EAAI,KAChBA,GACLsL,EAAKtL,EAAI,GAAKuL,UAAUvL,GAG5B,OAFAgvH,EAAY1jH,EAAK5G,MAEV,CAACgsB,EADKszE,EAAQ14F,GACC0jH,EAC1B,CACA,SAASC,GAAsBne,EAAIpgF,EAAMqgF,EAAYme,EAAmBF,GACpE,OAAO3kB,GAAazhG,UAAUzC,MAAK,KAC/B,MAAMqtG,EAAYtJ,GAAIsJ,WAAatJ,GAC7BkH,EAAQN,EAAGO,mBAAmB3gF,EAAMqgF,EAAYD,EAAGQ,UAAW4d,GAC9DhhB,EAAY,CACdkD,MAAOA,EACPoC,UAAWA,GAEX0b,EACA9d,EAAMmC,SAAW2b,EAAkB3b,SAGnCnC,EAAMr3F,SAEV,MAAMo1G,EAAmBvqB,GAAgBoqB,GAIzC,IAAI3B,EAHA8B,GACA9f,KAGJ,MAAMie,EAAkBjjB,GAAa4D,QAAO,KAExC,GADAof,EAAc2B,EAAU/jH,KAAKmmG,EAAOA,GAChCic,EACA,GAAI8B,EAAkB,CAClB,IAAI5B,EAAcjiB,GAAwBroG,KAAK,KAAM,MACrDoqH,EAAYlnH,KAAKonH,EAAaA,EAClC,KACqC,mBAArBF,EAAY3pG,MAAoD,mBAAtB2pG,EAAYuB,QAClEvB,EAAcmB,GAAcnB,GAEpC,GACDnf,GACH,OAAQmf,GAA2C,mBAArBA,EAAYlnH,KACtCkkG,GAAazhG,QAAQykH,GAAalnH,MAAK5D,GAAK6uG,EAAMtnG,OAC9CvH,EACEgtG,GAAU,IAAI/I,GAAW4oB,gBAAgB,iEAC7C9B,EAAgBnnH,MAAK,IAAMknH,KAAclnH,MAAK5D,IAC5C2sH,GACA9d,EAAM+Q,WACH/Q,EAAMG,YAAYprG,MAAK,IAAM5D,OACrC26D,OAAMl5C,IACLotF,EAAM4Q,QAAQh+F,GACPurF,GAAUvrF,KACnB,GAEV,CAEA,SAASpS,GAAIzB,EAAGW,EAAOuR,GACnB,MAAMva,EAASoO,EAAQ/F,GAAKA,EAAE6O,QAAU,CAAC7O,GACzC,IAAK,IAAInQ,EAAI,EAAGA,EAAIqiB,IAASriB,EACzB8H,EAAOuD,KAAKyF,GAChB,OAAOhJ,CACX,CAkIA,MAAMunH,GAAyB,CAC3Bl1E,MAAO,SACPxjC,KAAM,yBACN85C,MAAO,EACP12C,OArIJ,SAAsCwqG,GAClC,MAAO,IACAA,EACH,KAAA3zG,CAAMuiG,GACF,MAAMviG,EAAQ2zG,EAAK3zG,MAAMuiG,IACnB,OAAEE,GAAWziG,EACb0+G,EAAc,CAAC,EACfC,EAAoB,GAC1B,SAASC,EAAkBhsB,EAASisB,EAASC,GACzC,MAAMC,EAAe5L,GAAgBvgB,GAC/BosB,EAAaN,EAAYK,GAAgBL,EAAYK,IAAiB,GACtEE,EAAuB,MAAXrsB,EAAkB,EAAuB,iBAAZA,EAAuB,EAAIA,EAAQ3jG,OAC5EiwH,EAAYL,EAAU,EACtBM,EAAe,IACdL,EACHI,YACAL,UACAI,YACA5T,WAAY0H,GAAgBngB,GAC5BsV,QAASgX,GAAaJ,EAAc5W,QAaxC,OAXA8W,EAAUvkH,KAAK0kH,GACVA,EAAa7K,cACdqK,EAAkBlkH,KAAK0kH,GAEvBF,EAAY,GAIZL,EAHqC,IAAdK,EACnBrsB,EAAQ,GACRA,EAAQxkF,MAAM,EAAG6wG,EAAY,GACCJ,EAAU,EAAGC,GAEnDE,EAAU1wG,MAAK,CAAC/O,EAAGC,IAAMD,EAAEs/G,QAAUr/G,EAAEq/G,UAChCM,CACX,CACA,MAAMvX,EAAagX,EAAkBnc,EAAOmF,WAAWhV,QAAS,EAAG6P,EAAOmF,YAC1E8W,EAAY,OAAS,CAAC9W,GACtB,IAAK,MAAMhiG,KAAS68F,EAAOc,QACvBqb,EAAkBh5G,EAAMgtF,QAAS,EAAGhtF,GAiBxC,SAASw5G,EAAiBhpC,GACtB,MAAMxwE,EAAQwwE,EAAI+xB,MAAMviG,MACxB,OAAOA,EAAMs5G,UAAY,IAClB9oC,EACH+xB,MAAO,CACHviG,QACA6jC,OAjBYA,EAiBU2sC,EAAI+xB,MAAM1+D,MAjBbo1E,EAiBoBj5G,EAAMi5G,QAhB9C,CACHn4G,KAAqB,IAAf+iC,EAAM/iC,KACR,EACA+iC,EAAM/iC,KACVgL,MAAO1Q,GAAIyoC,EAAM/3B,MAAO+3B,EAAMw4D,UAAY0R,EAAK6C,QAAU7C,EAAK4C,QAASsI,GACvE5c,WAAW,EACX9vF,MAAOnR,GAAIyoC,EAAMt3B,MAAOs3B,EAAMy4D,UAAYyR,EAAK4C,QAAU5C,EAAK6C,QAASqI,GACvE3c,WAAW,MAWX9rB,EAnBR,IAAwB3sC,EAAOo1E,CAoB/B,CACA,MAAM3nH,EAAS,IACR8I,EACHyiG,OAAQ,IACDA,EACHmF,aACArE,QAASob,EACT9W,kBA/BR,SAAuBjV,GACnB,MAAM17F,EAASwnH,EAAYvL,GAAgBvgB,IAC3C,OAAO17F,GAAUA,EAAO,EAC5B,GA8BIua,MAAM2kE,GACKp2E,EAAMyR,MAAM2tG,EAAiBhpC,IAExC+xB,MAAM/xB,GACKp2E,EAAMmoG,MAAMiX,EAAiBhpC,IAExC,UAAA2xB,CAAW3xB,GACP,MAAM,QAAEyoC,EAAO,UAAEK,EAAS,UAAED,GAAc7oC,EAAI+xB,MAAMviG,MACpD,OAAKs5G,EAyCEl/G,EAAM+nG,WAAWqX,EAAiBhpC,IACpC7gF,MAAKs9E,GAAUA,GAxCpB,SAA6BA,GAWzB,MAAMwsC,EAAgB1mH,OAAOwQ,OAAO0pE,EAAQ,CACxCi2B,SAAU,CAAE5oG,MAXhB,SAAmBrH,GACR,MAAPA,EACIg6E,EAAOi2B,SAAS9nG,GAAInI,EAAKu9E,EAAIlkE,QAAUyhG,EAAK6C,QAAU7C,EAAK4C,QAASsI,IACpEzoC,EAAI8xB,OACAr1B,EAAOi2B,SAASj2B,EAAOh6E,IAAIuV,MAAM,EAAG6wG,GAC/BzpG,OAAO4gE,EAAIlkE,QACVyhG,EAAK4C,QACL5C,EAAK6C,QAASqI,IACpBhsC,EAAOi2B,UACnB,GAGI+M,mBAAoB,CAChB,KAAA31G,CAAMrH,EAAK+uG,GACP/0B,EAAOgjC,mBAAmB70G,GAAInI,EAAK86G,EAAK6C,QAASqI,GAAUjX,EAC/D,GAEJA,WAAY,CACRpiG,IAAG,IACQqtE,EAAO+0B,YAGtB/uG,IAAK,CACD,GAAA2M,GACI,MAAM3M,EAAMg6E,EAAOh6E,IACnB,OAAqB,IAAdomH,EACHpmH,EAAI,GACJA,EAAIuV,MAAM,EAAG6wG,EACrB,GAEJ/+G,MAAO,CACHsF,IAAG,IACQqtE,EAAO3yE,SAI1B,OAAOm/G,CACX,CAE8BC,CAAoBzsC,KAzCvC7yE,EAAM+nG,WAAW3xB,EA0ChC,GAEJ,OAAOl/E,CACX,EAER,GAQA,SAASqoH,GAAchgH,EAAGC,EAAGqzF,EAAI2sB,GA+B7B,OA9BA3sB,EAAKA,GAAM,CAAC,EACZ2sB,EAAOA,GAAQ,GACf5mH,EAAK2G,GAAG8O,SAASomC,IACb,GAAKo9C,EAAOryF,EAAGi1C,GAGV,CACD,IAAIgrE,EAAKlgH,EAAEk1C,GAAOirE,EAAKlgH,EAAEi1C,GACzB,GAAkB,iBAAPgrE,GAAiC,iBAAPC,GAAmBD,GAAMC,EAAI,CAC9D,MAAMC,EAAa9zC,EAAY4zC,GAE3BE,IADe9zC,EAAY6zC,GAE3B7sB,EAAG2sB,EAAO/qE,GAAQj1C,EAAEi1C,GAEA,WAAfkrE,EACLJ,GAAcE,EAAIC,EAAI7sB,EAAI2sB,EAAO/qE,EAAO,KAEnCgrE,IAAOC,IACZ7sB,EAAG2sB,EAAO/qE,GAAQj1C,EAAEi1C,GAE5B,MACSgrE,IAAOC,IACZ7sB,EAAG2sB,EAAO/qE,GAAQj1C,EAAEi1C,GAC5B,MAnBIo+C,EAAG2sB,EAAO/qE,QAAQvvC,CAmBtB,IAEJtM,EAAK4G,GAAG6O,SAASomC,IACRo9C,EAAOtyF,EAAGk1C,KACXo+C,EAAG2sB,EAAO/qE,GAAQj1C,EAAEi1C,GACxB,IAEGo+C,CACX,CAQA,MAAM+sB,GAAkB,CACpBr2E,MAAO,SACPxjC,KAAM,kBACN85C,MAAO,EACP12C,OAAS02G,IAAa,IACfA,EACH,KAAA7/G,CAAMuiG,GACF,MAAMud,EAAYD,EAAS7/G,MAAMuiG,IAC3B,WAAEqF,GAAekY,EAAUrd,OAC3Bsd,EAAkB,IACjBD,EACH,MAAA3a,CAAO/uB,GACH,MAAM4pC,EAAU1mB,GAAIkH,OACd,SAAEyf,EAAQ,SAAEC,EAAQ,SAAEC,GAAaH,EAAQhgH,MAAMuiG,GAAWS,KAClE,OAAQ5sB,EAAI1vE,MACR,IAAK,MACD,GAAIw5G,EAAShd,OAAS7M,GAClB,MACJ,OAAO2pB,EAAQ1kB,SAAS,aAAa,IAAM8kB,EAAehqC,KAAM,GACpE,IAAK,MACD,GAAI8pC,EAAShd,OAAS7M,IAAO8pB,EAASjd,OAAS7M,GAC3C,MACJ,OAAO2pB,EAAQ1kB,SAAS,aAAa,IAAM8kB,EAAehqC,KAAM,GACpE,IAAK,SACD,GAAI6pC,EAAS/c,OAAS7M,GAClB,MACJ,OAAO2pB,EAAQ1kB,SAAS,aAAa,IAAM8kB,EAAehqC,KAAM,GACpE,IAAK,cACD,GAAI6pC,EAAS/c,OAAS7M,GAClB,MACJ,OAAO2pB,EAAQ1kB,SAAS,aAAa,IAsE7C,SAAqBllB,GACjB,OAAOiqC,EAAgBjqC,EAAIoqB,MAAOpqB,EAAI3sC,MAAO,IACjD,CAxEmD62E,CAAYlqC,KAAM,GAErE,OAAO0pC,EAAU3a,OAAO/uB,GACxB,SAASgqC,EAAehqC,GACpB,MAAM4pC,EAAU1mB,GAAIkH,MACd5nG,EAAOw9E,EAAIx9E,MAzCzC,SAA0BgvG,EAAYxxB,GAClC,MAAiB,WAAbA,EAAI1vE,KACG0vE,EAAIx9E,KACRw9E,EAAIx9E,MAAQw9E,EAAIhxE,OAAOlW,IAAI04G,EAAWyD,WACjD,CAqCiDkV,CAAiB3Y,EAAYxxB,GACtD,IAAKx9E,EACD,MAAM,IAAI+J,MAAM,gBAQpB,MAJiB,YAHjByzE,EAAmB,QAAbA,EAAI1vE,MAA+B,QAAb0vE,EAAI1vE,KAC5B,IAAK0vE,EAAKx9E,QACV,IAAKw9E,IACD1vE,OACJ0vE,EAAIhxE,OAAS,IAAIgxE,EAAIhxE,SACrBgxE,EAAIx9E,OACJw9E,EAAIx9E,KAAO,IAAIw9E,EAAIx9E,OAgF/C,SAA2BoH,EAAOo2E,EAAKoqC,GACnC,MAAoB,QAAbpqC,EAAI1vE,KACL7P,QAAQmB,QAAQ,IAChBgI,EAAM2lG,QAAQ,CAAEnF,MAAOpqB,EAAIoqB,MAAO5nG,KAAM4nH,EAAejqE,MAAO,aACxE,CAnF+BkqE,CAAkBX,EAAW1pC,EAAKx9E,GAAMrD,MAAKmrH,IAChD,MAAMC,EAAW/nH,EAAK1J,KAAI,CAAC2J,EAAKzJ,KAC5B,MAAMwxH,EAAgBF,EAAetxH,GAC/Bu8F,EAAM,CAAE9/C,QAAS,KAAMirD,UAAW,MACxC,GAAiB,WAAb1gB,EAAI1vE,KACJu5G,EAAS/c,KAAK7oG,KAAKsxF,EAAK9yF,EAAK+nH,EAAeZ,QAE3C,GAAiB,QAAb5pC,EAAI1vE,WAAoCxB,IAAlB07G,EAA6B,CACxD,MAAMC,EAAsBX,EAAShd,KAAK7oG,KAAKsxF,EAAK9yF,EAAKu9E,EAAIhxE,OAAOhW,GAAI4wH,GAC7D,MAAPnnH,GAAsC,MAAvBgoH,IACfhoH,EAAMgoH,EACNzqC,EAAIx9E,KAAKxJ,GAAKyJ,EACT+uG,EAAWwD,UACZpY,EAAa5c,EAAIhxE,OAAOhW,GAAIw4G,EAAWhV,QAAS/5F,GAG5D,KACK,CACD,MAAMioH,EAAavB,GAAcqB,EAAexqC,EAAIhxE,OAAOhW,IACrD2xH,EAAoBZ,EAASjd,KAAK7oG,KAAKsxF,EAAKm1B,EAAYjoH,EAAK+nH,EAAeZ,GAClF,GAAIe,EAAmB,CACnB,MAAMC,EAAiB5qC,EAAIhxE,OAAOhW,GAClCuJ,OAAOC,KAAKmoH,GAAmB1yG,SAAQukF,IAC/Bf,EAAOmvB,EAAgBpuB,GACvBouB,EAAepuB,GAAWmuB,EAAkBnuB,GAG5CI,EAAaguB,EAAgBpuB,EAASmuB,EAAkBnuB,GAC5D,GAER,CACJ,CACA,OAAOjH,CAAG,IAEd,OAAOm0B,EAAU3a,OAAO/uB,GAAK7gF,MAAK,EAAG4/F,WAAUwI,UAASyH,cAAaC,iBACjE,IAAK,IAAIj2G,EAAI,EAAGA,EAAIwJ,EAAK3J,SAAUG,EAAG,CAClC,MAAMo0G,EAAU7F,EAAUA,EAAQvuG,GAAKwJ,EAAKxJ,GACtCu8F,EAAMg1B,EAASvxH,GACN,MAAXo0G,EACA7X,EAAI9/C,SAAW8/C,EAAI9/C,QAAQspD,EAAS/lG,IAGpCu8F,EAAImL,WAAanL,EAAImL,UAAuB,QAAb1gB,EAAI1vE,MAAkBg6G,EAAetxH,GAChEgnF,EAAIhxE,OAAOhW,GACXo0G,EAGZ,CACA,MAAO,CAAErO,WAAUwI,UAASyH,cAAaC,aAAY,IACtD/4C,OAAM35C,IACLguG,EAAStyG,SAAQs9E,GAAOA,EAAI9/C,SAAW8/C,EAAI9/C,QAAQl5B,KAC5C9b,QAAQksD,OAAOpwC,KACxB,GAEV,CAIA,SAAS0tG,EAAgB7f,EAAO/2D,EAAOvB,GACnC,OAAO43E,EAAU3X,MAAM,CAAE3H,QAAOp7F,QAAQ,EAAO+iG,MAAO,CAAEviG,MAAOgiG,EAAYn+D,SAASvB,UAC/E3yC,MAAK,EAAG2B,YACFkpH,EAAe,CAAE15G,KAAM,SAAU9N,KAAM1B,EAAQspG,UAASjrG,MAAK4oB,GAC5DA,EAAIinF,YAAc,EACXvuG,QAAQksD,OAAO5kC,EAAIg3E,SAAS,IACnCj+F,EAAOjI,OAASi5C,EACT,CAAEitD,SAAU,GAAIiQ,YAAa,EAAGC,gBAAYngG,GAG5Cm7G,EAAgB7f,EAAO,IAAK/2D,EAAO/3B,MAAOxa,EAAOA,EAAOjI,OAAS,GAAIgzG,WAAW,GAAQ/5D,MAI/G,CACJ,GAEJ,OAAO63E,CACX,KASR,SAASkB,GAAwBroH,EAAM29C,EAAO4L,GAC1C,IACI,IAAK5L,EACD,OAAO,KACX,GAAIA,EAAM39C,KAAK3J,OAAS2J,EAAK3J,OACzB,OAAO,KACX,MAAMiI,EAAS,GACf,IAAK,IAAI9H,EAAI,EAAGmX,EAAI,EAAGnX,EAAImnD,EAAM39C,KAAK3J,QAAUsX,EAAI3N,EAAK3J,SAAUG,EAC3B,IAAhC60G,GAAI1tD,EAAM39C,KAAKxJ,GAAIwJ,EAAK2N,MAE5BrP,EAAOuD,KAAK0nD,EAAQqxC,EAAUj9C,EAAMnxC,OAAOhW,IAAMmnD,EAAMnxC,OAAOhW,MAC5DmX,GAEN,OAAOrP,EAAOjI,SAAW2J,EAAK3J,OAASiI,EAAS,IACpD,CACA,MAAO6gF,GACH,OAAO,IACX,CACJ,CACA,MAAMmpC,GAAgC,CAClC33E,MAAO,SACPsW,OAAQ,EACR12C,OAAS45F,IACE,CACH/iG,MAAQuiG,IACJ,MAAMviG,EAAQ+iG,EAAK/iG,MAAMuiG,GACzB,MAAO,IACAviG,EACH2lG,QAAUvvB,IACN,IAAKA,EAAI7/B,MACL,OAAOv2C,EAAM2lG,QAAQvvB,GAEzB,MAAM+qC,EAAeF,GAAwB7qC,EAAIx9E,KAAMw9E,EAAIoqB,MAAc,OAAiB,UAAdpqB,EAAI7/B,OAChF,OAAI4qE,EACO1nB,GAAazhG,QAAQmpH,GAEzBnhH,EAAM2lG,QAAQvvB,GAAK7gF,MAAM4oB,IAC5Bi4D,EAAIoqB,MAAc,OAAI,CAClB5nG,KAAMw9E,EAAIx9E,KACVwM,OAAsB,UAAdgxE,EAAI7/B,MAAoBi9C,EAAUr1E,GAAOA,GAE9CA,IACT,EAENgnF,OAAS/uB,IACY,QAAbA,EAAI1vE,OACJ0vE,EAAIoqB,MAAc,OAAI,MACnBxgG,EAAMmlG,OAAO/uB,IAE3B,KAMjB,SAASgrC,GAAa93G,GAClB,QAAS,SAAUA,EACvB,CACA,MAAM+3G,GAAW,SAAUC,EAAYpwH,GACnC,IAAIlB,KAGC,CACD,MAAM6iG,EAAK,IAAIwuB,GAIf,OAHIC,GAAe,MAAOA,GACtBr4G,EAAO4pF,EAAIyuB,GAERzuB,CACX,CARI5pF,EAAOjZ,KAAM2K,UAAU1L,OAAS,CAAE2rB,EAAG,EAAG5pB,KAAMswH,EAAYpwH,GAAIyJ,UAAU1L,OAAS,EAAIiC,EAAKowH,GAAe,CAAE1mG,EAAG,GAStH,EAkBA,SAAS2mG,GAASrjH,EAAQlN,EAAME,GAC5B,MAAMqmH,EAAOtT,GAAIjzG,EAAME,GACvB,GAAIqR,MAAMg1G,GACN,OACJ,GAAIA,EAAO,EACP,MAAMr5E,aACV,GAAIkjF,GAAaljH,GACb,OAAO+K,EAAO/K,EAAQ,CAAElN,OAAME,KAAI0pB,EAAG,IACzC,MAAM1O,EAAOhO,EAAOoE,EACd6J,EAAQjO,EAAOqW,EACrB,GAAI0vF,GAAI/yG,EAAIgN,EAAOlN,MAAQ,EAIvB,OAHAkb,EACMq1G,GAASr1G,EAAMlb,EAAME,GACpBgN,EAAOoE,EAAI,CAAEtR,OAAME,KAAI0pB,EAAG,EAAGtY,EAAG,KAAMiS,EAAG,MACzCitG,GAAUtjH,GAErB,GAAI+lG,GAAIjzG,EAAMkN,EAAOhN,IAAM,EAIvB,OAHAib,EACMo1G,GAASp1G,EAAOnb,EAAME,GACrBgN,EAAOqW,EAAI,CAAEvjB,OAAME,KAAI0pB,EAAG,EAAGtY,EAAG,KAAMiS,EAAG,MACzCitG,GAAUtjH,GAEjB+lG,GAAIjzG,EAAMkN,EAAOlN,MAAQ,IACzBkN,EAAOlN,KAAOA,EACdkN,EAAOoE,EAAI,KACXpE,EAAO0c,EAAIzO,EAAQA,EAAMyO,EAAI,EAAI,GAEjCqpF,GAAI/yG,EAAIgN,EAAOhN,IAAM,IACrBgN,EAAOhN,GAAKA,EACZgN,EAAOqW,EAAI,KACXrW,EAAO0c,EAAI1c,EAAOoE,EAAIpE,EAAOoE,EAAEsY,EAAI,EAAI,GAE3C,MAAM6mG,GAAkBvjH,EAAOqW,EAC3BrI,IAAShO,EAAOoE,GAChBo/G,GAAYxjH,EAAQgO,GAEpBC,GAASs1G,GACTC,GAAYxjH,EAAQiO,EAE5B,CACA,SAASu1G,GAAYxjH,EAAQyjH,GAQpBP,GAAaO,IAPlB,SAASC,EAAa1jH,GAAQ,KAAElN,EAAI,GAAEE,EAAE,EAAEoR,EAAC,EAAEiS,IACzCgtG,GAASrjH,EAAQlN,EAAME,GACnBoR,GACAs/G,EAAa1jH,EAAQoE,GACrBiS,GACAqtG,EAAa1jH,EAAQqW,EAC7B,CAEIqtG,CAAa1jH,EAAQyjH,EAC7B,CAmBA,SAASE,GAAoBv4G,GACzB,IAAIic,EAAQ67F,GAAa93G,GAAQ,KAAO,CAAEvC,EAAG,EAAGc,EAAGyB,GACnD,MAAO,CACH,IAAAwJ,CAAKja,GACD,MAAMipH,EAAcnnH,UAAU1L,OAAS,EACvC,KAAOs2B,GACH,OAAQA,EAAMxe,GACV,KAAK,EAED,GADAwe,EAAMxe,EAAI,EACN+6G,EACA,KAAOv8F,EAAM1d,EAAEvF,GAAK2hG,GAAIprG,EAAK0sB,EAAM1d,EAAE7W,MAAQ,GACzCu0B,EAAQ,CAAEvnB,GAAIunB,EAAO1d,EAAG0d,EAAM1d,EAAEvF,EAAGyE,EAAG,QAG1C,KAAOwe,EAAM1d,EAAEvF,GACXijB,EAAQ,CAAEvnB,GAAIunB,EAAO1d,EAAG0d,EAAM1d,EAAEvF,EAAGyE,EAAG,GAElD,KAAK,EAED,GADAwe,EAAMxe,EAAI,GACL+6G,GAAe7d,GAAIprG,EAAK0sB,EAAM1d,EAAE3W,KAAO,EACxC,MAAO,CAAEgP,MAAOqlB,EAAM1d,EAAG8tD,MAAM,GACvC,KAAK,EACD,GAAIpwC,EAAM1d,EAAE0M,EAAG,CACXgR,EAAMxe,EAAI,EACVwe,EAAQ,CAAEvnB,GAAIunB,EAAO1d,EAAG0d,EAAM1d,EAAE0M,EAAGxN,EAAG,GACtC,QACJ,CACJ,KAAK,EACDwe,EAAQA,EAAMvnB,GAG1B,MAAO,CAAE23D,MAAM,EACnB,EAER,CACA,SAAS6rD,GAAUtjH,GACf,IAAI65E,EAAIE,EACR,MAAMs/B,IAA6B,QAAnBx/B,EAAK75E,EAAOqW,SAAsB,IAAPwjE,OAAgB,EAASA,EAAGn9D,IAAM,KAA2B,QAAnBq9D,EAAK/5E,EAAOoE,SAAsB,IAAP21E,OAAgB,EAASA,EAAGr9D,IAAM,GAC5IrG,EAAIgjG,EAAO,EAAI,IAAMA,GAAQ,EAAI,IAAM,GAC7C,GAAIhjG,EAAG,CACH,MAAMjS,EAAU,MAANiS,EAAY,IAAM,IACtBwtG,EAAY,IAAK7jH,GACjB8jH,EAAe9jH,EAAOqW,GAC5BrW,EAAOlN,KAAOgxH,EAAahxH,KAC3BkN,EAAOhN,GAAK8wH,EAAa9wH,GACzBgN,EAAOqW,GAAKytG,EAAaztG,GACzBwtG,EAAUxtG,GAAKytG,EAAa1/G,GAC5BpE,EAAOoE,GAAKy/G,EACZA,EAAUnnG,EAAIqnG,GAAaF,EAC/B,CACA7jH,EAAO0c,EAAIqnG,GAAa/jH,EAC5B,CACA,SAAS+jH,IAAa,EAAE1tG,EAAC,EAAEjS,IACvB,OAAQiS,EAAKjS,EAAI3R,KAAK4mB,IAAIhD,EAAEqG,EAAGtY,EAAEsY,GAAKrG,EAAEqG,EAAKtY,EAAIA,EAAEsY,EAAI,GAAK,CAChE,CA5IAktD,EAAMu5C,GAASt+G,UAAW,CACtB,GAAAjI,CAAIonH,GAEA,OADAR,GAAY1xH,KAAMkyH,GACXlyH,IACX,EACA,MAAAmyH,CAAOtpH,GAEH,OADA0oH,GAASvxH,KAAM6I,EAAKA,GACb7I,IACX,EACA,OAAAoyH,CAAQxpH,GAEJ,OADAA,EAAKyV,SAAQxV,GAAO0oH,GAASvxH,KAAM6I,EAAKA,KACjC7I,IACX,EACA,CAAC0jG,KACG,OAAOmuB,GAAoB7xH,KAC/B,IA+HJ,MAAMqyH,GAA0B,CAC5B94E,MAAO,SACPsW,MAAO,EACP12C,OAAS45F,IACL,MAAMoY,EAASpY,EAAKN,OAAO18F,KACrBu8G,EAAa,IAAIjB,GAASte,EAAKwT,QAASxT,EAAKyT,SACnD,MAAO,IACAzT,EACH/iG,MAAQuiG,IACJ,MAAMviG,EAAQ+iG,EAAK/iG,MAAMuiG,IACnB,OAAEE,GAAWziG,GACb,WAAE4nG,GAAenF,GACjB,WAAE4I,EAAU,SAAED,GAAaxD,EAC3B2a,EAAa,IACZviH,EACHmlG,OAAS/uB,IACL,MAAMoqB,EAAQpqB,EAAIoqB,MACZgiB,EAAehiB,EAAMgiB,eAAiBhiB,EAAMgiB,aAAe,CAAC,GAC5DC,EAAenY,IACjB,MAAMoY,EAAO,SAASvH,KAAU5Y,KAAa+H,IAC7C,OAAQkY,EAAaE,KAChBF,EAAaE,GAAQ,IAAIrB,GAAY,EAExCsB,EAAaF,EAAY,IACzBG,EAAeH,EAAY,UAC3B,KAAE/7G,GAAS0vE,EACjB,IAAKx9E,EAAMiqH,GAAwB,gBAAbzsC,EAAI1vE,KACpB,CAAC0vE,EAAI3sC,OACQ,WAAb2sC,EAAI1vE,KACA,CAAC0vE,EAAIx9E,MACLw9E,EAAIhxE,OAAOnW,OAAS,GAChB,CAAC,GAAImnF,EAAIhxE,QACT,GACd,MAAM09G,EAAW1sC,EAAIoqB,MAAc,OACnC,OAAOxgG,EAAMmlG,OAAO/uB,GAAK7gF,MAAM4oB,IAC3B,GAAI7Y,EAAQ1M,GAAO,CACF,WAAT8N,IACA9N,EAAOulB,EAAIw/E,SACfglB,EAAWP,QAAQxpH,GACnB,MAAMmqH,EAAU9B,GAAwBroH,EAAMkqH,GACzCC,GAAoB,QAATr8G,GACZk8G,EAAaR,QAAQxpH,IAErBmqH,GAAWF,IAkH/C,SAA8BJ,EAAahgB,EAAQsgB,EAASF,GAoBxDpgB,EAAOc,QAAQl1F,SAnBf,SAA0Bo1F,GACtB,MAAMye,EAAWO,EAAYhf,EAAG19F,MAAQ,IACxC,SAASslG,EAAWtrG,GAChB,OAAc,MAAPA,EAAc0jG,EAAG4H,WAAWtrG,GAAO,IAC9C,CACA,MAAMijH,EAAgBnqH,GAAQ4qG,EAAG+Q,YAAclvG,EAAQzM,GACjDA,EAAIwV,SAAQxV,GAAOqpH,EAASC,OAAOtpH,KACnCqpH,EAASC,OAAOtpH,IACrBkqH,GAAWF,GAASx0G,SAAQ,CAAC3C,EAAGtc,KAC7B,MAAM6zH,EAASF,GAAW1X,EAAW0X,EAAQ3zH,IACvC8zH,EAASL,GAAWxX,EAAWwX,EAAQzzH,IACjB,IAAxB60G,GAAIgf,EAAQC,KACE,MAAVD,GACAD,EAAaC,GACH,MAAVC,GACAF,EAAaE,GACrB,GAER,GAEJ,CAtIoCC,CAAqBV,EAAahgB,EAAQsgB,EAASF,EAE3D,MACK,GAAIjqH,EAAM,CACX,MAAM6wC,EAAQ,CAAEz4C,KAAM4H,EAAK8Y,MAAOxgB,GAAI0H,EAAKuZ,OAC3CywG,EAAa9nH,IAAI2uC,GACjBk5E,EAAW7nH,IAAI2uC,EACnB,MAEIk5E,EAAW7nH,IAAIwnH,GACfM,EAAa9nH,IAAIwnH,GACjB7f,EAAOc,QAAQl1F,SAAQvN,GAAO2hH,EAAY3hH,EAAIiF,MAAMjL,IAAIwnH,KAE5D,OAAOnkG,CAAG,GACZ,GAGJilG,EAAW,EAAGjb,OAASviG,QAAO6jC,aAChC,IAAIsuC,EAAIE,EACR,MAAO,CACHryE,EACA,IAAIy7G,GAAgC,QAAtBtpC,EAAKtuC,EAAM/3B,aAA0B,IAAPqmE,EAAgBA,EAAKgrB,EAAKwT,QAAgC,QAAtBt+B,EAAKxuC,EAAMt3B,aAA0B,IAAP8lE,EAAgBA,EAAK8qB,EAAKyT,SAC3I,EAEC6M,EAAkB,CACpB79G,IAAM4wE,GAAQ,CAACwxB,EAAY,IAAIyZ,GAASjrC,EAAIv9E,MAC5C8sG,QAAUvvB,GAAQ,CAACwxB,GAAY,IAAIyZ,IAAWe,QAAQhsC,EAAIx9E,OAC1D6Y,MAAO2xG,EACPjb,MAAOib,EACPrb,WAAYqb,GA+EhB,OA7EAxqH,EAAKyqH,GAAiBh1G,SAAQo+C,IAC1B81D,EAAW91D,GAAU,SAAU2pB,GAC3B,MAAM,OAAEktC,GAAWhqB,GACnB,GAAIgqB,EAAQ,CACR,MAAMb,EAAenY,IACjB,MAAMoY,EAAO,SAASvH,KAAU5Y,KAAa+H,IAC7C,OAAQgZ,EAAOZ,KACVY,EAAOZ,GAAQ,IAAIrB,GAAY,EAElCsB,EAAaF,EAAY,IACzBG,EAAeH,EAAY,UAC1Bc,EAAcC,GAAiBH,EAAgB52D,GAAQ2pB,GAE9D,GADAqsC,EAAYc,EAAax9G,MAAQ,IAAIjL,IAAI0oH,IACpCD,EAAajP,aAAc,CAC5B,GAAe,UAAX7nD,EAGC,CACD,MAAMg3D,EAAyB,UAAXh3D,GAChB2+C,GACAh1B,EAAIhxE,QACJpF,EAAMmoG,MAAM,IACL/xB,EACHhxE,QAAQ,IAEhB,OAAOpF,EAAMysD,GAAQp0B,MAAMroC,KAAM2K,WAAWpF,MAAM4oB,IAC9C,GAAe,UAAXsuC,EAAoB,CACpB,GAAI2+C,GAAYh1B,EAAIhxE,OAChB,OAAOq+G,EAAYluH,MAAK,EAAG2B,OAAQwsH,MAC/Bf,EAAWP,QAAQsB,GACZvlG,KAGf,MAAMwlG,EAAQvtC,EAAIhxE,OACZ+Y,EAAIjnB,OAAOhI,IAAIm8G,GACfltF,EAAIjnB,OACNk/E,EAAIhxE,OACJu9G,EAAWP,QAAQuB,GAGnBf,EAAaR,QAAQuB,EAE7B,MACK,GAAe,eAAXl3D,EAAyB,CAC9B,MAAMomB,EAAS10D,EACTylG,EAAaxtC,EAAIhxE,OACvB,OAAQytE,GACJl6E,OAAOwQ,OAAO0pE,EAAQ,CAClBh6E,IAAK,CACD2M,IAAG,KACCo9G,EAAaT,OAAOtvC,EAAO+0B,YACpB/0B,EAAOh6E,MAGtB+uG,WAAY,CACR,GAAApiG,GACI,MAAMq+G,EAAOhxC,EAAO+0B,WAEpB,OADAgb,EAAaT,OAAO0B,GACbA,CACX,GAEJ3jH,MAAO,CACHsF,IAAG,KACCo+G,GAAcjB,EAAWR,OAAOtvC,EAAO+0B,YAChC/0B,EAAO3yE,SAIlC,CACA,OAAOie,CAAG,GAElB,CAxDIykG,EAAa9nH,IAAIwnH,EAyDzB,CACJ,CACA,OAAOtiH,EAAMysD,GAAQp0B,MAAMroC,KAAM2K,UACrC,CAAC,IAEE4nH,CAAU,EAExB,GA0BT,MAAMvI,GACF,WAAAl1G,CAAYiB,EAAMjT,GACd9C,KAAK2mH,aAAe,CAAC,EACrB3mH,KAAKqrH,MAAQ,EACb,MAAMyI,EAAO9J,GAAQ+J,aACrB/zH,KAAKq3E,SAAWv0E,EAAU,CACtBmnH,OAAQD,GAAQC,OAChBnZ,UAAU,EACVkD,UAAW8f,EAAK9f,UAChBwP,YAAasQ,EAAKtQ,eACf1gH,GAEP9C,KAAK+zG,MAAQ,CACTC,UAAWlxG,EAAQkxG,UACnBwP,YAAa1gH,EAAQ0gH,aAEzB,MAAM,OAAEyG,GAAYnnH,EACpB9C,KAAK0wG,UAAY,CAAC,EAClB1wG,KAAKupH,UAAY,GACjBvpH,KAAK0pH,YAAc,GACnB1pH,KAAKypH,WAAa,CAAC,EACnBzpH,KAAKowG,MAAQ,KACbpwG,KAAKqjH,OAASrjH,KACd,MAAMu1B,EAAQ,CACVq7E,YAAa,KACbC,eAAe,EACf2c,kBAAmB,KACnBnd,cAAc,EACd2a,eAAgB3kB,GAChB0K,eAAgB,KAChBijB,WAAY3tB,GACZwkB,cAAe,KACfO,YAAY,GApyExB,IAAqClb,EAsyE7B36E,EAAMw7E,eAAiB,IAAItH,IAAazhG,IACpCutB,EAAMy1F,eAAiBhjH,CAAO,IAElCutB,EAAMs1F,cAAgB,IAAIphB,IAAa,CAAC/tF,EAAGq3C,KACvCx9B,EAAMy+F,WAAajhE,CAAM,IAE7B/yD,KAAKiqG,OAAS10E,EACdv1B,KAAK+V,KAAOA,EACZ/V,KAAK+tD,GAAKwoD,GAAOv2G,KAAM,WAAY,UAAW,gBAAiB,QAAS,CAAEq/F,MAAO,CAAC+H,GAAiBf,MACnGrmG,KAAK+tD,GAAGsxC,MAAMsX,UAAY74E,EAAS99B,KAAK+tD,GAAGsxC,MAAMsX,WAAWA,GACjD,CAACD,EAAYud,KAChBjK,GAAQK,KAAI,KACR,MAAM90F,EAAQv1B,KAAKiqG,OACnB,GAAI10E,EAAM86E,aACD96E,EAAMq7E,aACPnH,GAAazhG,UAAUzC,KAAKmxG,GAC5Bud,GACAtd,EAAUD,QAEb,GAAInhF,EAAMi4F,kBACXj4F,EAAMi4F,kBAAkB/iH,KAAKisG,GACzBud,GACAtd,EAAUD,OAEb,CACDC,EAAUD,GACV,MAAMxG,EAAKlwG,KACNi0H,GACDtd,GAAU,SAAS5B,IACf7E,EAAGniD,GAAGsxC,MAAM0V,YAAY2B,GACxBxG,EAAGniD,GAAGsxC,MAAM0V,YAAYA,EAC5B,GACR,IACF,IAGV/0G,KAAK00G,YA10EwBxE,EA00EiBlwG,KAz0E3C+2G,GAAqBrC,GAAW3hG,WAAW,SAAoB0pG,EAAayX,GAC/El0H,KAAKkwG,GAAKA,EACV,IAAIikB,EAAWniB,GAAUrvF,EAAQ,KACjC,GAAIuxG,EACA,IACIC,EAAWD,GACf,CACA,MAAO9oB,GACHzoF,EAAQyoF,CACZ,CACJ,MAAMgpB,EAAW3X,EAAYlD,KACvBvpG,EAAQokH,EAASpkH,MACjBqkH,EAAcrkH,EAAMgjG,KAAKC,QAAQC,KACvClzG,KAAKu5G,KAAO,CACRvpG,MAAOA,EACP4F,MAAOw+G,EAASx+G,MAChB+hG,WAAayc,EAASx+G,OAAU5F,EAAMyiG,OAAOe,QAAQ5Q,SAAWwxB,EAASx+G,QAAU5F,EAAMyiG,OAAOe,QAAQz9F,KACxG0jC,MAAO06E,EACPlc,UAAU,EACVplF,IAAK,OACLqlF,OAAQ,GACRhB,UAAW,KACXzwG,OAAQ,KACR2wG,aAAc,KACdD,WAAW,EACXkD,QAAS,KACT/zG,OAAQ,EACR4xC,MAAO3gC,IACPoL,MAAOA,EACPgC,GAAIyvG,EAASzvG,GACbg0F,YAAa0b,IAAgB/tB,GAAS+tB,EAAc,KAE5D,KA0yEIr0H,KAAK+L,MA72Fb,SAAgCmkG,GAC5B,OAAO6G,GAAqBhrG,GAAMgH,WAAW,SAAegD,EAAMwsG,EAAa/R,GAC3ExwG,KAAKkwG,GAAKA,EACVlwG,KAAKsyG,IAAM9B,EACXxwG,KAAK+V,KAAOA,EACZ/V,KAAKyyG,OAAS8P,EACdviH,KAAKgzG,KAAO9C,EAAGuZ,WAAW1zG,GAAQm6F,EAAGuZ,WAAW1zG,GAAMi9F,KAAOuD,GAAO,KAAM,CACtE,SAAY,CAAC1P,GAAmBR,IAChC,QAAW,CAACE,GAAmBD,IAC/B,SAAY,CAACW,GAAmBZ,IAChC,SAAY,CAACW,GAAmBX,KAExC,GACJ,CAg2FqBiuB,CAAuBt0H,MACpCA,KAAKugH,YAlxDb,SAAsCrQ,GAClC,OAAO6G,GAAqBwJ,GAAYxtG,WAAW,SAAqB+c,EAAMqgF,EAAY4W,EAAU7F,EAA6BtoG,GAC7H5Y,KAAKkwG,GAAKA,EACVlwG,KAAK8vB,KAAOA,EACZ9vB,KAAKmwG,WAAaA,EAClBnwG,KAAKyyG,OAASsU,EACd/mH,KAAKkhH,4BAA8BA,EACnClhH,KAAK2yG,SAAW,KAChB3yG,KAAK+tD,GAAKwoD,GAAOv2G,KAAM,WAAY,QAAS,SAC5CA,KAAK4Y,OAASA,GAAU,KACxB5Y,KAAKkJ,QAAS,EACdlJ,KAAKygH,UAAY,EACjBzgH,KAAK4gH,cAAgB,GACrB5gH,KAAKuhH,SAAW,KAChBvhH,KAAKohH,QAAU,KACfphH,KAAK8hH,YAAc,KACnB9hH,KAAK+hH,cAAgB,KACrB/hH,KAAKkiH,WAAa,EAClBliH,KAAK2wG,YAAc,IAAIlH,IAAa,CAACzhG,EAAS+qD,KAC1C/yD,KAAKuhH,SAAWv5G,EAChBhI,KAAKohH,QAAUruD,CAAM,IAEzB/yD,KAAK2wG,YAAYprG,MAAK,KAClBvF,KAAKkJ,QAAS,EACdlJ,KAAK+tD,GAAGwf,SAAS2lC,MAAM,IACxB9vF,IACC,IAAImxG,EAAYv0H,KAAKkJ,OAMrB,OALAlJ,KAAKkJ,QAAS,EACdlJ,KAAK+tD,GAAGprC,MAAMuwF,KAAK9vF,GACnBpjB,KAAK4Y,OACD5Y,KAAK4Y,OAAOwoG,QAAQh+F,GACpBmxG,GAAav0H,KAAK2yG,UAAY3yG,KAAK2yG,SAASyP,QACzCzT,GAAUvrF,EAAE,GAE3B,GACJ,CA+uD2BoxG,CAA6Bx0H,MAChDA,KAAKgpH,QAlgCb,SAAkC9Y,GAC9B,OAAO6G,GAAqBiS,GAAQj2G,WAAW,SAAiB0hH,GAC5Dz0H,KAAKkwG,GAAKA,EACVlwG,KAAKmnH,KAAO,CACR9+D,QAASosE,EACTpL,aAAc,KACdtC,SAAU,CAAC,EACX7C,OAAQ,CAAC,EACT2F,eAAgB,KAExB,GACJ,CAu/BuB6K,CAAyB10H,MACxCA,KAAKozG,YAr9Db,SAAsClD,GAClC,OAAO6G,GAAqB3D,GAAYrgG,WAAW,SAAqB/C,EAAO4F,EAAO++G,GAClF30H,KAAKkwG,GAAKA,EACVlwG,KAAKu5G,KAAO,CACRvpG,MAAOA,EACP4F,MAAiB,QAAVA,EAAkB,KAAOA,EAChC+O,GAAIgwG,GAER,MAAM3gB,EAAY9D,EAAG6D,MAAMC,UAC3B,IAAKA,EACD,MAAM,IAAIpO,GAAWb,WACzB/kG,KAAKq+G,KAAOr+G,KAAK++G,WAAa/K,EAAUC,IAAI5xG,KAAK2xG,GACjDh0G,KAAKg/G,YAAc,CAACzvG,EAAGC,IAAMwkG,EAAUC,IAAIzkG,EAAGD,GAC9CvP,KAAKy/G,KAAO,CAAClwG,EAAGC,IAAMwkG,EAAUC,IAAI1kG,EAAGC,GAAK,EAAID,EAAIC,EACpDxP,KAAKw/G,KAAO,CAACjwG,EAAGC,IAAMwkG,EAAUC,IAAI1kG,EAAGC,GAAK,EAAID,EAAIC,EACpDxP,KAAK40H,aAAe1kB,EAAG6D,MAAMyP,WACjC,GACJ,CAo8D2BqR,CAA6B70H,MAChDA,KAAK+tD,GAAG,iBAAiBozD,IACjBA,EAAG2T,WAAa,EAChBj1H,QAAQs9C,KAAK,iDAAiDn9C,KAAK+V,gDAEnElW,QAAQs9C,KAAK,gDAAgDn9C,KAAK+V,uDACtE/V,KAAK0rH,OAAO,IAEhB1rH,KAAK+tD,GAAG,WAAWozD,KACVA,EAAG2T,YAAc3T,EAAG2T,WAAa3T,EAAG4K,WACrClsH,QAAQs9C,KAAK,iBAAiBn9C,KAAK+V,sBAEnClW,QAAQs9C,KAAK,YAAYn9C,KAAK+V,qDAAqDorG,EAAG4K,WAAa,KAAK,IAEhH/rH,KAAK2zG,QAAUiP,GAAU9/G,EAAQ0gH,aACjCxjH,KAAKywG,mBAAqB,CAAC3gF,EAAMqgF,EAAY4W,EAAUuH,IAAsB,IAAItuH,KAAKugH,YAAYzwF,EAAMqgF,EAAY4W,EAAU/mH,KAAKq3E,SAAS6pC,4BAA6BoN,GACzKtuH,KAAKurH,eAAiBpK,IAClBnhH,KAAK+tD,GAAG,WAAWmlD,KAAKiO,GACxB9P,GACK5qG,QAAOpH,GAAKA,EAAE0W,OAAS/V,KAAK+V,MAAQ1W,IAAMW,OAASX,EAAE4qG,OAAOojB,UAC5DnuH,KAAIG,GAAKA,EAAE0uD,GAAG,iBAAiBmlD,KAAKiO,IAAI,EAEjDnhH,KAAK+0H,IAAItG,IACTzuH,KAAK+0H,IAAInF,IACT5vH,KAAK+0H,IAAI1C,IACTryH,KAAK+0H,IAAI7D,IACTlxH,KAAKqqH,IAAM1hH,OAAOwQ,OAAOnZ,KAAM,CAAEuwG,KAAM,CAAErgG,OAAO,KAChD+5G,EAAO5rG,SAAQ22G,GAASA,EAAMh1H,OAClC,CACA,OAAAqoD,CAAQosE,GACJ,GAAIliH,MAAMkiH,IAAkBA,EAAgB,GACxC,MAAM,IAAI7uB,GAAWK,KAAK,0CAE9B,GADAwuB,EAAgB9zH,KAAKe,MAAsB,GAAhB+yH,GAAsB,GAC7Cz0H,KAAKowG,OAASpwG,KAAKiqG,OAAO4G,cAC1B,MAAM,IAAIjL,GAAWkS,OAAO,4CAChC93G,KAAKqrH,MAAQ1qH,KAAK4mB,IAAIvnB,KAAKqrH,MAAOoJ,GAClC,MAAMnL,EAAWtpH,KAAKupH,UACtB,IAAI0L,EAAkB3L,EAAS7iH,QAAOkP,GAAKA,EAAEwxG,KAAK9+D,UAAYosE,IAAe,GAC7E,OAAIQ,IAEJA,EAAkB,IAAIj1H,KAAKgpH,QAAQyL,GACnCnL,EAAS7+G,KAAKwqH,GACd3L,EAAShrG,KAAK4oG,IACd+N,EAAgB/L,OAAO,CAAC,GACxBlpH,KAAKiqG,OAAOmhB,YAAa,EAClB6J,EACX,CACA,UAAAC,CAAWxmG,GACP,OAAQ1uB,KAAKowG,QAAUpwG,KAAKiqG,OAAOoG,cAAgB/G,GAAIgH,YAActwG,KAAKuwG,MAAS7hF,IAAO,IAAI+6E,IAAa,CAACzhG,EAAS+qD,KACjH,GAAI/yD,KAAKiqG,OAAOoG,aACZ,OAAOt9C,EAAO,IAAI6yC,GAAWhB,eAAe5kG,KAAKiqG,OAAO2G,cAE5D,IAAK5wG,KAAKiqG,OAAO4G,cAAe,CAC5B,IAAK7wG,KAAKq3E,SAASy5B,SAEf,YADA/9C,EAAO,IAAI6yC,GAAWhB,gBAG1B5kG,KAAKy7C,OAAO6gB,MAAM+pC,GACtB,CACArmG,KAAKiqG,OAAO8G,eAAexrG,KAAKyC,EAAS+qD,EAAO,IACjDxtD,KAAKmpB,EACZ,CACA,GAAAqmG,EAAI,MAAEx7E,EAAK,OAAEpgC,EAAM,MAAE02C,EAAK,KAAE95C,IACpBA,GACA/V,KAAKm1H,MAAM,CAAE57E,QAAOxjC,SACxB,MAAMwtG,EAAcvjH,KAAK2mH,aAAaptE,KAAWv5C,KAAK2mH,aAAaptE,GAAS,IAG5E,OAFAgqE,EAAY94G,KAAK,CAAE8uC,QAAOpgC,SAAQ02C,MAAgB,MAATA,EAAgB,GAAKA,EAAO95C,SACrEwtG,EAAYjlG,MAAK,CAAC/O,EAAGC,IAAMD,EAAEsgD,MAAQrgD,EAAEqgD,QAChC7vD,IACX,CACA,KAAAm1H,EAAM,MAAE57E,EAAK,KAAExjC,EAAI,OAAEoD,IAMjB,OALIogC,GAASv5C,KAAK2mH,aAAaptE,KAC3Bv5C,KAAK2mH,aAAaptE,GAASv5C,KAAK2mH,aAAaptE,GAAO9yC,QAAO2uH,GAAMj8G,EAASi8G,EAAGj8G,SAAWA,IACpFpD,GAAOq/G,EAAGr/G,OAASA,KAGpB/V,IACX,CACA,IAAAy7C,GACI,OAAOmvE,GAAU5qH,KACrB,CACA,MAAA2tH,GACI,MAAMp4F,EAAQv1B,KAAKiqG,OACbn5F,EAAMugG,GAAY3/F,QAAQ1R,MAGhC,GAFI8Q,GAAO,GACPugG,GAAY3oF,OAAO5X,EAAK,GACxB9Q,KAAKowG,MAAO,CACZ,IACIpwG,KAAKowG,MAAMsb,OACf,CACA,MAAOtoG,GAAK,CACZpjB,KAAKqjH,OAAOjT,MAAQ,IACxB,CACA76E,EAAMw7E,eAAiB,IAAItH,IAAazhG,IACpCutB,EAAMy1F,eAAiBhjH,CAAO,IAElCutB,EAAMs1F,cAAgB,IAAIphB,IAAa,CAAC/tF,EAAGq3C,KACvCx9B,EAAMy+F,WAAajhE,CAAM,GAEjC,CACA,KAAA24D,GACI1rH,KAAK2tH,SACL,MAAMp4F,EAAQv1B,KAAKiqG,OACnBjqG,KAAKq3E,SAASy5B,UAAW,EACzBv7E,EAAMq7E,YAAc,IAAIhL,GAAWhB,eAC/BrvE,EAAMs7E,eACNt7E,EAAMy+F,WAAWz+F,EAAMq7E,YAC/B,CACA,SACI,MAAMykB,EAAe1qH,UAAU1L,OAAS,EAClCs2B,EAAQv1B,KAAKiqG,OACnB,OAAO,IAAIR,IAAa,CAACzhG,EAAS+qD,KAC9B,MAAMuiE,EAAW,KACbt1H,KAAK0rH,QACL,IAAItlC,EAAMpmF,KAAK+zG,MAAMC,UAAU4X,eAAe5rH,KAAK+V,MACnDqwE,EAAI0gB,UAAY1kC,IAAK,MA9kCrC,UAA4B,UAAE4xC,EAAS,YAAEwP,GAAeztG,IACnDo0G,GAAmBnW,IAChBj+F,IAAS27F,IACToY,GAAgB9V,EAAWwP,GAAaqB,OAAO9uG,GAAMumD,MAAM+pC,GACnE,CA2kCoBkvB,CAAmBv1H,KAAK+zG,MAAO/zG,KAAK+V,MACpC/N,GAAS,IAEbo+E,EAAIvqC,QAAUskE,GAAmBptD,GACjCqzB,EAAIklC,UAAYtrH,KAAKurH,cAAc,EAEvC,GAAI8J,EACA,MAAM,IAAIzvB,GAAW4P,gBAAgB,wCACrCjgF,EAAMs7E,cACNt7E,EAAMw7E,eAAexrG,KAAK+vH,GAG1BA,GACJ,GAER,CACA,SAAAE,GACI,OAAOx1H,KAAKowG,KAChB,CACA,MAAAqlB,GACI,OAAsB,OAAfz1H,KAAKowG,KAChB,CACA,aAAAslB,GACI,MAAM9kB,EAAc5wG,KAAKiqG,OAAO2G,YAChC,OAAOA,GAAqC,mBAArBA,EAAY76F,IACvC,CACA,SAAA4/G,GACI,OAAmC,OAA5B31H,KAAKiqG,OAAO2G,WACvB,CACA,iBAAAglB,GACI,OAAO51H,KAAKiqG,OAAOmhB,UACvB,CACA,UAAIlH,GACA,OAAOt7G,EAAK5I,KAAKypH,YAAYvqH,KAAI6W,GAAQ/V,KAAKypH,WAAW1zG,IAC7D,CACA,WAAAirG,GACI,MAAMt2G,EAAOwjH,GAAuB7lF,MAAMroC,KAAM2K,WAChD,OAAO3K,KAAK61H,aAAaxtF,MAAMroC,KAAM0K,EACzC,CACA,YAAAmrH,CAAa/lG,EAAMo0F,EAAQkK,GACvB,IAAIE,EAAoBhlB,GAAIkH,MACvB8d,GAAqBA,EAAkBpe,KAAOlwG,OAA+B,IAAvB8vB,EAAKpe,QAAQ,OACpE48G,EAAoB,MACxB,MAAMwH,GAA0C,IAAvBhmG,EAAKpe,QAAQ,KAEtC,IAAIqkH,EAAS5lB,EADbrgF,EAAOA,EAAKnc,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAE1C,IAOI,GANAw8F,EAAa+T,EAAOhlH,KAAI8Q,IACpB,IAAIy4G,EAAYz4G,aAAiBhQ,KAAK+L,MAAQiE,EAAM+F,KAAO/F,EAC3D,GAAyB,iBAAdy4G,EACP,MAAM,IAAIn6E,UAAU,mFACxB,OAAOm6E,CAAS,IAER,KAAR34F,GAAeA,IAAS6hF,GACxBokB,EAAUpkB,OACT,IAAY,MAAR7hF,GAAgBA,GAAQ8hF,GAG7B,MAAM,IAAIhM,GAAW4P,gBAAgB,6BAA+B1lF,GAFpEimG,EAAUnkB,EAE+D,CAC7E,GAAI0c,EAAmB,CACnB,GAAIA,EAAkBx+F,OAAS6hF,IAAYokB,IAAYnkB,GAAW,CAC9D,IAAIkkB,EAIA,MAAM,IAAIlwB,GAAWowB,eAAe,0FAHpC1H,EAAoB,IAI5B,CACIA,GACAne,EAAW9xF,SAAQoqG,IACf,GAAI6F,IAA0E,IAArDA,EAAkBne,WAAWz+F,QAAQ+2G,GAAmB,CAC7E,IAAIqN,EAIA,MAAM,IAAIlwB,GAAWowB,eAAe,SAAWvN,EAC3C,wCAJJ6F,EAAoB,IAK5B,KAGJwH,GAAoBxH,IAAsBA,EAAkBplH,SAC5DolH,EAAoB,KAE5B,CACJ,CACA,MAAOlrG,GACH,OAAOkrG,EACHA,EAAkBhjB,SAAS,MAAM,CAAC5vF,EAAGq3C,KAAaA,EAAO3vC,EAAE,IAC3DurF,GAAUvrF,EAClB,CACA,MAAM6yG,EAAmB5H,GAAsBhsH,KAAK,KAAMrC,KAAM+1H,EAAS5lB,EAAYme,EAAmBF,GACxG,OAAQE,EACJA,EAAkBhjB,SAASyqB,EAASE,EAAkB,QACtD3sB,GAAIkH,MACArD,GAAO7D,GAAIsJ,WAAW,IAAM5yG,KAAKk1H,WAAWe,KAC5Cj2H,KAAKk1H,WAAWe,EAC5B,CACA,KAAAjmH,CAAMuiG,GACF,IAAK1Q,EAAO7hG,KAAKypH,WAAYlX,GACzB,MAAM,IAAI3M,GAAWswB,aAAa,SAAS3jB,oBAE/C,OAAOvyG,KAAKypH,WAAWlX,EAC3B,EAGJ,MAAM4jB,GAAqC,oBAAXvoF,QAA0B,eAAgBA,OACpEA,OAAOwoF,WACP,eACN,MAAMC,GACF,WAAAvhH,CAAY6hG,GACR32G,KAAKs2H,WAAa3f,CACtB,CACA,SAAAA,CAAUh1G,EAAGghB,EAAO4qD,GAChB,OAAOvtE,KAAKs2H,WAAY30H,GAAkB,mBAANA,EAAkDA,EAA/B,CAAEmhB,KAAMnhB,EAAGghB,QAAO4qD,YAC7E,CACA,CAAC4oD,MACG,OAAOn2H,IACX,EAGJ,SAASu2H,GAAuBroH,EAAQyjH,GAKpC,OAJA/oH,EAAK+oH,GAAQtzG,SAAQq0G,IAEjBhB,GADiBxjH,EAAOwkH,KAAUxkH,EAAOwkH,GAAQ,IAAIrB,IAC/BM,EAAOe,GAAM,IAEhCxkH,CACX,CA4EA,IAAIsoH,GACJ,IACIA,GAAU,CACNxiB,UAAWvS,EAAQuS,WAAavS,EAAQg1B,cAAgBh1B,EAAQi1B,iBAAmBj1B,EAAQk1B,YAC3FnT,YAAa/hB,EAAQ+hB,aAAe/hB,EAAQm1B,kBAEpD,CACA,MAAOxzG,GACHozG,GAAU,CAAExiB,UAAW,KAAMwP,YAAa,KAC9C,CAEA,MAAMqT,GAAQ7M,GAgId,SAAS8M,GAAiBC,GACtB,IAAIC,EAAQC,GACZ,IACIA,IAAqB,EACrB3W,GAAakB,eAAetO,KAAK6jB,EACrC,CACA,QACIE,GAAqBD,CACzB,CACJ,CAxIAl/C,EAAM++C,GAAO,IACNzwB,GACHye,OAAOqS,GACQ,IAAIL,GAAMK,EAAc,CAAEjN,OAAQ,KACnCpF,SAEdsS,OAAOphH,GACI,IAAI8gH,GAAM9gH,EAAM,CAAEk0G,OAAQ,KAAMxuE,OAAOl2C,MAAK2qG,IAC/CA,EAAGwb,SACI,KACRpvD,MAAM,uBAAuB,KAAM,IAE1C,gBAAA86D,CAAiBx6C,GACb,IACI,OA9zCZ,UAA0B,UAAEo3B,EAAS,YAAEwP,IACnC,OAAO2G,GAAmBnW,GACpBntG,QAAQmB,QAAQgsG,EAAUoW,aAAa7kH,MAAM8xH,GAAUA,EACpDn4H,KAAKm7B,GAASA,EAAKtkB,OACnBtP,QAAQsP,GAASA,IAAS27F,OAC7BoY,GAAgB9V,EAAWwP,GAAalP,eAAesG,aACjE,CAwzCmBwc,CAAiBP,GAAM9C,cAAcxuH,KAAKq3E,EACrD,CACA,MAAOmL,GACH,OAAO4mB,GAAU,IAAI/I,GAAWb,WACpC,CACJ,EACAiQ,YAAW,IACP,SAAe3kF,GACXpX,EAAOjZ,KAAMqwB,EACjB,EAGJinG,kBAAkBlJ,GACP9kB,GAAIkH,MACPrD,GAAO7D,GAAIsJ,UAAWwb,GACtBA,IAER/D,OACAvxF,MAAO,SAAUy+F,GACb,OAAO,WACH,IACI,IAAI10B,EAAK+qB,GAAc2J,EAAYlvF,MAAMroC,KAAM2K,YAC/C,OAAKk4F,GAAyB,mBAAZA,EAAGt9F,KAEds9F,EADI4G,GAAazhG,QAAQ66F,EAEpC,CACA,MAAOz/E,GACH,OAAOurF,GAAUvrF,EACrB,CACJ,CACJ,EACAo0G,MAAO,SAAUD,EAAa7sH,EAAM28F,GAChC,IACI,IAAIxE,EAAK+qB,GAAc2J,EAAYlvF,MAAMg/D,EAAM38F,GAAQ,KACvD,OAAKm4F,GAAyB,mBAAZA,EAAGt9F,KAEds9F,EADI4G,GAAazhG,QAAQ66F,EAEpC,CACA,MAAOz/E,GACH,OAAOurF,GAAUvrF,EACrB,CACJ,EACAq0G,mBAAoB,CAChBjiH,IAAK,IAAM8zF,GAAIkH,OAAS,MAE5BoR,QAAS,SAAU8V,EAAmBC,GAClC,MAAM77D,EAAU2tC,GAAazhG,QAAqC,mBAAtB0vH,EACxCb,GAAMS,kBAAkBI,GACxBA,GACC9qB,QAAQ+qB,GAAmB,KAChC,OAAOruB,GAAIkH,MACPlH,GAAIkH,MAAMoR,QAAQ9lD,GAClBA,CACR,EACAj1D,QAAS4iG,GACTrzE,MAAO,CACH5gB,IAAK,IAAM4gB,GACXv0B,IAAKqO,IACD+zF,GAAS/zF,EAAiB,UAAVA,EAAoB,KAAM,EAAOuhG,GAAsB,GAG/EzP,OAAQA,EACR/oF,OAAQA,EACR6+D,MAAOA,EACPh6C,SAAUA,EACVy4E,OAAQA,GACRxoD,GAAIuyD,GACJsX,UAvKJ,SAAmBC,GACf,OAAO,IAAIxB,IAAYyB,IACnB,MAAMvJ,EAAmBvqB,GAAgB6zB,GAezC,IAAIE,GAAS,EACTC,EAAY,CAAC,EACbC,EAAa,CAAC,EAClB,MAAMC,EAAe,CACjB,UAAIH,GACA,OAAOA,CACX,EACAhjB,YAAa,KACTgjB,GAAS,EACTzX,GAAakB,eAAezM,YAAYojB,EAAiB,GAGjEL,EAASn5H,OAASm5H,EAASn5H,MAAMu5H,GACjC,IAAIE,GAAW,EAAOC,GAAmB,EACzC,SAASC,IACL,OAAO1vH,EAAKqvH,GAAYriG,MAAM/sB,GAAQmvH,EAAUnvH,IA3lB5D,SAAuB0vH,EAAWC,GAC9B,MAAMhmC,EAAKq/B,GAAoB2G,GAC/B,IAAIC,EAAcjmC,EAAG1vE,OACrB,GAAI21G,EAAY9yD,KACZ,OAAO,EACX,IAAIp2D,EAAIkpH,EAAYvoH,MACpB,MAAMuiF,EAAKo/B,GAAoB0G,GAC/B,IAAIG,EAAcjmC,EAAG3vE,KAAKvT,EAAEvO,MACxBwO,EAAIkpH,EAAYxoH,MACpB,MAAQuoH,EAAY9yD,OAAS+yD,EAAY/yD,MAAM,CAC3C,GAAIsuC,GAAIzkG,EAAExO,KAAMuO,EAAErO,KAAO,GAAK+yG,GAAIzkG,EAAEtO,GAAIqO,EAAEvO,OAAS,EAC/C,OAAO,EACXizG,GAAI1kG,EAAEvO,KAAMwO,EAAExO,MAAQ,EACfuO,GAAKkpH,EAAcjmC,EAAG1vE,KAAKtT,EAAExO,OAAOkP,MACpCV,GAAKkpH,EAAcjmC,EAAG3vE,KAAKvT,EAAEvO,OAAOkP,KAC/C,CACA,OAAO,CACX,CA0kBoEyoH,CAAcX,EAAUnvH,GAAMovH,EAAWpvH,KACrG,CACA,MAAMsvH,EAAoB/qF,IACtBmpF,GAAuByB,EAAW5qF,GAC9BkrF,KACAM,GACJ,EAEEA,EAAU,KACZ,GAAIR,GAAYL,EACZ,OACJC,EAAY,CAAC,EACb,MAAM1E,EAAS,CAAC,EACV/xG,EA1CV,SAAiB+xG,GACT/E,GACA9f,KAEJ,MAAMxtF,EAAO,IAAMisF,GAAS2qB,EAAS,CAAEvE,SAAQ9iB,MAAO,OAChD3N,EAAKyG,GAAIkH,MAEPrD,GAAO7D,GAAIsJ,UAAW3xF,GACxBA,IAIN,OAHIstG,GACA1rB,EAAGt9F,KAAKmlG,GAAyBA,IAE9B7H,CACX,CA6BgBg2B,CAAQvF,GACf+E,IACD/X,GAAaF,GAAkC+X,GAC/CE,GAAmB,GAEvBD,GAAW,EACXvxH,QAAQmB,QAAQuZ,GAAKhc,MAAM2B,IACvBkxH,GAAW,EACPL,IAEAO,IACAM,KAGAZ,EAAY,CAAC,EACbC,EAAa3E,EACbwE,EAASh1G,MAAQg1G,EAASh1G,KAAK5b,IACnC,IACA6yB,IACAq+F,GAAW,EACXN,EAASn1G,OAASm1G,EAASn1G,MAAMoX,GACjCm+F,EAAanjB,aAAa,GAC5B,EAGN,OADA6jB,IACOV,CAAY,GAE3B,EAgGI3B,0BACA5zB,aAAcA,EACdK,aAAcA,EACd81B,aAlsJJ,SAAsB/oH,EAAK6yF,GACA,iBAAZA,EACPI,EAAajzF,EAAK6yF,OAAS1tF,GACtB,WAAY0tF,GACjB,GAAG1jG,IAAImL,KAAKu4F,GAAS,SAAUgR,GAC3B5Q,EAAajzF,EAAK6jG,OAAI1+F,EAC1B,GACR,EA4rJIwrE,aAAcA,EACd8iB,UAAWA,EACX+rB,cAAeA,GACftb,OACA3L,KAAM/F,EACN2O,OAAQA,GACR+Y,OAAQ,GACR5Y,YAAaA,GACb3L,SAAUA,GACVquB,aAAcyC,GACduC,OAAQ/nB,GACR3oD,QAAS2oD,GAAclyG,MAAM,KACxBI,KAAI2Y,GAAKlG,SAASkG,KAClB6S,QAAO,CAAC/a,EAAGtQ,EAAGD,IAAMuQ,EAAKtQ,EAAIsB,KAAKsS,IAAI,GAAQ,EAAJ7T,OAEnDy3H,GAAMmC,OAASpW,GAAUiU,GAAM9C,aAAavQ,aAEf,oBAAlBxnE,eAA6D,oBAArB/hB,mBAC/CqmF,GAAaF,IAAkC6Y,IAC3C,IAAKhC,GAAoB,CACrB,IAAIt/F,EACA25E,IACA35E,EAAQukB,SAASC,YAAY,eAC7BxkB,EAAMuhG,gBAAgB7Y,IAAgC,GAAM,EAAM4Y,IAGlEthG,EAAQ,IAAIi4E,YAAYyQ,GAAgC,CACpDxQ,OAAQopB,IAGhBhC,IAAqB,EACrBj7E,cAAcrkB,GACds/F,IAAqB,CACzB,KAEJh9F,iBAAiBomF,IAAgC,EAAGxQ,aAC3ConB,IACDH,GAAiBjnB,EACrB,KAaR,IAAIonB,IAAqB,EAEzB,GAAgC,oBAArBkC,iBAAkC,CACzC,MAAMC,EAAK,IAAID,iBAAiB9Y,IAChCC,GAAaF,IAAmCiZ,IACvCpC,IACDmC,EAAGz9D,YAAY09D,EACnB,IAEJD,EAAG39D,UAAa0lD,IACRA,EAAGp2G,MACH+rH,GAAiB3V,EAAGp2G,KAAK,CAErC,MACK,GAAoB,oBAATtB,MAA6C,oBAAd6yC,UAA2B,CACtEgkE,GAAaF,IAAmCiZ,IAC5C,IACSpC,KAC2B,oBAAjB55C,cACPA,aAAaC,QAAQ+iC,GAAgC9vG,KAAKC,UAAU,CAChE8oH,KAAM34H,KAAKqW,SACXqiH,kBAGuB,iBAApB5vH,KAAc,SACrB,IAAIA,KAAc,QAAE8vH,SAAS,CAAEC,qBAAqB,KAASn7G,SAASo7G,GAAWA,EAAO99D,YAAY,CAChGjlD,KAAM2pG,GACNgZ,mBAIhB,CACA,MAAOtxC,GAAM,KAEjB9tD,iBAAiB,WAAYknF,IACzB,GAAIA,EAAGt4G,MAAQw3G,GAAgC,CAC3C,MAAMt1G,EAAOwF,KAAKiN,MAAM2jG,EAAGzhC,UACvB30E,GACA+rH,GAAiB/rH,EAAKsuH,aAC9B,KAEJ,MAAMK,EAAcjwH,KAAKyyC,UAAYI,UAAUq9E,cAC3CD,GACAA,EAAYz/F,iBAAiB,WAGrC,UAAiC,KAAElvB,IAC3BA,GAAQA,EAAK2L,OAAS2pG,IACtByW,GAAiB/rH,EAAKsuH,aAE9B,GALA,q7BCr8JA,mxND48JA5vB,GAAaZ,gBAnjJb,SAAkB+wB,EAAUhnH,GACxB,IAAKgnH,GAAYA,aAAoB50B,IAAc40B,aAAoBtrF,WAAasrF,aAAoB3rD,cAAgB2rD,EAAS7jH,OAASowF,GAAayzB,EAAS7jH,MAC5J,OAAO6jH,EACX,IAAI/2B,EAAK,IAAIsD,GAAayzB,EAAS7jH,MAAMnD,GAAWgnH,EAAShnH,QAASgnH,GAMtE,MALI,UAAWA,GACX93B,EAAQe,EAAI,QAAS,CAAErtF,IAAK,WACpB,OAAOxV,KAAK+lG,MAAMxsD,KACtB,IAEDspD,CACX,EA0iJAoB,GAAS7tE,GAAOq7E,QCh8JKooB,GAAAA,WAInB,0GAAc,SACZ75H,KAAKkwG,GAAK,IAAI2mB,GAAM,cACpB72H,KAAKkwG,GAAG7nD,QAAQ,GAAG6gE,OAAO,CACxB7sF,QAAS,4DACTsB,UAAW,4DACXm8F,QAAS,4DACTC,UAAW,2DACX7xF,OAAQ,4DACR8xF,SAAU,mDACVC,IAAK,uDACLl6H,IAAK,uDACL6sC,IAAK,gCAEP5sC,KAAKk6H,MAAQl6H,KAAKk6H,MAAM73H,KAAKrC,MAC7BA,KAAKm6H,MAAQn6H,KAAKm6H,MAAM93H,KAAKrC,MAC7BA,KAAKo6H,SAAWp6H,KAAKo6H,SAAS/3H,KAAKrC,MACnCA,KAAKq6H,SAAWr6H,KAAKq6H,SAASh4H,KAAKrC,KACpC,mEAQD,WAAYq7E,EAAOxyE,GAAnB,kFACe7I,KAAKkwG,GAAG70B,GAAO7lE,IAAI3M,GADlC,4KAUA,WAAYwyE,EAAOnrE,GAAnB,kFACelQ,KAAKkwG,GAAG70B,GAAOvwE,IAAf,MAAwBoF,IADvC,+KAWA,WAAemrE,EAAOn5E,EAAI+4G,GAA1B,kFACej7G,KAAKkwG,GAAG70B,GAAO57C,OAAOv9B,EAAtB,MAA+B+4G,IAD9C,iLAUA,WAAe5/B,EAAOn5E,GAAtB,kFACelC,KAAKkwG,GAAG70B,GAAR,OAAsBn5E,GADrC,mNA5DmB23H,22BCAAS,GAAAA,WAInB,0GAAc,SAETj/C,EAAAA,MAAAA,MAAc,CAAC,EACfr7E,KAAKq7E,MAAQA,EAAAA,MAAAA,MACbr7E,KAAKu6H,WAAav6H,KAAKu6H,WAAWl4H,KAAKrC,MACvCA,KAAKw6H,SAAWx6H,KAAKw6H,SAASn4H,KAAKrC,MACnCA,KAAKy6H,SAAWz6H,KAAKy6H,SAASp4H,KAAKrC,MACnCA,KAAK06H,YAAc16H,KAAK06H,YAAYr4H,KAAKrC,KAC7C,gDAOC,SAAW6I,GACT,OAAO7I,KAAKq7E,MAAMxyE,EACnB,yBAQD,SAASA,EAAKqH,GACZ,OAAQlQ,KAAKq7E,MAAMxyE,GAAX,MAAuBqH,EAChC,4BAQD,SAAYrH,EAAKoyG,GACf,OAAQj7G,KAAKq7E,MAAMxyE,GAAX,MAAuBoyG,EAChC,yBAOD,SAASpyG,GACP,OAAQ7I,KAAKq7E,MAAMxyE,GAAO,IAC3B,6EAlDgByxH,wXCZd,IAAMK,GAAc,IAAIC,SAAS,cAAe,oCAElCC,GAAAA,WAMnB,WAAY93H,GAKV,OALkB,WACb83H,EAAI78B,YACPh+F,KAAK+C,OAASA,EACd83H,EAAI78B,UAAYh+F,MAEX66H,EAAI78B,SACZ,gCAED,WAEEh+F,KAAK27F,IAAM37F,KAAK+C,OAAO44F,GACxB,2BAWD,SAAW34F,EAAMrB,EAAGC,EAAGwH,EAAGC,EAAGJ,GACXjJ,KAAR27F,IAAR,IAEIm/B,EAAazxH,EAAI,EAErBrJ,KAAK+C,OAAO44F,IAAIo/B,OAGhB/6H,KAAK+C,OAAO44F,IAAIO,UAAYjzF,EAAQm6B,WAEpCpjC,KAAK+C,OAAO44F,IAAIS,YAChBp8F,KAAK+C,OAAO44F,IAAIq/B,KAAKr5H,EAAGC,EAAGwH,EAAGC,GAC9BrJ,KAAK+C,OAAO44F,IAAIq/B,KAAKr5H,EAAGC,EAAGwH,EAAGC,GAC9BrJ,KAAK+C,OAAO44F,IAAI15E,OAChBjiB,KAAK+C,OAAO44F,IAAIs/B,OAGhB,IAAIC,EAAOl7H,KAAK+C,OAAO44F,IAAIw/B,qBAAqBx5H,EAAGC,EAAGD,EAAGC,EAAIk5H,GAC7DI,EAAKE,aAAa,EAAG,oBACrBF,EAAKE,aAAa,EAAG,gBACrBp7H,KAAK+C,OAAO44F,IAAIO,UAAYg/B,EAC5Bl7H,KAAK+C,OAAO44F,IAAI0/B,YAAc,GAC9Br7H,KAAK+C,OAAO44F,IAAI2/B,SAAS35H,EAAGC,EAAGwH,EAAGC,GAGlCrJ,KAAK+C,OAAO44F,IAAIO,UAAYjzF,EAAQi6B,IAGpC,IAAK,IAAI9jC,EAAI,EAAGA,EAAIiK,EAAGjK,GAAK07H,EAAY,CACtC96H,KAAK+C,OAAO44F,IAAIO,UAAkB,IAAN98F,EAAU6J,EAAQi6B,IAAMj6B,EAAQk6B,OAE5D,IAAK,IAAI5sB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAE3B,IAAIglH,EAAQ55H,EAAIhB,KAAKqW,SAAW5N,EAC5BoyH,EAAQ55H,EAAIxC,EAAIuB,KAAKqW,SAAW8jH,EAChClpH,EAAwB,GAAhBjR,KAAKqW,SACb8kF,EAAyB,GAAhBn7F,KAAKqW,SACdynB,EAA2B,IAAhB99B,KAAKqW,SAChBykH,EAAQ96H,KAAKqW,SAEjBhX,KAAK+C,OAAO44F,IAAIo/B,OAGhB/6H,KAAK+C,OAAO44F,IAAIn7D,UAAU+6F,EAAOC,GACjCx7H,KAAK+C,OAAO44F,IAAI7oE,OAAQ2L,EAAW99B,KAAK+N,GAAM,KAC9C1O,KAAK+C,OAAO44F,IAAIn7D,WAAW+6F,GAAQC,GAGnCx7H,KAAK+C,OAAO44F,IAAI0/B,YAAcI,EAE9Bz7H,KAAK+C,OAAO44F,IAAI2/B,SAASC,EAAOC,EAAO5pH,EAAOkqF,GAE9C97F,KAAK+C,OAAO44F,IAAI+/B,SACjB,CACF,CAED17H,KAAK+C,OAAO44F,IAAI+B,KAAO,oBACvB19F,KAAK+C,OAAO44F,IAAI6B,UAAY,SAC5Bx9F,KAAK+C,OAAO44F,IAAI8B,aAAe,SAC/Bz9F,KAAK+C,OAAO44F,IAAIO,UAAY,QAC5Bl8F,KAAK+C,OAAO44F,IAAIgC,SAAS36F,EAAMrB,EAAIyH,EAAI,EAAGxH,EAAIyH,EAAI,EAAGD,GAErDpJ,KAAK+C,OAAO44F,IAAI+/B,SACjB,yBAKD,WACE17H,KAAK+C,OAAO44F,IAAIwE,UAAU,EAAG,EAAGngG,KAAK+C,OAAO44F,IAAIE,OAAOjqF,MAAO5R,KAAK+C,OAAO44F,IAAIE,OAAOC,OACtF,0BASD,SAAU94F,EAAMrB,EAAGC,GAAe,IAAZ62B,EAAY,uDAAN,KAC1Bz4B,KAAK+C,OAAO44F,IAAIo/B,OAChB/6H,KAAK+C,OAAO44F,IAAI+B,KAAO,oBACvB19F,KAAK+C,OAAO44F,IAAI6B,UAAY,SAC5Bx9F,KAAK+C,OAAO44F,IAAI8B,aAAe,SAC/Bz9F,KAAK+C,OAAO44F,IAAIO,UAAY,QACxBzjE,GAEFz4B,KAAK+C,OAAO44F,IAAIgC,SAAS36F,EAAMrB,QAAAA,EAAK3B,KAAK+C,OAAO44F,IAAIE,OAAO8/B,YAAc,EAAI,GAAI/5H,QAAAA,EAAK5B,KAAK+C,OAAO44F,IAAIE,OAAO+/B,aAAe,GAC5H57H,KAAK+C,OAAO44F,IAAIkgC,UAAUpjG,EAAK92B,QAAAA,EAAK3B,KAAK+C,OAAO44F,IAAIE,OAAO8/B,YAAc,EAAG/5H,QAAAA,EAAK5B,KAAK+C,OAAO44F,IAAIE,OAAO+/B,aAAe,EAAG,GAAI,KAE9H57H,KAAK+C,OAAO44F,IAAIgC,SAAS36F,EAAMrB,QAAAA,EAAK3B,KAAK+C,OAAO44F,IAAIE,OAAO8/B,YAAc,EAAG/5H,QAAAA,EAAK5B,KAAK+C,OAAO44F,IAAIE,OAAO+/B,aAAe,GAEzH57H,KAAK+C,OAAO44F,IAAI+/B,SACjB,2BASD,SAAW14H,GAAuC,IAAjCH,EAAiC,wDAAdC,EAAc,uDAAJ,CAAC,EACzCg5H,EAAM,IAAIC,GAAc/7H,KAAK+C,OAAO44F,KAOxC,OANAmgC,EAAIp8H,KAAKsD,EAAM,GAAK,EAAIhD,KAAK+C,OAAO44F,IAAIE,OAAOC,OAAU,EAAG97F,KAAK+C,OAAO44F,IAAIE,OAAOjqF,MAAQ,GAAI5R,KAAK+C,OAAO44F,IAAIE,OAAOC,OAAS,EAAI,GAAIh5F,GACvIg5H,EAAI78B,WAAWn8F,GACXD,GACFi5H,EAAIE,QAAQr7H,KAAKsnB,KAAI,IAAI9kB,MAAOC,UAAY,KAAQ,GAAK04H,EAAIG,UAAY,IAE3EH,EAAIpwE,SACGowE,CACR,OA3IkBjB,GA8IRkB,GAAb,WAME,WAAYpgC,GAAK,WACf37F,KAAK27F,IAAMA,EACX37F,KAAKi+F,OAAQ,EACbj+F,KAAKk8H,QAAU,EACfl8H,KAAK6+F,SAAW,GAChB7+F,KAAK09F,KAAO,cACZ19F,KAAKkjF,MAAQ,OACbljF,KAAKojC,WAAa,OAClBpjC,KAAKm8H,OAAS,CACZ7+B,UAAW,EACXvY,MAAO,QACPq3C,OAAQ,SAEVp8H,KAAKq8H,UAAY,CACfzqH,MAAO,EACPwxB,WAAY,OACZ+5D,MAAO,QAETn9F,KAAKs8H,UAAY,QACjBt8H,KAAKnB,MAAQ,GACbmB,KAAK2B,EAAI,EACT3B,KAAK4B,EAAI,CACV,CA5BH,+BAuCE,SAAKoB,EAAMrB,EAAGC,EAAGgQ,EAAOkqF,GAAsB,MAAdh5F,EAAc,uDAAJ,CAAC,EACzC9C,KAAKgD,KAAOA,EACZhD,KAAK2B,EAAIA,EACT3B,KAAK4B,EAAIA,EACT5B,KAAK4R,MAAQA,EACb5R,KAAK87F,OAASA,EACd97F,KAAKy9B,SAAL,UAAgB36B,EAAQ26B,gBAAxB,QAAoC,KACpCz9B,KAAKi/F,WAAWn8F,GAChB9C,KAAKu8H,SACN,GAhDH,qBAsDE,SAAQC,GACFx8H,KAAKi+F,QACPj+F,KAAKy8H,UACLz8H,KAAK08H,aACL18H,KAAKi+F,OAAQ,EACRu+B,GACHx8H,KAAK28H,UAGV,GA/DH,wBAqEE,SAAW75H,GAAS,WAClB6F,OAAOC,KAAK5I,MAAMqe,SAAQ,SAACxV,QACJqM,IAAjBpS,EAAQ+F,KACV,EAAKA,GAAO/F,EAAQ+F,GACpB,EAAKo1F,OAAQ,EAEhB,GACF,GA5EH,qBAiFE,WACEj+F,KAAK48H,QAAU58H,KAAK6+F,SAAW,MAAQ7+F,KAAK09F,KAC5C19F,KAAK68H,WAAa78H,KAAK6+F,SAAWl+F,KAAKimB,KAAqB,IAAhB5mB,KAAK6+F,SAClD,GApFH,wBAyFE,WACqB,SAAf7+F,KAAKkjF,MACPljF,KAAK88H,QAAU,EACS,UAAf98H,KAAKkjF,MACdljF,KAAK88H,QAAUn8H,KAAKC,MAAMZ,KAAK4R,MAAQ5R,KAAKq8H,UAAUzqH,MAAQ5R,KAAK6+F,SAAW,GAE9E7+F,KAAK88H,QAAUn8H,KAAKC,OAAOZ,KAAK4R,QAAS5R,KAAKq8H,UAAUzqH,OAAS,EAEpE,GAjGH,qBAsGE,WACE,IAAM+pF,EAAQ37F,KAAR27F,IACN37F,KAAKu8H,SAAQ,GACb5gC,EAAI+B,KAAO19F,KAAK48H,QAChBjhC,EAAI6B,UAAYx9F,KAAKkjF,MACrByY,EAAI8B,aAAe,MACnB,IAAIs/B,EAAQ/8H,KAAKgD,KAAKlE,MAAM,KAC5BkB,KAAKnB,MAAMI,OAAS,EAGpB,IAFA,IAAIE,EAAO,GACP69H,EAAQ,GACLD,EAAM99H,OAAS,GAAG,CACvB,IAAIg+H,EAAOF,EAAMr3H,QACLi2F,EAAIuhC,YAAY/9H,EAAO69H,EAAQC,GAAMrrH,MACrC5R,KAAK4R,MAAQ5R,KAAKq8H,UAAUzqH,MAAQ5R,KAAKq8H,UAAUzqH,OAAS5R,KAAKy9B,SAAW,GAAK,IAC3Ft+B,GAAQ69H,EAAQC,EAChBD,EAAQ,MAEM,KAAVA,EAEF79H,GAAQ89H,EAERF,EAAM9hH,QAAQgiH,GAEhBj9H,KAAKnB,MAAM4L,KAAKtL,GAChB69H,EAAQ,GACR79H,EAAO,GAEV,CACY,KAATA,GACFa,KAAKnB,MAAM4L,KAAKtL,GAElBa,KAAKi8H,WAAaj8H,KAAKnB,MAAMI,OAAS,IAAOe,KAAK68H,WAAa78H,KAAK87F,MACrE,GAtIH,wBA4IE,WAA6B,IAAlBr+D,EAAkB,wDACrBk+D,EAAQ37F,KAAR27F,IACFwhC,EAAKn9H,KAAKm8H,OAAO7+B,UAAY,EACjC3B,EAAIyhC,SAAWp9H,KAAKm8H,OAAOC,OAC3BzgC,EAAI2B,UAAYt9F,KAAKm8H,OAAO7+B,UAC5B3B,EAAI0B,YAAcr9F,KAAKm8H,OAAOp3C,MAC1BtnD,EACFk+D,EAAI0hC,WAAWr9H,KAAK2B,EAAIw7H,EAAK,GAAIn9H,KAAK4B,EAAIu7H,EAAIn9H,KAAK4R,MAAQ,EAAIurH,EAAK,GAAIn9H,KAAK87F,OAAS,EAAIqhC,GAE1FxhC,EAAI0hC,WAAWr9H,KAAK2B,EAAIw7H,EAAIn9H,KAAK4B,EAAIu7H,EAAIn9H,KAAK4R,MAAQ,EAAIurH,EAAIn9H,KAAK87F,OAAS,EAAIqhC,EAEnF,GAvJH,2BA4JE,WACE,IAAMxhC,EAAQ37F,KAAR27F,IACFlqE,EAAQzxB,KAAK87F,QAAU97F,KAAKnB,MAAMI,OAASe,KAAK68H,YACpDlhC,EAAIO,UAAYl8F,KAAKq8H,UAAUj5F,WAC/Bu4D,EAAI2/B,SAASt7H,KAAK2B,EAAI3B,KAAK4R,MAAQ5R,KAAKq8H,UAAUzqH,MAAO5R,KAAK4B,EAAG5B,KAAKq8H,UAAUzqH,MAAO5R,KAAK87F,QAC5FH,EAAIO,UAAYl8F,KAAKq8H,UAAUl/B,MAC/B,IAAImgC,EAAUt9H,KAAK87F,OAASrqE,EACxB6rG,EAAUt9H,KAAK87F,SACjBwhC,EAAUt9H,KAAK87F,QAEjBH,EAAI2/B,SAASt7H,KAAK2B,EAAI3B,KAAK4R,MAAQ5R,KAAKq8H,UAAUzqH,MAAO5R,KAAK4B,EAAI5B,KAAKk8H,QAAUzqG,EAAOzxB,KAAKq8H,UAAUzqH,MAAO0rH,EAC/G,GAvKH,0BA4KE,WACgBt9H,KAAR27F,IACFkgC,UAAU77H,KAAKy9B,SAAS86D,MAAOv4F,KAAK2B,EAAG3B,KAAK4B,EAAI,GAAI,GAAI,GAC7D,GA/KH,oBAqLE,SAAOE,GACL9B,KAAKu8H,UACLv8H,KAAKk8H,SAAWp6H,EACZ9B,KAAKk8H,QAAU,EACjBl8H,KAAKk8H,QAAU,EACNl8H,KAAKk8H,SAAWl8H,KAAKi8H,YAC9Bj8H,KAAKk8H,SAAWl8H,KAAKi8H,UAExB,GA7LH,yBAmME,SAAYt6H,GACV3B,KAAKu8H,UACLv8H,KAAKk8H,SAAWl8H,KAAK68H,WAAal7H,EAC9B3B,KAAKk8H,QAAU,EACjBl8H,KAAKk8H,QAAU,EACNl8H,KAAKk8H,SAAWl8H,KAAKi8H,YAC9Bj8H,KAAKk8H,SAAWl8H,KAAKi8H,UAExB,GA3MH,oBAgNE,WACE,IAAMtgC,EAAQ37F,KAAR27F,IACN37F,KAAKu8H,UACL5gC,EAAI+B,KAAO19F,KAAK48H,QAChBjhC,EAAI6B,UAAYx9F,KAAKkjF,MACjBljF,KAAKy9B,UACPz9B,KAAKu9H,YAAW,GAChBv9H,KAAKw9H,eACL7hC,EAAIo/B,OACJp/B,EAAIO,UAAYl8F,KAAKojC,WACrBu4D,EAAI2/B,SAASt7H,KAAK2B,EAAI,GAAI3B,KAAK4B,EAAG5B,KAAK4R,MAAQ,GAAI5R,KAAK87F,UAExD97F,KAAKu9H,aACL5hC,EAAIo/B,OACJp/B,EAAIO,UAAYl8F,KAAKojC,WACrBu4D,EAAI2/B,SAASt7H,KAAK2B,EAAG3B,KAAK4B,EAAG5B,KAAK4R,MAAO5R,KAAK87F,SAEhD97F,KAAKy9H,gBAGDz9H,KAAKy9B,UACPk+D,EAAIS,YACJT,EAAIq/B,KAAKh7H,KAAK2B,EAAI,GAAI3B,KAAK4B,EAAG5B,KAAK4R,MAAQ5R,KAAKq8H,UAAUzqH,MAAQ,GAAI5R,KAAK87F,QAC3EH,EAAIs/B,OACJt/B,EAAI+hC,aAAa,EAAG,EAAG,EAAG,EAAG19H,KAAK2B,EAAI,GAAIhB,KAAKC,MAAMZ,KAAK4B,EAAI5B,KAAKk8H,YAEnEvgC,EAAIS,YACJT,EAAIq/B,KAAKh7H,KAAK2B,EAAG3B,KAAK4B,EAAG5B,KAAK4R,MAAQ5R,KAAKq8H,UAAUzqH,MAAO5R,KAAK87F,QACjEH,EAAIs/B,OACJt/B,EAAI+hC,aAAa,EAAG,EAAG,EAAG,EAAG19H,KAAK2B,EAAGhB,KAAKC,MAAMZ,KAAK4B,EAAI5B,KAAKk8H,WAEhEvgC,EAAIO,UAAYl8F,KAAKs8H,UACrB,IAAK,IAAIl9H,EAAI,EAAGA,EAAIY,KAAKnB,MAAMI,OAAQG,IAErCu8F,EAAIgC,SAAS39F,KAAKnB,MAAMO,GAAIY,KAAK88H,QAASn8H,KAAKC,MAAMxB,EAAIY,KAAK68H,YAAc,GAE9ElhC,EAAI+/B,SACL,KArPH,yqDCjIO,IAAMiC,GAAb,WAKE,WAAYC,GAAkB,WAE5BvrH,OAAOU,UAAUw4E,MAAQ,SAAU9jE,EAAKF,GACtC,OAAOvnB,KAAOynB,EAAMA,EAAMznB,KAAOunB,EAAMA,EAAMvnB,IAC9C,EAEDA,KAAK49H,iBAAmBA,EACxB59H,KAAK8xB,UAAW3Y,EAAAA,GAAAA,MAChBnZ,KAAK69H,IAAM,GACX79H,KAAK89H,YAAL,GAAuBt8H,EAAAA,GAAU,CAAC,IAAMb,KAAK+N,GAAI,IAAM/N,KAAK+N,GAAI,IAChE1O,KAAKygC,YAAc,GACnBzgC,KAAKoL,aAAL,GAAwB5J,EAAAA,GAAU,CAAC,EAAG,EAAG,IACzCxB,KAAKqL,UAAY,IACjBrL,KAAK4iC,eAAiB,IAAIphC,EAAAA,GAAO,EAAG,GAAI,GACxCxB,KAAK+9H,aAAe,IAAIv8H,EAAAA,GAAO,EAAG,EAAG,GACrCxB,KAAK4N,UAAY5N,KAAK4N,UAAUvL,KAAKrC,MACrCA,KAAKoO,OAASpO,KAAKoO,OAAO/L,KAAKrC,MAC/BA,KAAK2O,OAAS3O,KAAK2O,OAAOtM,KAAKrC,MAC/BA,KAAK6O,MAAQ7O,KAAK6O,MAAMxM,KAAKrC,MAC7BA,KAAKkP,QAAUlP,KAAKkP,QAAQ7M,KAAKrC,MACjCA,KAAKmP,OAASnP,KAAKmP,OAAO9M,KAAKrC,MAC/BA,KAAK+O,SAAW/O,KAAK+O,SAAS1M,KAAKrC,MACnCA,KAAKgP,QAAUhP,KAAKgP,QAAQ3M,KAAKrC,MACjCA,KAAK+/F,YAAc//F,KAAK+/F,YAAY19F,KAAKrC,KAC1C,CA7BH,oCAkCE,YACEwgC,EAAAA,GAAAA,IAAUxgC,KAAK8xB,SAAU9xB,KAAK8xB,SAAU,CAAC,EAAK,GAAM,MACpDgB,EAAAA,GAAAA,IAAO9yB,KAAK8xB,SAAU9xB,KAAK8xB,UAAUI,EAAAA,EAAAA,IAASlyB,KAAKygC,YAAczgC,KAAKoL,aAAazJ,GAAI,CAAC,EAAG,EAAG,KAC9FmxB,EAAAA,GAAAA,IAAO9yB,KAAK8xB,SAAU9xB,KAAK8xB,UAAUI,EAAAA,EAAAA,IAASlyB,KAAKygC,YAAczgC,KAAKoL,aAAaxJ,GAAI,CAAC,EAAG,EAAG,KAC9FkxB,EAAAA,GAAAA,IAAO9yB,KAAK8xB,SAAU9xB,KAAK8xB,UAAUI,EAAAA,EAAAA,IAASlyB,KAAKygC,YAAczgC,KAAKoL,aAAa1I,GAAI,CAAC,EAAG,EAAG,KAC9FqpC,EAAAA,EAAAA,IAAO/rC,KAAK4iC,eAAgB5iC,KAAK+9H,eACjCv9F,EAAAA,GAAAA,IAAUxgC,KAAK8xB,SAAU9xB,KAAK8xB,SAAU9xB,KAAK+9H,aAAah2H,UAC3D,GAzCH,yBA+CE,SAAYi2H,GACVh+H,KAAKoO,OAAOpO,KAAK4iC,eAAe76B,UAAW/H,KAAK+9H,aAAah2H,UAAWi2H,EACzE,GAjDH,oBAyDE,SAAOl8H,EAAKoM,EAAQF,GAClB,IAAQ8jB,EAAa9xB,KAAb8xB,SAER9xB,KAAK4iC,eAAL,GAA0BphC,EAAAA,GAA1B,GAAoCM,IACpC9B,KAAK+9H,aAAL,GAAwBv8H,EAAAA,GAAxB,GAAkC0M,IAClClO,KAAKoL,aAAL,GAAwB5J,EAAAA,GAAxB,GAAkCwM,IAGlC,IAAMiwH,EAAQ,GAAIz8H,EAAAA,GAAP,IAAiBqqC,EAAAA,GAAAA,KAAU3B,EAAAA,GAAAA,IAAgBpoC,EAAKoM,MACrDgwH,EAAQ,GAAI18H,EAAAA,GAAJ,GAAcwM,IAAIqlB,MAAM4qG,GAChCE,EAAQF,EAAM5qG,MAAM6qG,GACpBE,EACD,CAACF,EAAMv8H,EAAGu8H,EAAMt8H,EAAGs8H,EAAMx7H,EAAG,GADjB,OAEX,CAACy7H,EAAMx8H,EAAGw8H,EAAMv8H,EAAGu8H,EAAMz7H,EAAG,GAC5B,CAACu7H,EAAMt8H,EAAGs8H,EAAMr8H,EAAGq8H,EAAMv7H,EAAG,GAC5B,CAACZ,EAAIH,EAAGG,EAAIF,EAAGE,EAAIY,EAAG,IAG3B1C,KAAK8xB,UAAWjwB,EAAAA,GAAAA,IAAIu8H,EAAYtsG,EACjC,GA5EH,mBAkFE,WAA6B,IAAvBrjB,EAAuB,uDAAb9N,KAAK+N,GAAK,EACxB1O,KAAKoL,aAAa1I,GAAK/B,KAAKkmB,IAAIpY,EACjC,GApFH,oBA0FE,WAA8B,IAAvBA,EAAuB,uDAAb9N,KAAK+N,GAAK,EAUzB1O,KAAKoL,aAAa1I,GAAK/B,KAAKkmB,IAAIpY,EACjC,GArGH,qBA2GE,WAA+B,IAAvBA,EAAuB,uDAAb9N,KAAK+N,GAAK,EAC1B1O,KAAKoL,aAAazJ,GAAKhB,KAAKkmB,IAAIpY,EACjC,GA7GH,sBAmHE,WAAgC,IAAvBA,EAAuB,uDAAb9N,KAAK+N,GAAK,EAC3B1O,KAAKoL,aAAazJ,GAAKhB,KAAKsnB,IAAIxZ,EACjC,GArHH,oBA2HE,WAA8B,IAAvBA,EAAuB,uDAAb9N,KAAK+N,GAAK,EACzB1O,KAAKoL,aAAaxJ,GAAKjB,KAAKkmB,IAAIpY,EACjC,GA7HH,qBAmIE,WAA+B,IAAvBA,EAAuB,uDAAb9N,KAAK+N,GAAK,EAC1B1O,KAAKoL,aAAa1I,GAAK/B,KAAKsnB,IAAIxZ,EACjC,KArIH,KAyIqB4vH,GAAAA,WACnB,aAAc,WACZr+H,KAAKmL,OAAS,IACf,wCAkBD,SAAayyH,GAIX,OAHK59H,KAAKmL,SACRnL,KAAKmL,OAAS,IAAIwyH,GAAOC,IAEpB59H,KAAKmL,MACb,8BAjBD,WAIE,OAHKkzH,EAAc1lG,WACjB0lG,EAAc1lG,SAAW,IAAI0lG,GAExBA,EAAc1lG,QACtB,OAdkB0lG,4XC1IAC,GAAAA,WAKnB,aAAc,WACZt+H,KAAKu+H,OAAS,CAAC,EAEfv+H,KAAKs/B,SAAWt/B,KAAKs/B,SAASj9B,KAAKrC,MACnCA,KAAKw+H,YAAcx+H,KAAKw+H,YAAYn8H,KAAKrC,MACzCA,KAAKC,KAAOD,KAAKC,KAAKoC,KAAKrC,MAC3BA,KAAK0rD,OAAS1rD,KAAK0rD,OAAOrpD,KAAKrC,MAC/BA,KAAK0xB,kBAAoB1xB,KAAK0xB,kBAAkBrvB,KAAKrC,KACtD,8CAkBD,SAAmBkL,GAKjB,OAJKlL,KAAKkL,gBACRlL,KAAKkL,cAAgBA,EACrBlL,KAAK+C,OAASmI,EAAcnI,QAEvBu7H,EAAa3lG,QACrB,yBAcD,SAASz2B,EAAIJ,EAAKq7F,GAAiI,IAA1HshC,EAA0H,uDAA3G,CAAC,GAAK,GAAK,IAAMr3H,EAA0F,uDAA9E,CAAC,EAAG,EAAG,GAAI82B,EAAmE,uDAAzD,EAAKM,EAAoD,uDAA3B,CAAC,EAAG,EAAG,GAAIkgG,IAAgB,yDACzI1tG,EAAkBhxB,KAAKkL,cAAvB8lB,cAER,KADYhxB,KAAKu+H,OAAOt/H,QACX+xB,EAAc2tG,WAA3B,CACA,IAAIC,EAAQ,IAAIC,GAAW7+H,KAAKkL,cAAcnI,OAAQb,EAAIi7F,EAAOr7F,EAAK28H,EAAcr3H,EAAW82B,EAASM,EAAwBkgG,GAEhI,OADA1+H,KAAKu+H,OAAOr8H,GAAM08H,EACX18H,CAHqC,CAI7C,4BAaD,SAAYA,EAAIJ,EAAKq7F,EAAOshC,EAAcr3H,EAAW82B,EAASM,EAAwBkgG,GACpF,IAAIE,EAAQ5+H,KAAKu+H,OAAOr8H,GACnB08H,IACD98H,IAAK88H,EAAM98H,IAAMA,GACjBq7F,IAAOyhC,EAAMzhC,MAAQA,GACrBshC,IAAcG,EAAMrgG,YAAckgG,GAClCr3H,IAAWw3H,EAAMx3H,UAAYA,GAC7B82B,IAAS0gG,EAAM1gG,QAAUA,GACzBM,IAAwBogG,EAAMpgG,uBAAyBA,GACvDkgG,IAASE,EAAMF,QAAUA,GAC7B1+H,KAAKu+H,OAAOr8H,GAAM08H,EACnB,4BAMD,SAAY18H,UACHlC,KAAKu+H,OAAOr8H,EACpB,qBAMD,WAEE,IADA,IAAI0G,EAAOD,OAAOC,KAAK5I,KAAKu+H,QACnBn/H,EAAI,EAAGA,EAAIwJ,EAAK3J,OAAQG,IAC/BY,KAAKu+H,OAAO31H,EAAKxJ,IAAIa,MAExB,uBAGD,WACE,IAAQ+wB,EAAkBhxB,KAAKkL,cAAvB8lB,cACJ8tG,EAAgB9tG,EAAc+tG,QAElC,GAAKD,EAEL,IAAK,IAAI1/H,EAAI,EAAGA,EAAI4xB,EAAc2tG,UAAWv/H,IAAK,CAChD,IAAIwJ,EAAOD,OAAOC,KAAK5I,KAAKu+H,QAEvBv+H,KAAKu+H,OAAO31H,EAAKxJ,KACjBY,KAAKu+H,OAAO31H,EAAKxJ,IAAIs/H,SAE1B1+H,KAAKu+H,OAAO31H,EAAKxJ,IAAI68F,KAAK6iC,EAAc1/H,GACzC,CACF,kCAID,WAEEY,KAAKC,OAGLD,KAAK0rD,QACN,8BA7GD,WAIE,OAHK4yE,EAAa3lG,WAChB2lG,EAAa3lG,SAAW,IAAI2lG,GAEvBA,EAAa3lG,QACrB,OAxBkB2lG,GAmIRO,GAAb,WAIE,WAAY97H,EAAQb,EAAIi7F,EAAOlvF,EAAUswB,EAAan3B,EAAW82B,EAASM,EAAwBkgG,GAAS,WACzG1+H,KAAK+C,OAASA,EACd/C,KAAKkC,GAAKA,QAAAA,EAAM,QAChBlC,KAAKm9F,MAAQA,QAAAA,EAAS,CAAC,EAAK,EAAK,GACjCn9F,KAAK8B,IAAMmM,QAAAA,EAAY,CAAC,EAAK,EAAK,GAClCjO,KAAKu+B,YAAcA,QAAAA,EAAe,CAAC,GAAK,GAAK,GAC7Cv+B,KAAKk+B,QAAUA,QAAAA,EAAW,GAC1Bl+B,KAAKw+B,uBAAyBA,QAAAA,EAA0B,CAAC,GAAK,GAAK,IACnEx+B,KAAKoH,UAAYA,QAAAA,EAAa,CAAC,EAAK,EAAK,GACzCpH,KAAK0+H,QAAUA,SAAAA,EACf1+H,KAAKshC,MAAQ,EAEbthC,KAAKi8F,KAAOj8F,KAAKi8F,KAAK55F,KAAKrC,MAC3BA,KAAKC,KAAOD,KAAKC,KAAKoC,KAAKrC,KAC5B,CAlBH,+BAqBE,WAEEA,KAAKshC,OACN,GAxBH,kBA2BE,SAAKw9F,GACH,IAAQ7tG,EAAOjxB,KAAK+C,OAAZkuB,GACRA,EAAGwV,UAAUq4F,EAAcJ,QAAS1+H,KAAK0+H,SACzCztG,EAAGc,WAAW+sG,EAAc7wH,SAAUjO,KAAK8B,KAC3CmvB,EAAGc,WAAW+sG,EAAc3hC,MAAOn9F,KAAKm9F,OACxClsE,EAAGc,WAAW+sG,EAAcvgG,YAAav+B,KAAKu+B,aAG9CtN,EAAGc,WAAW+sG,EAAc13H,UAAWpH,KAAKoH,WAC5C6pB,EAAGc,WAAW+sG,EAActgG,uBAAwBx+B,KAAKw+B,wBACzDvN,EAAGwV,UAAUq4F,EAAc5gG,QAASl+B,KAAKk+B,QAC1C,KAtCH,oZC3HqB8gG,GAAAA,WAKnB,WAAYj8H,GAAQ,WAsClB,mGAtCkB,sCAwGA,YAAoC,IAA7Bk8H,EAA6B,EAAjChtG,GAAkBitG,EAAe,EAAnBnuG,GAC3BE,EAAO,EAAKluB,OAAZkuB,GACFxnB,EAAO,EACP01H,EAAe,EAAKC,WAAWnuG,EAAGuvB,cAAey+E,GACjDI,EAAiB,EAAKD,WAAWnuG,EAAGitB,gBAAiBghF,GAGvDluG,EAAgBC,EAAG0vB,gBAIvB,GAHA1vB,EAAG2vB,aAAa5vB,EAAemuG,GAC/BluG,EAAG2vB,aAAa5vB,EAAequG,GAC/BpuG,EAAG4vB,YAAY7vB,IACVC,EAAG4uB,oBAAoB7uB,EAAeC,EAAG6vB,aAC5C,MAAM,IAAInuC,MAAJ,yDAA4Dqe,IAIpEC,EAAG+uB,WAAWhvB,GAGdA,EAAcsV,cAAgBrV,EAAGE,kBAAkBH,EAAe,iBAClEC,EAAGG,wBAAwBJ,EAAcsV,eAGzCtV,EAAcE,gBAAkBD,EAAGE,kBAAkBH,EAAe,mBACpEC,EAAGG,wBAAwBJ,EAAcE,iBAGzCF,EAAc2P,cAAgB1P,EAAGE,kBAAkBH,EAAe,iBAClEC,EAAGG,wBAAwBJ,EAAc2P,eAGzC3P,EAAcuV,SAAWtV,EAAGK,mBAAmBN,EAAe,YAC9DA,EAAc8V,UAAY7V,EAAGK,mBAAmBN,EAAe,aAC/DA,EAAc0V,kBAAoBzV,EAAGK,mBAAmBN,EAAe,qBACvEA,EAAcK,eAAiBJ,EAAGK,mBAAmBN,EAAe,qBACpEA,EAAcO,eAAiBN,EAAGK,mBAAmBN,EAAe,gBACpEA,EAAcQ,eAAiBP,EAAGK,mBAAmBN,EAAe,eACpEA,EAAcsuG,eAAiBruG,EAAGK,mBAAmBN,EAAe,iBACpEA,EAAcuuG,eAAiBtuG,EAAGK,mBAAmBN,EAAe,YACpEA,EAAcgV,kBAAoB/U,EAAGK,mBAAmBN,EAAe,eAEvEA,EAAc4R,eAAiB3R,EAAGK,mBAAmBN,EAAtB,mBAE/BA,EAAcwuG,cAAgBvuG,EAAGK,mBAAmBN,EAAe,iBACnEA,EAAcyuG,WAAaxuG,EAAGK,mBAAmBN,EAAe,cAChEA,EAAc0uG,WAAazuG,EAAGK,mBAAmBN,EAAe,cAChEA,EAAcS,MAAQR,EAAGK,mBAAmBN,EAAe,WAG3DA,EAAc2tG,UAAY,GAC1B3tG,EAAc+tG,QAAU,GACxB,IAAK,IAAI3/H,EAAI,EAAGA,EAAI4xB,EAAc2tG,UAAWv/H,IAC3C4xB,EAAc+tG,QAAQ3/H,GAAK,CACzBs/H,QAASztG,EAAGK,mBAAmBN,EAAtB,kBAAgD5xB,EAAhD,cACT+9F,MAAOlsE,EAAGK,mBAAmBN,EAAtB,kBAAgD5xB,EAAhD,YACP6O,SAAUgjB,EAAGK,mBAAmBN,EAAtB,kBAAgD5xB,EAAhD,eACVm/B,YAAatN,EAAGK,mBAAmBN,EAAtB,kBAAgD5xB,EAAhD,kBACbgI,UAAW6pB,EAAGK,mBAAmBN,EAAtB,kBAAgD5xB,EAAhD,gBACXo/B,uBAAwBvN,EAAGK,mBAAmBN,EAAtB,kBAAgD5xB,EAAhD,6BACxB8+B,QAASjN,EAAGK,mBAAmBN,EAAtB,kBAAgD5xB,EAAhD,eAKb4xB,EAAcU,kBAAoB,SAAU,GAA+B,QAA9BD,MAAAA,OAA8B,MAAtB,KAAsB,MAAhB0V,QAAAA,OAAgB,MAAN,EAAM,EACzElW,EAAGU,iBAAiB3xB,KAAKqxB,gBAAgB,EAAO5nB,EAAKmoB,UACrDX,EAAGU,iBAAiB3xB,KAAKuxB,gBAAgB,EAAO9nB,EAAKooB,WACrDZ,EAAGU,iBAAiB3xB,KAAKwxB,gBAAgB,EAAO/nB,EAAK0B,OAAO2mB,UAG5DroB,EAAKk2H,WAAY92F,EAAAA,GAAAA,OACjBmC,EAAAA,GAAAA,IAAevhC,EAAKk2H,UAAWl2H,EAAKooB,WACpCZ,EAAG2uG,iBAAiB5/H,KAAKs/H,gBAAgB,EAAO71H,EAAKk2H,WAGrD1uG,EAAGc,WAAW/xB,KAAKyxB,MAAOA,EAAQA,EAAM1pB,UAAY0B,EAAKgoB,MAAM1pB,WAG/DkpB,EAAGwV,UAAUzmC,KAAKy/H,WAAYt4F,GAG9BlW,EAAGwV,UAAUzmC,KAAKw/H,cAAe/1H,EAAKo2H,gBAAkB,EAAM,GAG9D5uG,EAAGc,WAAW/xB,KAAK4iC,eAAgBn5B,EAAK0B,OAAOy3B,eAAe76B,WAG9D0B,EAAK41B,aAAa3N,mBACnB,EAED,IAAMiyB,EAAQ,CACZzyB,gBAAiB4uG,GAAAA,GAAAA,OAAAA,SAAAA,IACjBx5F,cAAew5F,GAAAA,GAAAA,OAAAA,OAAAA,IACfn/F,cAAem/F,GAAAA,GAAAA,OAAAA,GAAAA,KAkBjB,OAhBA9uG,EAAc+uG,uBAAyB,SAAU36F,GAC/C,IAAMyxD,EAASzxD,EAAKe,aAAa0wD,OACjC,IAAK,IAAMmpC,KAAYr8E,EACrB,GAAKA,EAAMrrC,eAAe0nH,KAAyC,GAA5BhvG,EAAcgvG,GAArD,CAGA,IAAMC,EAAYt8E,EAAMq8E,GACxB,IAAgC,GAA5BhvG,EAAcgvG,GAAiB,CACjC,IAAM5+E,EAAOy1C,EAAO3O,aAAa+3C,GACjChvG,EAAG2xB,oBAAoB5xB,EAAcgvG,GAAW5+E,EAAKtlB,KAAM7K,EAAGmwB,EAAK1qC,MAAO0qC,EAAKsB,WAAYtB,EAAKuB,OAAQvB,EAAK96C,OAC9G,CALA,CAOJ,EACD2qB,EAAGsW,yBAAyBvW,EAAcsV,eAE1C,EAAKtV,cAAgBA,EACdA,CACR,IAxNmB,iCA8NI,WACP,EAAKjuB,OAAZkuB,GACL+uB,WAAW,EAAKhvB,cACpB,IAjOmB,uCAuOU,WACb,EAAKjuB,OAAZkuB,GACL+uB,WAAW,EAAKnf,eAAL,OACf,IA1OmB,uCAiPU,SAAC3+B,GACd,EAAKa,OAAZkuB,GACL+uB,WAAW,EAAKnf,eAAe3+B,GACnC,IApPmB,6BA2PA,YAAwD,IAAjD+8H,EAAiD,EAArDhtG,GAAkBitG,EAAmC,EAAvCnuG,GAAkB7uB,EAAqB,EAAzBA,GAAcxC,EAAW,EAAjBA,KACjDuxB,EAAO,EAAKluB,OAAZkuB,GACFxnB,EAAO,EACP01H,EAAe,EAAKC,WAAWnuG,EAAGuvB,cAAey+E,GACjDI,EAAiB,EAAKD,WAAWnuG,EAAGitB,gBAAiBghF,GAGvDgB,EAAgBjvG,EAAG0vB,gBAIvB,GAHA1vB,EAAG2vB,aAAas/E,EAAef,GAC/BluG,EAAG2vB,aAAas/E,EAAeb,GAC/BpuG,EAAG4vB,YAAYq/E,IACVjvG,EAAG4uB,oBAAoBqgF,EAAejvG,EAAG6vB,aAC5C,MAAM,IAAInuC,MAAJ,gEAAmEutH,IAO3E,OAHA,EAAKr/F,eAAe3+B,GAAMxC,EAAK2K,KAAKZ,EAAMy2H,GAC1C,EAAKC,QAAQ11H,KAAKvI,GAEX,EAAK2+B,eAAe3+B,EAC5B,IA9QM88H,EAAchhC,YACjBh+F,KAAK+C,OAASA,EACd/C,KAAKogI,WAAar9H,EAAOq9H,WAEzBpgI,KAAK4xB,UAAWzY,EAAAA,GAAAA,MAChBnZ,KAAK6xB,WAAY1Y,EAAAA,GAAAA,MACjBnZ,KAAK2/H,WAAY92F,EAAAA,GAAAA,MACjB7oC,KAAKqgI,qBAAuB,GAG5BrgI,KAAKyxB,MAAQ,IAAIjwB,EAAAA,GAAO,EAAG,EAAG,GAC9BxB,KAAKsgI,kBAAmB,EAGxBtgI,KAAKmgI,QAAU,GACfngI,KAAK6gC,eAAiB,CAAC,EAGvB7gC,KAAK6/H,iBAAkB,EACvB7/H,KAAKugI,WAAa,KAClBvgI,KAAKwgI,iBAAmB,CAAC,EACzBxgI,KAAKygI,kBAAoB,KACzBzgI,KAAK0gI,mBAAqB,EAC1B1gI,KAAK2gI,gBAAiB,IAAIx9H,MAAOy9H,kBAGjC5gI,KAAKmL,OAASkzH,GAAcwC,cAAcC,aAAa9gI,MAGvDA,KAAKq/B,aAAei/F,GAAauC,cAAcE,mBAAmB/gI,MAGlEA,KAAKghI,kBAAoBhhI,KAAKghI,kBAAkB3+H,KAAKrC,MACrDA,KAAKihI,kBAAoBjhI,KAAKihI,kBAAkB5+H,KAAKrC,MACrDA,KAAKkhI,sBAAwBlhI,KAAKkhI,sBAAsB7+H,KAAKrC,MAC7DA,KAAKmhI,4BAA8BnhI,KAAKmhI,4BAA4B9+H,KAAKrC,OAEpEg/H,EAAchhC,SACtB,yCAKD,WACE,MAAuBh+F,KAAK+C,OAApBuJ,EAAR,EAAQA,OAAQ2kB,EAAhB,EAAgBA,GAqBhB,GAlBAA,EAAGmK,WAAW,EAAG,EAAK,EAAG,GACzBnK,EAAGmwG,WAAW,GACdnwG,EAAGowG,OAAOpwG,EAAGqwG,YACbrwG,EAAGswG,UAAUtwG,EAAGuwG,UAAWvwG,EAAGwwG,qBAC9BxwG,EAAGowG,OAAOpwG,EAAGywG,OAGb1hI,KAAKghI,kBAAkB10H,EAAOm6C,SAG/BzmD,KAAKihI,kBAAkB,CACpB/+H,GAAI,SACJ+vB,GAAIwW,EAAAA,MAAAA,IACJ1X,GAAI0X,EAAAA,MAAAA,IACJ/oC,KAAM+oC,EAAAA,MAAAA,IAIJn8B,EAAO6zH,QACT,IAAK,IAAI/gI,KAAKkN,EAAO6zH,SAOvBngI,KAAK2hI,iBAEL3hI,KAAKsgI,kBAAmB,CACzB,2BAQD,SAAW5pH,EAAMid,GACf,IAAQ1C,EAAOjxB,KAAK+C,OAAZkuB,GACFsvB,EAAStvB,EAAG61B,aAAapwC,GAI/B,GAHAua,EAAG81B,aAAaxG,EAAQ5sB,GACxB1C,EAAG+1B,cAAczG,IAEZtvB,EAAGg2B,mBAAmB1G,EAAQtvB,EAAGi2B,gBAAiB,CACrD,IAAMpnD,EAAMmxB,EAAGk2B,iBAAiB5G,GAEhC,MADAtvB,EAAGy1B,aAAanG,GACV,IAAI5tC,MAAJ,mDAAsD7S,GAC7D,CACD,OAAOygD,CACR,+BAmLD,WACE,IAAQtvB,EAAOjxB,KAAK+C,OAAZkuB,GACF2wG,GAAc1vG,EAAAA,EAAAA,IAASlyB,KAAKmL,OAAO0yH,KACnC70F,EAAS/X,EAAG4qE,OAAO8/B,YAAc1qG,EAAG4qE,OAAO+/B,aAGjD57H,KAAK4xB,UAAWkX,EAAAA,GAAAA,IAAY84F,EAAa54F,EAF3B,GACD,KAEbhpC,KAAKmL,OAAO2mB,UAAW3Y,EAAAA,GAAAA,MACvBnZ,KAAK4xB,SAAS,KAAO,CACtB,4BAKD,WACE,IAAQX,EAAOjxB,KAAK+C,OAAZkuB,GACRA,EAAG4wG,SAAS,EAAG,EAAG5wG,EAAG4qE,OAAO8/B,YAAa1qG,EAAG4qE,OAAO+/B,cACnD3qG,EAAGyrD,MAAMzrD,EAAG6wG,iBAAmB7wG,EAAG8wG,mBAClCj5F,EAAAA,GAAAA,KAAY5W,EAAAA,EAAAA,IAASlyB,KAAKmL,OAAO0yH,KAAM5sG,EAAG4qE,OAAO8/B,YAAc1qG,EAAG4qE,OAAO+/B,aAAc,GAAK,IAAO57H,KAAK4xB,UACxG5xB,KAAKmL,OAAO2mB,UAAW3Y,EAAAA,GAAAA,KACxB,iCAKD,WACE,GAAKnZ,KAAKogI,WAOH,CACL,IACElkF,SAAS8lF,gBACV,CAAC,MAAO5+G,GAER,CACDpjB,KAAKogI,YAAa,CACnB,MAbC,IACEpgI,KAAK+C,OAAOk/H,cAAcC,cAAcC,oBACxCniI,KAAKogI,YAAa,CACnB,CAAC,MAAOh9G,GAER,CASJ,6BAKD,WACE,IAAI6rB,GAAO91B,EAAAA,GAAAA,OACXtX,EAAAA,GAAAA,IAAI7B,KAAK6xB,UAAWod,GACpB,IAAIh+B,GAAIkI,EAAAA,GAAAA,OACRtX,EAAAA,GAAAA,IAAI7B,KAAKmL,OAAO2mB,SAAU7gB,GAC1BjR,KAAKqgI,qBAAqB51H,KAAK,CAACwkC,EAAMh+B,GACvC,4BAKD,WACE,GAAwC,GAApCjR,KAAKqgI,qBAAqBphI,OAC5B,KAAM,qBAFI,aAI6Be,KAAKqgI,qBAAqBv8H,QAJvD,k0BAIX9D,KAAK6xB,UAJM,KAIK7xB,KAAKmL,OAAO2mB,SAJjB,IAKb,2BAKD,WACE,IAAIpF,GAAM,IAAIvpB,MAAOy9H,kBACrB5gI,KAAKugI,WAAWtkC,MACZj8F,KAAK2gI,eAAiBj0G,GAAO1sB,KAAK0gI,mBAAsB,EAC1D1gI,KAAKygI,kBACLzgI,KAAKygI,kBACLzgI,KAAK+C,OAAOkuB,GAAG4qE,OAAOjqF,MACtB5R,KAAK+C,OAAOkuB,GAAG4qE,OAAOC,OACtB97F,KAAKwgI,kBAEH9zG,GAAO1sB,KAAK2gI,iBACd3gI,KAAK6/H,iBAAkB,EAE1B,6BASD,SAAauC,EAAU1rH,EAAM4iF,GAC3B,IAAMroE,EAAOjxB,KAAK+C,OAAZkuB,GACFkd,EAAMld,EAAG4N,eAMb,OALAsP,EAAImrD,SAAWA,EACfnrD,EAAIhN,SAAWihG,EAASnjI,OAASq6F,EACjCroE,EAAGyP,WAAWzP,EAAGsoE,aAAcprD,GAC/Bld,EAAGuoE,WAAWvoE,EAAGsoE,aAAc,IAAI3wD,aAAaw5F,GAAW1rH,GAC3Dua,EAAGyP,WAAWzP,EAAGsoE,aAAc,MACxBprD,CACR,6BAOD,SAAa5Z,EAAQ6tG,GACnB,IAAMnxG,EAAOjxB,KAAK+C,OAAZkuB,GACNA,EAAGyP,WAAWzP,EAAGsoE,aAAchlE,GAC/BtD,EAAGoxG,cAAcpxG,EAAGsoE,aAAc,EAAG,IAAI3wD,aAAaw5F,IACtDnxG,EAAGyP,WAAWzP,EAAGsoE,aAAc,KAChC,2BAOD,SAAWhlE,EAAQozD,GACjB,IAAM12D,EAAOjxB,KAAK+C,OAAZkuB,GACNA,EAAGyP,WAAWzP,EAAGsoE,aAAchlE,GAC/BtD,EAAG2xB,oBAAoB+kC,EAAWpzD,EAAO+kE,SAAUroE,EAAG4xB,OAAO,EAAO,EAAG,EACxE,gCAGD,SAAgBtoC,GACd,IAAI1U,EAAW0U,EAAO1U,UAAY,IAC9B3F,GAAO,IAAIiD,MAAOy9H,kBAEtB,IADA5gI,KAAK6/H,iBAAkB,EAChB3/H,EAAO2F,GAAW,IAAI1C,MAAOy9H,oBAGpC5gI,KAAK6/H,iBAAkB,CACxB,8EA7ZkBb,+2CCTd,IAAMsD,GAAb,2TAME,WAAY7pG,EAAK11B,GAAQ,mHACvB,gBACKA,OAASA,EACd,EAAK01B,IAAMA,EACX,EAAKoO,UAAY9jC,EAAOkuB,GAAG8mE,gBAC3B,EAAKQ,MAAQ,IAAIC,MACjB,EAAKD,MAAM58C,OAAS,EAAK4mF,cAAclgI,KAAnB,OACpB,EAAKk2F,MAAM9/D,IAAMA,EACjB,EAAKt4B,QAAS,EACd,EAAK0K,cAAgB,IAAIP,GAAAA,EATF,CAUxB,CAhBH,0CAqBE,WACE,IAAM2mB,EAAOjxB,KAAK+C,OAAZkuB,GACNA,EAAG4U,YAAY5U,EAAG6U,WAAY9lC,KAAK6mC,WACnC5V,EAAG+mE,WAAW/mE,EAAG6U,WAAY,EAAG7U,EAAGgnE,KAAMhnE,EAAGgnE,KAAMhnE,EAAGinE,cAAel4F,KAAKu4F,OACzEtnE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG8nE,mBAAoB9nE,EAAG6nE,SAC1D7nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG4nE,mBAAoB5nE,EAAG6nE,SAC1D7nE,EAAG4U,YAAY5U,EAAG6U,WAAY,MAC9B9lC,KAAKG,QAAS,EACdH,KAAK6K,cAAckwB,KACpB,GA9BH,oBAmCE,WACE,IAAM9J,EAAOjxB,KAAK+C,OAAZkuB,GACNA,EAAG0U,cAAc1U,EAAG2U,UACpB3U,EAAG4U,YAAY5U,EAAG6U,WAAY9lC,KAAK6mC,WACnC5V,EAAG8U,UAAU/lC,KAAK+C,OAAOmI,cAAc8lB,cAAcuuG,eAAgB,EACtE,sFAxCH,GAA6B30H,GAAAA,8KCCR43H,GAAAA,WAOnB,WAAY3mC,EAAQ94F,EAAQb,gGAAI,SAC9BlC,KAAKkC,GAAKA,EACVlC,KAAK+C,OAASA,EACd/C,KAAK67F,OAASA,EACd77F,KAAK27F,IAAME,EAAO4mC,WAAW,MAC7BziI,KAAK6mC,UAAY9jC,EAAOkuB,GAAG8mE,gBAC3B/3F,KAAKG,QAAS,EACdH,KAAK6K,cAAgB,IAAIP,GAAAA,EACzBtK,KAAKmE,WACN,kDAMD,SAAcqG,GACRxK,KAAKG,OAAQqK,IACZxK,KAAK6K,cAAcC,IAAIN,EAC7B,0BAKD,WACE,IAAMymB,EAAOjxB,KAAK+C,OAAZkuB,GACNA,EAAGyxG,YAAYzxG,EAAG0xG,qBAAqB,GACvC1xG,EAAG4U,YAAY5U,EAAG6U,WAAY9lC,KAAK6mC,WACnC5V,EAAG+mE,WAAW/mE,EAAG6U,WAAY,EAAG7U,EAAGgnE,KAAMhnE,EAAGgnE,KAAMhnE,EAAGinE,cAAel4F,KAAK67F,QACzE5qE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG8nE,mBAAoB9nE,EAAG2xG,QAC1D3xG,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG4nE,mBAAoB5nE,EAAG4xG,uBAC1D5xG,EAAG6xG,eAAe7xG,EAAG6U,YACrB7U,EAAG4U,YAAY5U,EAAG6U,WAAY,MAC9B7U,EAAGyxG,YAAYzxG,EAAG0xG,qBAAqB,GACvC3iI,KAAKG,QAAS,EACdH,KAAK6K,cAAckwB,KACpB,uBAKD,WACE,IAAM9J,EAAOjxB,KAAK+C,OAAZkuB,GACNA,EAAG0U,cAAc1U,EAAG2U,UACpB3U,EAAG4U,YAAY5U,EAAG6U,WAAY9lC,KAAK6mC,WACnC5V,EAAG8U,UAAU/lC,KAAK+C,OAAOmI,cAAc8lB,cAAcuuG,eAAgB,EACtE,yBAKD,WACE,IAAQ5jC,EAAQ37F,KAAR27F,IACRA,EAAIwE,UAAU,EAAG,EAAGxE,EAAIE,OAAOjqF,MAAO+pF,EAAIE,OAAOC,QACjD97F,KAAKmE,WACN,0BAQD,SAAUnB,EAAMrB,EAAGC,GACjB,IAAQ+5F,EAAQ37F,KAAR27F,IACRA,EAAIo/B,OACJp/B,EAAI+B,KAAO,mBACX/B,EAAI6B,UAAY,SAChB7B,EAAI8B,aAAe,SACnB9B,EAAIO,UAAY,QAChBP,EAAIgC,SAAS36F,EAAMrB,QAAAA,EAAKg6F,EAAIE,OAAOjqF,MAAQ,EAAGhQ,QAAAA,EAAK+5F,EAAIE,OAAOC,OAAS,GACvEH,EAAI+/B,SACL,2BASD,SAAW14H,GAAuC,IAAjCH,EAAiC,wDAAdC,EAAc,uDAAJ,CAAC,EACzCg5H,EAAM,IAAIC,GAAc/7H,KAAK27F,KAWjC,OAVI74F,EAAQ26B,SACVq+F,EAAIp8H,KAAKsD,EAAM,GAAI,GAAIhD,KAAK67F,OAAOjqF,MAAQ,GAAK,GAAK,EAAI5R,KAAK67F,OAAOC,OAAU,EAAI,GAAIh5F,GAEvFg5H,EAAIp8H,KAAKsD,EAAM,GAAI,GAAIhD,KAAK67F,OAAOjqF,MAAQ,GAAK,EAAI5R,KAAK67F,OAAOC,OAAU,EAAI,GAAIh5F,GAEpFg5H,EAAI78B,WAAWn8F,GACXD,GACFi5H,EAAIE,QAAQr7H,KAAKsnB,KAAI,IAAI9kB,MAAOC,UAAY,KAAQ,GAAK04H,EAAIG,UAAY,IAE3EH,EAAIpwE,SACGowE,CACR,8EApGkB0G,0PCfrB,ilNAuBqBO,GAAAA,WAKnB,WAAYhgI,GAuBV,mGAvBkB,SACbggI,EAAgB/kC,YACnBh+F,KAAK+C,OAASA,EAEd/C,KAAKylC,UAAYq6F,GAAAA,GACjB9/H,KAAKwE,YAAc,IAAI8zB,GAAAA,EAAYt4B,MAWnCA,KAAK67B,SAAW,GAChB77B,KAAKgjI,SAAW,GAEhBhjI,KAAKg/B,WAAah/B,KAAKg/B,WAAW38B,KAAKrC,MACvCA,KAAKi7B,YAAcj7B,KAAKi7B,YAAY54B,KAAKrC,MACzCA,KAAKq7B,mBAAqBr7B,KAAKq7B,mBAAmBh5B,KAAKrC,OAElD+iI,EAAgB/kC,SACxB,oDAOD,SAAYvlE,GACV,OAAIz4B,KAAK67B,SAASpD,KAClBz4B,KAAK67B,SAASpD,GAAO,IAAI6pG,GAAQ7pG,EAAKz4B,KAAK+C,SADZ/C,KAAK67B,SAASpD,EAG9C,iDAQD,WAAyBA,EAAK/zB,GAA9B,kFACM1E,KAAK67B,SAASpD,GADpB,yCACiCz4B,KAAK67B,SAASpD,IAD/C,uBAEwB/zB,EAAIm0B,KAAJ,mBAAqBJ,IAAOK,MAAM,eAF1D,cAEMqgE,EAFN,OAGM5kE,EAAS,IAAIvvB,WAAWm0F,GACxBlgE,EAAO,IAAID,KAAK,CAACzE,EAAOA,SACxB0uG,EAAU9pG,IAAIC,gBAAgBH,GAClCj5B,KAAK67B,SAASpD,GAAO,IAAI6pG,GAAQW,EAASjjI,KAAK+C,QANjD,kBAOS/C,KAAK67B,SAASpD,IAPvB,0SAgBA,SAAWA,EAAKojE,GACd,OAAI77F,KAAKgjI,SAASvqG,KAClBz4B,KAAKgjI,SAASvqG,GAAO,IAAI+pG,GAAO3mC,EAAQ77F,KAAK+C,OAAQ01B,IADtBz4B,KAAKgjI,SAASvqG,EAG9C,8EApEkBsqG,0PCvBrB,ilNAqBqBG,GAAAA,WAWnB,WAAYrnC,EAAQsnC,EAAWlkG,EAAQgjG,EAAemB,EAAYxxH,EAAOkqF,gGAAQ,SAE/E97F,KAAK67F,OAASA,EACd77F,KAAKmjI,UAAYA,EACjBnjI,KAAKiiI,cAAgBA,EACrBjiI,KAAKi/B,OAASA,EAGdj/B,KAAKojI,WAAaA,EAGlBpjI,KAAK4R,MAAQA,EACb5R,KAAK87F,OAASA,EAGd97F,KAAKsN,MAAQ+1H,EAGbrjI,KAAKuE,gBAAkB,IAAIw+H,GAAgB/iI,MAG3CA,KAAKkL,cAAgB,IAAI8zH,GAAch/H,MAGvCA,KAAKwD,IAAM,IAAIq3H,GAAI76H,MAGnBA,KAAK2D,SAAW,IAAIu9F,EAASlhG,MAG7BA,KAAKmG,QAAU,IAAI43F,EAAQ/9F,MAG3BA,KAAKm+B,MAAQ,IAAIC,yBAGjBp+B,KAAKsjI,SAAW,IAAIzJ,GAGpB75H,KAAKq7E,MAAQ,IAAIi/C,GAGjBt6H,KAAKujI,WAAavjI,KAAKujI,WAAWlhI,KAAKrC,MACvCA,KAAK0rD,OAAS1rD,KAAK0rD,OAAOrpD,KAAKrC,MAC/BA,KAAKN,KAAOM,KAAKN,KAAK2C,KAAKrC,MAC3BA,KAAK0rH,MAAQ1rH,KAAK0rH,MAAMrpH,KAAKrC,KAC9B,2DAMD,WAAWsM,GAAX,+EACQqvF,EAAM37F,KAAKmjI,UAAUV,WAAW,MAChCxxG,EAAKjxB,KAAK67F,OAAO4mC,WAAW,UAC5B3jC,EAAK9+F,KAAKiiI,cAAcQ,WAAW,MAEpCxxG,EALP,sBAMU,IAAIte,MAAM,gCANpB,UAQOgpF,EARP,sBASU,IAAIhpF,MAAM,qCATpB,UAWOmsF,EAXP,sBAYU,IAAInsF,MAAM,gDAZpB,cAgBEgpF,EAAIE,OAAOjqF,MAAQqf,EAAG4qE,OAAO8/B,YAC7BhgC,EAAIE,OAAOC,OAAS7qE,EAAG4qE,OAAO+/B,aAE9B57H,KAAKixB,GAAKA,EACVjxB,KAAK27F,IAAMA,EACX37F,KAAK8+F,GAAKA,EAEV9+F,KAAKsM,OAASA,EACdtM,KAAKogI,YAAa,EAGlBpgI,KAAKE,MAAO,IAAIiD,MAAOC,UAGvBpD,KAAK2D,SAASjE,OAGdM,KAAKwD,IAAI9D,OAGTM,KAAKkL,cAAcxL,OAGnBM,KAAKmG,QAAQzG,OACbM,KAAK08F,MAAQ18F,KAAKmG,QAAQq9H,OAAOnhI,KAAKrC,KAAKmG,SAxC7C,UA2CQmG,EAAO5M,KAAKM,MA3CpB,oSAiDA,WACEA,KAAKyjI,UAAYC,sBAAsB1jI,KAAK0rD,QAG5C1rD,KAAKwD,IAAIS,WACTjE,KAAKkL,cAAcy4H,cAEnB,IAAMC,GAAY,IAAIzgI,MAAOC,UAI7BpD,KAAKkL,cAAc24H,8BAEnB,IAAMC,EAAc9jI,KAAK+jI,qBACtBD,aAAA,EAAAA,EAAaE,QAAQ/kI,QAAS,GAC/BY,QAAQC,IAAI,CAAEgkI,YAAAA,IAIhB9jI,KAAKkL,cAAcg2H,wBAGnBlhI,KAAKmG,QAAQulD,SACb1rD,KAAKsM,OAAOo/C,OAAO1rD,KAAM4jI,GAGrB5jI,KAAK6/H,iBACP7/H,KAAKkL,cAAcq1H,YAEtB,sBAKD,WACE0D,qBAAqBjkI,KAAKyjI,UAC3B,kCAKD,WACE,KAAGzjI,KAAKsM,OAAOlL,MAAMoF,WAAWvH,QAAU,GAA1C,CACA,IAAMgyB,EAAKjxB,KAAKixB,GACVlmB,EAAO,IAAI/F,WAAW,GACtBk/H,EAASlkI,KAAKmG,QAAQxE,GAAK,EAC3BwiI,EAASnkI,KAAKmG,QAAQvE,GAAK,EAC3BwiI,EAASF,EAASjzG,EAAG4qE,OAAOjqF,MAAQqf,EAAG4qE,OAAO8/B,YAC9C0I,EAASpzG,EAAG4qE,OAAOC,OAASqoC,EAASlzG,EAAG4qE,OAAOC,OAAS7qE,EAAG4qE,OAAO+/B,aAAe,EAEvF3qG,EAAGqzG,WACDF,EACAC,EACA,EACA,EACApzG,EAAGgnE,KACHhnE,EAAGinE,cACHntF,GAGF,IAAM7I,EAAK6I,EAAK,GAAK,KAAQA,EAAK,IAAM,EAAI,MAASA,EAAK,IAAM,GAAK,MAASA,EAAK,IAAM,GAAK,KAS9F,MAAO,CAACi5H,QAPQhkI,KAAKsM,OAAOlL,MAAMoF,WAAWC,QAAO,SAACpG,GACnD,OAAOA,EAAO88B,QAAUj7B,CACzB,IAKgB2zG,QAJD71G,KAAKsM,OAAOlL,MAAMsF,WAAWD,QAAO,SAACE,GACnD,OAAOA,EAAOw2B,QAAUj7B,CACzB,IAzBoD,CA4CtD,4BAMD,SAAYc,GACVnD,QAAQC,IAAI,oBACZE,KAAKukI,YAAYl+H,SAAWrD,CAC7B,gCAWD,SAAgBA,GAA2E,MAAvDk/B,EAAuD,uDAAhD,KAAMC,EAA0C,uDAAnC,KAAMC,EAA6B,uDAApB,KAAMtzB,EAAc,uDAAN,KAC/E9K,EAAShE,KAAKm+B,MACdkE,EAAM,UAAGr8B,OAAOC,gBAAgBq8B,mBAA1B,QAAyC,GAEnDt+B,EAAOm6B,MAAQkE,EAAO,GAClBF,IAAMn+B,EAAOm+B,KAAOA,GACpBC,IAAQp+B,EAAOo+B,OAASA,GACxBtzB,IAAO9K,EAAO8K,MAAQA,GAC1B9K,EAAOhB,KAAOA,EACdgB,EAAOk+B,KAAOA,EAEdl8B,OAAOC,gBAAgBH,MAAM9B,EAC9B,8BAQD,SAAcmwD,EAAQ40C,GACpB,IAAIy7B,EAAQtoF,SAASS,cAAc,SAQnC,OAPIosD,IACFy7B,EAAQz7B,EAAI07B,SAEdD,EAAME,UAAYvwE,EAClBqwE,EAAMz/C,MAAMnzE,MAAQuiD,EAAOviD,MAC3B4yH,EAAMz/C,MAAM+W,OAAS3nC,EAAO2nC,OAC5B0oC,EAAMrqG,OACCqqG,CACR,8BAQD,SAAcrwE,EAAQ40C,GACpB,IAAIy7B,EAAQtoF,SAASS,cAAc,SAQnC,OAPIosD,IACFy7B,EAAQz7B,EAAI07B,SAEdD,EAAME,UAAYvwE,EAClBqwE,EAAMz/C,MAAMnzE,MAAQuiD,EAAOviD,MAC3B4yH,EAAMz/C,MAAM+W,OAAS3nC,EAAO2nC,OAC5B0oC,EAAMrqG,OACCqqG,CACR,gCAQD,SAAgBrwE,EAAQ40C,GACtB,IAAIy7B,EAAQtoF,SAASS,cAAc,SAQnC,OAPIosD,IACFy7B,EAAQz7B,EAAI07B,SAEdD,EAAME,UAAYvwE,EAClBqwE,EAAMz/C,MAAMnzE,MAAQuiD,EAAOviD,MAC3B4yH,EAAMz/C,MAAM+W,OAAS3nC,EAAO2nC,OAC5B0oC,EAAMrqG,OACCqqG,CACR,2BAMD,WACE,MAAO,CACL5yH,MAAO5R,KAAK67F,OAAO8/B,YACnB7/B,OAAQ97F,KAAK67F,OAAO+/B,aAEvB,8EAvSkBsH,u7BCrBrB,8iPAkBA,IAAMyB,GAAY,SAAC,GAA8D,IAA5D/yH,EAA4D,EAA5DA,MAAOkqF,EAAqD,EAArDA,OAAQ8oC,EAA6C,EAA7CA,eAAuBlmI,EAAsB,QAAdmmI,EAAc,EAAdA,QAE3D97B,GAAM+7B,EAAAA,EAAAA,UACNC,GAASD,EAAAA,EAAAA,UACTE,GAAaF,EAAAA,EAAAA,UACbG,GAAUH,EAAAA,EAAAA,UACVI,GAAQJ,EAAAA,EAAAA,UACRK,GAAeL,EAAAA,EAAAA,UACfM,GAAgBN,EAAAA,EAAAA,UAChBO,GAAeP,EAAAA,EAAAA,UACfQ,GAAiBR,EAAAA,EAAAA,UACjBS,GAAaT,EAAAA,EAAAA,UACbU,GAAgBV,EAAAA,EAAAA,UAGlBW,EAAab,EAAea,WAC5BC,EAAed,EAAec,aAC9B3iI,EAAS,KAGTi6D,EAAS,GACb,MAAkC2oE,EAAAA,EAAAA,WAAS,GAA3C,GAAKC,EAAL,KAAkBC,EAAlB,KACA,MAAkCF,EAAAA,EAAAA,WAAS,GAA3C,GAAKG,EAAL,KAAoBC,EAApB,KACA,MAA8BJ,EAAAA,EAAAA,YAA9B,GAAKK,EAAL,KAAeC,EAAf,KACA,MAA2BN,EAAAA,EAAAA,YAA3B,GAAKO,EAAL,KAAcC,EAAd,KAGA,MAAmCR,EAAAA,EAAAA,UAAS,CAC1CS,aAAcpgI,OAAOqgI,WACrBC,cAAetgI,OAAOugI,cAFxB,GAAOhD,EAAP,KAAmBiD,EAAnB,KAMMC,EAAe,WACnBD,EAAa,CACXJ,aAAcpgI,OAAOqgI,WACrBC,cAAetgI,OAAOugI,aAEzB,EAtC8E,SAyChEG,IAzCgE,mEAyC/E,+FACQ/L,GAAYrrG,OADpB,OAEE4sB,SAASyqF,MAAM77H,IAAI6vH,IAFrB,4CAzC+E,sBAkD/E,SAASiM,EAAmB/qC,GAE1B3/C,SAASzhC,KAAKwf,iBACZ,cACA,SAAU7W,GACJA,EAAElV,QAAU2tF,GACdz4E,EAAE29E,gBAEL,GACD,CAAEC,SAAS,IAEb9kD,SAASzhC,KAAKwf,iBACZ,YACA,SAAU7W,GACJA,EAAElV,QAAU2tF,GACdz4E,EAAE29E,gBAEL,GACD,CAAEC,SAAS,IAEb9kD,SAASzhC,KAAKwf,iBACZ,aACA,SAAU7W,GACJA,EAAElV,QAAU2tF,GACdz4E,EAAE29E,gBAEL,GACD,CAAEC,SAAS,GAEd,CAgFD,SAAS6lC,EAAoBhrC,EAAQr4F,EAAKwiI,EAAUE,EAASY,EAAaC,GAExEb,EAAUY,EAAYE,gBACtBjkI,EAAOkkI,cAAcf,EAASX,GAGnB,IAAI2B,cAAchB,GAG7B,IAAIiB,EAAYpkI,EAAOkkI,cAAcprC,EAAOmrC,iBACxCI,EAAWrkI,EAAOkkI,cAAczjI,EAAIwjI,kBAGxC,SAAUK,IACRN,EAAalL,UAAUsL,EAAW,EAAG,EAAGL,EAAYl1H,MAAOk1H,EAAYhrC,QACvEirC,EAAalL,UAAUuL,EAAU,EAAG,EAAGN,EAAYl1H,MAAOk1H,EAAYhrC,QACtE4nC,sBAAsB2D,EAHxB,GAKD,EAEDC,EAAAA,EAAAA,WAAS,cAAC,wGAERthI,OAAOi0B,iBAAiB,SAAUwsG,GAE5B5qC,EAASkN,EAAI07B,QACbjhI,EAAMuhI,EAAON,QACbxlG,EAASimG,EAAMT,QACft+H,EAAU6+H,EAAWP,QACrBrB,EAAa6B,EAAQR,QAGrBqC,EAAcxB,EAAeb,QAC/BsC,EAAeD,EAAYrE,WAAW,MAG1C1/H,EAAS,IAAIwkI,GAAS1rC,EAAQr4F,EAAKy7B,EAAQ94B,EAASi9H,EAAYxxH,EAAOkqF,GAIvE+qC,EAAoBhrC,EAAQr4F,EAAKwiI,EAAUE,EAASY,EAAaC,GAnBzD,UAsBFL,IAtBE,yBAyBF3jI,EAAOrD,KAAKklI,GAzBV,eA4BR7hI,EAAO2oD,SA5BC,mBA+BD,WACLk7E,EAAmB/qC,GACnB+qC,EAAmBzgI,GACnBygI,EAAmBpjI,GACnBwC,OAAO86F,oBAAoB,SAAU2lC,GACrC1jI,EAAO2oH,OACR,IArCO,4CAsCP,CAACkZ,IAEJ,IAAI4C,EAA2C,EAA1BjE,EAAW6C,aAAoB,EAAI,KAAO,KAAO7C,EAAW+C,cAC7EmB,EAA0C,EAA1BlE,EAAW6C,aAAoB,EAAI,KAAOoB,EAAgBA,EAAgB,IAC1FE,EAAcnE,EAAW6C,aAAe,KAAO,KAAO7C,EAAW6C,aACjEuB,EAAcpE,EAAW6C,cAAgB,IACzCwB,EAAiB,CACnBC,QAASjC,EAAc,OAAS,QAChC33H,SAAU,WACVi1B,IAAK,EACLhnB,KAAM,EACN4rH,OAAQ,IACRhsC,OAAQ,SACRisC,QAAS,SACT3pC,QAAS,IAEP4pC,EAAqB,CACvBH,QAAS/B,EAAgB,OAAS,QAClC73H,SAAU,WACVi1B,IAAK,EACL/mB,MAAO,EACP2rH,OAAQ,IACRhsC,OAAQ,SACRisC,QAAS,SACT3pC,QAAS,IAGX,OACE,yBAAKrZ,MAAO,CAAEkjD,WAAY,OAAQC,YAAa,SAC7C,yBACEnjD,MAAO,CACL92E,SAAU,WACV85H,QAAS,OACT3kG,WAAY,YACZ04D,OAAQ2rC,EAAe,KACvB71H,MAAO81H,EAAc,MAEvBS,iBAAkB,SAAC/kH,GAAD,OAAOqiH,EAAWriH,EAAEglH,YAApB,EAClBC,eAAgB,SAACjlH,GAAD,OAAOqiH,EAAWriH,EAAEglH,YAApB,EAChBE,SAAU,GAGV,yBAAKvjD,MAAO,CAAE8iD,QAAU/B,EAAyB,QAAT,QAAoB/8B,IAAKy8B,GAC/D,2BAAOzgD,MAAO,CAAE8iD,QAASjC,EAAc,QAAU,QAAUh0H,MAAO81H,EAAc,EAAG5rC,OAAQ2rC,EAAe,EAAG1+B,IAAKw8B,IAClH,2BAAOxgD,MAAO,CAAE8iD,QAASjC,EAAc,OAAS,SAAWh0H,MAAO81H,EAAc,EAAG5rC,OAAQ2rC,EAAe,EAAG1+B,IAAKs8B,KAGpH,yBAAKtgD,MAAO,CAAE8iD,QAAS/B,EAAgB,OAAS,UAE9C,4BACE/gD,MAAO,CACL92E,SAAU,WACV65H,OAAQ,EACR5kG,IAAK,EACLhnB,KAAM,EACNqsH,UAAW,SAEbx/B,IAAKA,EACLn3F,MAAO81H,EACP5rC,OAAQ2rC,EACRe,UAAW9pI,IAGb,4BACEqmF,MAAO,CACL92E,SAAU,WACV65H,OAAQ,EACR5kG,IAAK,EACLhnB,KAAM,EACNknB,WAAY,OACZmlG,UAAW,SAEbx/B,IAAKg8B,EACLnzH,MAAO81H,EACP5rC,OAAQ2rC,EACRe,UAAW9pI,EACX+pI,UAAYd,EAAmD,KAArC,SAACvkH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EAC1BM,YAAcf,EAAmD,KAArC,SAACvkH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EAC5BO,YAAchB,EAAmD,KAArC,SAACvkH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,IAG9B,4BACErjD,MAAO,CACL92E,SAAU,WACV65H,OAAQ,EACR5kG,IAAK,EACLhnB,KAAM,EACNknB,WAAY,OACZykG,QAASF,EAAc,QAAU,OACjCY,UAAW,SAEbx/B,IAAKi8B,EACL4D,QAASjB,EACT/1H,MAAO81H,EACP5rC,OAAQ0rC,EACRgB,UAAW9pI,EACX+pI,UAAW,SAACrlH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EACXM,YAAa,SAACtlH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EACbO,YAAa,SAACvlH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EACbS,mBAAoB,SAACzlH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EACpBU,qBAAsB,SAAC1lH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EACtBW,oBAAqB,SAAC3lH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,EACrBY,kBAAmB,SAAC5lH,GAAD,OAAOsiH,EAAatiH,EAAEglH,YAAtB,IAGrB,4BAAQrjD,MAAO,CAAE8iD,QAAS,QAAU9+B,IAAKm8B,EAAOtzH,MAAO,IAAKkqF,OAAQ,MAEpE,4BACElqF,MAAO81H,EACP5rC,OAAQ2rC,EACR1+B,IAAKu8B,EACLvgD,MAAO,CACL8iD,QAAS,YAKjB,6BACE,2BAAOnxH,KAAK,OAAOqyF,IAAKk8B,EAASxsG,IAAKosG,QAAAA,EAAW,KAAM+D,QAAM,IAE7D,4BAAQ7jD,MAAO6iD,EAAgB7+B,IAAKo8B,EAAc8D,QAAS,kBAjQjE,SAAwB/C,EAASF,GAC/BC,EAAYD,GACZG,EAAUD,GAGVF,EAASrnI,QACTqnI,EAASkD,QAAU,WACjBrD,GAAa,EACd,EAGDG,EAASmD,gBAAkB,SAAC/lH,GAC1BA,EAAErY,KAAK+wB,MAAQkhC,EAAOvyD,KAAK2Y,EAAErY,KAC9B,EAGDi7H,EAASoD,OAAS,SAAsBhmH,GACtC,GAAI45C,EAAO/9D,OAAQ,CACjB4mI,GAAa,GAEb,IAAI5sG,EAAO,IAAID,KAAKgkC,GAChBqsE,EAASlwG,IAAIC,gBAAgBH,GAE7BqwG,EAAMjE,EAAaZ,QACvB6E,EAAIC,UAAW,EACfD,EAAI7wG,IAAM4wG,EACVC,EAAIE,MAAQ,WACVrwG,IAAI6jB,gBAAgBqsF,EACrB,EAEDrsE,EAAS,EACV,CACF,CACF,CAgOsEysE,CAAevD,EAASF,EAA9B,GAA3D,mBAGA,4BAAQjhD,MAAK,SAAO6iD,GAAP,IAAuBC,QAASjC,EAAc,QAAU,SAAU78B,IAAKo8B,EAAc8D,QAAS,kBAtSjH,SAAuBjD,GACrBX,EAAaZ,QAAQnqG,QACrB0rG,SAAAA,EAAU9xG,MACX,CAmSsHw1G,CAAc1D,EAApB,GAA3G,kBAGA,4BAAQjhD,MAAK,MAAOijD,GAAsBj/B,IAAKq8B,EAAe6D,QAAS,WAjO3ElD,GAAW,EAiOgE,GAAvE,kBAGA,4BAAQhhD,MAAK,SAAOijD,GAAP,IAA2BH,QAAS/B,EAAgB,QAAU,SAAU/8B,IAAKq8B,EAAe6D,QAAS,WAvOtHlD,GAAW,EAuO2G,GAAlH,cAMP,EAEDpB,GAAU55E,UAAY,CACpBn5C,MAAOqnE,IAAAA,OAAAA,WACP6iB,OAAQ7iB,IAAAA,OAAAA,WACR2rD,eAAgB3rD,IAAAA,OAAAA,WAChB0wD,MAAO1wD,IAAAA,OAAAA,YAGT,iDC5Xe,SAASv5E,GAAKwgI,GAE3B,IAAMjvG,EAAKjxB,KAAKixB,GAiFhB,OA7EAivG,EAAc0J,YAAc34G,EAAG44G,oBAC/B3J,EAAc4J,iBAAmB74G,EAAG4N,eAGpCqhG,EAAc6J,oBAAsB94G,EAAGK,mBAAmB4uG,EAAe,gBACzEA,EAAc8J,gBAAkB/4G,EAAGK,mBAAmB4uG,EAAe,UACrEA,EAAc+J,cAAgBh5G,EAAGK,mBAAmB4uG,EAAe,UAEnEA,EAAcgK,UAAYj5G,EAAGk5G,oBAC7Bl5G,EAAGm5G,gBAAgBlK,EAAcgK,WAEjChK,EAAcmK,mBAAqBp5G,EAAG4N,eACtC5N,EAAGyP,WAAWzP,EAAGsoE,aAAc2mC,EAAcmK,oBAC7Cp5G,EAAGuoE,WAAWvoE,EAAGsoE,aAAc,IAAI3wD,aAAa,EAC3C,EAAG,GACH,GAAI,EACL,GAAI,GACH,EAAG,EACJ,GAAI,EACJ,EAAG,IACH3X,EAAG4O,aACP5O,EAAG2xB,oBAAoB,EAAG,EAAG3xB,EAAG4xB,OAAO,EAAO,EAAG,GACjD5xB,EAAGG,wBAAwB,GAE3B8uG,EAAcoK,YAAcr5G,EAAG8mE,gBAC/B9mE,EAAG4U,YAAY5U,EAAG6U,WAAYo6F,EAAcoK,aAC5Cr5G,EAAGyxG,YAAYzxG,EAAG0xG,qBAAqB,GACvC1xG,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG8nE,mBAAoB9nE,EAAG6nE,SAC1D7nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG4nE,mBAAoB5nE,EAAG6nE,SAC1D7nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAGynE,eAAgBznE,EAAG0nE,eACtD1nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG2nE,eAAgB3nE,EAAG0nE,eACtD1nE,EAAGs5G,aAAat5G,EAAG6U,WAAY,EAAG7U,EAAGu5G,kBAAmBv5G,EAAGw5G,mBAAoBx5G,EAAGy5G,qBAClFz5G,EAAG05G,qBAAqB15G,EAAG25G,YAAa35G,EAAG45G,iBAAkB55G,EAAG6U,WAAYo6F,EAAcoK,YAAa,GAEvGr5G,EAAG65G,gBAAgB75G,EAAG25G,YAAa1K,EAAc0J,aAEjD1J,EAAc6K,YAAc95G,EAAG8mE,gBAC/B9mE,EAAG4U,YAAY5U,EAAG6U,WAAYo6F,EAAc6K,aAC5C95G,EAAGyxG,YAAYzxG,EAAG0xG,qBAAqB,GACvC1xG,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG8nE,mBAAoB9nE,EAAG6nE,SAC1D7nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG4nE,mBAAoB5nE,EAAG6nE,SAC1D7nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAGynE,eAAgBznE,EAAG0nE,eACtD1nE,EAAGwnE,cAAcxnE,EAAG6U,WAAY7U,EAAG2nE,eAAgB3nE,EAAG0nE,eACtD1nE,EAAGs5G,aAAat5G,EAAG6U,WAAY,EAAG7U,EAAG+5G,MAAO/5G,EAAGw5G,mBAAoBx5G,EAAGy5G,qBACtEz5G,EAAG05G,qBAAqB15G,EAAG25G,YAAa35G,EAAGg6G,kBAAmBh6G,EAAG6U,WAAYo6F,EAAc6K,YAAa,GAExG95G,EAAG65G,gBAAgB75G,EAAG25G,YAAa,MAGnC1K,EAAcjkC,KAAO,WACnBhrE,EAAG8U,UAAUm6F,EAAc+J,cAAe,GAM1Ch5G,EAAG65G,gBAAgB75G,EAAG25G,YAAa1K,EAAc0J,aACjD34G,EAAGm5G,gBAAgBlK,EAAcgK,WACjCj5G,EAAGi6G,eAAej6G,EAAGk6G,eAAgB,EAAGjL,EAAc4J,kBACtD74G,EAAGyP,WAAWzP,EAAGk6G,eAAgBjL,EAAc4J,kBAE/C74G,EAAG8U,UAAUm6F,EAAc8J,gBAAiB,GAC5C/4G,EAAGm6G,WAAWlL,EAAc6J,oBAAqB,CAAC,EAAK,IACvD94G,EAAGgQ,WAAWhQ,EAAGiQ,UAAW,EAAG,GAM/BjQ,EAAG65G,gBAAgB75G,EAAG25G,YAAa,MACnC35G,EAAGm5G,gBAAgBlK,EAAcgK,WACjCj5G,EAAG8U,UAAUm6F,EAAc8J,gBAAiB,GAC5C/4G,EAAGm6G,WAAWlL,EAAc6J,oBAAqB,CAAC,EAAK,IACvD94G,EAAGgQ,WAAWhQ,EAAGiQ,UAAW,EAAG,EAChC,EAGMg/F,CACR,wSCnFD,23PAuBO,SAAemL,GAAtB,6EAAO,WAAuBrpG,EAAMspG,EAAO5mI,GAApC,4FACL7E,QAAQC,IAAI,mBAGRyrI,EACsB,iBAAjBvpG,EAAKgiG,QACRhiG,EAAKgiG,QACLhiG,EAAKgiG,QAAQ9kI,KAAI,SAACmB,GAAW,MAC3B,MAAO,CACL6B,GAAI7B,EAAO6B,GACXwU,KAAMrW,EAAOqW,KACb5U,IAAK,GAAIN,EAAAA,GAAN,GAAgBnB,EAAOyB,MAC1B1B,OAAQqB,GAAAA,GAAUpB,EAAOD,QACzBs+B,MAAK,UAAEr+B,EAAOq+B,aAAT,QAAkB,KAE1B,IAEH8sG,EAAUxpG,EAAKypG,OAAOvsI,KAAI,SAACwsI,GAC7B,MAAO,CACLxpI,GAAIwpI,EAAMxpI,GACVqI,QAASmhI,EAAMnhI,QAAQrL,KAAI,SAACsL,GAC1B,OAAIA,EAAOd,QACF,CAAEA,QAASc,EAAOd,QAAS0P,MAAO,GAElC,CACL/Y,OAAQmK,EAAOnK,OACfmK,OAAQA,EAAOA,OACfE,KAAMF,EAAOE,KACb0O,MAAO,EAGZ,IACDA,MAAO,EAEV,IAlCI,SAoCgBvS,QAAQC,IAC3Bk7B,EAAK53B,QAAQlL,IAAb,+BAAiB,WAAOsxB,GAAP,mGAGS9rB,EAAIm0B,KAAJ,mBAAqBrI,EAAO9mB,QAA5B,SAA2CovB,MAAM,UAH1D,cAGTsL,EAHS,OAIbvkC,QAAQC,IAAI,CAAEC,IAAK,aAAcqkC,UAAAA,IAG7Bl9B,EAAU,SAAC+E,GACb,IAMS,EANL63B,EAAc,IAAIpT,GAAAA,EAAoBzkB,EAAMlJ,QAIhD,OAHA+gC,EAAYC,SAAS,CAAE93B,MAAAA,IACvB63B,EAAYhT,cACZgT,EAAY/I,IAAI,mCACT,CACL74B,GAAIsuB,EAAOtuB,GACXwH,SAAO,gBAAE,sFACP7J,QAAQC,IAAI,0BADL,kBAEAgkC,EAAY/I,IAAIqJ,IAFhB,2CAAF,4CAKV,EAAE/hC,KAAK,EAZM,CAYA,GACdxC,QAAQC,IAAI,CAAEC,IAAK,iCAAkCmH,OAAAA,IApBxC,kBAsBNA,GAtBM,kCAwBbrH,QAAQ8iB,MAAR,MAxBa,0DAAjB,wDArCG,cAoCDgpH,EApCC,OAkEDC,EAAW5pG,EAAK6zE,QAAQ32G,KAAI,SAACyH,GAC/B,MAAO,CACLzE,GAAIyE,EAAOzE,GACXwU,KAAM/P,EAAO+P,KACbmxB,IAAKlhC,EAAOkhC,IACZrC,SAAU7+B,EAAO6+B,SAAP,GAAsBhkC,EAAAA,GAAtB,GAAgCmF,EAAO6+B,WAAY,KAC7D1jC,IAAK6E,EAAO7E,IAAP,GAAiBN,EAAAA,GAAjB,GAA2BmF,EAAO7E,MAAO,KAC9C28B,SAAU93B,EAAO83B,SAAP,GAAsBj9B,EAAAA,GAAtB,GAAgCmF,EAAO83B,WAAY,KAEhE,IA3EI,kBA0FE,CAELotG,OAAQ7pG,EAAK6pG,OAEbxvG,QAAS2F,EAAK3F,QAEdivG,MAAOA,EAEPtH,QAASuH,EAETE,OAAQD,EAERphI,QAASuhI,EAET91B,QAAS+1B,EAETrN,OAAQv8F,EAAKu8F,SA1GV,oEAoHA,SAASuN,GAAaR,EAAO/wG,GAElC,GAAqB,iBAAV+wG,EACT,OAAOA,EAET,IAAIpkI,EAAS,GAOb,OANAokI,EAAMjtH,SAAQ,SAAC0tH,EAAK3sI,GAClB,IAAI6S,EAAM85H,EAAI9sI,OACd8sI,EAAI1tH,SAAQ,SAAC2tH,EAAMz1H,GACjBrP,EAAO9H,EAAI6S,EAAMsE,GAAKgkB,EAAQyxG,EAC/B,GACF,IACM9kI,CACR,+tCCxJD,w3OAoBqB+kI,GAAAA,SAAAA,mpBAMnB,WAAYC,EAAQ9qI,GAAO,mHACzB,gBACKg7B,WAAah7B,EAAMc,GACxB,EAAKA,GAAKgqI,EACV,EAAK/uG,MAAQx8B,KAAKe,MAAsB,IAAhBf,KAAKqW,UAC7B,EAAK5V,MAAQA,EACb,EAAK2J,KAAO,CAAC,EACb,EAAK9D,WAAa,CAAC,EACnB,EAAKT,WAAa,GAClB,EAAKQ,WAAa,CAAC,EACnB,EAAKN,WAAa,GAClB,EAAK63H,OAAS,GACd,EAAKjyH,OAAS,GACd,EAAKpJ,QAAUC,KAAKupB,MACpB,EAAK3pB,OAAS3B,EAAM2B,OACpB,EAAK8H,cAAgB,IAAIP,GAAAA,EACzB,EAAK6hI,aAAe,IAAIvnG,GAAAA,GAAaxjC,EAAM2B,QAC3C,EAAKqpI,aAAe,IAAI1kG,GAAAA,GAAatmC,EAAM2B,QAC3C,EAAKwL,YAAcA,GAAAA,GACnB,EAAK89H,SAAW,IAAInwG,GAAAA,GAAc96B,EAAM2B,QACxC,EAAK6B,MAAQ,KAEb,EAAK46B,0BAA4B,EAAKA,0BAA0Bn9B,KAA/B,OACjC,EAAKiqI,wBAA0B,EAAKA,wBAAwBjqI,KAA7B,OAC/B,EAAKkqI,kBAAoB,EAAKA,kBAAkBlqI,KAAvB,aACzB,EAAKmqI,kBAAoB,EAAKA,kBAAkBnqI,KAAvB,aACzB,EAAKoqI,WAAa,EAAKA,WAAWpqI,KAAhB,aAClB,EAAKqqI,aAAe,EAAKA,aAAarqI,KAAlB,aACpB,EAAKsqI,WAAa,EAAKA,WAAWtqI,KAAhB,aAClB,EAAKiB,WAAa,EAAKA,WAAWjB,KAAhB,OA7BO,CA8B1B,wDAKD,8GAC6Bu/B,MAAMgrG,GAAAA,EAAAA,eAAyB5sI,KAAKkC,KADjE,YACQ2qI,EADR,QAEmB/qG,GAFnB,0CAKuB+qG,EAAa7qG,OALpC,cAKUj3B,EALV,OAMM/K,KAAK6rI,OAAS9gI,EAAK8gI,OACnB7rI,KAAK87B,KAAO,CAAC/wB,EAAK8gI,OAAO,GAAK9gI,EAAK8gI,OAAO,GAAI9gI,EAAK8gI,OAAO,GAAK9gI,EAAK8gI,OAAO,IAE3E7rI,KAAKsrI,MAA6B,mBAAdvgI,EAAKugI,MAAsBvgI,EAAKugI,MAAMtrI,KAAK6rI,OAAQ7rI,MAAQ+K,EAAKugI,MAEpFtrI,KAAKgkI,QAAiC,mBAAhBj5H,EAAKi5H,QAAwBj5H,EAAKi5H,QAAQhkI,KAAK6rI,OAAQ7rI,MAAQ+K,EAAKi5H,QAXhG,UAa2BhkI,KAAKqsI,SAAS/8G,KAAKvkB,EAAKsxB,QAASr8B,KAAKo8B,YAbjE,WAaMp8B,KAAKq8B,QAbX,OAcMr8B,KAAKq8B,QAAQkD,wBAAwBv/B,KAAKw/B,0BAA0Bn9B,KAAKrC,OACzEA,KAAKq8B,QAAQnB,cAAcl7B,KAAKssI,wBAAwBjqI,KAAKrC,QAEzD+K,EAAKi5H,QAjBf,kCAiB8Bn9H,QAAQC,IAAIiE,EAAKi5H,QAAQ9kI,IAAIc,KAAKysI,WAAWpqI,KAAKrC,QAjBhF,YAkBU+K,EAAK8qG,QAlBf,kCAkB8BhvG,QAAQC,IAAIiE,EAAK8qG,QAAQ32G,IAAIc,KAAK2sI,WAAWtqI,KAAKrC,QAlBhF,QAoBMA,KAAKwG,WAAW6X,SAAQ,SAAChe,GAAD,OAAYA,EAAO66B,cAAc,EAAKoxG,wBAAwBjqI,KAAK,GAAnE,IACxBrC,KAAK0G,WAAW2X,SAAQ,SAAC1X,GAAD,OAAYA,EAAOu0B,cAAc,EAAKoxG,wBAAwBjqI,KAAK,GAAnE,IArB9B,kDAuBMxC,QAAQ8iB,MAAM,sBAAwB3iB,KAAKkC,IAC3CrC,QAAQ8iB,MAAR,MAxBN,0IAgCA,uGAGQ5X,EAAO09B,EAAAA,KAAAA,CAAQ,KAAazoC,KAAKo8B,WAAa,SAAWp8B,KAAKkC,GAAK,YAA5D,QACXyG,OAAOqC,OAAOhL,KAAM+K,GAEK,mBAAd/K,KAAKsrI,QACdtrI,KAAKsrI,MAAQtrI,KAAKsrI,MAAMtrI,KAAK6rI,OAAQ7rI,OAGnCA,KAAK8sI,WACP9sI,KAAK4E,MAAQ5E,KAAK+C,OAAOwB,gBAAgBC,YAAY8qB,KAAKtvB,KAAK8sI,UAAU,IAG3E9sI,KAAK87B,KAAO,CAAC97B,KAAK6rI,OAAO,GAAK7rI,KAAK6rI,OAAO,GAAI7rI,KAAK6rI,OAAO,GAAK7rI,KAAK6rI,OAAO,IAd/E,SAeyB7rI,KAAKqsI,SAAS/8G,KAAKtvB,KAAKq8B,QAASr8B,KAAKo8B,YAf/D,cAeIp8B,KAAKq8B,QAfT,OAgBIr8B,KAAKq8B,QAAQkD,wBAAwBv/B,KAAKw/B,0BAA0Bn9B,KAAKrC,OACzEA,KAAKq8B,QAAQnB,cAAcl7B,KAAKssI,wBAAwBjqI,KAAKrC,OAElC,mBAAhBA,KAAKgkI,UACdhkI,KAAKgkI,QAAUhkI,KAAKgkI,QAAQhkI,KAAK6rI,OAAQ7rI,OAEvCyJ,EAAOzJ,KAtBf,UAuBU6G,QAAQC,IAAI2C,EAAKu6H,QAAQ9kI,IAAIuK,EAAKgjI,aAvB5C,yBAwBU5lI,QAAQC,IAAI2C,EAAKosG,QAAQ32G,IAAIuK,EAAKkjI,aAxB5C,QA0BIljI,EAAKjD,WAAW6X,SAAQ,SAAChe,GAAD,OAAYA,EAAO66B,cAAczxB,EAAK6iI,wBAAtC,IACxB7iI,EAAK/C,WAAW2X,SAAQ,SAAC1X,GAAD,OAAYA,EAAOu0B,cAAczxB,EAAK6iI,wBAAtC,IA3B5B,kDA6BIzsI,QAAQ8iB,MAAM,sBAAwB3iB,KAAKkC,IAC3CrC,QAAQ8iB,MAAR,MA9BJ,wJAwCA,WAAyBjZ,EAAShF,GAAlC,mGAG0BA,EAAIm0B,KAAJ,mBAAqBnvB,EAArB,SAAoCovB,MAAM,UAHpE,cAGQsL,EAHR,OAIIvkC,QAAQC,IAAI,CAAEC,IAAK,aAAcqkC,UAAAA,IAJrC,mBAMW,SAACn4B,EAAOE,GACb,IAAI23B,EAAc,IAAIpT,GAAAA,EAAoBzkB,EAAMlJ,QAIhD,OAHA+gC,EAAYC,SAAS,CAAE93B,MAAAA,EAAOE,QAAAA,IAC9B23B,EAAYhT,cACZgT,EAAY/I,IAAI,oDACT+I,EAAY/I,IAAIqJ,EACxB,IAZL,gCAcIvkC,QAAQ8iB,MAAM,CAAE5iB,IAAK,2BAA4BqjB,EAAC,OAdtD,yBAkB4B1e,EAAIm0B,KAAJ,mBAAqBnvB,EAArB,QAAmCovB,MAAM,UAlBrE,eAkBM3uB,EAlBN,yBAmBS4iI,KAAK1iI,KAAKrK,KAAMmK,IAnBzB,uJA+BA,WAAsB6iI,EAAUC,EAAUvoI,GAA1C,8GAA+CwoI,EAA/C,gCACMzjI,EAAOzJ,KACXH,QAAQC,IAAI,eAFd,UAMQktI,EAAQ,QANhB,wBAOMntI,QAAQC,IAAI,cACR4hG,EAAY,CAAC,EACjB7hG,QAAQC,IAAI,CAAEktI,SAAAA,EAAUC,SAAAA,EAAUvoI,IAAAA,IATxC,UAUYmC,QAAQC,IACZkmI,EAAQ,QAAS9tI,IAAjB,+BAAqB,WAAO25B,GAAP,oFACLtoB,KADK,SACY7L,EAAIm0B,KAAK,QAAUA,EAAO,aAAaC,MAAM,UADzD,mBACfgE,EADe,KACAtf,MADA,gBAEnBkkF,GAAYjuE,EAAAA,GAAAA,IAAUiuE,EAAW5kE,GACjCj9B,QAAQC,IAAIyQ,KAAKiN,MAAMjN,KAAKC,UAAUkxF,KAHnB,2CAArB,wDAXR,QAkBMsrC,EAAQ,QAAW,KACnBrkI,OAAOqC,OAAO02F,EAAWsrC,GACzBA,EAAWtrC,EApBjB,WAsBI7hG,QAAQC,IAAI,CAAEktI,SAAAA,KAEVC,EAAQ,QAxBhB,wBAyBU3B,EAAQ,GAzBlB,UA0BYzkI,QAAQC,IACZmmI,EAAQ,QAAS/tI,IAAjB,+BAAqB,WAAO25B,GAAP,oFACLtoB,KADK,SACY7L,EAAIm0B,KAAK,QAAUA,EAAO,eAAeC,MAAM,UAD3D,mBACfgE,EADe,KACAtf,MADA,gBAGjB8tH,EADExuG,EAAQwuG,MACFA,EAAM9lH,OAAOsX,EAAQwuG,OAErBA,EAAM9lH,OAAOsX,GALJ,2CAArB,wDA3BR,QAoCMmwG,EAAW3B,EAAM9lH,OAAOynH,EAAS3B,OApCvC,WAsCIzrI,QAAQC,IAAI,CAAEmtI,SAAAA,KAEVD,EAAS/kI,KAxCjB,wBAyCUklI,EAAQ,CAAC,EAzCnB,UA0CYtmI,QAAQC,IACZ6B,OAAOC,KAAKokI,EAAS/kI,MAAM/I,IAA3B,+BAA+B,WAAOgD,GAAP,4EACzB+F,EAAO+kI,EAAS/kI,KAAK/F,IACpBA,GAAKA,GACN+F,EAAKsD,OAHoB,gCAIN9B,EAAK2jI,mBAAmBnlI,EAAKsD,OAAQ7G,GAJ/B,OAI3BuD,EAAKsD,OAJsB,OAIqClJ,KAAKoH,EAAMA,GAJhD,WAMzBxB,EAAKyB,QANoB,iCAOLD,EAAK2jI,mBAAmBnlI,EAAKyB,QAAShF,GAPjC,OAO3BuD,EAAKyB,QAPsB,OAOuCrH,KAAKoH,EAAMA,GAPlD,QAS7B0jI,EAAMjrI,GAAM+F,EATiB,4CAA/B,wDA3CR,QAwDMjI,KAAKmtI,MAAQA,EACbntI,KAAKoB,MAAMisI,UAAUrtI,KAAKmtI,OAzDhC,mCA8D0BntI,KAAKqsI,SAAS5nI,YAAYC,EAAKsoI,EAAS3wG,QAASr8B,KAAKo8B,YA9DhF,eA8DUC,EA9DV,OA+DMx8B,QAAQC,IAAI,WACRwrI,EAAQQ,GAAamB,EAAU5wG,EAAQ3B,OAC3C76B,QAAQC,IAAI,SAjElB,UAkEsBurI,GAAQhhI,KAAKrK,KAAMgtI,EAAU1B,EAAO5mI,GAlE1D,QAkEUxF,EAlEV,OAmEMW,QAAQC,IAAI,OACZ6I,OAAOqC,OAAOhL,KAAMd,GACpBW,QAAQC,IAAI,cArElB,mDAuEMD,QAAQC,IAAIE,MACZH,QAAQ8iB,MAAM,CAAE5iB,IAAK,oCAAqCqjB,EAAC,OAxEjE,QA4EI,IAC4B,iBAAfpjB,KAAKsrI,QACdtrI,KAAKsrI,MAAQyB,KAAK1iI,KAAKrK,KAAMA,KAAKsrI,OAAOjhI,KAAKrK,KAAMA,KAAK6rI,OAAQ7rI,MAEpE,CAAC,MAAOojB,GACPvjB,QAAQ8iB,MAAM,CAAE5iB,IAAK,8BAA+BqjB,EAAAA,GACrD,CAlFL,aAsFMvjB,QAAQC,IAAI,CAAEC,IAAK,YAAa04B,IAAKu0G,EAASF,SAAU1zH,MAAOpZ,QAC3DgtI,EAASF,SAvFnB,kCAwF2B9sI,KAAK+C,OAAOwB,gBAAgBC,YAAYC,YAAYC,EAAKsoI,EAASF,UAAU,GAxFvG,QAwFQ9sI,KAAK4E,MAxFb,kEA2FM/E,QAAQ8iB,MAAM,CAAE5iB,IAAK,4BAA6BqjB,EAAC,OA3FzD,QA+FI,IACEpjB,KAAKu+H,OAAL,UAAcyO,EAASzO,cAAvB,QAAiC,GACjCv+H,KAAKu+H,OAAOlgH,SAAQ,SAACugH,GAAD,OAClB,EAAK77H,OAAOmI,cAAcm0B,aAAaC,SACrCs/F,EAAM18H,GACN08H,EAAM98H,IACN88H,EAAMzhC,MACNyhC,EAAMrgG,YACNqgG,EAAMx3H,UACNw3H,EAAM1gG,QACN0gG,EAAMpgG,uBACNogG,EAAMF,QATU,IAYpB7+H,QAAQC,IAAI,CAAEC,IAAK,aAAcutI,GAAIttI,KAAK+C,OAAOmI,cAAcm0B,cAChE,CAAC,MAAOjc,GACPvjB,QAAQ8iB,MAAM,CAAE5iB,IAAK,uBAAwBqjB,EAAAA,GAC9C,CAGD,IACEpjB,KAAKq8B,QAAUA,EACfx8B,QAAQC,IAAI,CAAEC,IAAK,cAAes8B,QAASr8B,KAAKq8B,UAChDr8B,KAAK87B,KAAO,CAAC97B,KAAK6rI,OAAO,GAAK7rI,KAAK6rI,OAAO,GAAI7rI,KAAK6rI,OAAO,GAAK7rI,KAAK6rI,OAAO,GAC5E,CAAC,MAAOzoH,GACPvjB,QAAQ8iB,MAAM,CAAE5iB,IAAK,wBAAyBqjB,EAAAA,GAC/C,CAGD,IAC8B,iBAAjBpjB,KAAKgkI,UACdhkI,KAAKgkI,QAAU+I,KAAK1iI,KAAKZ,EAAMA,EAAKu6H,SAAS35H,KAAKZ,EAAMA,EAAKoiI,OAAQpiI,GAExE,CAAC,MAAO2Z,GACPvjB,QAAQ8iB,MAAM,CAAE5iB,IAAK,gCAAiCqjB,EAAAA,GACvD,CAlIL,2BAsIYvc,QAAQC,IACZ2C,EAAKu6H,QAAQ9kI,IAAb,+BAAiB,WAAOmB,GAAP,wFACGoJ,EAAK+iI,kBAAkBnsI,EAAQqE,EAAKwoI,GADvC,cACXK,EADW,yBAERA,GAFQ,2CAAjB,wDAvIR,2DA6IM1tI,QAAQ8iB,MAAM,CAAE5iB,IAAK,iCAAkCqjB,EAAC,OA7I9D,mCAkJYvc,QAAQC,IAAI2C,EAAKosG,QAAQ32G,KAAI,SAACyH,GAAD,OAAY8C,EAAK8iI,kBAAkB5lI,EAAQjC,EAA3C,KAlJzC,2DAoJM7E,QAAQ8iB,MAAM,CAAE5iB,IAAK,iCAAkCqjB,EAAC,OApJ9D,QAwJIpjB,KAAKq8B,QAAQkD,wBAAwBv/B,KAAKw/B,0BAA0Bn9B,KAAKrC,OACzEA,KAAKq8B,QAAQnB,cAAcl7B,KAAKssI,wBAAwBjqI,KAAKrC,OAG7DyJ,EAAKjD,WAAW6X,SAAQ,SAAChe,GAAD,OAAYA,EAAO66B,cAAczxB,EAAK6iI,wBAAtC,IAGxB7iI,EAAK/C,WAAW2X,SAAQ,SAAC1X,GAAD,OAAYA,EAAOu0B,cAAczxB,EAAK6iI,wBAAtC,IA/J5B,kDAiKIzsI,QAAQ8iB,MAAM,2BAA6B3iB,KAAKkC,IAChDrC,QAAQ8iB,MAAR,MAlKJ,wKAyKA,WAAiB,WAEf3iB,KAAKu+H,OAAOlgH,SAAQ,SAACugH,GAAD,OAAW,EAAK77H,OAAOmI,cAAcm0B,aAAam/F,YAAYI,EAAM18H,GAApE,GACrB,0CAKD,WACElC,KAAK4/B,aAAe,GACpB5/B,KAAK4+B,aAAe,GACpB5+B,KAAKwtI,YAAc,GAEnB,IAAK,IAAIj3H,EAAI,EAAGskB,EAAI,EAAGtkB,EAAIvW,KAAK87B,KAAK,GAAIvlB,IAAK,CAI5C,IAHA,IAAIglB,EAAW,GACXkyG,EAAkB,GAEbruI,EAAI,EAAGA,EAAIY,KAAK87B,KAAK,GAAI18B,IAAKy7B,IAAK,CAC1C,IAAImxG,EAAOhsI,KAAKsrI,MAAMzwG,GACtB76B,KAAKwtI,YAAY3yG,GAAKp5B,GAAAA,GAAAA,IAGtB,IAFA,IAAIoW,EAAIlX,KAAKC,MAAMorI,EAAK/sI,OAAS,GAExBqT,EAAI,EAAGA,EAAIuF,EAAGvF,IAAK,CAC1B,IAAIo7H,EAAU,CAAC1tI,KAAK6rI,OAAO,GAAKzsI,EAAGY,KAAK6rI,OAAO,GAAKt1H,EAAGy1H,EAAK,EAAI15H,EAAI,IACpEtS,KAAKwtI,YAAY3yG,IAAM76B,KAAKq8B,QAAQsxG,eAAe3B,EAAK,EAAI15H,IAC5DipB,EAAWA,EAAS/V,OAAOxlB,KAAKq8B,QAAQuxG,gBAAgB5B,EAAK,EAAI15H,GAAIo7H,IACrED,EAAkBA,EAAgBjoH,OAAOxlB,KAAKq8B,QAAQwxG,iBAAiB7B,EAAK,EAAI15H,GAAI05H,EAAK,EAAI15H,EAAI,IAClG,CAEG05H,EAAK/sI,QAAU,EAAI4Y,EAAI,IAAG7X,KAAKwtI,YAAY3yG,GAAKmxG,EAAK,EAAIn0H,GAC9D,CACD7X,KAAK4/B,aAAarpB,GAAKvW,KAAK+C,OAAOmI,cAAc2zB,aAAatD,EAAUv7B,KAAK+C,OAAOkuB,GAAG4O,YAAa,GACpG7/B,KAAK4+B,aAAaroB,GAAKvW,KAAK+C,OAAOmI,cAAc2zB,aAAa4uG,EAAiBztI,KAAK+C,OAAOkuB,GAAG4O,YAAa,EAC5G,CACF,wCAMD,YACM7/B,KAAKG,QAAWH,KAAKq8B,QAAQl8B,QAAWH,KAAKwG,WAAW0W,OAAM,SAAC7c,GAAD,OAAYA,EAAOF,MAAnB,KAA+BH,KAAK0G,WAAWwW,OAAM,SAACvW,GAAD,OAAYA,EAAOxG,MAAnB,MAGvHH,KAAKG,QAAS,EACdH,KAAK0N,aAAY,GACjB1N,KAAK6K,cAAckwB,MACpB,4BAOD,WAA6B,WAAjB+yG,EAAiB,wDAE3B,IAAI9tI,KAAKoB,MAAMqwD,SAAf,CAIA,IAAItwD,EAAOnB,KACXA,KAAKoK,QAAQiU,SAAQ,SAAC1c,GACP,gBAATA,EAAEO,IAAwB4rI,GAC5B,EAAK5yG,cAAcv5B,EAAE+H,QAAQrH,KAAKlB,GAErC,GAPA,CAQF,4CAOD,WAAiB8K,EAAOlB,GAAxB,2EACEA,EAAK5J,KAAO8K,EACPjM,KAAKgH,WAAW+D,EAAK7I,KAAQ+J,EAAMjF,WAAW+D,EAAK7I,IAF1D,gCAG0BlC,KAAKosI,aAAa98G,KAAKvkB,GAAM,SAACpE,GAAD,OAAYA,EAAO4hC,OAAO5hC,EAA1B,IAHvD,OAGQonI,EAHR,OAII/tI,KAAKoB,MAAM4F,WAAW+D,EAAK7I,IAAMlC,KAAKgH,WAAW+D,EAAK7I,IAAM6rI,EAC5D/tI,KAAK0G,WAAW+D,KAAKsjI,GACrB/tI,KAAKoB,MAAMsF,WAAW+D,KAAKsjI,GAN/B,gJAgBA,WAAwB9hI,EAAOlB,EAAMrG,GAArC,2EACEqG,EAAK5J,KAAO8K,EACPjM,KAAKgH,WAAW+D,EAAK7I,KAAQ+J,EAAMjF,WAAW+D,EAAK7I,IAF1D,gCAG0BlC,KAAKosI,aAAa3nI,YAAYC,EAAKqG,EAAnC,+BAAyC,WAAOpE,GAAP,kFAAwBA,EAAOqnI,cAAcrnI,EAAQjC,GAArD,mFAAzC,kCAAA1E,KAAA,gBAH1B,OAGQ+tI,EAHR,OAII/tI,KAAKoB,MAAM4F,WAAW+D,EAAK7I,IAAMlC,KAAKgH,WAAW+D,EAAK7I,IAAM6rI,EAC5D/tI,KAAK0G,WAAW+D,KAAKsjI,GACrB/tI,KAAKoB,MAAMsF,WAAW+D,KAAKsjI,GAN/B,2IAeA,WAAiB9hI,EAAOlB,GAAxB,2EACEA,EAAK5J,KAAO8K,EACPjM,KAAKiH,WAAW8D,EAAK7I,KAAQ+J,EAAMhF,WAAW8D,EAAK7I,IAF1D,gCAG0BlC,KAAKmsI,aAAa78G,KAAKvkB,EAAK2L,KAAM1W,KAAKo8B,YAAY,SAAC/7B,GAAD,OAAYA,EAAOkoC,OAAOx9B,EAA1B,IAH7E,OAGQkjI,EAHR,OAIIjuI,KAAKoB,MAAM6F,WAAW8D,EAAK7I,IAAMlC,KAAKiH,WAAW8D,EAAK7I,IAAM+rI,EAC5DjuI,KAAKwG,WAAWiE,KAAKwjI,GACrBjuI,KAAKoB,MAAMoF,WAAWiE,KAAKwjI,GAN/B,gJAgBA,WAAwBhiI,EAAOlB,EAAMrG,GAArC,2EACEqG,EAAK5J,KAAO8K,EACPjM,KAAKiH,WAAW8D,EAAK7I,KAAQ+J,EAAMhF,WAAW8D,EAAK7I,IAF1D,gCAG0BlC,KAAKmsI,aAAa1nI,YAAYC,EAAKqG,EAAK2L,KAAM1W,KAAKo8B,WAAnD,+BAA+D,WAAO/7B,GAAP,kFAAwBA,EAAO2tI,cAAcjjI,EAAMrG,GAAnD,mFAA/D,kCAAA1E,KAAA,gBAH1B,OAGQiuI,EAHR,OAIIjuI,KAAKoB,MAAM6F,WAAW8D,EAAK7I,IAAMlC,KAAKiH,WAAW8D,EAAK7I,IAAM+rI,EAC5DjuI,KAAKwG,WAAWiE,KAAKwjI,GACrBjuI,KAAKoB,MAAMoF,WAAWiE,KAAKwjI,GAN/B,yHAcA,SAAU5tI,GACRA,EAAOc,KAAOnB,KACdA,KAAKoB,MAAM6F,WAAW5G,EAAO6B,IAAMlC,KAAKiH,WAAW5G,EAAO6B,IAAM7B,EAChEL,KAAKwG,WAAWiE,KAAKpK,GACrBL,KAAKoB,MAAMoF,WAAWiE,KAAKpK,EAC5B,6BAMD,SAAa6B,GACXlC,KAAKwG,WAAaxG,KAAKwG,WAAWC,QAAO,SAACpG,GACxC,GAAIA,EAAO6B,KAAOA,EAChB,OAAO,EAEP7B,EAAO6tI,kBAEV,IACDluI,KAAKoB,MAAMoF,WAAaxG,KAAKoB,MAAMoF,WAAWC,QAAO,SAACpG,GACpD,GAAIA,EAAO6B,KAAOA,EAChB,OAAO,EAEP7B,EAAO6tI,kBAEV,WACMluI,KAAKiH,WAAW/E,UAChBlC,KAAKoB,MAAM6F,WAAW/E,EAC9B,iCAKD,WAAmB,WACjBisI,QAAQnuI,KAAKwG,YAAY,SAACnG,GACxB,EAAK4B,aAAa5B,EAAO6B,GAC1B,GACF,8BAOD,SAAcA,GACZ,OAAOlC,KAAKiH,WAAW/E,EACxB,0BASD,SAAU8hI,EAASriI,EAAGC,GACpB,GAAI5B,KAAKouI,QAAQnvI,OAAS,GAA8B,IAAzBe,KAAK2C,UAAUhB,EAAGC,GAAU,CACzD,IAAIysI,EAASruI,KAAKouI,QAAQtqI,MAC1BuqI,EAAOvsI,IAAP,GAAiBN,EAAAA,GAAU,CAACG,EAAGC,EAAG5B,KAAK2C,UAAUhB,EAAGC,KACpDoiI,EAAQv5H,KAAK4jI,EACd,MAAM,GAAIruI,KAAKouI,QAAQnvI,OAAS,GAAM0C,EAAIC,EAAKjB,KAAK8R,IAAI,IAA+B,IAAzBzS,KAAK2C,UAAUhB,EAAGC,GAAU,CACzF,IAAIysI,EAASruI,KAAKouI,QAAQ1oI,QAC1B2oI,EAAOvsI,IAAP,GAAiBN,EAAAA,GAAU,CAACG,EAAGC,EAAG5B,KAAK2C,UAAUhB,EAAGC,KACpDoiI,EAAQv5H,KAAK4jI,EACd,CACD,OAAOrK,CACR,0BAQD,SAAUriI,EAAGC,GACX,IAAK5B,KAAKgC,SAASL,EAAGC,GAEpB,OADA/B,QAAQ8iB,MAAM,0BAA4BhhB,EAAI,KAAOC,EAAI,yBAClD,EA0BT,IAvBA,IAAIxC,EAAIuB,KAAKC,MAAMe,GACf4U,EAAI5V,KAAKC,MAAMgB,GACf+wB,EAAK,CAAChxB,EAAIvC,EAAGwC,EAAI2U,GAGjB+3H,EAAQ,SAAC39H,EAAGhB,GAEd,IAAIu9C,EAAI,CAACv8C,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAKA,EAAE,GAAG,IACvCgF,EAAI,CAAChF,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAKA,EAAE,GAAG,IAGvCia,EAAI,GAAKsiC,EAAE,GAAKv3C,EAAE,GAAKu3C,EAAE,GAAKv3C,EAAE,IAChCsT,EAAI,CAAC2B,EAAIjV,EAAE,IAAKiV,EAAIjV,EAAE,IAAKiV,EAAIsiC,EAAE,GAAItiC,EAAIsiC,EAAE,IAK/C,MAAO,CAFPA,GAAKv9C,EAAE,GAAKgB,EAAE,GAAG,IAAMsY,EAAE,IAAMtZ,EAAE,GAAKgB,EAAE,GAAG,IAAMsY,EAAE,GACnDtT,GAAKhG,EAAE,GAAKgB,EAAE,GAAG,IAAMsY,EAAE,IAAMtZ,EAAE,GAAKgB,EAAE,GAAG,IAAMsY,EAAE,GAEpD,EAGG+iH,EAAOhsI,KAAKsrI,OAAO/0H,EAAIvW,KAAK6rI,OAAO,IAAM7rI,KAAK87B,KAAK,GAAK18B,EAAIY,KAAK6rI,OAAO,IACxEh0H,EAAIlX,KAAKC,MAAMorI,EAAK/sI,OAAS,GACxBqT,EAAI,EAAGA,EAAIuF,EAAGvF,IAAK,CAC1B,IAAIkpB,EAAOx7B,KAAKq8B,QAAQkyG,gBAAgBvC,EAAK,EAAI15H,IACjD,GAAKkpB,EAGL,IAAK,IAAI7rB,EAAI,EAAGA,EAAI6rB,EAAKv8B,OAAQ0Q,IAAK,CACpC,IAAI6+H,EAAKF,EAAM9yG,EAAK7rB,GAAIgjB,GACpBvpB,EAAIolI,EAAG,GAAKA,EAAG,GACnB,GAAIplI,GAAK,EAAG,OAAO4iI,EAAK,EAAI15H,EAAI,IAAM,EAAIlJ,GAAKoyB,EAAK7rB,GAAG,GAAG,GAAK6+H,EAAG,GAAKhzG,EAAK7rB,GAAG,GAAG,GAAK6+H,EAAG,GAAKhzG,EAAK7rB,GAAG,GAAG,EAC3G,CACF,CAGD,OAAOq8H,EAAK,EACb,wBAMD,SAAQD,GAEN/rI,KAAK+C,OAAOmI,cAAcw1B,WAAW1gC,KAAK4/B,aAAamsG,GAAM/rI,KAAK+C,OAAOmI,cAAc8lB,cAAcE,iBAErGlxB,KAAK+C,OAAOmI,cAAcw1B,WAAW1gC,KAAK4+B,aAAamtG,GAAM/rI,KAAK+C,OAAOmI,cAAc8lB,cAAc2P,eAGrG3gC,KAAKq8B,QAAQrB,QAAQ4F,SAGrB5gC,KAAK+C,OAAOmI,cAAc21B,eAA1B,OAAmDnP,kBAAkB,CAAExvB,GAAIlC,KAAK8gC,iBAChF9gC,KAAK+C,OAAOmI,cAAc8lB,cAAcU,kBAAkB,CAAC,GAE3D1xB,KAAK+C,OAAOkuB,GAAGgQ,WAAWjhC,KAAK+C,OAAOkuB,GAAGiQ,UAAW,EAAGlhC,KAAK4/B,aAAamsG,GAAK5qG,SAC/E,6BAMD,WAOE,MANW,EACY,IAAnBnhC,KAAKm9B,OAAsB,KAC3Bn9B,KAAKm9B,OAAS,EAAK,KAAQ,KAC3Bn9B,KAAKm9B,OAAS,GAAM,KAAQ,KAC5Bn9B,KAAKm9B,OAAS,GAAM,KAAQ,IAGjC,qBAMD,WAAO,QACL,GAAKn9B,KAAKG,OAAV,CAEA,UAAAH,KAAKwG,kBAAL,SAAiB8X,MAAK,SAAC/O,EAAGC,GAAJ,OAAUD,EAAEzN,IAAIF,EAAI4N,EAAE1N,IAAIF,CAA1B,IACtB,UAAA5B,KAAK0G,kBAAL,SAAiB4X,MAAK,SAAC/O,EAAGC,GAAJ,OAAUD,EAAEzN,IAAIF,EAAI4N,EAAE1N,IAAIF,CAA1B,IACtB5B,KAAK+C,OAAOmI,cAAcq1B,eAC1BvgC,KAAK+C,OAAOmI,cAAcC,OAAOyC,YAEjC,IAAIitB,EAAI,EACJn4B,EAAI,EACR,OAAQ1C,KAAK+C,OAAOmI,cAAcC,OAAOE,WACvC,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACH,IAAK,IAAIkL,EAAI,EAAGA,EAAIvW,KAAK87B,KAAK,GAAIvlB,IAAK,CAErC,IADAvW,KAAKyuI,QAAQl4H,GACN7T,EAAI1C,KAAK0G,WAAWzH,QAAUe,KAAK0G,WAAWhE,GAAGZ,IAAIF,EAAI5B,KAAK6rI,OAAO,IAAMt1H,GAChFvW,KAAK0G,WAAWhE,KAAKu5F,OAIvB,KAAOphE,EAAI76B,KAAKwG,WAAWvH,QAAUe,KAAKwG,WAAWq0B,GAAG/4B,IAAIF,EAAI5B,KAAK6rI,OAAO,IAAMt1H,GAChFvW,KAAKwG,WAAWq0B,KAAKohE,KAAKj8F,KAAK+C,OAElC,CACD,MACF,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACH,IAAK,IAAIwT,EAAIvW,KAAK87B,KAAK,GAAK,EAAGvlB,GAAK,EAAGA,IAAK,CAE1C,IADAvW,KAAKyuI,QAAQl4H,GACN7T,EAAI1C,KAAK0G,WAAWzH,QAAUe,KAAK6rI,OAAO,GAAK7rI,KAAK0G,WAAWhE,GAAGZ,IAAIF,GAAK2U,GAChFvW,KAAK0G,WAAWhE,KAAKu5F,OAIvB,KAAOphE,EAAI76B,KAAKwG,WAAWvH,QAAUe,KAAK6rI,OAAO,GAAK7rI,KAAKwG,WAAWq0B,GAAG/4B,IAAIF,GAAK2U,GAChFvW,KAAKwG,WAAWq0B,KAAKohE,KAAKj8F,KAAK+C,OAElC,EAIL,KAAOL,EAAI1C,KAAK0G,WAAWzH,QACzBe,KAAK0G,WAAWhE,KAAKu5F,OAGvB,KAAOphE,EAAI76B,KAAKwG,WAAWvH,QACzBe,KAAKwG,WAAWq0B,KAAKohE,KAAKj8F,KAAK+C,QAEjC/C,KAAK+C,OAAOmI,cAAcm2B,aAnDF,CAoDzB,qBAQD,SAAKnhC,EAAMuxD,GACJzxD,KAAKG,SAAUsxD,IACpBzxD,KAAKsD,WAAWpD,GAChBF,KAAKwG,WAAW6X,QAAhB,+BAAwB,WAAOhe,GAAP,2FAAkBA,EAAOquI,UAAUxuI,IAAnC,2CAAxB,kCAAAF,KAAA,gBACD,4CAMD,WAAiBE,GAAjB,uEACMA,EAAOF,KAAKkD,QAAU,KAD5B,iBAEmBlD,KAAK+C,OAAOoD,QAAQ7C,aACnCtD,KAAKkD,QAAUhD,EAHnB,KAIYF,KAAK+C,OAAOY,SAASU,eAAe,KAJhD,OAKW,MALX,uCAMcrE,KAAKqN,WAAW,UAAW,CAAC,EAAG,EAAGrN,KAAK2C,UAAU,EAAG,KAAK,GANvE,cAOY3C,KAAK4E,QACP/E,QAAQC,IAAIE,KAAK4E,OACjB5E,KAAK4E,MAAME,aATrB,0IAsBA,SAASnD,EAAGC,GACV,OAAOD,GAAK3B,KAAK6rI,OAAO,IAAMjqI,GAAK5B,KAAK6rI,OAAO,IAAMlqI,EAAI3B,KAAK6rI,OAAO,IAAMjqI,EAAI5B,KAAK6rI,OAAO,EAC5F,2BASD,SAAWlqI,EAAGC,EAAGwF,GACf,IAAKpH,KAAKgC,SAASL,EAAGC,GAAI,OAAO,KACjC,IAAK,IAAIvB,KAAUL,KAAKiH,WAAY,CAClC,IAEGjH,KAAKiH,WAAW5G,GAAQsuI,UACzB3uI,KAAKiH,WAAW5G,GAAQyB,IAAIH,IAAMA,GAClC3B,KAAKiH,WAAW5G,GAAQyB,IAAIF,IAAMA,IACjC5B,KAAKiH,WAAW5G,GAAQw9B,UACzB79B,KAAKiH,WAAW5G,GAAQy9B,SAExB,OAAO,EAET,IAEG99B,KAAKiH,WAAW5G,GAAQsuI,UACzB3uI,KAAKiH,WAAW5G,GAAQyB,IAAIH,IAAMA,GAClC3B,KAAKiH,WAAW5G,GAAQyB,IAAIF,IAAMA,GAClC5B,KAAKiH,WAAW5G,GAAQw9B,SAExB,OAAO,CACV,CACD,IAAK,IAAIl3B,KAAU3G,KAAKgH,WAAY,CAClC,IAEGhH,KAAKgH,WAAWL,GAAQgoI,UACzB3uI,KAAK4uI,OACHjtI,EACA3B,KAAKgH,WAAWL,GAAQ7E,IAAIH,EAAI3B,KAAKgH,WAAWL,GAAQ8qB,MAAM9vB,GAAK3B,KAAKgH,WAAWL,GAAQm1B,KAAKn6B,EAAI,GACpG3B,KAAKgH,WAAWL,GAAQ7E,IAAIH,IAE9B3B,KAAK4uI,OACHhtI,EACA5B,KAAKgH,WAAWL,GAAQ7E,IAAIF,EAAI5B,KAAKgH,WAAWL,GAAQ8qB,MAAM7vB,GAAK5B,KAAKgH,WAAWL,GAAQm1B,KAAKl6B,EAAI,GACpG5B,KAAKgH,WAAWL,GAAQ7E,IAAIF,KAE7B5B,KAAKgH,WAAWL,GAAQk3B,UACzB79B,KAAKgH,WAAWL,GAAQm3B,SAExB,OAAO,EAET,IAEG99B,KAAKgH,WAAWL,GAAQgoI,WACvB3uI,KAAKgH,WAAWL,GAAQ7E,IAAIH,IAAMA,GAAK3B,KAAKgH,WAAWL,GAAQ7E,IAAIF,IAAMA,GACxE5B,KAAK4uI,OACJjtI,EACA3B,KAAKgH,WAAWL,GAAQ7E,IAAIH,EAAI3B,KAAKgH,WAAWL,GAAQ8qB,MAAM9vB,GAAK3B,KAAKgH,WAAWL,GAAQm1B,KAAKn6B,EAAI,GACpG3B,KAAKgH,WAAWL,GAAQ7E,IAAIH,GAC5B,IAEA3B,KAAK4uI,OACHhtI,EACA5B,KAAKgH,WAAWL,GAAQ7E,IAAIF,EAAI5B,KAAKgH,WAAWL,GAAQ8qB,MAAM7vB,GAAK5B,KAAKgH,WAAWL,GAAQm1B,KAAKl6B,EAAI,GACpG5B,KAAKgH,WAAWL,GAAQ7E,IAAIF,GAC5B,KAEN5B,KAAKgH,WAAWL,GAAQk3B,SAExB,OAAO,CACV,CAED,SAAQ79B,KAAKwtI,aAAa5rI,EAAI5B,KAAK6rI,OAAO,IAAM7rI,KAAK87B,KAAK,GAAKn6B,EAAI3B,KAAK6rI,OAAO,IAAMzkI,EACtF,uBAUD,SAAOzF,EAAG4N,EAAGC,GAAoB,IAAjBq/H,EAAiB,wDAC/B,SAAIA,GAAWltI,GAAK4N,GAAK5N,GAAK6N,KACzBq/H,GAAWltI,EAAI4N,GAAK5N,EAAI6N,CAE9B,8BAMD,SAActN,GAAI,WAChBlC,KAAKoK,QAAQiU,SAAQ,SAAC1c,GAChBA,EAAEO,KAAOA,GACX,EAAKg5B,cAAcv5B,EAAE+H,QAAQrH,KAAK,GAErC,GACF,4CASD,WAAiBH,EAAIiL,GAArB,kGAA+BC,EAA/B,kDACS,IAAIvG,QAAJ,+BAAY,WAAOmB,EAAS+qD,GAAhB,+EACjBlzD,QAAQC,IAAI,CAAEC,IAAK,gBAAiBmC,GAAAA,EAAIiL,SAAAA,EAAUC,QAAAA,IAC9C/M,EAAS,EAAKyuI,cAAc5sI,GAFf,SAGX7B,EAAOgF,UAAU,IAAIwC,GAAAA,GAAa,EAAK9E,OAAQ,SAAU,CAAC1C,EAAOyB,IAAIiG,UAAWoF,EAAUC,EAAU,IAAM,IAAK,GAAO/M,EAAQ2H,IAHnH,2CAAZ,0DADT,wIAeA,WAAqB9F,EAAI8K,GAAzB,kGAAmClK,EAAnC,+BAA6C,CAAEO,WAAW,GAA1D,kBACS,IAAIwD,QAAJ,+BAAY,WAAOmB,EAAS+qD,GAAhB,+EACjBlzD,QAAQC,IAAI,CAAEC,IAAK,kBAAmBmC,GAAAA,EAAI8K,SAAAA,EAAUlK,QAAAA,IAChDzC,EAAS,EAAKyuI,cAAc5sI,GAFf,SAGX7B,EAAOgF,UAAU,IAAIwC,GAAAA,GAAa,EAAK9E,OAAQ,WAAY,CAACiK,GAAU,EAAOlK,GAAUzC,EAAQ2H,IAHpF,2CAAZ,0DADT,oIAaA,WAAiBuC,GAAjB,+EACMd,EAAOzJ,KADb,SAEeuK,EAAQmgB,OAAR,+BAAe,WAAOm3C,EAAMr3D,GAAb,kFACbq3D,EACVt8D,KADU,cAET,wGACE,IAAIsB,QAAJ,+BAAY,WAAOmB,EAAS+qD,GAAhB,iFACLvoD,GAAQxC,IADH,SAGHwC,EAAO4O,QAAO5O,EAAO4O,MAAQ3P,IAC9Be,EAAOnK,OAJH,sBAKFA,EAASmK,EAAO4O,MAAM01H,cAActkI,EAAOnK,WAEjCmK,EAAOA,OAPf,wBAQAE,EAAOF,EAAOE,KACd5H,EAAU4H,EAAK5G,MATf,UAUEzD,EAAOgF,UAAU,IAAIwC,GAAAA,GAAa4B,EAAK1G,OAAQyH,EAAOA,OAArC,0DAAiDE,skBAAjD,OAA4D5H,KAAYzC,GAAQ,kBAAM2H,EAAQyB,EAAd,KAVnG,YAcJe,EAAOd,QAdH,sBAeFrJ,EAASmK,EAAO4O,MAAM01H,cAAc,aAC1BtkI,EAAOd,QAhBf,kCAiBErJ,EAAOgF,UAAU,IAAIwC,GAAAA,GAAa4B,EAAK1G,OAAQ,SAAU,CAACyH,EAAOd,QAASc,EAAO4O,MAAO,kBAAMpR,EAAQyB,EAAd,GAAsBpJ,IAjBhH,0DAqBR0yD,EAAO,EAAD,IArBE,+DAAZ,0DADF,4CAFS,OA4BJ,SAACh5B,GACNl6B,QAAQs9C,KAAK,MAAOpjB,EAAInnB,QACzB,IA/BuB,mFAAf,wDAgCV/L,QAAQmB,WAlCb,iLA0CA,WAAmB9F,GAAnB,sFACMuH,EAAOzJ,MADUsM,EAAvB,+BAAgC,QAG5BA,EAAS7C,EAAK6C,QAEhBA,EAAO+R,QAAP,+BAAe,WAAyB1c,GAAzB,8EAENA,EAAEotI,cACLptI,EAAEotI,YAAc,KAEdptI,EAAEotI,YAAcziI,EAAOrN,QALhB,oDAQP0C,EAAEO,KAAOA,EARF,gCAUHuH,EAAKulI,WAAWrtI,EAAE4I,SAVf,uDAaX1K,QAAQ8iB,MAAR,MAbW,yDAAf,uDALF,yKA52BmBspH,CAAarhI,GAAAA,++BCpBlC,uxNAiBqBqkI,GAAAA,WACnB,WAAYlsI,EAAQb,gGAAI,SACtBlC,KAAKkC,GAAKA,EACVlC,KAAKm9B,MAAQx8B,KAAKe,MAAsB,IAAhBf,KAAKqW,UAAsB,MACnDhX,KAAK+C,OAASA,EACd/C,KAAKkvI,SAAW,CAAC,EACjBlvI,KAAKmvI,SAAW,GAChBnvI,KAAKiH,WAAa,CAAC,EACnBjH,KAAKwG,WAAa,GAClBxG,KAAKgH,WAAa,CAAC,EACnBhH,KAAK0G,WAAa,GAClB1G,KAAKovI,YAAc,CAAC,EACpBpvI,KAAKqvI,YAAc,GACnBrvI,KAAKsvI,UAAY,GACjBtvI,KAAKuvI,UAAY,CAAC,EAClBvvI,KAAKkD,SAAU,IAAIC,MAAOC,UAC1BpD,KAAKyxD,UAAW,EAChBzxD,KAAKwvI,iBAAmB,IAAIllI,GAAAA,EAC5BtK,KAAKyvI,UAAYzvI,KAAKyvI,UAAUptI,KAAKrC,MACrCA,KAAK0vI,YAAc1vI,KAAK0vI,YAAYrtI,KAAKrC,MACzCA,KAAK2vI,QAAU3vI,KAAK2vI,QAAQttI,KAAKrC,MACjCA,KAAKsH,SAAWtH,KAAKsH,SAASjF,KAAKrC,MACnCA,KAAK6iC,WAAa,CAChBlkC,MAAO,CACL4M,OAAQ,SAACtD,GAEPA,EAAKhF,WAAY,CAClB,GAGN,qDAMD,SAAauH,GACXxK,KAAKwvI,iBAAiB1kI,IAAIN,EAC3B,0BAKD,WACExK,KAAKmvI,SAAS7wH,MAAK,SAAC/O,EAAGC,GAAJ,OAAUD,EAAEs8H,OAAO,GAAKr8H,EAAEq8H,OAAO,EAAjC,GACpB,iDASD,WAAsBK,EAAQxnI,GAA9B,6HAEoB1E,KAAKkvI,SAAShD,GAFlC,yCAEkDlsI,KAAKkvI,SAAShD,IAFhE,cAIErsI,QAAQC,IAAI,yBAA0BosI,GAJxC,KAMiB37H,KANjB,SAMkC7L,EAAIm0B,KAAK,QAAUqzG,EAAS,aAAapzG,MAAM,UANjF,0BAMMk0G,EANN,KAMsBxvH,MANtB,qBAOiBjN,KAPjB,UAOkC7L,EAAIm0B,KAAK,QAAUqzG,EAAS,eAAepzG,MAAM,UAPnF,2BAOMm0G,EAPN,KAOsBzvH,MAPtB,gBAUM9a,EAAI,IAAIupI,GAAKC,EAAQlsI,MAV3B,UAWQ0C,EAAEgK,gBAAgBsgI,EAAUC,EAAUvoI,GAX9C,eAcE1E,KAAKmvI,SAASjwI,KAAI,SAACyC,GACbA,EAAEiD,OACJjD,EAAEiD,MAAMC,YAEX,IACGnC,EAAEkC,QACJ/E,QAAQC,IAAI4C,EAAEkC,OACdlC,EAAEkC,MAAME,aAGV9E,KAAKkvI,SAAShD,GAAUxpI,EACxB1C,KAAKmvI,SAAS1kI,KAAK/H,GAGnBA,EAAEw4B,cAAcl7B,KAAKyvI,WA5BvB,kBA6BS/sI,GA7BT,wIAuCA,WAAewpI,GAAf,yFAAuB0D,EAAvB,kEACoB5vI,KAAKkvI,SAAShD,GADlC,yCACkDlsI,KAAKkvI,SAAShD,IADhE,UAGMxpI,EAAI,IAAIupI,GAAKC,EAAQlsI,OACrB4vI,EAJN,iCAIsBltI,EAAEmtI,aAJxB,gDAKantI,EAAE4sB,OALf,eAOEtvB,KAAKmvI,SAASjwI,KAAI,SAACyC,GACbA,EAAEiD,OACJjD,EAAEiD,MAAMC,YAEX,IACGnC,EAAEkC,QACJ/E,QAAQC,IAAI4C,EAAEkC,OACdlC,EAAEkC,MAAME,aAGV9E,KAAKkvI,SAAShD,GAAUxpI,EACxB1C,KAAKmvI,SAAS1kI,KAAK/H,GAEnBA,EAAEw4B,cAAcl7B,KAAKyvI,WApBvB,kBAqBS/sI,GArBT,uHA4BA,SAAWwpI,GACTlsI,KAAKmvI,SAAWnvI,KAAKmvI,SAAS1oI,QAAO,SAACtF,GACpC,GAAIA,EAAKe,KAAOgqI,EACd,OAAO,EAEH/qI,EAAKyD,OACPzD,EAAKyD,MAAMC,aAEb1D,EAAK2uI,mBACL3uI,EAAK4uI,gBAER,WACM/vI,KAAKkvI,SAAShD,EACtB,+BAKD,WACElsI,KAAKmvI,SAASjwI,KAAI,SAACwD,GACbA,EAAEkC,OACJlC,EAAEkC,MAAMC,aAEVnC,EAAEotI,mBACFptI,EAAEqtI,gBACH,IACD/vI,KAAKmvI,SAAW,GAChBnvI,KAAKkvI,SAAW,CAAC,CAClB,qBAMD,SAAKhvI,GACH,IAAK,IAAIwC,KAAK1C,KAAKkvI,SAAnB,OAA6B,UAAAlvI,KAAKkvI,SAASxsI,UAAd,SAAkBzC,KAAKC,EAAMF,KAAKyxD,SAA/D,CACAzxD,KAAKwvI,iBAAiBz0G,IAAI76B,EAC3B,2BAMD,SAAWA,GACT,GAAIA,EAAOF,KAAKkD,QAAU,IAAK,CAC7B,IAAI6/B,EAAW/iC,KAAK+C,OAAOoD,QAAQ7C,aACnCtD,KAAKkD,QAAUhD,EAEXF,KAAK+C,OAAOoD,QAAQC,WAAW,WACjC28B,EAAQ,MAAY,GAGlB/iC,KAAK+C,OAAOoD,QAAQC,WAAW,YACjC28B,EAAQ,OAAa,EACrB/iC,KAAK+C,OAAOitI,mBAEf,CACF,0BAOD,SAAUntG,GAAsC,IAA1BC,EAA0B,uDAAX,CAAC,SACpC9iC,KAAKsO,SACH,IAAIC,GAAAA,GAAYvO,KAAK+C,OAAQ,OAAQ,CAAC8/B,QAAAA,EAAc7iC,KAAK6iC,WAAYC,GAAc,EAAO,CAAEz/B,WAAW,EAAOiI,cAAc,IAAStL,MAExI,yBAMD,SAAS23B,GACH33B,KAAKuvI,UAAU53G,EAAMz1B,KAAKlC,KAAKwhC,aAAa7J,EAAMz1B,IACtDlC,KAAKuvI,UAAU53G,EAAMz1B,IAAMy1B,EAC3B33B,KAAKsvI,UAAU7kI,KAAKktB,EACrB,6BAMD,SAAaz1B,GACXlC,KAAKsvI,UAAYtvI,KAAKsvI,UAAU7oI,QAAO,SAACkxB,GAAD,OAAWA,EAAMz1B,KAAOA,CAAxB,WAChClC,KAAKuvI,UAAUrtI,EACvB,iCAKD,WACElC,KAAKsvI,UAAY,GACjBtvI,KAAKuvI,UAAY,CAAC,CACnB,0BAMD,SAAUrvI,GAAM,WAEdF,KAAKsD,WAAWpD,GAEhBF,KAAKsvI,UAAUhxH,MAAK,SAAC/O,EAAGC,GACtB,IAAIiyB,EAAKlyB,EAAE/O,UAAYgP,EAAEhP,UACzB,OAAKihC,EACElyB,EAAErN,GAAKsN,EAAEtN,GAAK,GAAK,EADVu/B,CAEjB,IAED,IAAIC,EAAW,GACf1hC,KAAKsvI,UAAUjxH,SAAQ,SAACsZ,IACjBA,EAAMx3B,QAAUw3B,EAAMn3B,UAAYN,GAASy3B,EAAMs4G,UAAY,EAAKx+E,UACnE95B,EAAM13B,KAAKC,KACbwhC,EAASj3B,KAAKktB,GACdA,EAAMgK,aAET,IAEDD,EAASrjB,SAAQ,SAACsZ,GAAD,OAAW,EAAK6J,aAAa7J,EAAMz1B,GAAnC,IAEblC,KAAKC,OAASD,KAAKyxD,UAAUzxD,KAAKC,KAAKC,EAC5C,qBAKD,WACE,IAAK,IAAIwC,KAAK1C,KAAKkvI,SAAUlvI,KAAKkvI,SAASxsI,GAAGu5F,KAAKj8F,KAAK+C,OACzD,+BAQD,SAAepB,EAAGC,GAChB,IAAK,IAAIc,KAAK1C,KAAKkvI,SAAU,CAC3B,IAAI/tI,EAAOnB,KAAKkvI,SAASxsI,GACzB,GAAIvB,EAAKhB,QAAUgB,EAAKa,SAASL,EAAGC,GAAI,OAAOT,CAChD,CACD,OAAO,IACR,yBAQD,SAASH,EAAME,GAEb,IACEgvI,EAAU,GACVltH,GAAQ,EACR5hB,EAAQpB,KACR2B,EAAIX,EAAK,GACTY,EAAIZ,EAAK,GAEX,SAASmvI,EAAUC,EAAW1iH,GAC5B,IAAI2iH,EAAgB9/H,KAAKC,UAAU,CAAC4/H,EAAU,GAAIA,EAAU,KAC5D,OAAIptH,IACAotH,EAAU,IAAMlvI,EAAG,IAAMkvI,EAAU,IAAMlvI,EAAG,IAE9C8hB,GAAQ,EAEH5hB,EAAMuuI,QAAQS,EAAWC,EAAeH,GAItC,CAACltH,EAAD,aAAY0K,GAAZ,CAAkBxsB,KAHhB,CAAC8hB,EAAD,GAAY0K,OAMlBtsB,EAAMuuI,QAAQS,EAAWC,EAAeH,KAE7CA,EAAQzlI,KAAK4lI,GACNjvI,EACJkvI,cADI,MAAAlvI,EAAK,GACQgvI,IACjB9xH,MAAK,SAAC/O,EAAGC,GAAJ,OAAU7O,KAAK8mB,IAAI9mB,KAAK8R,IAAIvR,EAAG,GAAKqO,EAAE,IAAM5O,KAAK8R,IAAIvR,EAAG,GAAKsO,EAAE,IAAK7O,KAAK8R,IAAIvR,EAAG,GAAKqO,EAAE,IAAM5O,KAAK8R,IAAIvR,EAAG,GAAKsO,EAAE,IAAhH,IACLtQ,KAAI,SAACqxI,GAAD,OAAWJ,EAAUI,EAAD,aAAY7iH,GAAZ,CAAkB,CAAC0iH,EAAU,GAAIA,EAAU,GAAI,OAAnE,IACJ3pI,QAAO,SAAC9E,GAAD,OAAOA,CAAP,IACP+5B,QACJ,CAQD,OANQt6B,EACLkvI,cAAc3uI,EAAGC,GACjB0c,MAAK,SAAC/O,EAAGC,GAAJ,OAAU7O,KAAK8mB,IAAI9mB,KAAK8R,IAAIvR,EAAG,GAAKqO,EAAE,IAAM5O,KAAK8R,IAAIvR,EAAG,GAAKsO,EAAE,IAAK7O,KAAK8R,IAAIvR,EAAG,GAAKqO,EAAE,IAAM5O,KAAK8R,IAAIvR,EAAG,GAAKsO,EAAE,IAAhH,IACLtQ,KAAI,SAACkxI,GAAD,OAAeD,EAAUC,EAAW,CAAC,CAACpvI,EAAK,GAAIA,EAAK,GAAI,MAAxD,IACJyF,QAAO,SAAC9E,GAAD,OAAOA,EAAE,EAAT,IAEG+5B,MACd,4BAOD,SAAYx5B,GACV,OAAOlC,KAAKkvI,SAAShtI,EACtB,8BAQD,SAAcP,EAAGC,GACf,IAAIshC,EAAM,CAACvhC,EAAGC,EAAI,EAAGH,GAAAA,GAAAA,IACnB0hC,EAAS,CAACxhC,EAAGC,EAAI,EAAGH,GAAAA,GAAAA,MAGtB,MAAO,CAACyhC,EAFC,CAACvhC,EAAI,EAAGC,EAAGH,GAAAA,GAAAA,MACV,CAACE,EAAI,EAAGC,EAAGH,GAAAA,GAAAA,OACK0hC,EAC3B,wBASD,SAAQitG,EAAWC,EAAeH,GAChC,IAAI/uI,EAAOnB,KAAKuG,eAAL,MAAAvG,KAAA,GAAuBowI,IAClC,QACEF,EAAQx+H,QAAQ2+H,IAAkB,IACjClvI,IACAA,EAAK2G,WAAL,MAAA3G,EAAI,GAAeivI,MACnBjvI,EAAK2G,WAAWsoI,EAAU,GAAIA,EAAU,GAAI3uI,GAAAA,GAAAA,QAAkB2uI,EAAU,KAK5E,8EArWkBnB,0PCjBrB,+/NAwBqBuB,GAAAA,IAKnB,aAAc,WAmBZ,mGAnBY,uDA0BP,WAAOztI,GAAP,wEAELytI,EAAOxyC,UAAUj7F,OAASA,GAEtB3B,EAASovI,EAAOxyC,UAAU58F,MAAQ,IAAI6tI,GAAMlsI,EAAQ,WAElDosI,SAAS9wH,SAAQ,SAAC3b,GAAD,OAAOA,EAAEw4B,eAAc,kBAAMr7B,QAAQC,IAAI,iBAAlB,GAAvB,IAEvBsB,EAAMisI,UAAU,CACd1uI,MAAO,CACLqE,KAAM,aACNJ,OAAQ,sCACRjB,EAAGoB,EAAOwgI,aAAa3xH,MAAQ,EAAI,GACnChQ,EAAGmB,EAAOwgI,aAAaznC,OAAS,EAAI,GACpC1yF,EAAG,IACHC,EAAG,GACHmC,WAAW,EACXvC,QAAS,CACPi6B,IAAK,OACLC,OAAQ,OACRC,WAAY,QAEd73B,OAAQ,SAACtD,GAEP,EAAKwpD,UAAW,CACjB,EACD/nD,QAAS,SAACzB,GAERA,EAAK7G,MAAMqwD,UAAW,EAEtBxpD,EAAKhF,WAAY,CAClB,KA/BA,2CA1BO,mHAkEO,WAAOw1B,GAAP,sGAlEP,2GAmFD,WAAOA,EAAKyzG,GAAZ,sGAnFC,8FAgGC,gGACTxnI,EAAM,IAAI+rI,GACV9tG,EAAS,CAAC,EAEdj+B,EAAIkvD,OAAO,SAAS/6B,KAAK,cAAetoB,KAAKC,UAAUmyB,IAJ1C,SAMIj+B,EAAIsvD,cAAc,CAAEt9C,KAAM,SAN9B,OAMTuiB,EANS,QAObujB,EAAAA,GAAAA,QAAOvjB,EAAM,cAPA,4CAhGD,kBA+GL,SAACl2B,EAAQ2pB,GAEhB8jH,EAAOxyC,UAAU58F,MAAMstI,UAAUhiH,GAKjC,EAAKuvE,KAAKl5F,EAOX,IA7Ha,gBAmIP,SAACA,GACNytI,EAAOxyC,UAAU58F,MAAM66F,KAAKl5F,EAC7B,IArIa,sBA2ID,SAACqgB,GACG,YAAXA,EAAE1M,KACJ85H,EAAOxyC,UAAUj7F,OAAOY,SAAS+sI,UAAUttH,GACtCotH,EAAOxyC,UAAUj7F,OAAOY,SAASgtI,QAAQvtH,EACjD,IA/Ia,wBAqJC,SAACA,GACNA,EAAE1M,KASN85H,EAAOxyC,UAAUj7F,OAAO25F,MAAMt5E,EAGnC,IAjKCpjB,KAAKymD,QAAU,CACb11B,GCnBG,+tLDoBHkB,GEnBG,2wCFqBLjyB,KAAKmgI,QAAU,CAEbyQ,KAAM,CACJ1uI,GAAI,OACJ6uB,GG1BC,48DH2BDkB,GI1BC,0GJ2BDvyB,KAAMmxI,KAGV7wI,KAAK6gC,eAAiB,CAAC,EAElB2vG,EAAOxyC,YACVwyC,EAAOxyC,UAAYh+F,MAEdwwI,EAAOxyC,SACf,2PKjDH,i9NAkBqB8yC,GAAAA,SAAAA,qvCAEZ,WAAO/tI,GAAP,MAOUguI,EAPV,EAkCIC,EAlCJ,kEAkCIA,EAlCJ,SAkCgB/oI,GACnB,KAD4C,0DACS,IAAnClF,EAAOqgI,WAAWnxE,MAAMhzD,OAGxC,OAFA8D,EAAOqgI,WAAW6N,aAClBluI,EAAOqgI,WAAW8N,SAAW,SAAC9tH,GAAD,OAAO2tH,EAAW9oI,EAAlB,GAI7B8oI,EAAW,KAEd,EA3CI,oCAOL,WAA0B9oI,GAA1B,4FAGQ4wB,EAAO91B,EAAOqgI,WAAWnxE,MAAM,GAHvC,SAIoBw+E,KAAAA,UAAgB53G,GAJpC,cAIQn0B,EAJR,YAOmB6L,KAPnB,SAOoC7L,EAAIm0B,KAAK,iBAAiBC,MAAM,UAPpE,mBAOQq4G,EAPR,KAOwB3zH,MAPxB,gBAQI3d,QAAQC,IAAIqxI,GAGZA,EAASC,aAAa/yH,SAAQ,SAACld,GAC7BC,EAAMsL,gBAAgBvL,EAAMuD,GAAK,EAClC,IAGDuD,EAAK7G,MAAMqwD,UAAW,EAGtBxpD,EAAKhF,WAAY,EAnBrB,yDAqBIpD,QAAQ8iB,MAAR,MArBJ,8EAPK,uBAOUouH,EAPV,4CAELP,GAAOxyC,UAAUj7F,OAASA,GAEtB3B,EAASovI,GAAOxyC,UAAU58F,MAAQ,IAAI6tI,GAAMlsI,EAAQ,YA0ClDsqI,UAAU,CACd1uI,MAAO,CACLsxI,UAAU,EACVjtI,KAAM,iBACNJ,OAAQ,kCACRjB,EAAGoB,EAAOwgI,aAAa3xH,MAAQ,EAAI,GACnChQ,EAAGmB,EAAOwgI,aAAaznC,OAAS,EAAI,GACpC1yF,EAAG,IACHC,EAAG,GACHmC,WAAW,EACXvC,QAAS,CACPi6B,IAAK,OACLC,OAAQ,OACRC,WAAY,QAEd13B,SAAS,EACTH,OAAQ,SAACtD,GAEP,EAAKwpD,UAAW,CAEjB,EACD/nD,QAAS,WAAF,oBAAE,WAAOzB,GAAP,kEACP+oI,EAAY/oI,GADL,2CAAF,mDAAE,MAnER,oKAFY6oI,CAA6BN,sdCF7BM,GAAAA,SAAAA,0rCAAAA,CAA6BO,iJCN9CvuI,GAAU,CAAC,unBAEfA,GAAQ4iF,kBAAoB,KAC5B5iF,GAAQuiF,cAAgB,KAElBviF,GAAQyS,OAAS,UAAc,KAAM,QAE3CzS,GAAQ0hF,OAAS,KACjB1hF,GAAQ2iF,mBAAqB,KAEhB,KAAI,KAAS3iF,IAKJ,MAAW,aAAiB,gBCJ5CwuI,GAAAA,SAAAA,2+BACJ,WAAYx5D,GAAO,mHACjB,cAAMA,IACDviD,MAAQ,CACXjpB,OAAQ,IAAIs4H,GACZtoD,QAASn5E,KAAKupB,MACdm4G,QAAS/sD,EAAM+sD,SALA,CAOlB,uDAGD,SAA0B0M,GACpBhhI,KAAKC,UAAUxQ,KAAK83E,MAAM05D,gBAAkBjhI,KAAKC,UAAU+gI,EAAUC,gBACvExxI,KAAKshF,SAAS,CACZkwD,cAAeD,EAAUC,cACzBl1D,QAASn5E,KAAKupB,OAGnB,uBAGD,WACE,MAAqC1sB,KAAKu1B,MAAlC+mD,EAAR,EAAQA,QAAShwE,EAAjB,EAAiBA,OAAQu4H,EAAzB,EAAyBA,QACzB,OACE,yBAAK9/C,MAAO,CAAE0sD,OAAQ,EAAGC,UAAW,QAASnJ,UAAW,WACtD,kBAAC,GAAD,CAAWoB,MAAM,QAAQ9gI,IAAG,gBAAWyzE,GAAW1qE,MAAO,QAASkqF,OAAQ,QAAS8oC,eAAgBt4H,EAAQu4H,QAASA,QAAAA,EAAW,KAGpI,6EA5BGyM,CAAcK,EAAAA,WA+BpB,UAAeC,EAAAA,EAAAA,SAAQN","sources":["webpack://calliope-pixos/./node_modules/add-line-numbers/index.js","webpack://calliope-pixos/./node_modules/atob-lite/atob-browser.js","webpack://calliope-pixos/./pixos/jsx/engine/actions/animate.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/changezone.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/chat.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/dance.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/dialogue.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/face.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/greeting.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/interact.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/move.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/patrol.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/prompt.jsx","webpack://calliope-pixos/./pixos/jsx/engine/actions/script.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/queue/index.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/queue/loadable.jsx","webpack://calliope-pixos/./pixos/jsx/engine/events/camera.jsx","webpack://calliope-pixos/./pixos/jsx/engine/events/chat.jsx","webpack://calliope-pixos/./pixos/jsx/engine/events/menu.jsx","webpack://calliope-pixos/./pixos/jsx/engine/scripting/PixosLuaLibrary.jsx","webpack://calliope-pixos/./node_modules/printj/printj.mjs","webpack://calliope-pixos/./node_modules/lua-in-js/dist/lua-in-js.es.js","webpack://calliope-pixos/./pixos/jsx/engine/scripting/PixosLuaInterpreter.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/picker/fs.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/picker/init.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/picker/vs.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/enums.jsx","webpack://calliope-pixos/./node_modules/realtime-bpm-analyzer/src/utils.js","webpack://calliope-pixos/./node_modules/realtime-bpm-analyzer/src/realtime-bpm-analyzer.js","webpack://calliope-pixos/./node_modules/realtime-bpm-analyzer/src/analyzer.js","webpack://calliope-pixos/./pixos/jsx/engine/utils/loaders/AudioLoader.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/resource/tileset.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/loaders/TilesetLoader.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/scene/sprite.jsx","webpack://calliope-pixos/./pixos/jsx/engine/dynamic/avatar.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/scene/avatar.jsx","webpack://calliope-pixos/./pixos/jsx/engine/dynamic/sprite.jsx","webpack://calliope-pixos/./pixos/jsx/engine/dynamic/animatedSprite.jsx","webpack://calliope-pixos/./pixos/jsx/engine/dynamic/animatedTile.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/loaders/SpriteLoader.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/resource/object.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/loaders/ObjectLoader.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/queue/action.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/loaders/ActionLoader.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/queue/event.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/loaders/EventLoader.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/math/matrix4.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/math/vector.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/resources.jsx","webpack://calliope-pixos/./node_modules/base64-js/index.js","webpack://calliope-pixos/./node_modules/buffer/index.js","webpack://calliope-pixos/./pixos/css/pixos.css","webpack://calliope-pixos/./node_modules/css-loader/dist/runtime/api.js","webpack://calliope-pixos/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://calliope-pixos/./node_modules/file-saver/dist/FileSaver.min.js","webpack://calliope-pixos/./node_modules/gl-constants/1.0/numbers.js","webpack://calliope-pixos/./node_modules/gl-constants/lookup.js","webpack://calliope-pixos/./node_modules/gl-format-compiler-error/index.js","webpack://calliope-pixos/./node_modules/gl-shader/index.js","webpack://calliope-pixos/./node_modules/gl-shader/lib/GLError.js","webpack://calliope-pixos/./node_modules/gl-shader/lib/create-attributes.js","webpack://calliope-pixos/./node_modules/gl-shader/lib/create-uniforms.js","webpack://calliope-pixos/./node_modules/gl-shader/lib/reflect.js","webpack://calliope-pixos/./node_modules/gl-shader/lib/runtime-reflect.js","webpack://calliope-pixos/./node_modules/gl-shader/lib/shader-cache.js","webpack://calliope-pixos/./node_modules/gl-transition/lib/index.js","webpack://calliope-pixos/./node_modules/glsl-shader-name/index.js","webpack://calliope-pixos/./node_modules/glsl-tokenizer/index.js","webpack://calliope-pixos/./node_modules/glsl-tokenizer/lib/builtins-300es.js","webpack://calliope-pixos/./node_modules/glsl-tokenizer/lib/builtins.js","webpack://calliope-pixos/./node_modules/glsl-tokenizer/lib/literals-300es.js","webpack://calliope-pixos/./node_modules/glsl-tokenizer/lib/literals.js","webpack://calliope-pixos/./node_modules/glsl-tokenizer/lib/operators.js","webpack://calliope-pixos/./node_modules/glsl-tokenizer/string.js","webpack://calliope-pixos/./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://calliope-pixos/./node_modules/ieee754/index.js","webpack://calliope-pixos/./node_modules/jszip/dist/jszip.min.js","webpack://calliope-pixos/./node_modules/luaparse/luaparse.js","webpack://calliope-pixos/./node_modules/pad-left/index.js","webpack://calliope-pixos/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://calliope-pixos/./node_modules/prop-types/index.js","webpack://calliope-pixos/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://calliope-pixos/./node_modules/react-is/cjs/react-is.production.min.js","webpack://calliope-pixos/./node_modules/react-is/index.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/state.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/constants.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/utils.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/paths.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/ls.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/debug.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/pubSub.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/proxyManager.js","webpack://calliope-pixos/external commonjs2 {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/batchedUpdates.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/updateManager.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/store.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/collect.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/shared/propTypes.js","webpack://calliope-pixos/./node_modules/react-recollect/dist/esm/production/index.js","webpack://calliope-pixos/./node_modules/react-recollect/index.esm.js","webpack://calliope-pixos/./node_modules/repeat-string/index.js","webpack://calliope-pixos/./node_modules/sprintf-js/src/sprintf.js","webpack://calliope-pixos/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://calliope-pixos/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://calliope-pixos/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://calliope-pixos/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://calliope-pixos/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://calliope-pixos/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://calliope-pixos/./node_modules/weakmap-shim/create-store.js","webpack://calliope-pixos/./node_modules/weakmap-shim/hidden-store.js","webpack://calliope-pixos/./node_modules/weakmap-shim/index.js","webpack://calliope-pixos/./pixos/jsx/engine/actions/ sync ^\\.\\/.*\\.jsx$","webpack://calliope-pixos/./pixos/jsx/engine/events/ sync ^\\.\\/.*\\.jsx$","webpack://calliope-pixos/./pixos/jsx/engine/utils/obj/index.js","webpack://calliope-pixos/./pixos/jsx/engine/utils/obj/layout.js","webpack://calliope-pixos/./pixos/jsx/engine/utils/obj/material.js","webpack://calliope-pixos/./pixos/jsx/engine/utils/obj/mesh.js","webpack://calliope-pixos/./pixos/jsx/engine/utils/obj/utils.js","webpack://calliope-pixos/./pixos/jsx/spritz/ sync ^\\.\\/.*\\/map\\.jsx$","webpack://calliope-pixos/external commonjs2 {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://calliope-pixos/webpack/bootstrap","webpack://calliope-pixos/webpack/runtime/compat get default export","webpack://calliope-pixos/webpack/runtime/define property getters","webpack://calliope-pixos/webpack/runtime/global","webpack://calliope-pixos/webpack/runtime/hasOwnProperty shorthand","webpack://calliope-pixos/webpack/runtime/make namespace object","webpack://calliope-pixos/webpack/runtime/node module decorator","webpack://calliope-pixos/webpack/runtime/nonce","webpack://calliope-pixos/./pixos/jsx/engine/utils/index.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/gamepad/ControllerStick.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/gamepad/ControllerButtons.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/gamepad/Controller.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/gamepad/index.jsx","webpack://calliope-pixos/./pixos/jsx/engine/utils/keyboard.jsx","webpack://calliope-pixos/./node_modules/dexie/dist/modern/dexie.mjs","webpack://calliope-pixos/./pixos/jsx/engine/core/database.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/store.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/hud.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/render/camera.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/render/light.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/render/manager.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/resource/texture.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/scene/speech.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/resource/manager.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/index.jsx","webpack://calliope-pixos/./pixos/jsx/components/WebGLView.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/blur/init.jsx","webpack://calliope-pixos/./pixos/jsx/engine/dynamic/map.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/scene/zone.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/scene/world.jsx","webpack://calliope-pixos/./pixos/jsx/engine/core/scene/spritz.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/fs.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/vs.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/blur/fs.jsx","webpack://calliope-pixos/./pixos/jsx/engine/shaders/blur/vs.jsx","webpack://calliope-pixos/./pixos/jsx/engine/dynamic/spritz.jsx","webpack://calliope-pixos/./pixos/jsx/spritz/player.jsx","webpack://calliope-pixos/./pixos/css/pixos.css?c207","webpack://calliope-pixos/./pixos/jsx/index.jsx"],"sourcesContent":["var padLeft = require('pad-left')\n\nmodule.exports = addLineNumbers\nfunction addLineNumbers (string, start, delim) {\n  start = typeof start === 'number' ? start : 1\n  delim = delim || ': '\n\n  var lines = string.split(/\\r?\\n/)\n  var totalDigits = String(lines.length + start - 1).length\n  return lines.map(function (line, i) {\n    var c = i + start\n    var digits = String(c).length\n    var prefix = padLeft(c, totalDigits - digits)\n    return prefix + delim + line\n  }).join('\\n')\n}\n","module.exports = function _atob(str) {\n  return atob(str)\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n// Animate a sprite without moving them\nexport default {\n  init: function (length, untilFrame, finish) {\n    console.log({msg: 'initializing animation', length, untilFrame, finish});\n    this.length = length;\n    this.untilFrame = untilFrame;\n    this.finish = finish;\n  },\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Set facing\n    if (this.facing && this.facing != this.sprite.facing) this.sprite.setFacing(this.facing);\n    // Transition & Move\n    let endTime = this.startTime + this.length;\n    let frac = (time - this.startTime) / this.length;\n    if (time >= endTime) {\n      frac = 1;\n      if (this.finish) this.finish(true);\n    }\n    // Get next frame\n    let newFrame = Math.floor(frac * this.untilFrame);\n    if (newFrame != this.sprite.animFrame) this.sprite.setFrame(newFrame);\n\n    return time >= endTime;\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Vector, set, lerp } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\n\nexport default {\n  init: async function (fromZoneId, from, toZoneId, to, length) {\n    this.fromZone = await this.sprite.zone.world.loadZone(fromZoneId);\n    this.toZone = await this.sprite.zone.world.loadZone(toZoneId);\n    this.from = new Vector(...from);\n    this.to = new Vector(...to);\n    this.facing = Direction.fromOffset([Math.round(to.x - from.x), Math.round(to.y - from.y)]);\n    this.length = length;\n  },\n  tick: function (time) {\n    if (!this.toZone.loaded || !this.fromZone.loaded) return;\n    // Set facing\n    if (this.facing && this.facing != this.sprite.facing) {\n      this.sprite.facing = this.facing;\n      this.sprite.setFrame(0);\n    }\n    // Time Animation\n    let endTime = this.startTime + this.length;\n    let frac = (time - this.startTime) / this.length;\n    if (time >= endTime) {\n      set(this.to, this.sprite.pos);\n      frac = 1;\n    } else lerp(this.from, this.to, frac, this.sprite.pos);\n    // New Frame\n    let newFrame = Math.floor(frac * 4);\n    if (newFrame != this.sprite.animFrame) this.sprite.setFrame(newFrame);\n    // Move into the new zone\n    if (!this.sprite.zone.isInZone(this.sprite.pos.x, this.sprite.pos.y)) {\n      this.fromZone.removeSprite(this.sprite.id);\n      // Defer until aftertick to stop the sprite being ticked twice\n      this.sprite.zone.world.runAfterTick(\n        function () {\n          this.toZone.addSprite(this.sprite);\n        }.bind(this)\n      );\n    }\n    // Calculate new height\n    let hx = this.sprite.pos.x + this.sprite.hotspotOffset.x;\n    let hy = this.sprite.pos.y + this.sprite.hotspotOffset.y;\n    if (!this.switchRenderZone && !this.fromZone.isInZone(hx, hy)) {\n      this.switchRenderZone = true;\n    }\n    this.sprite.pos.z = (this.switchRenderZone ? this.toZone : this.fromZone).getHeight(hx, hy);\n\n    return time >= endTime;\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  // Initialize Dialogue Object\n  init: function (prompt, scrolling = true, options = {}) {\n    this.engine = this.sprite.engine;\n    this.text = '';\n    this.prompt = prompt;\n    this.scrolling = scrolling;\n    this.line = 0;\n    this.options = options;\n    this.completed = false;\n    this.lastKey = new Date().getTime();\n  },\n  // Update & Scroll\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Check for Dialogue Completion (TODO - manual triggers + scroll / sections)\n    if (this.options && this.options.autoclose) {\n      this.endTime = this.endTime ? this.endTime : this.options.endTime ?? new Date().getTime() + 10000; // 10 seconds default if autoclose\n      if (time > this.endTime) {\n        this.completed = true;\n      }\n    }\n    // Handle Input\n    this.checkInput(time);\n    this.textbox = this.engine.hud.scrollText(this.prompt + this.text, this.scrolling, this.options);\n    return this.completed;\n  },\n  // Handle Keyboard\n  checkInput: function (time) {\n    if (time > this.lastKey + 100) {\n      let skipChar = false;\n      switch (this.engine.keyboard.lastPressedCode()) {\n        case 'Escape':\n          this.completed = true;\n          skipChar = true;\n          break;\n        case 'Backspace':\n          let arr = this.text.split('');\n          arr.pop();\n          this.text = arr.join('');\n          this.lastKey = time;\n          skipChar = true;\n          break;\n        case 'Enter':\n          this.engine.setGreeting(this.text);\n          if (this.sprite.speech.clearHud) this.sprite.speech.clearHud();\n          this.speechbox = this.sprite.speech.scrollText(this.text);\n          this.sprite.speech.loadImage();\n          this.completed = true;\n          skipChar = true;\n          break;\n      }\n      // debounce keypresses\n      // write to chat box\n      if (!skipChar) {\n        let char = this.engine.keyboard.lastPressedKey();\n        if (char) {\n          this.lastKey = time;\n          this.text += '' + char;\n        }\n      }\n    }\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Direction } from '@Engine/utils/enums.jsx';\n\nexport default {\n  init: async function (moveLength, zone) {\n    this.zone = zone;\n    this.moveLength = moveLength;\n    this.startTime = new Date().getTime();\n    this.lastKey = new Date().getTime();\n    this.completed = false;\n    this.audio = await this.zone.engine.resourceManager.audioLoader.loadFromZip(this.sprite.zip, this.sprite.danceSound ?? '/pixos/audio/sewer-beat.mp3', true);\n\n    if (this.zone.audio) this.zone.audio.pauseAudio();\n    if (this.audio) this.audio.playAudio();\n  },\n  tick: function (time) {\n    if (!this.loaded) return;\n    // listen to audio freq data\n    let fbc_array = new Uint8Array(this.audio.analyser.frequencyBinCount);\n    this.audio.analyser.getByteFrequencyData(fbc_array);\n\n    // load up moves - todo (improve this and make it less manual)\n    this.checkInput(time);\n    let endTime = this.startTime + this.moveLength;\n    if (time > endTime) {\n      //   // set facing based on audio\n      let facing = this.sprite.facing == Direction.Right ? Direction.Left : Direction.Right;\n      let bar_pos,\n        bar_width,\n        bar_height = null;\n\n      for (var i = 0; i < 16; i++) {\n        bar_pos = i * 4;\n        bar_width = 2;\n        bar_height = -(fbc_array[i] / 2);\n      }\n      if (bar_height > 80) {\n        facing = this.sprite.facing == Direction.Right ? Direction.Down : Direction.Left;\n      } else {\n        facing = this.sprite.facing == Direction.Up ? Direction.Left : Direction.Down;\n      }\n      this.sprite.addAction(this.sprite.faceDir(facing)).then(() => {});\n      this.startTime = time;\n    }\n\n    // change on the beat (NEEDS WORK)\n    // let facing = this.sprite.facing;\n    // let beat = this.audio.bpm ? time % ((this.audio.bpm[0].tempo ?? 1) * 1000) : 1;\n    // while (beat === 0) {\n    //   switch (this.sprite.facing) {\n    //     case Direction.Up:\n    //       facing = Direction.Left;\n    //       break;\n    //     case Direction.Down:\n    //       facing = Direction.Right;\n    //       break;\n    //     case Direction.Right:\n    //       facing = Direction.Up;\n    //       break;\n    //     case Direction.Left:\n    //       facing = Direction.Down;\n    //       break;\n    //     default:\n    //       facing = Direction.Down;\n    //       break;\n    //   }\n    // }\n    // this.sprite.addAction(this.sprite.faceDir(facing));\n    // this.startTime = time;\n    // }\n\n    // next move\n    return this.completed; // loop\n  },\n\n  // Handle Keyboard\n  checkInput: function (time) {\n    if (time > this.lastKey + this.moveLength) {\n      switch (this.sprite.engine.keyboard.lastPressed('q')) {\n        // close dialogue on q key press\n        case 'q':\n          if (this.audio) {\n            this.audio.pauseAudio();\n          }\n          this.completed = true; // toggle\n        default:\n          this.lastKey = new Date().getTime();\n          return null;\n      }\n    }\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  // Initialize Dialogue Object\n  init: function (text, scrolling = true, options = {}) {\n    this.engine = this.sprite.engine;\n    this.text = text; // holds queue of dialogue\n    this.displayText = typeof text === 'string' ? text : this.text.shift(); // current statement\n    this.scrolling = scrolling;\n    this.options = options;\n    this.completed = false;\n    this.lastText = false;\n    this.speechOutput = true;\n    this.lastKey = new Date().getTime();\n    this.loaded = true;\n  },\n  // Update & Scroll\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Check for Dialogue Completion (TODO - manual triggers + scroll / sections)\n    if (this.options && this.options.autoclose) {\n      this.endTime = this.endTime ? this.endTime : this.options.endTime ?? new Date().getTime() + (this.options.duration * 1000 ?? 10000); // 10 seconds default if autoclose\n      if (time > this.endTime) {\n        this.completed = true;\n      }\n    }\n    // Handle Input\n    this.checkInput(time);\n\n    // Dialogue\n    this.sprite.speak(this.displayText, false, this);\n\n    // Callback on Completion\n    if (this.completed && this.options.onClose) {\n      if (this.sprite.speech.clearHud) {\n        this.sprite.speech.clearHud();\n      }\n      this.options.onClose();\n    }\n    return this.completed;\n  },\n  // Handle Keyboard\n  checkInput: function (time) {\n    if (time > this.lastKey + 100) {\n      switch (this.engine.keyboard.lastPressedCode()) {\n        case 'Escape':\n          this.sprite.speak(false);\n          this.completed = true; // toggle\n          break;\n        case 'Enter':\n          if (typeof this.text === 'string' || this.text.length === 0) {\n            this.sprite.speak(false);\n            this.completed = true;\n          } else {\n            this.completed = false;\n            this.displayText = this.text.shift();\n            window.speechSynthesis.cancel();\n            this.speechOutput = true;\n            this.sprite.speak(this.displayText, false, this);\n          }\n          break;\n      }\n      // gamepad\n      if (this.engine.gamepad.keyPressed('a')) {\n        if (typeof this.text === 'string' || this.text.length === 0) {\n          this.sprite.speak(false);\n          this.completed = true;\n        } else {\n          this.completed = false;\n          this.displayText = this.text.shift();\n          window.speechSynthesis.cancel();\n          this.speechOutput = true;\n          this.sprite.speak(this.displayText, false, this);\n        }\n        return;\n      }\n    }\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  init: function (facing) {\n    this.facing = facing;\n  },\n  tick: function (time) {\n    if (this.facing && this.facing != this.sprite.facing) this.sprite.setFacing(this.facing);\n    return true;\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  // Initialize Dialogue Object\n  init: function (greeting, options = {}) {\n    this.engine = this.sprite.engine;\n    this.greeting = greeting;\n    this.options = options;\n    this.completed = false;\n  },\n  // Update & Scroll\n  tick: function (time) {\n    if (!this.loaded) return;\n    this.engine.setGreeting(this.text);\n    return true;\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Vector } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\n\nexport default {\n  init: async function (from, facing, world) {\n    this.world = world;\n    this.from = new Vector(...from);\n    this.facing = facing;\n    this.offset = Direction.toOffset(facing);\n    this.lastKey = new Date().getTime();\n    this.completed = false;\n    // Determine Tile\n    this.to = [from[0] + this.offset[0], from[1] + this.offset[1]];\n    // Check for Sprites at that point\n    this.zone = world.zoneContaining(...this.to);\n    // Trigger interaction on Sprite\n    this.spriteList = this.zone.spriteList.filter((sprite) => sprite.pos.x === this.to[0] && sprite.pos.y === this.to[1]);\n    this.objectList = this.zone.objectList.filter((object) => object.pos.x === this.to[0] && object.pos.y === this.to[1]);\n    // -- pass through reference to \"finish()\" callback\n    this.finish = this.finish.bind(this);\n    // Trigger\n    this.interact();\n  },\n  // Trigger interactions in sprites\n  interact: async function () {\n    if (this.spriteList.length === 0 && this.objectList.length === 0) this.completed = true;\n    // objects\n    await Promise.all(this.objectList.map(async (object) => {\n      let faceChange = object.faceDir(Direction.reverse(this.facing));\n      if (faceChange) {\n        object.addAction(faceChange); // face towards avatar\n      }\n      return object.interact ? await this.zone.objectDict[object.id].interact(this.sprite, this.finish) : null;\n    }));\n    // sprite\n    await Promise.all(this.spriteList.map(async (sprite) => {\n      let faceChange = sprite.faceDir(Direction.reverse(this.facing));\n      if (faceChange) {\n        sprite.addAction(faceChange); // face towards avatar\n      }\n      return sprite.interact ? await this.zone.spriteDict[sprite.id].interact(this.sprite, this.finish) : null;\n    }));\n  },\n  // Callback to clear interaction\n  finish: function (result) {\n    if (result) this.completed = true;\n  },\n  // check input and completion\n  tick: function (time) {\n    if (!this.loaded) return;\n    this.checkInput(time);\n    return this.completed; // loop\n  },\n  // Handle Keyboard\n  checkInput: function (time) {\n    if (time > this.lastKey + this.length) {\n      switch (this.sprite.engine.keyboard.lastPressed('q')) {\n        // close dialogue on q key press\n        case 'q':\n          // Needs to Cancel the Interaction on the Affected Sprite as well\n          this.completed = true; // toggle\n          break;\n        default:\n          this.lastKey = new Date().getTime();\n          return null;\n      }\n    }\n    // gamepad\n    if (this.sprite.engine.gamepad.keyPressed('a')) {\n      this.completed = true;\n    }\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Vector, set, lerp } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\n\nexport default {\n  init: function (from, to, length, zone) {\n    this.zone = zone;\n    this.from = new Vector(...from);\n    this.to = new Vector(...to);\n    this.facing = Direction.fromOffset([Math.round(to.x - from.x), Math.round(to.y - from.y)]);\n    this.length = length;\n    // interactions\n    this.spriteList = this.zone.spriteList.filter((sprite) => sprite.pos.x === this.to.x && sprite.pos.y === this.to.y);\n  },\n  // move\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Set facing\n    if (this.facing && this.facing != this.sprite.facing) this.sprite.setFacing(this.facing);\n    // Transition & Move\n    let endTime = this.startTime + this.length;\n    let frac = (time - this.startTime) / this.length;\n    if (time >= endTime) {\n      set(this.to, this.sprite.pos);\n      frac = 1;\n      this.onStep();\n    } else lerp(this.from, this.to, frac, this.sprite.pos);\n    // Get next frame\n    let newFrame = Math.floor(frac * 4);\n    if (newFrame != this.sprite.animFrame) this.sprite.setFrame(newFrame);\n    // Determine height\n    let hx = this.sprite.pos.x + this.sprite.hotspotOffset.x;\n    let hy = this.sprite.pos.y + this.sprite.hotspotOffset.y;\n    this.sprite.pos.z = this.sprite.zone.getHeight(hx, hy);\n\n    return time >= endTime;\n  },\n  // Trigger interactions in sprite when finished moving\n  onStep: async function () {\n    if (this.spriteList.length === 0) this.completed = true;\n    await Promise.all(\n      this.spriteList.map(async (sprite) => {\n        return sprite.onStep ? await sprite.onStep(sprite, sprite) : null;\n      })\n    );\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Vector } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\nimport { ActionLoader } from '@Engine/utils/loaders/index.jsx';\n\nexport default {\n  init: async function (from, to, moveLength, zone) {\n    this.zone = zone;\n    this.from = new Vector(...from);\n    this.to = new Vector(...to);\n    this.lastKey = new Date().getTime();\n    this.completed = false;\n    this.direction = 1;\n    this.audio = await this.zone.engine.resourceManager.audioLoader.loadFromZip(this.sprite.zip, this.sprite.patrolSound ?? 'sewer-beat.mp3', true);\n    // Determine Path to Walk\n    [this.hasMoves, this.moveList] = this.sprite.zone.world.pathFind(from, to);\n    if (!this.hasMoves) {\n      this.completed = true; // no path - do not patrol\n    }\n    this.moveIndex = 1; // holds index position\n    this.moveLength = moveLength; // length of time per move\n\n    if (this.zone.audio) this.zone.audio.pauseAudio();\n    if (this.audio) this.audio.playAudio();\n  },\n  tick: function (time) {\n    if (!this.loaded) return;\n    this.checkInput(time);\n    // load up moves - todo (improve this and make it less manual)\n    let endTime = this.startTime + this.moveLength;\n    if (time > endTime) {\n      let move = this.moveList[this.moveIndex];\n      if (this.moveList.length > 2) {\n        // last position (for facing)\n        let last =\n          this.moveIndex == 0\n            ? this.moveList[this.moveIndex + 1]\n            : this.moveIndex + 1 >= this.moveList.length\n            ? this.moveList[this.moveList.length - 1]\n            : this.moveList[this.moveIndex - 1];\n        let facing = Direction.fromOffset([Math.round(move[0] - last[0]), Math.round(move[1] - last[1])]);\n        // Check for zone change\n        if (!this.sprite.zone.isInZone(move[0], move[1])) {\n          let zone = this.sprite.zone.world.zoneContaining(move[0], move[1]);\n          if (!zone || !zone.loaded || !zone.isWalkable(move[0], move[1], Direction.reverse(facing))) {\n            this.currentAction = this.sprite.faceDir(facing);\n          } else {\n            this.currentAction = new ActionLoader(\n              this.sprite.engine,\n              'changezone',\n              [this.sprite.zone.id, this.sprite.pos.toArray(), zone.id, move, this.moveLength],\n              this.sprite\n            );\n          }\n        } else {\n          // Load Next move\n          this.currentAction = new ActionLoader(this.sprite.engine, 'move', [last, move, this.moveLength, this.zone], this.sprite);\n        }\n\n        if (this.sprite.facing !== facing) {\n          this.currentAction = this.sprite.faceDir(facing);\n          // return this.completed;\n        }\n\n        if (this.currentAction) {\n          this.currentAction.facing = facing;\n          this.sprite.addAction(Promise.resolve(this.currentAction)).then(() => {});\n        }\n      }\n      // stop when done\n      if (this.moveIndex + this.direction >= this.moveList.length) {\n        this.direction *= -1;\n        this.completed = true;\n        if (this.zone.audio) this.zone.audio.playAudio();\n        if (this.audio) this.audio.pauseAudio();\n      }\n      this.moveIndex += this.direction;\n      this.startTime = time;\n    }\n    return this.completed; // loop\n  },\n  // Handle Keyboard\n  checkInput: function (time) {\n    if (time > this.lastKey + this.moveLength) {\n      switch (this.sprite.engine.keyboard.lastPressed('q')) {\n        // quit on q key press\n        case 'q':\n          if (this.zone.audio) this.zone.audio.playAudio();\n          if (this.audio) this.audio.pauseAudio();\n          this.completed = true; // toggle\n        default:\n          this.lastKey = new Date().getTime();\n          return null;\n      }\n    }\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  // Initialize Dialogue Object\n  init: function (menu, activeMenus, scrolling = true, options = {}) {\n    this.engine = this.sprite.engine;\n    this.text = '';\n    this.scrolling = scrolling;\n    this.line = 0;\n    this.options = options;\n    this.completed = false;\n    this.lastKey = new Date().getTime();\n    this.listenerId = this.engine.gamepad.attachListener(this.hookListener());\n    this.touches = [];\n    this.menuDict = menu ?? {};\n    this.activeMenus = activeMenus ?? [];\n    this.selectedMenu = {};\n    this.selectedMenuId = null;\n    this.isTouched = false;\n  },\n  // Update & Scroll\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Check for Dialogue Completion (TODO - manual triggers + scroll / sections)\n    if (this.options && this.options.autoclose) {\n      this.endTime = this.endTime ? this.endTime : this.options.endTime ?? new Date().getTime() + 10000; // 10 seconds default if autoclose\n      if (time > this.endTime) {\n        this.completed = true;\n      }\n    }\n\n    // Handle Input\n    this.checkInput(time);\n    // Draw Active Menus to Screen\n    Object.keys(this.menuDict)\n      .filter((key) => this.activeMenus.includes(key))\n      .map((id) => {\n        let section = this.menuDict[id];\n        let colors = section.colours;\n        if (section.active) {\n          colors['background'] = '#555';\n        }\n        this.engine.hud.drawButton(section.text, section.x, section.y, section.w, section.h, section.colours);\n      });\n\n    this.textbox = this.engine.hud.scrollText(this.prompt + this.text, this.scrolling, this.options);\n\n    if (this.completed) {\n      this.unhookListener();\n      // this.engine.hud.clearHud();\n    }\n    return this.completed;\n  },\n\n  unhookListener: function () {\n    // remove listener\n    this.engine.gamepad.removeListener(this.listenerId);\n    this.listenerId = null;\n  },\n\n  hookListener: function () {\n    let touchstart = ({ touches }) => {\n      this.isTouched = true;\n      this.touches = touches;\n      if (this.isTouched && this.touches.length > 0 && this.lastKey + 100 < new Date().getTime()) {\n        let x = this.touches[0].x;\n        let y = this.touches[0].y;\n        let self = this;\n        self.activeMenus\n          .filter((key) => {\n            let w = self.menuDict[key];\n            if (x < w.x + w.w && x > w.x && y < w.y + w.h && y > w.y) {\n              return true;\n            }\n            return false;\n          })\n          .map((key) => {\n            let w = self.menuDict[key];\n            if (w.trigger) w.trigger(this);\n            if (w.children) {\n              self.activeMenus = w.children;\n            }\n          });\n      }\n    };\n    let touchmove = (touches) => {\n      this.touches = touches;\n    };\n    let touchend = (touches) => {\n      this.isTouched = false;\n      this.touches = touches;\n    };\n    let mousemove = touchmove;\n    let mousedown = touchstart;\n    let mouseup = touchend;\n    return {\n      touchstart,\n      touchmove,\n      touchend,\n      mousedown,\n      mousemove,\n      mouseup,\n    };\n  },\n  // Handle Keyboard & Mouse & Touch\n  checkInput: function (time) {\n    // Mouse\n    // if (this.isTouched && this.touches.length > 0 && this.lastKey + 100 < time) {\n    //   let x = this.touches[0].x;\n    //   let y = this.touches[0].y;\n    //   let self = this;\n    //   self.activeMenu\n    //     .filter((w) => {\n    //       if (w.active && x < w.x + w.w && x > w.x && y < w.y + w.h && y > w.y) {\n    //         return true;\n    //       }\n    //       return false;\n    //     })\n    //     .map((w) => {\n    //       if (w.trigger) w.trigger();\n    //       if (w.children) {\n    //         self.activeMenu = w.children.map((c) => {\n    //           c.active = true;\n    //           return c;\n    //         });\n    //       }\n    //     });\n    // }\n\n    // Keyboard\n    if (time > this.lastKey + 100) {\n      let skipChar = false;\n      switch (this.engine.keyboard.lastPressedCode()) {\n        case 'Escape':\n          this.completed = true;\n          skipChar = true;\n          break;\n        case 'Backspace':\n          let arr = this.text.split('');\n          arr.pop();\n          this.text = arr.join('');\n          this.lastKey = time;\n          skipChar = true;\n          break;\n        case 'Enter':\n          this.engine.setGreeting(this.text);\n          if (this.sprite.speech.clearHud) this.sprite.speech.clearHud();\n          this.speechbox = this.sprite.speech.scrollText(this.text);\n          this.sprite.speech.loadImage();\n          this.completed = true;\n          skipChar = true;\n          break;\n      }\n      // debounce keypresses\n      // write to chat box\n      if (!skipChar) {\n        let char = this.engine.keyboard.lastPressedKey();\n        if (char) {\n          this.lastKey = time;\n          this.text += '' + char;\n        }\n      }\n    }\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  init: function (triggerId, zone, onCompleted = null) {\n    this.zone = zone;\n    this.world = zone.world;\n    this.lastKey = new Date().getTime();\n    this.completed = false;\n    this.onCompleted = () => console.log('script finished');\n    if (onCompleted) this.onCompleted = onCompleted;\n    // Determine Tile\n    this.triggerId = triggerId;\n    // Trigger\n    this.triggerScript();\n  },\n  // Trigger interactions in sprites\n  triggerScript: function () {\n    if (!this.triggerId) this.completed = true;\n    Promise.all(this.zone.scripts.filter((x) => x.id === this.triggerId).map(async (x) => await x.trigger.call(this.zone))).then(() => {\n      this.completed = true;\n    });\n  },\n  // check input and completion\n  tick: function (time) {\n    if (!this.loaded) return;\n    if (this.completed) this.onCompleted();\n    return this.completed; // loop\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default class ActionQueue {\n  /**\n   * Action/Event Queue\n   */\n  constructor() {\n    this.actions = [];\n  }\n\n  /**\n   * Add to Queue\n   * @param {*} action \n   */\n  add(action) {\n    this.actions.push(action);\n  }\n\n  /**\n   * Run Action\n   */\n  run() {\n    let args = arguments;\n    this.actions = this.actions.filter((action) => {\n      return action(args);\n    });\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nexport default class Loadable {\n  /**\n   * Run action if loaded or add to queue\n   * @param {*} action\n   */\n  runWhenLoaded(action) {\n    if (this.loaded) action();\n    else this.onLoadActions.add(action);\n  }\n\n  /**\n   * update and override properties\n   * @param {*} data\n   */\n  update(data) {\n    Object.assign(this, data);\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { lerp } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\n\nexport default {\n  // Initialize Dialogue Object\n  init: function (cameraAction, options = {}) {\n    this.engine = this.world.engine;\n    this.cameraAction = cameraAction;\n    this.options = options;\n    this.completed = false;\n    this.startTime = new Date().getTime();\n  },\n  // Update & Scroll\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Check for Dialogue Completion (TODO - manual triggers + scroll / sections)\n    switch (this.cameraAction) {\n      case 'pan': // rotate?\n        let frac = (time - this.startTime) / (this.options.duration * 1000);\n        let from = this.options.from;\n        let to = this.options.to;\n        to.z = Math.round(to.z);\n        // use lerp to smoothly transition based on completion\n        lerp(from, to, frac, this.engine.renderManager.camera.cameraVector);\n        // set Facing Direction for proper sprite rendering\n        this.engine.renderManager.camera.cameraDir = Direction.adjustCameraDirection(to);\n        break;\n      case 'zoom':\n        // todo\n        break;\n      case 'focus':\n        // todo\n        break;\n      case 'translate':\n        // todo\n        break;\n      default:\n        break;\n    }\n\n    if (this.options && this.options.duration) {\n      this.endTime = this.endTime ? this.endTime : this.options.endTime ?? new Date().getTime() + this.options.duration * 1000; // 10 seconds default if autoclose\n      if (time > this.endTime) {\n        this.completed = true;\n      }\n    }\n\n    return this.completed;\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  // Initialize Dialogue Object\n  init: function (prompt, scrolling = true, options = {}) {\n    this.engine = this.world.engine;\n    this.text = '';\n    this.prompt = prompt;\n    this.scrolling = scrolling;\n    this.line = 0;\n    this.options = options;\n    this.completed = false;\n    this.lastKey = new Date().getTime();\n  },\n  // Update & Scroll\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Check for Dialogue Completion (TODO - manual triggers + scroll / sections)\n    if (this.options && this.options.autoclose) {\n      this.endTime = this.endTime ? this.endTime : this.options.endTime ?? new Date().getTime() + 10000; // 10 seconds default if autoclose\n      if (time > this.endTime) {\n        this.completed = true;\n      }\n    }\n    // Handle Input\n    this.checkInput(time);\n    this.textbox = this.engine.hud.scrollText(this.prompt + this.text, this.scrolling, this.options);\n    return this.completed;\n  },\n  // Handle Keyboard\n  checkInput: function (time) {\n    if (time > this.lastKey + 100) {\n      let skipChar = false;\n      switch (this.engine.keyboard.lastPressedCode()) {\n        case 'Escape':\n          this.completed = true;\n          skipChar = true;\n          break;\n        case 'Backspace':\n          let arr = this.text.split('');\n          arr.pop();\n          this.text = arr.join('');\n          this.lastKey = time;\n          skipChar = true;\n          break;\n        case 'Enter':\n          this.engine.hud.scrollText(this.text);\n          // send to chat room - todo\n          this.completed = true;\n          skipChar = true;\n          break;\n      }\n      // debounce keypresses\n      // write to chat box\n      if (!skipChar) {\n        let char = this.engine.keyboard.lastPressedKey();\n        if (char) {\n          this.lastKey = time;\n          this.text += '' + char;\n        }\n      }\n    }\n  },\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  // Initialize Dialogue Object\n  init: function (menu, activeMenus, scrolling = true, options = { autoclose: false, closeOnEnter: false }) {\n    this.engine = this.world.engine;\n    this.text = '';\n    this.prompt = '';\n    this.scrolling = scrolling;\n    this.line = 0;\n    this.options = options;\n    this.completed = false;\n    this.onOpen = menu.start.onOpen;\n    this.lastKey = new Date().getTime();\n    this.touches = [];\n    this.menuDict = menu ?? {};\n    this.activeMenus = activeMenus ?? [];\n    this.selectedMenu = {};\n    this.selectedMenuId = null;\n    this.isTouched = false;\n    this.speechOutput = false;\n    this.quittable = true;\n    this.listenerId = this.engine.gamepad.attachListener(this.hookListener());\n    this.speechOutput = true;\n    // load voices and then play\n    window.speechSynthesis.onvoiceschanged = () => {};\n  },\n  // Update & Scroll\n  tick: function (time) {\n    if (!this.loaded) return;\n    // Check for Dialogue Completion (TODO - manual triggers + scroll / sections)\n    if (this.options && this.options.autoclose) {\n      this.endTime = this.endTime ? this.endTime : this.options.endTime ?? new Date().getTime() + 10000; // 10 seconds default if autoclose\n      if (time > this.endTime) {\n        this.completed = true;\n      }\n    }\n\n    // Handle Input\n    this.checkInput(time);\n    // Draw Active Menus to Screen\n    Object.keys(this.menuDict)\n      .filter((key) => this.activeMenus.includes(key))\n      .map((id) => {\n        let section = this.menuDict[id];\n        let colors = section.colours;\n        if (section.active) {\n          colors['background'] = '#555';\n        }\n        this.engine.hud.drawButton(section.text, section.x, section.y, section.w, section.h, section.colours);\n        if (section.prompt) {\n          if (this.speechOutput) {\n            this.engine.speechSynthesis(section.prompt);\n          }\n          this.textbox = this.engine.hud.scrollText(section.prompt, this.scrolling, this.options);\n        }\n      });\n    // don't keep repeating speech\n    this.speechOutput = false;\n\n    if (this.completed) {\n      this.unhookListener();\n      window.speechSynthesis.cancel();\n    }\n    return this.completed;\n  },\n  // Unhook from the Touch & mouse handler\n  unhookListener: function () {\n    // remove listener\n    this.engine.gamepad.removeListener(this.listenerId);\n    this.listenerId = null;\n  },\n  // Hook into the Touch & Mouse handler\n  hookListener: function () {\n    // open hook\n    if (this.onOpen) this.onOpen(this);\n    // attach handler\n    let touchstart = ({ touches }) => {\n      this.isTouched = true;\n      this.touches = touches;\n      if (this.isTouched && this.touches.length > 0 && this.lastKey + 100 < new Date().getTime()) {\n        let x = this.touches[0].x;\n        let y = this.touches[0].y;\n        let self = this;\n        self.activeMenus\n          .filter((key) => {\n            let w = self.menuDict[key];\n            if (x < w.x + w.w && x > w.x && y < w.y + w.h && y > w.y) {\n              return true;\n            }\n            return false;\n          })\n          .map((key) => {\n            let w = self.menuDict[key];\n            if (w.trigger) w.trigger(this);\n            if (w.children) {\n              self.activeMenus = w.children;\n            }\n          });\n      }\n    };\n    let touchmove = (touches) => {\n      this.touches = touches;\n    };\n    let touchend = (touches) => {\n      this.isTouched = false;\n      this.touches = touches;\n    };\n    let mousemove = touchmove;\n    let mousedown = touchstart;\n    let mouseup = touchend;\n    return {\n      touchstart,\n      touchmove,\n      touchend,\n      mousedown,\n      mousemove,\n      mouseup,\n    };\n  },\n  // Handle Keyboard & Input States\n  checkInput: function (time) {\n    // Keyboard\n    if (time > this.lastKey + 100) {\n      switch (this.engine.keyboard.lastPressedCode()) {\n        case 'Escape':\n          if (this.quittable) {\n            this.completed = true;\n          }\n          break;\n        case 'Enter':\n          Object.keys(this.menuDict)\n            .filter((key) => this.activeMenus.includes(key))\n            .map((id) => {\n              let section = this.menuDict[id];\n              if (section.onEnter) section.trigger(this);\n            });\n          if (this.quittable || this.options.closeOnEnter) {\n            this.completed = true;\n          }\n          break;\n      }\n    }\n  },\n};\n","import { EventLoader } from '@Engine/utils/loaders/index.jsx';\n\nexport default class PixosLuaLibrary {\n  /**\n   * Constructor\n   * @param {luainjs} luainjs - Lua in JS Library\n   * @constructor\n   */\n  constructor(luainjs) {\n    this.lua = luainjs;\n  }\n\n  /**\n   * Create Script Environment\n   */\n  getLibrary = (engine, envScope) => {\n    console.log({ msg: 'creating lua library', envScope });\n\n    return new this.lua.Table({\n      // passed in scope\n      ...envScope,\n      // core functions\n      get_caller: () => {\n        return envScope._this;\n      },\n      get_subject: () => {\n        return envScope.subject;\n      },\n      get_map: () => {\n        return envScope.map || envScope.zone;\n      },\n      get_world: () => {\n        return engine.spritz.world;\n      },\n\n      // world functions\n      remove_all_zones: () => {\n        console.log({ msg: 'removing all zones via lua' });\n        return engine.spritz.world.removeAllZones();\n      },\n      load_zone_from_zip: (z, zip) => {\n        console.log({ msg: 'loading zone from zip via lua', world: engine.spritz.world, z, zip });\n        return engine.spritz.world.loadZoneFromZip(z, zip);\n      },\n\n      // zone functions\n      play_cutscene: (cutscene) => {\n        // todo - not working\n        return () =>\n          new Promise((resolve) => {\n            console.log({ msg: 'playing cutscene via lua', zone: envScope._this, cutscene });\n            if (envScope._this.playCutscene) {\n              console.log({ msg: 'cutscene function found' });\n              return envScope._this.playCutscene(cutscene).then(() => {\n                resolve();\n              });\n            } else {\n              resolve();\n            }\n          });\n      },\n      sprite_dialogue: (spriteId, dialogue, options = {}) => {\n        return () =>\n          new Promise((resolve) => {\n            console.log({ msg: 'playing dialogue via lua', zone: envScope._this, spriteId, dialogue });\n            options.onClose = () => resolve();\n            return envScope._this.spriteDialogue(spriteId, dialogue, options).then(() => {\n              console.log({ msg: 'played dialogue via lua', zone: envScope._this, spriteId, dialogue });\n            });\n          });\n      },\n      move_sprite: (spriteId, location, running) => {\n        return () =>\n          new Promise((resolve) => {\n            console.log({ msg: 'moving sprite via lua', zone: envScope._this, spriteId, location, running });\n            return envScope._this.moveSprite(spriteId, this.lua.utils.ensureArray(location.toObject()), running).then(() => {\n              console.log({ msg: 'moved sprite via lua', zone: envScope._this, spriteId, location, running });\n              resolve();\n            });\n          });\n      },\n      load_scripts: (scripts) => {\n        console.log({ msg: 'loading scripts via lua', scripts, envScope });\n        return envScope._this.loadScripts(scripts);\n      },\n\n      // camera functions\n      // ...\n      set_camera: () => {\n        engine.renderManager.camera.setCamera();\n      },\n      get_camera_vector: () => {\n        return engine.renderManager.camera.cameraVector;\n      },\n      look_at: (pos, trgt, up) => {\n        let position = this.lua.utils.ensureArray(pos.toObject());\n        let target = this.lua.utils.ensureArray(trgt.toObject());\n        let upDir = this.lua.utils.ensureArray(up.toObject());\n        engine.renderManager.camera.lookAt(position, target, upDir);\n      },\n      pan_camera: (from, to, duration) => {\n        console.log({ msg: 'panning camera via lua', from, to, duration });\n        return () =>\n          new Promise((resolve) => {\n            engine.spritz.world.addEvent(\n              new EventLoader(\n                engine,\n                'camera',\n                [\n                  'pan',\n                  {\n                    from: from,\n                    to: to,\n                    duration: duration,\n                  },\n                ],\n                engine.spritz.world,\n                async () => {\n                  resolve();\n                }\n              )\n            );\n          });\n      },\n      \n      _pan: (direction, radians = Math.PI / 4) => {\n        if (direction === 'CCW') {\n          engine.renderManager.camera.panCCW(this.luainjs.CoerceArgToFloat(radians));\n        } else {\n          engine.renderManager.camera.panCW(this.luainjs.CoerceArgToFloat(radians));\n        }\n      },\n      pitch: (direction, radians = Math.PI / 4) => {\n        if (direction === 'CCW') {\n          engine.renderManager.camera.pitchCCW(this.luainjs.CoerceArgToFloat(radians));\n        } else {\n          engine.renderManager.camera.pitchCW(this.luainjs.CoerceArgToFloat(radians));\n        }\n      },\n      tilt: (direction, radians = Math.PI / 4) => {\n        if (direction === 'CCW') {\n          engine.renderManager.camera.tiltCCW(this.luainjs.CoerceArgToFloat(radians));\n        } else {\n          engine.renderManager.camera.tiltCW(this.luainjs.CoerceArgToFloat(radians));\n        }\n      },\n\n      // input functions\n      // ...\n\n      // audio functions\n      // ...\n\n      // sprite functions\n      // ...\n\n      // math functions\n      vector: (tbl) => {\n        let [x, y, z] = this.lua.utils.ensureArray(tbl.toObject());\n        return new engine.utils.Vector(x, y, z);\n      },\n      vec_sub: (a, b) => {\n        return a.sub(b);\n      },\n\n      // misc utils & functions\n      sync: async (p) => {\n        for (const a of p.toObject()) {\n          await a();\n        }\n      },\n      as_obj: (tbl) => {\n        return tbl.toObject();\n      },\n      as_array: (tbl) => {\n        return this.lua.utils.ensureArray(tbl.toObject());\n      },\n      as_table: (obj) => {\n        const table = new this.lua.Table();\n        for (const [key, value] of Object.entries(obj)) {\n          table.set(key, value);\n        }\n        return table;\n      },\n      log: (msg) => {\n        console.log(msg);\n      },\n      to: (obj, tbl) => {\n        for (const [key, value] of Object.entries(tbl.toObject())) {\n          obj[key] = value;\n        }\n      },\n      from: (obj, key) => {\n        return obj[key];\n      },\n      length: (tbl) => {\n        return tbl.length || 0;\n      },\n      callback_finish: (success) => {\n        console.log({ msg: 'callback finish', success });\n        if (envScope.finish) {\n          envScope.finish(success > 0);\n        }\n      },\n    });\n  };\n}\n","/* printj.js (C) 2016-present SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\n/*jshint sub:true, eqnull:true */\n/*exported PRINTJ */\n/*:: declare var DO_NOT_EXPORT_PRINTJ:?boolean; */\n/*:: declare function define(cb:()=>any):void; */\n\nvar PRINTJ/*:PRINTJModule*/ = /*::(*/{}/*:: :any)*/;\n\nPRINTJ.version = '1.3.1';\n\nexport const version = PRINTJ.version;\n\nvar tcache = {};\n\nfunction tokenize(fmt/*:string*/)/*:ParsedFmt*/ {\n\tif(tcache[fmt]) return tcache[fmt];\n\tvar out/*:ParsedFmt*/ = [];\n\tvar start/*:number*/ = 0;\n\n\tvar i/*:number*/ = 0;\n\tvar infmt/*:boolean*/ = false;\n\tvar fmtparam/*:string*/ = \"\", fmtflags/*:string*/ = \"\", fmtwidth/*:string*/ = \"\", fmtprec/*:string*/ = \"\", fmtlen/*:string*/ = \"\";\n\n\tvar c/*:number*/ = 0;\n\n\tvar L/*:number*/ = fmt.length;\n\n\tfor(; i < L; ++i) {\n\t\tc = fmt.charCodeAt(i);\n\t\tif(!infmt) {\n\n\t\t\tif(c !== 37) continue;\n\n\t\t\tif(start < i) out.push([\"L\", fmt.substring(start, i)]);\n\t\t\tstart = i;\n\t\t\tinfmt = true;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif(c >= 48 && c < 58)\t{\n\t\t\t\tif(fmtprec.length) fmtprec += String.fromCharCode(c);\n\t\t\t\telse if(c == 48 && !fmtwidth.length) fmtflags += String.fromCharCode(c);\n\t\t\t\telse fmtwidth += String.fromCharCode(c);\n\t\t} else switch(c) {\n\t\t\t/* positional */\n\t\t\tcase 36:\n\t\t\t\tif(fmtprec.length) fmtprec += \"$\";\n\t\t\t\telse if(fmtwidth.charAt(0) == \"*\") fmtwidth += \"$\";\n\t\t\t\telse { fmtparam = fmtwidth + \"$\"; fmtwidth = \"\"; }\n\t\t\t\tbreak;\n\n\t\t\t/* flags */\n\t\t\tcase 39: fmtflags += \"'\"; break;\n\t\t\tcase 45: fmtflags += \"-\"; break;\n\t\t\tcase 43: fmtflags += \"+\"; break;\n\t\t\tcase 32: fmtflags += \" \"; break;\n\t\t\tcase 35: fmtflags += \"#\"; break;\n\n\t\t\t/* width and precision */\n\t\t\tcase 46: fmtprec = \".\"; break;\n\t\t\tcase 42:\n\t\t\t\tif(fmtprec.charAt(0) == \".\") fmtprec += \"*\";\n\t\t\t\telse fmtwidth += \"*\";\n\t\t\t\tbreak;\n\n\t\t\t/* length */\n\t\t\tcase 104:\n\t\t\tcase 108:\n\t\t\t\tif(fmtlen.length > 1) throw \"bad length \" + fmtlen + String(c);\n\t\t\t\tfmtlen += String.fromCharCode(c);\n\t\t\t\tbreak;\n\n\t\t\tcase  76:\n\t\t\tcase 106:\n\t\t\tcase 122:\n\t\t\tcase 116:\n\t\t\tcase 113:\n\t\t\tcase  90:\n\t\t\tcase 119:\n\t\t\t\tif(fmtlen !== \"\") throw \"bad length \" + fmtlen + String.fromCharCode(c);\n\t\t\t\tfmtlen = String.fromCharCode(c);\n\t\t\t\tbreak;\n\n\t\t\tcase 73:\n\t\t\t\tif(fmtlen !== \"\") throw \"bad length \" + fmtlen + 'I';\n\t\t\t\tfmtlen = 'I';\n\t\t\t\tbreak;\n\n\t\t\t/* conversion */\n\t\t\tcase 100:\n\t\t\tcase 105:\n\t\t\tcase 111:\n\t\t\tcase 117:\n\t\t\tcase 120:\n\t\t\tcase 88:\n\t\t\tcase 102:\n\t\t\tcase 70:\n\t\t\tcase 101:\n\t\t\tcase 69:\n\t\t\tcase 103:\n\t\t\tcase 71:\n\t\t\tcase 97:\n\t\t\tcase 65:\n\t\t\tcase 99:\n\t\t\tcase 67:\n\t\t\tcase 115:\n\t\t\tcase 83:\n\t\t\tcase 112:\n\t\t\tcase 110:\n\t\t\tcase 68:\n\t\t\tcase 85:\n\t\t\tcase 79:\n\t\t\tcase 109:\n\t\t\tcase 98:\n\t\t\tcase 66:\n\t\t\tcase 121:\n\t\t\tcase 89:\n\t\t\tcase 74:\n\t\t\tcase 86:\n\t\t\tcase 84:\n\t\t\tcase 37:\n\t\t\t\tinfmt = false;\n\t\t\t\tif(fmtprec.length > 1) fmtprec = fmtprec.substr(1);\n\t\t\t\tout.push([String.fromCharCode(c), fmt.substring(start, i+1), fmtparam, fmtflags, fmtwidth, fmtprec, fmtlen]);\n\t\t\t\tstart = i+1;\n\t\t\t\tfmtlen = fmtprec = fmtwidth = fmtflags = fmtparam = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"Invalid format string starting with |\" + fmt.substring(start, i+1) + \"|\");\n\t\t}\n\n\t}\n\n\tif(start < fmt.length) out.push([\"L\", fmt.substring(start)]);\n\treturn (tcache[fmt] = out);\n}\n\nvar u_inspect/*:(o:any)=>string*/ = JSON.stringify;\n\nfunction doit(t/*:ParsedFmt*/, args/*:Array<any>*/)/*:string*/ {\n\t//var o/*:Array<string>*/ = [];\n\tvar o = \"\";\n\tvar argidx/*:number*/ = 0, idx/*:number*/ = 0;\n\tvar Vnum/*:number*/ = 0;\n\tvar pad/*:string*/ = \"\";\n\tfor(var i/*:number*/ = 0; i < t.length; ++i) {\n\t\tvar m/*:ParsedEntry*/ = t[i], c/*:number*/ = (m[0]/*:string*/).charCodeAt(0);\n\t\t/* m order: conv full param flags width prec length */\n\n\t\tif(c === /*L*/ 76) { o += /*o.push*/(m[1]); continue; }\n\t\tif(c === /*%*/ 37) { o += /*o.push*/(\"%\"); continue; }\n\n\t\tvar O/*:string*/ = \"\";\n\t\tvar isnum/*:number*/ = 0, radix/*:number*/ = 10, bytes/*:number*/ = 4, sign/*:boolean*/ = false;\n\n\t\t/* flags */\n\t\tvar flags/*:string*/ = m[3]/*||\"\"*/;\n\t\tvar alt/*:boolean*/ = flags.indexOf(\"#\") > -1;\n\n\t\t/* position */\n\t\tif(m[2]) argidx = parseInt(m[2], 10)-1;\n\t\t/* %m special case */\n\t\telse if(c === /*m*/ 109 && !alt) { o += /*.push*/(\"Success\"); continue; }\n\n\t\t/* grab width */\n\t\tvar width =  0; if( m[ 4].length > 0) { if(m[ 4].charAt(0) !== '*') width = parseInt(m[ 4], 10); else if(m[ 4].length === 1) width = args[idx++]; else width = args[parseInt(m[ 4].substr(1), 10)-1]; }\n\n\t\t/* grab precision */\n\t\tvar prec =  -1; if( m[ 5].length > 0) { if(m[ 5].charAt(0) !== '*') prec = parseInt(m[ 5], 10); else if(m[ 5].length === 1) prec = args[idx++]; else prec = args[parseInt(m[ 5].substr(1), 10)-1]; }\n\n\t\t/* position not specified */\n\t\tif(!m[2]) argidx = idx++;\n\n\t\t/* grab argument */\n\t\tvar arg/*:any*/ = args[argidx];\n\n\t\t/* grab length */\n\t\tvar len/*:string*/ = m[6]/* || \"\"*/;\n\n\t\tswitch(c) {\n\t\t\t/* str cCsS */\n\n\t\t\tcase /*S*/  83:\n\t\t\tcase /*s*/ 115:\n\t\t\t\t/* only valid flag is \"-\" for left justification */\n\t\t\t\tO = String(arg);\n\t\t\t\tif( prec >= 0) O = O.substr(0,  prec);\n\t\t\t\tif( width > O.length || - width > O.length) { if(( flags.indexOf(\"-\") == -1 ||  width < 0) &&  flags.indexOf(\"0\") != -1) { pad = ( width - O.length >= 0 ? \"0\".repeat( width - O.length) : \"\"); O = pad + O; } else { pad = ( width - O.length >= 0 ? \" \".repeat( width - O.length) : \"\"); O =  flags.indexOf(\"-\") > -1 ? O + pad : pad + O; } }\n\t\t\t\tbreak;\n\n\t\t\t/* first char of string or convert */\n\t\t\tcase /*C*/  67:\n\t\t\tcase /*c*/  99:\n\t\t\t\tswitch(typeof arg) {\n\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\tvar cc/*:number*/ = arg;\n\t\t\t\t\t\tif(c == 67 || len.charCodeAt(0) === /*l*/ 108) {  cc &= 0xFFFFFFFF; O = String.fromCharCode( cc); }\n\t\t\t\t\t\telse {  cc &= 0xFF; O = String.fromCharCode( cc); }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"string\": O = /*::(*/arg/*:: :string)*/.charAt(0); break;\n\t\t\t\t\tdefault: O = String(arg).charAt(0);\n\t\t\t\t}\n\t\t\t\tif( width > O.length || - width > O.length) { if(( flags.indexOf(\"-\") == -1 ||  width < 0) &&  flags.indexOf(\"0\") != -1) { pad = ( width - O.length >= 0 ? \"0\".repeat( width - O.length) : \"\"); O = pad + O; } else { pad = ( width - O.length >= 0 ? \" \".repeat( width - O.length) : \"\"); O =  flags.indexOf(\"-\") > -1 ? O + pad : pad + O; } }\n\t\t\t\tbreak;\n\n\t\t\t/* int diDuUoOxXbB */\n\n\t\t\t/* signed integer */\n\t\t\tcase /*D*/  68: bytes = 8;\n\t\t\t/* falls through */\n\t\t\tcase /*d*/ 100:\n\t\t\tcase /*i*/ 105: isnum = -1; sign = true; break;\n\n\t\t\t/* unsigned integer */\n\t\t\tcase /*U*/  85: bytes = 8;\n\t\t\t/* falls through */\n\t\t\tcase /*u*/ 117: isnum = -1; break;\n\n\t\t\t/* unsigned octal */\n\t\t\tcase /*O*/  79: bytes = 8;\n\t\t\t/* falls through */\n\t\t\tcase /*o*/ 111: isnum = -1; radix = (8); break;\n\n\t\t\t/* unsigned hex */\n\t\t\tcase /*x*/ 120: isnum = -1; radix = (-16); break;\n\t\t\tcase /*X*/  88: isnum = -1; radix = (16); break;\n\n\t\t\t/* unsigned binary (extension) */\n\t\t\tcase /*B*/  66: bytes = 8;\n\t\t\t/* falls through */\n\t\t\tcase /*b*/  98: isnum = -1; radix = (2); break;\n\n\t\t\t/* flt fegFEGaA */\n\n\t\t\t/* floating point logic */\n\t\t\tcase /*F*/  70:\n\t\t\tcase /*f*/ 102: isnum = (1); break;\n\n\t\t\tcase /*E*/  69:\n\t\t\tcase /*e*/ 101: isnum = (2); break;\n\n\t\t\tcase /*G*/  71:\n\t\t\tcase /*g*/ 103: isnum = (3); break;\n\n\t\t\t/* floating hex */\n\t\t\tcase /*A*/  65:\n\t\t\tcase /*a*/  97: isnum = (4); break;\n\n\t\t\t/* misc pnmJVTyY */\n\n\t\t\t/* JS has no concept of pointers so interpret the `l` key as an address */\n\t\t\tcase /*p*/ 112:\n\t\t\t\tVnum = typeof arg == \"number\" ? arg : arg ? Number(arg.l) : -1;\n\t\t\t\tif(isNaN(Vnum)) Vnum = -1;\n\t\t\t\tif(alt) O = Vnum.toString(10);\n\t\t\t\telse {\n\t\t\t\t\tVnum = Math.abs(Vnum);\n\t\t\t\t\tO = \"0x\" + Vnum.toString(16).toLowerCase();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t/* store length in the `len` key */\n\t\t\tcase /*n*/ 110:\n\t\t\t\tif(arg) { arg.len = o.length; }\n\t\t\t\t//if(arg) { arg.len=0; for(var oo/*:number*/ = 0; oo < o.length; ++oo) arg.len += o[oo].length; }\n\t\t\t\tcontinue;\n\n\t\t\t/* process error */\n\t\t\tcase /*m*/ 109:\n\t\t\t\tif(!(arg instanceof Error)) O = \"Success\";\n\t\t\t\telse if(arg.message) O = arg.message;\n\t\t\t\telse if(arg.errno) O = \"Error number \" + arg.errno;\n\t\t\t\telse O = \"Error \" + String(arg);\n\t\t\t\tbreak;\n\n\t\t\t/* JS-specific conversions (extension) */\n\t\t\tcase /*J*/  74: O = (alt ? u_inspect : JSON.stringify)(arg); break;\n\t\t\tcase /*V*/  86: O = arg == null ? \"null\" : String(arg.valueOf()); break;\n\t\t\tcase /*T*/  84:\n\t\t\t\tif(alt) { /* from '[object %s]' extract %s */\n\t\t\t\t\tO = Object.prototype.toString.call(arg).substr(8);\n\t\t\t\t\tO = O.substr(0, O.length - 1);\n\t\t\t\t} else O = typeof arg;\n\t\t\t\tbreak;\n\n\t\t\t/* boolean (extension) */\n\t\t\tcase /*Y*/  89:\n\t\t\tcase /*y*/ 121:\n\t\t\t\tO = (arg) ? (alt ? \"yes\" : \"true\") : (alt ? \"no\" : \"false\");\n\t\t\t\tif(c == /*Y*/ 89) O = O.toUpperCase();\n\t\t\t\tif( prec >= 0) O = O.substr(0,  prec);\n\t\t\t\tif( width > O.length || - width > O.length) { if(( flags.indexOf(\"-\") == -1 ||  width < 0) &&  flags.indexOf(\"0\") != -1) { pad = ( width - O.length >= 0 ? \"0\".repeat( width - O.length) : \"\"); O = pad + O; } else { pad = ( width - O.length >= 0 ? \" \".repeat( width - O.length) : \"\"); O =  flags.indexOf(\"-\") > -1 ? O + pad : pad + O; } }\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif(width < 0) { width = -width; flags += \"-\"; }\n\n\t\tif(isnum == -1) {\n\n\t\t\tVnum = Number(arg);\n\n\t\t\t/* parse byte length field */\n\n\t\t\tswitch(len) {\n\t\t\t\t/* char */\n\t\t\t\tcase \"hh\": { bytes = 1; } break;\n\t\t\t\t/* short */\n\t\t\t\tcase \"h\":  { bytes = 2; } break;\n\n\t\t\t\t/* long */\n\t\t\t\tcase \"l\":  { if(bytes == 4) bytes = 8; } break;\n\n\t\t\t\t/* long long */\n\t\t\t\tcase \"L\":\n\t\t\t\tcase \"q\":\n\t\t\t\tcase \"ll\": { if(bytes == 4) bytes = 8; } break;\n\n\t\t\t\t/* intmax_t */\n\t\t\t\tcase \"j\":  { if(bytes == 4) bytes = 8; } break;\n\n\t\t\t\t/* ptrdiff_t */\n\t\t\t\tcase \"t\":  { if(bytes == 4) bytes = 8; } break;\n\n\t\t\t\t/* size_t */\n\t\t\t\tcase \"z\":\n\t\t\t\tcase \"Z\":  { if(bytes == 4) bytes = 8; } break;\n\n\t\t\t\t/* CRT size_t or ptrdiff_t */\n\t\t\t\tcase \"I\":\n\n\t\t\t\t\t{ if(bytes == 4) bytes = 8; }\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t/* CRT wchar_t */\n\t\t\t\tcase \"w\": break;\n\t\t\t}\n\n\t\t\t/* restrict value */\n\n\t\t\tswitch(bytes) {\n\t\t\t\tcase 1: Vnum = (Vnum & 0xFF); if(sign && (Vnum >  0x7F)) Vnum -= (0xFF + 1); break;\n\t\t\t\tcase 2: Vnum = (Vnum & 0xFFFF); if(sign && (Vnum >  0x7FFF)) Vnum -= (0xFFFF + 1); break;\n\t\t\t\tcase 4: Vnum = sign ? (Vnum | 0) : (Vnum >>> 0); break;\n\t\t\t\tdefault: Vnum = isNaN(Vnum) ? 0 : Math.round(Vnum); break;\n\t\t\t}\n\n\t\t\t/* generate string */\n\t\t\tif(bytes > 4 && Vnum < 0 && !sign) {\n\t\t\t\tif(radix == 16 || radix == -16) {\n\t\t\t\t\tO = (Vnum>>>0).toString(16);\n\t\t\t\t\tVnum = Math.floor((Vnum - (Vnum >>> 0)) / Math.pow(2,32));\n\t\t\t\t\tO = (Vnum>>>0).toString(16) + (8 - O.length >= 0 ?  \"0\".repeat(8 - O.length) : \"\") + O;\n\t\t\t\t\tO = (16 - O.length >= 0 ?  \"f\".repeat(16 - O.length) : \"\") + O;\n\t\t\t\t\tif(radix == 16) O = O.toUpperCase();\n\t\t\t\t} else if(radix == 8) {\n\t\t\t\t\tO = (Vnum>>>0).toString(8);\n\t\t\t\t\tO = (10 - O.length >= 0 ?  \"0\".repeat(10 - O.length) : \"\") + O;\n\t\t\t\t\tVnum = Math.floor((Vnum - ((Vnum >>> 0)&0x3FFFFFFF)) / Math.pow(2,30));\n\t\t\t\t\tO = (Vnum>>>0).toString(8) + O.substr(O.length - 10);\n\t\t\t\t\tO = O.substr(O.length - 20);\n\t\t\t\t\tO = \"1\" + (21 - O.length >= 0 ?  \"7\".repeat(21 - O.length) : \"\") + O;\n\t\t\t\t} else {\n\t\t\t\t\tVnum = (-Vnum) % 1e16;\n\t\t\t\t\tvar d1/*:Array<number>*/ = [1,8,4,4,6,7,4,4,0,7,3,7,0,9,5,5,1,6,1,6];\n\t\t\t\t\tvar di/*:number*/ = d1.length - 1;\n\t\t\t\t\twhile(Vnum > 0) {\n\t\t\t\t\t\tif((d1[di] -= (Vnum % 10)) < 0) { d1[di] += 10; d1[di-1]--; }\n\t\t\t\t\t\t--di; Vnum = Math.floor(Vnum / 10);\n\t\t\t\t\t}\n\t\t\t\t\tO = d1.join(\"\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(radix === -16) O = Vnum.toString(16).toLowerCase();\n\t\t\t\telse if(radix === 16) O = Vnum.toString(16).toUpperCase();\n\t\t\t\telse O = Vnum.toString(radix);\n\t\t\t}\n\n\t\t\t/* apply precision */\n\t\t\tif(prec ===0 && O == \"0\" && !(radix == 8 && alt)) O = \"\"; /* bail out */\n\t\t\telse {\n\t\t\t\tif(O.length < prec + (O.substr(0,1) == \"-\" ? 1 : 0)) {\n\t\t\t\t\tif(O.substr(0,1) != \"-\") O = (prec - O.length >= 0 ?  \"0\".repeat(prec - O.length) : \"\") + O;\n\t\t\t\t\telse O = O.substr(0,1) + (prec + 1 - O.length >= 0 ?  \"0\".repeat(prec + 1 - O.length) : \"\") + O.substr(1);\n\t\t\t\t}\n\n\t\t\t\t/* add prefix for # form */\n\t\t\t\tif(!sign && alt && Vnum !== 0) switch(radix) {\n\t\t\t\t\tcase -16: O = \"0x\" + O; break;\n\t\t\t\t\tcase  16: O = \"0X\" + O; break;\n\t\t\t\t\tcase   8: if(O.charAt(0) != \"0\") O =  \"0\" + O; break;\n\t\t\t\t\tcase   2: O = \"0b\" + O; break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* add sign character */\n\t\t\tif(sign && O.charAt(0) != \"-\") {\n\t\t\t\tif(flags.indexOf(\"+\") > -1) O = \"+\" + O;\n\t\t\t\telse if(flags.indexOf(\" \") > -1) O = \" \" + O;\n\t\t\t}\n\t\t\t/* width */\n\t\t\tif(width > 0) {\n\t\t\t\tif(O.length < width) {\n\t\t\t\t\tif(flags.indexOf(\"-\") > -1) {\n\t\t\t\t\t\tO = O + ((width - O.length) >= 0 ?  \" \".repeat((width - O.length)) : \"\");\n\t\t\t\t\t} else if(flags.indexOf(\"0\") > -1 && prec < 0 && O.length > 0) {\n\t\t\t\t\t\tif(prec > O.length) O = ((prec - O.length) >= 0 ?  \"0\".repeat((prec - O.length)) : \"\") + O;\n\t\t\t\t\t\tpad = ((width - O.length) >= 0 ?  (prec > 0 ? \" \" : \"0\").repeat((width - O.length)) : \"\");\n\t\t\t\t\t\tif(O.charCodeAt(0) < 48) {\n\t\t\t\t\t\t\tif(O.charAt(2).toLowerCase() == \"x\") O = O.substr(0,3) + pad + O.substring(3);\n\t\t\t\t\t\t\telse O = O.substr(0,1) + pad + O.substring(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(O.charAt(1).toLowerCase() == \"x\") O = O.substr(0,2) + pad + O.substring(2);\n\t\t\t\t\t\telse O = pad + O;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tO = ((width - O.length) >= 0 ?  \" \".repeat((width - O.length)) : \"\") + O;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else if(isnum > 0) {\n\n\t\t\tVnum = Number(arg);\n\t\t\tif(arg === null) Vnum = 0/0;\n\t\t\tif(len == \"L\") bytes = 12;\n\t\t\tvar isf/*:boolean*/ = isFinite(Vnum);\n\t\t\tif(!isf) { /* Infinity or NaN */\n\t\t\t\tif(Vnum < 0) O = \"-\";\n\t\t\t\telse if(flags.indexOf(\"+\") > -1) O = \"+\";\n\t\t\t\telse if(flags.indexOf(\" \") > -1) O = \" \";\n\t\t\t\tO += (isNaN(Vnum)) ? \"nan\" : \"inf\";\n\t\t\t} else {\n\t\t\t\tvar E/*:number*/ = 0;\n\n\t\t\t\tif(prec == -1 && isnum != 4) prec = 6;\n\n\t\t\t\t/* g/G conditional behavior */\n\t\t\t\tif(isnum == 3) {\n\t\t\t\t\tO = Vnum.toExponential(1);\n\t\t\t\t\tE = +O.substr(O.indexOf(\"e\") + 1);\n\t\t\t\t\tif(prec === 0) prec = 1;\n\t\t\t\t\tif(prec > E && E >= -4) { isnum = (11); prec = prec -(E + 1); }\n\t\t\t\t\telse { isnum = (12); prec = prec - 1; }\n\t\t\t\t}\n\n\t\t\t\t/* sign: workaround for negative zero */\n\t\t\t\tvar sg/*:string*/ = (Vnum < 0 || 1/Vnum == -Infinity) ? \"-\" : \"\";\n\t\t\t\tif(Vnum < 0) Vnum = -Vnum;\n\n\t\t\t\tswitch(isnum) {\n\t\t\t\t\t/* f/F standard */\n\t\t\t\t\tcase 1: case 11:\n\t\t\t\t\t\tif(Vnum < 1e21) {\n\t\t\t\t\t\t\tO = Vnum.toFixed(prec);\n\t\t\t\t\t\t\tif(isnum == 1) { if(prec===0 &&alt&& O.indexOf(\".\")==-1) O+=\".\"; }\n\t\t\t\t\t\t\telse if(!alt) O=O.replace(/(\\.\\d*[1-9])0*$/,\"$1\").replace(/\\.0*$/,\"\");\n\t\t\t\t\t\t\telse if(O.indexOf(\".\") == -1) O+= \".\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tO = Vnum.toExponential(20);\n\t\t\t\t\t\tE = +O.substr(O.indexOf(\"e\")+1);\n\t\t\t\t\t\tO = O.charAt(0) + O.substr(2,O.indexOf(\"e\")-2);\n\t\t\t\t\t\tO = O + (E - O.length + 1 >= 0 ?  \"0\".repeat(E - O.length + 1) : \"\");\n\t\t\t\t\t\tif(alt || (prec > 0 && isnum !== 11)) O = O + \".\" + (prec >= 0 ?  \"0\".repeat(prec) : \"\");\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t/* e/E exponential */\n\t\t\t\t\tcase 2: case 12:\n\t\t\t\t\t\tO = Vnum.toExponential(prec);\n\t\t\t\t\t\tE = O.indexOf(\"e\");\n\t\t\t\t\t\tif(O.length - E === 3) O = O.substr(0, E+2) + \"0\" + O.substr(E+2);\n\t\t\t\t\t\tif(alt && O.indexOf(\".\") == -1) O = O.substr(0,E) +\".\"+ O.substr(E);\n\t\t\t\t\t\telse if(!alt && isnum == 12) O = O.replace(/\\.0*e/, \"e\").replace(/\\.(\\d*[1-9])0*e/, \".$1e\");\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t/* a/A hex */\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tif(Vnum===0){O= \"0x0\"+((alt||prec>0)?\".\"+(prec >= 0 ? \"0\".repeat(prec) : \"\"):\"\")+\"p+0\"; break;}\n\t\t\t\t\t\tO = Vnum.toString(16);\n\t\t\t\t\t\t/* First char 0-9 */\n\t\t\t\t\t\tvar ac/*:number*/ = O.charCodeAt(0);\n\t\t\t\t\t\tif(ac == 48) {\n\t\t\t\t\t\t\tac = 2; E = -4; Vnum *= 16;\n\t\t\t\t\t\t\twhile(O.charCodeAt(ac++) == 48) { E -= 4; Vnum *= 16; }\n\t\t\t\t\t\t\tO = Vnum.toString(16);\n\t\t\t\t\t\t\tac = O.charCodeAt(0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar ai/*:number*/ = O.indexOf(\".\");\n\t\t\t\t\t\tif(O.indexOf(\"(\") > -1) {\n\t\t\t\t\t\t\t/* IE exponential form */\n\t\t\t\t\t\t\tvar am/*:?Array<any>*/ = O.match(/\\(e(.*)\\)/);\n\t\t\t\t\t\t\tvar ae/*:number*/ = am ? (+am[1]) : 0;\n\t\t\t\t\t\t\tE += 4 * ae; Vnum /= Math.pow(16, ae);\n\t\t\t\t\t\t} else if(ai > 1) {\n\t\t\t\t\t\t\tE += 4 * (ai - 1); Vnum /= Math.pow(16, ai - 1);\n\t\t\t\t\t\t} else if(ai == -1) {\n\t\t\t\t\t\t\tE += 4 * (O.length - 1); Vnum /= Math.pow(16, O.length - 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* at this point 1 <= Vnum < 16 */\n\n\t\t\t\t\t\tif(bytes > 8) {\n\t\t\t\t\t\t\tif(ac < 50) { E -= 3; Vnum *= 8; }\n\t\t\t\t\t\t\telse if(ac < 52) { E -= 2; Vnum *= 4; }\n\t\t\t\t\t\t\telse if(ac < 56) { E -= 1; Vnum *= 2; }\n\t\t\t\t\t\t\t/* at this point 8 <= Vnum < 16 */\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(ac >= 56) { E += 3; Vnum /= 8; }\n\t\t\t\t\t\t\telse if(ac >= 52) { E += 2; Vnum /= 4; }\n\t\t\t\t\t\t\telse if(ac >= 50) { E += 1; Vnum /= 2; }\n\t\t\t\t\t\t\t/* at this point 1 <= Vnum < 2 */\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tO = Vnum.toString(16);\n\t\t\t\t\t\tif(O.length > 1) {\n\t\t\t\t\t\t\tif(O.length > prec+2 && O.charCodeAt(prec+2) >= 56) {\n\t\t\t\t\t\t\t\tvar _f/*:boolean*/ = O.charCodeAt(0) == 102;\n\t\t\t\t\t\t\t\tO = (Vnum + 8 * Math.pow(16, -prec-1)).toString(16);\n\t\t\t\t\t\t\t\tif(_f && O.charCodeAt(0) == 49) E += 4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(prec > 0) {\n\t\t\t\t\t\t\t\tO = O.substr(0, prec + 2);\n\t\t\t\t\t\t\t\tif(O.length < prec + 2) {\n\t\t\t\t\t\t\t\t\tif(O.charCodeAt(0) < 48) O = O.charAt(0) + ((prec + 2 - O.length) >= 0 ?  \"0\".repeat((prec + 2 - O.length)) : \"\") + O.substr(1);\n\t\t\t\t\t\t\t\t\telse O += ((prec + 2 - O.length) >= 0 ?  \"0\".repeat((prec + 2 - O.length)) : \"\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if(prec === 0) O = O.charAt(0) + (alt ? \".\" : \"\");\n\t\t\t\t\t\t} else if(prec > 0) O = O + \".\" + (prec >= 0 ? \"0\".repeat(prec) : \"\");\n\t\t\t\t\t\telse if(alt) O = O + \".\";\n\t\t\t\t\t\tO = \"0x\" + O + \"p\" + (E>=0 ? \"+\" + E : E);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif(sg === \"\") {\n\t\t\t\t\tif(flags.indexOf(\"+\") > -1) sg = \"+\";\n\t\t\t\t\telse if(flags.indexOf(\" \") > -1) sg = \" \";\n\t\t\t\t}\n\n\t\t\t\tO = sg + O;\n\t\t\t}\n\n\t\t\t/* width */\n\t\t\tif(width > O.length) {\n\t\t\t\tif(flags.indexOf(\"-\") > -1) {\n\t\t\t\t\tO = O + ((width - O.length) >= 0 ?  \" \".repeat((width - O.length)) : \"\");\n\t\t\t\t} else if(flags.indexOf(\"0\") > -1 && O.length > 0 && isf) {\n\t\t\t\t\tpad = ((width - O.length) >= 0 ?  \"0\".repeat((width - O.length)) : \"\");\n\t\t\t\t\tif(O.charCodeAt(0) < 48) {\n\t\t\t\t\t\tif(O.charAt(2).toLowerCase() == \"x\") O = O.substr(0,3) + pad + O.substring(3);\n\t\t\t\t\t\telse O = O.substr(0,1) + pad + O.substring(1);\n\t\t\t\t\t}\n\t\t\t\t\telse if(O.charAt(1).toLowerCase() == \"x\") O = O.substr(0,2) + pad + O.substring(2);\n\t\t\t\t\telse O = pad + O;\n\t\t\t\t} else {\n\t\t\t\t\tO = ((width - O.length) >= 0 ?  \" \".repeat((width - O.length)) : \"\") + O;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(c < 96) O = O.toUpperCase();\n\n\t\t}\n\n\t\to += /*.push*/(O);\n\t}\n\treturn o/*.join(\"\")*/;\n}\n\nfunction vsprintf(fmt/*:string*/, args/*:Args*/)/*:string*/ { return doit(tokenize(fmt), args); }\n\nfunction sprintf(/*:: ...argz*/)/*:string*/ {\n\tvar args/*:Array<any>*/ = new Array(arguments.length - 1);\n\tfor(var i/*:number*/ = 0; i < args.length; ++i) args[i] = arguments[i+1];\n\treturn doit(tokenize(arguments[0]), args);\n}\n\nexport { sprintf, vsprintf };\n\n","import luaparse from 'luaparse';\nimport { sprintf } from 'printj';\n\nclass LuaError extends Error {\r\n    constructor(message) {\r\n        super();\r\n        this.message = message;\r\n    }\r\n    toString() {\r\n        return `LuaError: ${this.message}`;\r\n    }\r\n}\n\nclass Table {\r\n    constructor(initialiser) {\r\n        this.numValues = [undefined];\r\n        this.strValues = {};\r\n        this.keys = [];\r\n        this.values = [];\r\n        this.metatable = null;\r\n        if (initialiser === undefined)\r\n            return;\r\n        if (typeof initialiser === 'function') {\r\n            initialiser(this);\r\n            return;\r\n        }\r\n        if (Array.isArray(initialiser)) {\r\n            this.insert(...initialiser);\r\n            return;\r\n        }\r\n        for (const key in initialiser) {\r\n            if (hasOwnProperty(initialiser, key)) {\r\n                let value = initialiser[key];\r\n                if (value === null)\r\n                    value = undefined;\r\n                this.set(key, value);\r\n            }\r\n        }\r\n    }\r\n    get(key) {\r\n        const value = this.rawget(key);\r\n        if (value === undefined && this.metatable) {\r\n            const mm = this.metatable.get('__index');\r\n            if (mm instanceof Table) {\r\n                return mm.get(key);\r\n            }\r\n            if (typeof mm === 'function') {\r\n                const v = mm.call(undefined, this, key);\r\n                return v instanceof Array ? v[0] : v;\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n    rawget(key) {\r\n        switch (typeof key) {\r\n            case 'string':\r\n                if (hasOwnProperty(this.strValues, key)) {\r\n                    return this.strValues[key];\r\n                }\r\n                break;\r\n            case 'number':\r\n                if (key > 0 && key % 1 === 0) {\r\n                    return this.numValues[key];\r\n                }\r\n        }\r\n        const index = this.keys.indexOf(tostring(key));\r\n        return index === -1 ? undefined : this.values[index];\r\n    }\r\n    getMetaMethod(name) {\r\n        return this.metatable && this.metatable.rawget(name);\r\n    }\r\n    set(key, value) {\r\n        const mm = this.metatable && this.metatable.get('__newindex');\r\n        if (mm) {\r\n            const oldValue = this.rawget(key);\r\n            if (oldValue === undefined) {\r\n                if (mm instanceof Table) {\r\n                    return mm.set(key, value);\r\n                }\r\n                if (typeof mm === 'function') {\r\n                    return mm(this, key, value);\r\n                }\r\n            }\r\n        }\r\n        this.rawset(key, value);\r\n    }\r\n    setFn(key) {\r\n        return v => this.set(key, v);\r\n    }\r\n    rawset(key, value) {\r\n        switch (typeof key) {\r\n            case 'string':\r\n                this.strValues[key] = value;\r\n                return;\r\n            case 'number':\r\n                if (key > 0 && key % 1 === 0) {\r\n                    this.numValues[key] = value;\r\n                    return;\r\n                }\r\n        }\r\n        const K = tostring(key);\r\n        const index = this.keys.indexOf(K);\r\n        if (index > -1) {\r\n            this.values[index] = value;\r\n            return;\r\n        }\r\n        this.values[this.keys.length] = value;\r\n        this.keys.push(K);\r\n    }\r\n    insert(...values) {\r\n        this.numValues.push(...values);\r\n    }\r\n    toObject() {\r\n        const outputAsArray = Object.keys(this.strValues).length === 0 && this.getn() > 0;\r\n        const result = outputAsArray ? [] : {};\r\n        for (let i = 1; i < this.numValues.length; i++) {\r\n            const propValue = this.numValues[i];\r\n            const value = propValue instanceof Table ? propValue.toObject() : propValue;\r\n            if (outputAsArray) {\r\n                const res = result;\r\n                res[i - 1] = value;\r\n            }\r\n            else {\r\n                const res = result;\r\n                res[String(i - 1)] = value;\r\n            }\r\n        }\r\n        for (const key in this.strValues) {\r\n            if (hasOwnProperty(this.strValues, key)) {\r\n                const propValue = this.strValues[key];\r\n                const value = propValue instanceof Table ? propValue.toObject() : propValue;\r\n                const res = result;\r\n                res[key] = value;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    getn() {\r\n        const vals = this.numValues;\r\n        const keys = [];\r\n        for (const i in vals) {\r\n            if (hasOwnProperty(vals, i)) {\r\n                keys[i] = true;\r\n            }\r\n        }\r\n        let j = 0;\r\n        while (keys[j + 1]) {\r\n            j += 1;\r\n        }\r\n        if (j > 0 && vals[j] === undefined) {\r\n            let i = 0;\r\n            while (j - i > 1) {\r\n                const m = Math.floor((i + j) / 2);\r\n                if (vals[m] === undefined) {\r\n                    j = m;\r\n                }\r\n                else {\r\n                    i = m;\r\n                }\r\n            }\r\n            return i;\r\n        }\r\n        return j;\r\n    }\r\n}\n\nconst FLOATING_POINT_PATTERN = /^[-+]?[0-9]*\\.?([0-9]+([eE][-+]?[0-9]+)?)?$/;\r\nconst HEXIDECIMAL_CONSTANT_PATTERN = /^(-)?0x([0-9a-fA-F]*)\\.?([0-9a-fA-F]*)$/;\r\nfunction type(v) {\r\n    const t = typeof v;\r\n    switch (t) {\r\n        case 'undefined':\r\n            return 'nil';\r\n        case 'number':\r\n        case 'string':\r\n        case 'boolean':\r\n        case 'function':\r\n            return t;\r\n        case 'object':\r\n            if (v instanceof Table)\r\n                return 'table';\r\n            if (v instanceof Function)\r\n                return 'function';\r\n    }\r\n}\r\nfunction tostring(v) {\r\n    if (v instanceof Table) {\r\n        const mm = v.getMetaMethod('__tostring');\r\n        if (mm)\r\n            return mm(v)[0];\r\n        return valToStr(v, 'table: 0x');\r\n    }\r\n    if (v instanceof Function) {\r\n        return valToStr(v, 'function: 0x');\r\n    }\r\n    return coerceToString(v);\r\n    function valToStr(v, prefix) {\r\n        const s = v.toString();\r\n        if (s.indexOf(prefix) > -1)\r\n            return s;\r\n        const str = prefix + Math.floor(Math.random() * 0xffffffff).toString(16);\r\n        v.toString = () => str;\r\n        return str;\r\n    }\r\n}\r\nfunction posrelat(pos, len) {\r\n    if (pos >= 0)\r\n        return pos;\r\n    if (-pos > len)\r\n        return 0;\r\n    return len + pos + 1;\r\n}\r\nfunction throwCoerceError(val, errorMessage) {\r\n    if (!errorMessage)\r\n        return undefined;\r\n    throw new LuaError(`${errorMessage}`.replace(/%type/gi, type(val)));\r\n}\r\nfunction coerceToBoolean(val) {\r\n    return !(val === false || val === undefined);\r\n}\r\nfunction coerceToNumber(val, errorMessage) {\r\n    if (typeof val === 'number')\r\n        return val;\r\n    switch (val) {\r\n        case undefined:\r\n            return undefined;\r\n        case 'inf':\r\n            return Infinity;\r\n        case '-inf':\r\n            return -Infinity;\r\n        case 'nan':\r\n            return NaN;\r\n    }\r\n    const V = `${val}`;\r\n    if (V.match(FLOATING_POINT_PATTERN)) {\r\n        return parseFloat(V);\r\n    }\r\n    const match = V.match(HEXIDECIMAL_CONSTANT_PATTERN);\r\n    if (match) {\r\n        const [, sign, exponent, mantissa] = match;\r\n        let n = parseInt(exponent, 16) || 0;\r\n        if (mantissa)\r\n            n += parseInt(mantissa, 16) / Math.pow(16, mantissa.length);\r\n        if (sign)\r\n            n *= -1;\r\n        return n;\r\n    }\r\n    if (errorMessage === undefined)\r\n        return undefined;\r\n    throwCoerceError(val, errorMessage);\r\n}\r\nfunction coerceToString(val, errorMessage) {\r\n    if (typeof val === 'string')\r\n        return val;\r\n    switch (val) {\r\n        case undefined:\r\n        case null:\r\n            return 'nil';\r\n        case Infinity:\r\n            return 'inf';\r\n        case -Infinity:\r\n            return '-inf';\r\n    }\r\n    if (typeof val === 'number') {\r\n        return Number.isNaN(val) ? 'nan' : `${val}`;\r\n    }\r\n    if (typeof val === 'boolean') {\r\n        return `${val}`;\r\n    }\r\n    if (errorMessage === undefined)\r\n        return 'nil';\r\n    throwCoerceError(val, errorMessage);\r\n}\r\nfunction coerceArg(value, coerceFunc, typ, funcName, index) {\r\n    return coerceFunc(value, `bad argument #${index} to '${funcName}' (${typ} expected, got %type)`);\r\n}\r\nfunction coerceArgToNumber(value, funcName, index) {\r\n    return coerceArg(value, coerceToNumber, 'number', funcName, index);\r\n}\r\nfunction coerceArgToString(value, funcName, index) {\r\n    return coerceArg(value, coerceToString, 'string', funcName, index);\r\n}\r\nfunction coerceArgToTable(value, funcName, index) {\r\n    if (value instanceof Table) {\r\n        return value;\r\n    }\r\n    else {\r\n        const typ = type(value);\r\n        throw new LuaError(`bad argument #${index} to '${funcName}' (table expected, got ${typ})`);\r\n    }\r\n}\r\nfunction coerceArgToFunction(value, funcName, index) {\r\n    if (value instanceof Function) {\r\n        return value;\r\n    }\r\n    else {\r\n        const typ = type(value);\r\n        throw new LuaError(`bad argument #${index} to '${funcName}' (function expected, got ${typ})`);\r\n    }\r\n}\r\nconst ensureArray = (value) => (value instanceof Array ? value : [value]);\r\nconst hasOwnProperty = (obj, key) => Object.prototype.hasOwnProperty.call(obj, key);\n\nvar utils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    type: type,\n    tostring: tostring,\n    posrelat: posrelat,\n    coerceToBoolean: coerceToBoolean,\n    coerceToNumber: coerceToNumber,\n    coerceToString: coerceToString,\n    coerceArgToNumber: coerceArgToNumber,\n    coerceArgToString: coerceArgToString,\n    coerceArgToTable: coerceArgToTable,\n    coerceArgToFunction: coerceArgToFunction,\n    ensureArray: ensureArray,\n    hasOwnProperty: hasOwnProperty\n});\n\nclass Scope {\r\n    constructor(variables = {}) {\r\n        this._variables = variables;\r\n    }\r\n    get(key) {\r\n        return this._variables[key];\r\n    }\r\n    set(key, value) {\r\n        if (hasOwnProperty(this._variables, key) || !this.parent) {\r\n            this.setLocal(key, value);\r\n        }\r\n        else {\r\n            this.parent.set(key, value);\r\n        }\r\n    }\r\n    setLocal(key, value) {\r\n        this._variables[key] = value;\r\n    }\r\n    setVarargs(args) {\r\n        this._varargs = args;\r\n    }\r\n    getVarargs() {\r\n        return this._varargs || (this.parent && this.parent.getVarargs()) || [];\r\n    }\r\n    extend() {\r\n        const innerVars = Object.create(this._variables);\r\n        const scope = new Scope(innerVars);\r\n        scope.parent = this;\r\n        return scope;\r\n    }\r\n}\n\nconst isBlock = (node) => node.type === 'IfClause' ||\r\n    node.type === 'ElseifClause' ||\r\n    node.type === 'ElseClause' ||\r\n    node.type === 'WhileStatement' ||\r\n    node.type === 'DoStatement' ||\r\n    node.type === 'RepeatStatement' ||\r\n    node.type === 'FunctionDeclaration' ||\r\n    node.type === 'ForNumericStatement' ||\r\n    node.type === 'ForGenericStatement' ||\r\n    node.type === 'Chunk';\r\nclass MemExpr extends String {\r\n    constructor(base, property) {\r\n        super();\r\n        this.base = base;\r\n        this.property = property;\r\n    }\r\n    get() {\r\n        return `__lua.get(${this.base}, ${this.property})`;\r\n    }\r\n    set(value) {\r\n        return `${this.base}.set(${this.property}, ${value})`;\r\n    }\r\n    setFn() {\r\n        return `${this.base}.setFn(${this.property})`;\r\n    }\r\n    toString() {\r\n        return this.get();\r\n    }\r\n    valueOf() {\r\n        return this.get();\r\n    }\r\n}\r\nconst UNI_OP_MAP = {\r\n    not: 'not',\r\n    '-': 'unm',\r\n    '~': 'bnot',\r\n    '#': 'len'\r\n};\r\nconst BIN_OP_MAP = {\r\n    '+': 'add',\r\n    '-': 'sub',\r\n    '*': 'mul',\r\n    '%': 'mod',\r\n    '^': 'pow',\r\n    '/': 'div',\r\n    '//': 'idiv',\r\n    '&': 'band',\r\n    '|': 'bor',\r\n    '~': 'bxor',\r\n    '<<': 'shl',\r\n    '>>': 'shr',\r\n    '..': 'concat',\r\n    '~=': 'neq',\r\n    '==': 'eq',\r\n    '<': 'lt',\r\n    '<=': 'le',\r\n    '>': 'gt',\r\n    '>=': 'ge'\r\n};\r\nconst generate = (node) => {\r\n    switch (node.type) {\r\n        case 'LabelStatement': {\r\n            return `case '${node.label.name}': label = undefined`;\r\n        }\r\n        case 'BreakStatement': {\r\n            return 'break';\r\n        }\r\n        case 'GotoStatement': {\r\n            return `label = '${node.label.name}'; continue`;\r\n        }\r\n        case 'ReturnStatement': {\r\n            const args = parseExpressions(node.arguments);\r\n            return `return ${args}`;\r\n        }\r\n        case 'IfStatement': {\r\n            const clauses = node.clauses.map(clause => generate(clause));\r\n            return clauses.join(' else ');\r\n        }\r\n        case 'IfClause':\r\n        case 'ElseifClause': {\r\n            const condition = expression(node.condition);\r\n            const body = parseBody(node);\r\n            return `if (__lua.bool(${condition})) {\\n${body}\\n}`;\r\n        }\r\n        case 'ElseClause': {\r\n            const body = parseBody(node);\r\n            return `{\\n${body}\\n}`;\r\n        }\r\n        case 'WhileStatement': {\r\n            const condition = expression(node.condition);\r\n            const body = parseBody(node);\r\n            return `while(${condition}) {\\n${body}\\n}`;\r\n        }\r\n        case 'DoStatement': {\r\n            const body = parseBody(node);\r\n            return `\\n${body}\\n`;\r\n        }\r\n        case 'RepeatStatement': {\r\n            const condition = expression(node.condition);\r\n            const body = parseBody(node);\r\n            return `do {\\n${body}\\n} while (!(${condition}))`;\r\n        }\r\n        case 'LocalStatement': {\r\n            return parseAssignments(node);\r\n        }\r\n        case 'AssignmentStatement': {\r\n            return parseAssignments(node);\r\n        }\r\n        case 'CallStatement': {\r\n            return generate(node.expression);\r\n        }\r\n        case 'FunctionDeclaration': {\r\n            const getFuncDef = (params) => {\r\n                const paramStr = params.join(';\\n');\r\n                const body = parseBody(node, paramStr);\r\n                const argsStr = params.length === 0 ? '' : '...args';\r\n                const returnStr = node.body.findIndex(node => node.type === 'ReturnStatement') === -1 ? '\\nreturn []' : '';\r\n                return `(${argsStr}) => {\\n${body}${returnStr}\\n}`;\r\n            };\r\n            const params = node.parameters.map(param => {\r\n                if (param.type === 'VarargLiteral') {\r\n                    return `$${nodeToScope.get(param)}.setVarargs(args)`;\r\n                }\r\n                return `$${nodeToScope.get(param)}.setLocal('${param.name}', args.shift())`;\r\n            });\r\n            if (node.identifier === null)\r\n                return getFuncDef(params);\r\n            if (node.identifier.type === 'Identifier') {\r\n                const scope = nodeToScope.get(node.identifier);\r\n                const setStr = node.isLocal ? 'setLocal' : 'set';\r\n                return `$${scope}.${setStr}('${node.identifier.name}', ${getFuncDef(params)})`;\r\n            }\r\n            const identifier = generate(node.identifier);\r\n            if (node.identifier.indexer === ':') {\r\n                params.unshift(`$${nodeToScope.get(node)}.setLocal('self', args.shift())`);\r\n            }\r\n            return identifier.set(getFuncDef(params));\r\n        }\r\n        case 'ForNumericStatement': {\r\n            const varName = node.variable.name;\r\n            const start = expression(node.start);\r\n            const end = expression(node.end);\r\n            const step = node.step === null ? 1 : expression(node.step);\r\n            const init = `let ${varName} = ${start}, end = ${end}, step = ${step}`;\r\n            const cond = `step > 0 ? ${varName} <= end : ${varName} >= end`;\r\n            const after = `${varName} += step`;\r\n            const varInit = `$${nodeToScope.get(node.variable)}.setLocal('${varName}', ${varName});`;\r\n            const body = parseBody(node, varInit);\r\n            return `for (${init}; ${cond}; ${after}) {\\n${body}\\n}`;\r\n        }\r\n        case 'ForGenericStatement': {\r\n            const iterators = parseExpressions(node.iterators);\r\n            const variables = node.variables\r\n                .map((variable, index) => {\r\n                return `$${nodeToScope.get(variable)}.setLocal('${variable.name}', res[${index}])`;\r\n            })\r\n                .join(';\\n');\r\n            const body = parseBody(node, variables);\r\n            return `for (let [iterator, table, next] = ${iterators}, res = __lua.call(iterator, table, next); res[0] !== undefined; res = __lua.call(iterator, table, res[0])) {\\n${body}\\n}`;\r\n        }\r\n        case 'Chunk': {\r\n            const body = parseBody(node);\r\n            return `'use strict'\\nconst $0 = __lua.globalScope\\nlet vars\\nlet vals\\nlet label\\n\\n${body}`;\r\n        }\r\n        case 'Identifier': {\r\n            return `$${nodeToScope.get(node)}.get('${node.name}')`;\r\n        }\r\n        case 'StringLiteral': {\r\n            const S = node.value\r\n                .replace(/([^\\\\])?\\\\(\\d{1,3})/g, (_, pre, dec) => `${pre || ''}${String.fromCharCode(dec)}`)\r\n                .replace(/\\\\/g, '\\\\\\\\')\r\n                .replace(/`/g, '\\\\`');\r\n            return `\\`${S}\\``;\r\n        }\r\n        case 'NumericLiteral': {\r\n            return node.value.toString();\r\n        }\r\n        case 'BooleanLiteral': {\r\n            return node.value ? 'true' : 'false';\r\n        }\r\n        case 'NilLiteral': {\r\n            return 'undefined';\r\n        }\r\n        case 'VarargLiteral': {\r\n            return `$${nodeToScope.get(node)}.getVarargs()`;\r\n        }\r\n        case 'TableConstructorExpression': {\r\n            if (node.fields.length === 0)\r\n                return 'new __lua.Table()';\r\n            const fields = node.fields\r\n                .map((field, index, arr) => {\r\n                if (field.type === 'TableKey') {\r\n                    return `t.rawset(${generate(field.key)}, ${expression(field.value)})`;\r\n                }\r\n                if (field.type === 'TableKeyString') {\r\n                    return `t.rawset('${field.key.name}', ${expression(field.value)})`;\r\n                }\r\n                if (field.type === 'TableValue') {\r\n                    if (index === arr.length - 1 && ExpressionReturnsArray(field.value)) {\r\n                        return `t.insert(...${generate(field.value)})`;\r\n                    }\r\n                    return `t.insert(${expression(field.value)})`;\r\n                }\r\n            })\r\n                .join(';\\n');\r\n            return `new __lua.Table(t => {\\n${fields}\\n})`;\r\n        }\r\n        case 'UnaryExpression': {\r\n            const operator = UNI_OP_MAP[node.operator];\r\n            const argument = expression(node.argument);\r\n            if (!operator) {\r\n                throw new Error(`Unhandled unary operator: ${node.operator}`);\r\n            }\r\n            return `__lua.${operator}(${argument})`;\r\n        }\r\n        case 'BinaryExpression': {\r\n            const left = expression(node.left);\r\n            const right = expression(node.right);\r\n            const operator = BIN_OP_MAP[node.operator];\r\n            if (!operator) {\r\n                throw new Error(`Unhandled binary operator: ${node.operator}`);\r\n            }\r\n            return `__lua.${operator}(${left}, ${right})`;\r\n        }\r\n        case 'LogicalExpression': {\r\n            const left = expression(node.left);\r\n            const right = expression(node.right);\r\n            const operator = node.operator;\r\n            if (operator === 'and') {\r\n                return `__lua.and(${left},${right})`;\r\n            }\r\n            if (operator === 'or') {\r\n                return `__lua.or(${left},${right})`;\r\n            }\r\n            throw new Error(`Unhandled logical operator: ${node.operator}`);\r\n        }\r\n        case 'MemberExpression': {\r\n            const base = expression(node.base);\r\n            return new MemExpr(base, `'${node.identifier.name}'`);\r\n        }\r\n        case 'IndexExpression': {\r\n            const base = expression(node.base);\r\n            const index = expression(node.index);\r\n            return new MemExpr(base, index);\r\n        }\r\n        case 'CallExpression':\r\n        case 'TableCallExpression':\r\n        case 'StringCallExpression': {\r\n            const functionName = expression(node.base);\r\n            const args = node.type === 'CallExpression'\r\n                ? parseExpressionList(node.arguments).join(', ')\r\n                : expression(node.type === 'TableCallExpression' ? node.arguments : node.argument);\r\n            if (functionName instanceof MemExpr && node.base.type === 'MemberExpression' && node.base.indexer === ':') {\r\n                return `__lua.call(${functionName}, ${functionName.base}, ${args})`;\r\n            }\r\n            return `__lua.call(${functionName}, ${args})`;\r\n        }\r\n        default:\r\n            throw new Error(`No generator found for: ${node.type}`);\r\n    }\r\n};\r\nconst parseBody = (node, header = '') => {\r\n    const scope = nodeToScope.get(node);\r\n    const scopeDef = scope === undefined ? '' : `const $${scope} = $${scopeToParentScope.get(scope)}.extend();`;\r\n    const body = node.body.map(statement => generate(statement)).join(';\\n');\r\n    const goto = nodeToGoto.get(node);\r\n    if (goto === undefined)\r\n        return `${scopeDef}\\n${header}\\n${body}`;\r\n    const gotoHeader = `L${goto}: do { switch(label) { case undefined:`;\r\n    const gotoParent = gotoToParentGoto.get(goto);\r\n    const def = gotoParent === undefined ? '' : `break; default: continue L${gotoParent}\\n`;\r\n    const footer = `${def}} } while (label)`;\r\n    return `${scopeDef}\\n${gotoHeader}\\n${header}\\n${body}\\n${footer}`;\r\n};\r\nconst expression = (node) => {\r\n    const v = generate(node);\r\n    if (ExpressionReturnsArray(node))\r\n        return `${v}[0]`;\r\n    return v;\r\n};\r\nconst parseExpressions = (expressions) => {\r\n    if (expressions.length === 1 && ExpressionReturnsArray(expressions[0])) {\r\n        return generate(expressions[0]);\r\n    }\r\n    return `[${parseExpressionList(expressions).join(', ')}]`;\r\n};\r\nconst parseExpressionList = (expressions) => {\r\n    return expressions.map((node, index, arr) => {\r\n        const value = generate(node);\r\n        if (ExpressionReturnsArray(node)) {\r\n            return index === arr.length - 1 ? `...${value}` : `${value}[0]`;\r\n        }\r\n        return value;\r\n    });\r\n};\r\nconst parseAssignments = (node) => {\r\n    const lines = [];\r\n    const valFns = [];\r\n    const useTempVar = node.variables.length > 1 && node.init.length > 0 && !node.init.every(isLiteral);\r\n    for (let i = 0; i < node.variables.length; i++) {\r\n        const K = node.variables[i];\r\n        const V = node.init[i];\r\n        const initStr = useTempVar ? `vars[${i}]` : V === undefined ? 'undefined' : expression(V);\r\n        if (K.type === 'Identifier') {\r\n            const setStr = node.type === 'LocalStatement' ? 'setLocal' : 'set';\r\n            lines.push(`$${nodeToScope.get(K)}.${setStr}('${K.name}', ${initStr})`);\r\n        }\r\n        else {\r\n            const name = generate(K);\r\n            if (useTempVar) {\r\n                lines.push(`vals[${valFns.length}](${initStr})`);\r\n                valFns.push(name.setFn());\r\n            }\r\n            else {\r\n                lines.push(name.set(initStr));\r\n            }\r\n        }\r\n    }\r\n    for (let i = node.variables.length; i < node.init.length; i++) {\r\n        const init = node.init[i];\r\n        if (isCallExpression(init)) {\r\n            lines.push(generate(init));\r\n        }\r\n    }\r\n    if (useTempVar) {\r\n        lines.unshift(`vars = ${parseExpressions(node.init)}`);\r\n        if (valFns.length > 0) {\r\n            lines.unshift(`vals = [${valFns.join(', ')}]`);\r\n        }\r\n    }\r\n    return lines.join(';\\n');\r\n};\r\nconst isCallExpression = (node) => {\r\n    return node.type === 'CallExpression' || node.type === 'StringCallExpression' || node.type === 'TableCallExpression';\r\n};\r\nconst ExpressionReturnsArray = (node) => {\r\n    return isCallExpression(node) || node.type === 'VarargLiteral';\r\n};\r\nconst isLiteral = (node) => {\r\n    return (node.type === 'StringLiteral' ||\r\n        node.type === 'NumericLiteral' ||\r\n        node.type === 'BooleanLiteral' ||\r\n        node.type === 'NilLiteral' ||\r\n        node.type === 'TableConstructorExpression');\r\n};\r\nconst checkGoto = (ast) => {\r\n    const gotoInfo = [];\r\n    let gotoScope = 0;\r\n    const gotoScopeMap = new Map();\r\n    const getNextGotoScope = (() => {\r\n        let id = 0;\r\n        return () => {\r\n            id += 1;\r\n            return id;\r\n        };\r\n    })();\r\n    const check = (node) => {\r\n        if (isBlock(node)) {\r\n            createGotoScope();\r\n            for (let i = 0; i < node.body.length; i++) {\r\n                const n = node.body[i];\r\n                switch (n.type) {\r\n                    case 'LocalStatement': {\r\n                        gotoInfo.push({\r\n                            type: 'local',\r\n                            name: n.variables[0].name,\r\n                            scope: gotoScope\r\n                        });\r\n                        break;\r\n                    }\r\n                    case 'LabelStatement': {\r\n                        if (gotoInfo.find(node => node.type === 'label' && node.name === n.label.name && node.scope === gotoScope)) {\r\n                            throw new Error(`label '${n.label.name}' already defined`);\r\n                        }\r\n                        gotoInfo.push({\r\n                            type: 'label',\r\n                            name: n.label.name,\r\n                            scope: gotoScope,\r\n                            last: node.type !== 'RepeatStatement' &&\r\n                                node.body.slice(i).every(n => n.type === 'LabelStatement')\r\n                        });\r\n                        break;\r\n                    }\r\n                    case 'GotoStatement': {\r\n                        gotoInfo.push({\r\n                            type: 'goto',\r\n                            name: n.label.name,\r\n                            scope: gotoScope\r\n                        });\r\n                        break;\r\n                    }\r\n                    case 'IfStatement': {\r\n                        n.clauses.forEach(n => check(n));\r\n                        break;\r\n                    }\r\n                    default: {\r\n                        check(n);\r\n                    }\r\n                }\r\n            }\r\n            destroyGotoScope();\r\n        }\r\n    };\r\n    check(ast);\r\n    function createGotoScope() {\r\n        const parent = gotoScope;\r\n        gotoScope = getNextGotoScope();\r\n        gotoScopeMap.set(gotoScope, parent);\r\n    }\r\n    function destroyGotoScope() {\r\n        gotoScope = gotoScopeMap.get(gotoScope);\r\n    }\r\n    for (let i = 0; i < gotoInfo.length; i++) {\r\n        const goto = gotoInfo[i];\r\n        if (goto.type === 'goto') {\r\n            const label = gotoInfo\r\n                .filter(node => node.type === 'label' && node.name === goto.name && node.scope <= goto.scope)\r\n                .sort((a, b) => Math.abs(goto.scope - a.scope) - Math.abs(goto.scope - b.scope))[0];\r\n            if (!label) {\r\n                throw new Error(`no visible label '${goto.name}' for <goto>`);\r\n            }\r\n            const labelI = gotoInfo.findIndex(n => n === label);\r\n            if (labelI > i) {\r\n                const locals = gotoInfo\r\n                    .slice(i, labelI)\r\n                    .filter(node => node.type === 'local' && node.scope === label.scope);\r\n                if (!label.last && locals.length > 0) {\r\n                    throw new Error(`<goto ${goto.name}> jumps into the scope of local '${locals[0].name}'`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nconst visitNode = (node, visitProp, nextScope, isNewScope, nextGoto) => {\r\n    const VP = (node, partOfBlock = true) => {\r\n        if (!node)\r\n            return;\r\n        const S = partOfBlock === false && isNewScope ? scopeToParentScope.get(nextScope) : nextScope;\r\n        if (Array.isArray(node)) {\r\n            node.forEach(n => visitProp(n, S, nextGoto));\r\n        }\r\n        else {\r\n            visitProp(node, S, nextGoto);\r\n        }\r\n    };\r\n    switch (node.type) {\r\n        case 'LocalStatement':\r\n        case 'AssignmentStatement':\r\n            VP(node.variables);\r\n            VP(node.init);\r\n            break;\r\n        case 'UnaryExpression':\r\n            VP(node.argument);\r\n            break;\r\n        case 'BinaryExpression':\r\n        case 'LogicalExpression':\r\n            VP(node.left);\r\n            VP(node.right);\r\n            break;\r\n        case 'FunctionDeclaration':\r\n            VP(node.identifier, false);\r\n            VP(node.parameters);\r\n            VP(node.body);\r\n            break;\r\n        case 'ForGenericStatement':\r\n            VP(node.variables);\r\n            VP(node.iterators, false);\r\n            VP(node.body);\r\n            break;\r\n        case 'IfClause':\r\n        case 'ElseifClause':\r\n        case 'WhileStatement':\r\n        case 'RepeatStatement':\r\n            VP(node.condition, false);\r\n        case 'Chunk':\r\n        case 'ElseClause':\r\n        case 'DoStatement':\r\n            VP(node.body);\r\n            break;\r\n        case 'ForNumericStatement':\r\n            VP(node.variable);\r\n            VP(node.start, false);\r\n            VP(node.end, false);\r\n            VP(node.step, false);\r\n            VP(node.body);\r\n            break;\r\n        case 'ReturnStatement':\r\n            VP(node.arguments);\r\n            break;\r\n        case 'IfStatement':\r\n            VP(node.clauses);\r\n            break;\r\n        case 'MemberExpression':\r\n            VP(node.base);\r\n            VP(node.identifier);\r\n            break;\r\n        case 'IndexExpression':\r\n            VP(node.base);\r\n            VP(node.index);\r\n            break;\r\n        case 'LabelStatement':\r\n            VP(node.label);\r\n            break;\r\n        case 'CallStatement':\r\n            VP(node.expression);\r\n            break;\r\n        case 'GotoStatement':\r\n            VP(node.label);\r\n            break;\r\n        case 'TableConstructorExpression':\r\n            VP(node.fields);\r\n            break;\r\n        case 'TableKey':\r\n        case 'TableKeyString':\r\n            VP(node.key);\r\n        case 'TableValue':\r\n            VP(node.value);\r\n            break;\r\n        case 'CallExpression':\r\n            VP(node.base);\r\n            VP(node.arguments);\r\n            break;\r\n        case 'TableCallExpression':\r\n            VP(node.base);\r\n            VP(node.arguments);\r\n            break;\r\n        case 'StringCallExpression':\r\n            VP(node.base);\r\n            VP(node.argument);\r\n    }\r\n};\r\nconst scopeToParentScope = new Map();\r\nconst nodeToScope = new Map();\r\nconst gotoToParentGoto = new Map();\r\nconst nodeToGoto = new Map();\r\nconst setExtraInfo = (ast) => {\r\n    let scopeID = 0;\r\n    let gotoID = 0;\r\n    const visitProp = (node, prevScope, prevGoto) => {\r\n        let nextScope = prevScope;\r\n        let nextGoto = prevGoto;\r\n        if (isBlock(node)) {\r\n            if (node.body.findIndex(n => n.type === 'LocalStatement' || (n.type === 'FunctionDeclaration' && n.isLocal)) !== -1 ||\r\n                (node.type === 'FunctionDeclaration' &&\r\n                    (node.parameters.length > 0 || (node.identifier && node.identifier.type === 'MemberExpression'))) ||\r\n                node.type === 'ForNumericStatement' ||\r\n                node.type === 'ForGenericStatement') {\r\n                scopeID += 1;\r\n                nextScope = scopeID;\r\n                nodeToScope.set(node, scopeID);\r\n                scopeToParentScope.set(scopeID, prevScope);\r\n            }\r\n            if (node.body.findIndex(s => s.type === 'LabelStatement' || s.type === 'GotoStatement') !== -1) {\r\n                nextGoto = gotoID;\r\n                nodeToGoto.set(node, gotoID);\r\n                if (node.type !== 'Chunk' && node.type !== 'FunctionDeclaration') {\r\n                    gotoToParentGoto.set(gotoID, prevGoto);\r\n                }\r\n                gotoID += 1;\r\n            }\r\n        }\r\n        else if (node.type === 'Identifier' || node.type === 'VarargLiteral') {\r\n            nodeToScope.set(node, prevScope);\r\n        }\r\n        visitNode(node, visitProp, nextScope, prevScope !== nextScope, nextGoto);\r\n    };\r\n    visitProp(ast, scopeID, gotoID);\r\n};\r\nconst parse = (data) => {\r\n    const ast = luaparse.parse(data.replace(/^#.*/, ''), {\r\n        scope: false,\r\n        comments: false,\r\n        luaVersion: '5.3',\r\n        encodingMode: 'x-user-defined'\r\n    });\r\n    checkGoto(ast);\r\n    setExtraInfo(ast);\r\n    return generate(ast).toString();\r\n};\n\nconst ROSETTA_STONE = {\r\n    '([^a-zA-Z0-9%(])-': '$1*?',\r\n    '([^%])-([^a-zA-Z0-9?])': '$1*?$2',\r\n    '([^%])\\\\.': '$1[\\\\s\\\\S]',\r\n    '(.)-$': '$1*?',\r\n    '%a': '[a-zA-Z]',\r\n    '%A': '[^a-zA-Z]',\r\n    '%c': '[\\x00-\\x1f]',\r\n    '%C': '[^\\x00-\\x1f]',\r\n    '%d': '\\\\d',\r\n    '%D': '[^d]',\r\n    '%l': '[a-z]',\r\n    '%L': '[^a-z]',\r\n    '%p': '[.,\"\\'?!;:#$%&()*+-/<>=@\\\\[\\\\]\\\\\\\\^_{}|~]',\r\n    '%P': '[^.,\"\\'?!;:#$%&()*+-/<>=@\\\\[\\\\]\\\\\\\\^_{}|~]',\r\n    '%s': '[ \\\\t\\\\n\\\\f\\\\v\\\\r]',\r\n    '%S': '[^ \\t\\n\\f\\v\\r]',\r\n    '%u': '[A-Z]',\r\n    '%U': '[^A-Z]',\r\n    '%w': '[a-zA-Z0-9]',\r\n    '%W': '[^a-zA-Z0-9]',\r\n    '%x': '[a-fA-F0-9]',\r\n    '%X': '[^a-fA-F0-9]',\r\n    '%([^a-zA-Z])': '\\\\$1'\r\n};\r\nfunction translatePattern(pattern) {\r\n    let tPattern = pattern.replace(/\\\\/g, '\\\\\\\\');\r\n    for (const i in ROSETTA_STONE) {\r\n        if (hasOwnProperty(ROSETTA_STONE, i)) {\r\n            tPattern = tPattern.replace(new RegExp(i, 'g'), ROSETTA_STONE[i]);\r\n        }\r\n    }\r\n    let nestingLevel = 0;\r\n    for (let i = 0, l = tPattern.length; i < l; i++) {\r\n        if (i && tPattern.substr(i - 1, 1) === '\\\\') {\r\n            continue;\r\n        }\r\n        const character = tPattern.substr(i, 1);\r\n        if (character === '[' || character === ']') {\r\n            if (character === ']') {\r\n                nestingLevel -= 1;\r\n            }\r\n            if (nestingLevel > 0) {\r\n                tPattern = tPattern.substr(0, i) + tPattern.substr(i + 1);\r\n                i -= 1;\r\n                l -= 1;\r\n            }\r\n            if (character === '[') {\r\n                nestingLevel += 1;\r\n            }\r\n        }\r\n    }\r\n    return tPattern;\r\n}\r\nfunction byte(s, i, j) {\r\n    const S = coerceArgToString(s, 'byte', 1);\r\n    const I = i === undefined ? 1 : coerceArgToNumber(i, 'byte', 2);\r\n    const J = j === undefined ? I : coerceArgToNumber(j, 'byte', 3);\r\n    return S.substring(I - 1, J)\r\n        .split('')\r\n        .map(c => c.charCodeAt(0));\r\n}\r\nfunction char(...bytes) {\r\n    return bytes\r\n        .map((b, i) => {\r\n        const B = coerceArgToNumber(b, 'char', i);\r\n        return String.fromCharCode(B);\r\n    })\r\n        .join('');\r\n}\r\nfunction find(s, pattern, init, plain) {\r\n    const S = coerceArgToString(s, 'find', 1);\r\n    const P = coerceArgToString(pattern, 'find', 2);\r\n    const INIT = init === undefined ? 1 : coerceArgToNumber(init, 'find', 3);\r\n    const PLAIN = plain === undefined ? false : coerceArgToNumber(plain, 'find', 4);\r\n    if (!PLAIN) {\r\n        const regex = new RegExp(translatePattern(P));\r\n        const index = S.substr(INIT - 1).search(regex);\r\n        if (index < 0)\r\n            return;\r\n        const match = S.substr(INIT - 1).match(regex);\r\n        const result = [index + INIT, index + INIT + match[0].length - 1];\r\n        match.shift();\r\n        return [...result, ...match];\r\n    }\r\n    const index = S.indexOf(P, INIT - 1);\r\n    return index === -1 ? undefined : [index + 1, index + P.length];\r\n}\r\nfunction format(formatstring, ...args) {\r\n    const PATTERN = /%%|%([-+ #0]*)?(\\d*)?(?:\\.(\\d*))?(.)/g;\r\n    let i = -1;\r\n    return formatstring.replace(PATTERN, (format, flags, width, precision, modifier) => {\r\n        if (format === '%%')\r\n            return '%';\r\n        if (!modifier.match(/[AEGXacdefgioqsux]/)) {\r\n            throw new LuaError(`invalid option '%${format}' to 'format'`);\r\n        }\r\n        if (flags && flags.length > 5) {\r\n            throw new LuaError(`invalid format (repeated flags)`);\r\n        }\r\n        if (width && width.length > 2) {\r\n            throw new LuaError(`invalid format (width too long)`);\r\n        }\r\n        if (precision && precision.length > 2) {\r\n            throw new LuaError(`invalid format (precision too long)`);\r\n        }\r\n        i += 1;\r\n        const arg = args[i];\r\n        if (arg === undefined) {\r\n            throw new LuaError(`bad argument #${i} to 'format' (no value)`);\r\n        }\r\n        if (/A|a|E|e|f|G|g/.test(modifier)) {\r\n            return sprintf(format, coerceArgToNumber(arg, 'format', i));\r\n        }\r\n        if (/c|d|i|o|u|X|x/.test(modifier)) {\r\n            return sprintf(format, coerceArgToNumber(arg, 'format', i));\r\n        }\r\n        if (modifier === 'q') {\r\n            return `\"${arg.replace(/([\\n\"])/g, '\\\\$1')}\"`;\r\n        }\r\n        if (modifier === 's') {\r\n            return sprintf(format, tostring(arg));\r\n        }\r\n        return sprintf(format, arg);\r\n    });\r\n}\r\nfunction gmatch(s, pattern) {\r\n    const S = coerceArgToString(s, 'gmatch', 1);\r\n    const P = translatePattern(coerceArgToString(pattern, 'gmatch', 2));\r\n    const reg = new RegExp(P, 'g');\r\n    const matches = S.match(reg);\r\n    return () => {\r\n        const match = matches.shift();\r\n        if (match === undefined)\r\n            return [];\r\n        const groups = new RegExp(P).exec(match);\r\n        groups.shift();\r\n        return groups.length ? groups : [match];\r\n    };\r\n}\r\nfunction gsub(s, pattern, repl, n) {\r\n    let S = coerceArgToString(s, 'gsub', 1);\r\n    const N = n === undefined ? Infinity : coerceArgToNumber(n, 'gsub', 3);\r\n    const P = translatePattern(coerceArgToString(pattern, 'gsub', 2));\r\n    const REPL = (() => {\r\n        if (typeof repl === 'function')\r\n            return strs => {\r\n                const ret = repl(strs[0])[0];\r\n                return ret === undefined ? strs[0] : ret;\r\n            };\r\n        if (repl instanceof Table)\r\n            return strs => repl.get(strs[0]).toString();\r\n        return strs => `${repl}`.replace(/%([0-9])/g, (_, i) => strs[i]);\r\n    })();\r\n    let result = '';\r\n    let count = 0;\r\n    let match;\r\n    let lastMatch;\r\n    while (count < N && S && (match = S.match(P))) {\r\n        const prefix = match[0].length > 0 ? S.substr(0, match.index) : lastMatch === undefined ? '' : S.substr(0, 1);\r\n        lastMatch = match[0];\r\n        result += `${prefix}${REPL(match)}`;\r\n        S = S.substr(`${prefix}${lastMatch}`.length);\r\n        count += 1;\r\n    }\r\n    return `${result}${S}`;\r\n}\r\nfunction len(s) {\r\n    const str = coerceArgToString(s, 'len', 1);\r\n    return str.length;\r\n}\r\nfunction lower(s) {\r\n    const str = coerceArgToString(s, 'lower', 1);\r\n    return str.toLowerCase();\r\n}\r\nfunction match(s, pattern, init = 0) {\r\n    let str = coerceArgToString(s, 'match', 1);\r\n    const patt = coerceArgToString(pattern, 'match', 2);\r\n    const ini = coerceArgToNumber(init, 'match', 3);\r\n    str = str.substr(ini);\r\n    const matches = str.match(new RegExp(translatePattern(patt)));\r\n    if (!matches) {\r\n        return;\r\n    }\r\n    else if (!matches[1]) {\r\n        return matches[0];\r\n    }\r\n    matches.shift();\r\n    return matches;\r\n}\r\nfunction rep(s, n, sep) {\r\n    const str = coerceArgToString(s, 'rep', 1);\r\n    const num = coerceArgToNumber(n, 'rep', 2);\r\n    const SEP = sep === undefined ? '' : coerceArgToString(sep, 'rep', 3);\r\n    return Array(num)\r\n        .fill(str)\r\n        .join(SEP);\r\n}\r\nfunction reverse(s) {\r\n    const str = coerceArgToString(s, 'reverse', 1);\r\n    return str\r\n        .split('')\r\n        .reverse()\r\n        .join('');\r\n}\r\nfunction sub(s, i = 1, j = -1) {\r\n    const S = coerceArgToString(s, 'sub', 1);\r\n    let start = posrelat(coerceArgToNumber(i, 'sub', 2), S.length);\r\n    let end = posrelat(coerceArgToNumber(j, 'sub', 3), S.length);\r\n    if (start < 1)\r\n        start = 1;\r\n    if (end > S.length)\r\n        end = S.length;\r\n    if (start <= end)\r\n        return S.substr(start - 1, end - start + 1);\r\n    return '';\r\n}\r\nfunction upper(s) {\r\n    const S = coerceArgToString(s, 'upper', 1);\r\n    return S.toUpperCase();\r\n}\r\nconst libString = new Table({\r\n    byte,\r\n    char,\r\n    find,\r\n    format,\r\n    gmatch,\r\n    gsub,\r\n    len,\r\n    lower,\r\n    match,\r\n    rep,\r\n    reverse,\r\n    sub,\r\n    upper\r\n});\r\nconst metatable = new Table({ __index: libString });\n\nconst CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';\r\nfunction ipairsIterator(table, index) {\r\n    if (index === undefined) {\r\n        throw new LuaError('Bad argument #2 to ipairs() iterator');\r\n    }\r\n    const nextIndex = index + 1;\r\n    const numValues = table.numValues;\r\n    if (!numValues[nextIndex] || numValues[nextIndex] === undefined)\r\n        return undefined;\r\n    return [nextIndex, numValues[nextIndex]];\r\n}\r\nconst _VERSION = 'Lua 5.3';\r\nfunction assert(v, m) {\r\n    if (coerceToBoolean(v))\r\n        return [v, m];\r\n    const msg = m === undefined ? 'Assertion failed!' : coerceArgToString(m, 'assert', 2);\r\n    throw new LuaError(msg);\r\n}\r\nfunction collectgarbage() {\r\n    return [];\r\n}\r\nfunction error(message) {\r\n    const msg = coerceArgToString(message, 'error', 1);\r\n    throw new LuaError(msg);\r\n}\r\nfunction getmetatable(table) {\r\n    if (table instanceof Table && table.metatable) {\r\n        const mm = table.metatable.rawget('__metatable');\r\n        return mm ? mm : table.metatable;\r\n    }\r\n    if (typeof table === 'string') {\r\n        return metatable;\r\n    }\r\n}\r\nfunction ipairs(t) {\r\n    const table = coerceArgToTable(t, 'ipairs', 1);\r\n    const mm = table.getMetaMethod('__pairs') || table.getMetaMethod('__ipairs');\r\n    return mm ? mm(table).slice(0, 3) : [ipairsIterator, table, 0];\r\n}\r\nfunction next(table, index) {\r\n    const TABLE = coerceArgToTable(table, 'next', 1);\r\n    let found = index === undefined;\r\n    if (found || (typeof index === 'number' && index > 0)) {\r\n        const numValues = TABLE.numValues;\r\n        const keys = Object.keys(numValues);\r\n        let i = 1;\r\n        if (!found) {\r\n            const I = keys.indexOf(`${index}`);\r\n            if (I >= 0) {\r\n                found = true;\r\n                i += I;\r\n            }\r\n        }\r\n        if (found) {\r\n            for (i; keys[i] !== undefined; i++) {\r\n                const key = Number(keys[i]);\r\n                const value = numValues[key];\r\n                if (value !== undefined)\r\n                    return [key, value];\r\n            }\r\n        }\r\n    }\r\n    for (const i in TABLE.strValues) {\r\n        if (hasOwnProperty(TABLE.strValues, i)) {\r\n            if (!found) {\r\n                if (i === index)\r\n                    found = true;\r\n            }\r\n            else if (TABLE.strValues[i] !== undefined) {\r\n                return [i, TABLE.strValues[i]];\r\n            }\r\n        }\r\n    }\r\n    for (const i in TABLE.keys) {\r\n        if (hasOwnProperty(TABLE.keys, i)) {\r\n            const key = TABLE.keys[i];\r\n            if (!found) {\r\n                if (key === index)\r\n                    found = true;\r\n            }\r\n            else if (TABLE.values[i] !== undefined) {\r\n                return [key, TABLE.values[i]];\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction pairs(t) {\r\n    const table = coerceArgToTable(t, 'pairs', 1);\r\n    const mm = table.getMetaMethod('__pairs');\r\n    return mm ? mm(table).slice(0, 3) : [next, table, undefined];\r\n}\r\nfunction pcall(f, ...args) {\r\n    if (typeof f !== 'function') {\r\n        throw new LuaError('Attempt to call non-function');\r\n    }\r\n    try {\r\n        return [true, ...f(...args)];\r\n    }\r\n    catch (e) {\r\n        return [false, e && e.toString()];\r\n    }\r\n}\r\nfunction rawequal(v1, v2) {\r\n    return v1 === v2;\r\n}\r\nfunction rawget(table, index) {\r\n    const TABLE = coerceArgToTable(table, 'rawget', 1);\r\n    return TABLE.rawget(index);\r\n}\r\nfunction rawlen(v) {\r\n    if (v instanceof Table)\r\n        return v.getn();\r\n    if (typeof v === 'string')\r\n        return v.length;\r\n    throw new LuaError('attempt to get length of an unsupported value');\r\n}\r\nfunction rawset(table, index, value) {\r\n    const TABLE = coerceArgToTable(table, 'rawset', 1);\r\n    if (index === undefined)\r\n        throw new LuaError('table index is nil');\r\n    TABLE.rawset(index, value);\r\n    return TABLE;\r\n}\r\nfunction select(index, ...args) {\r\n    if (index === '#') {\r\n        return args.length;\r\n    }\r\n    if (typeof index === 'number') {\r\n        const pos = posrelat(Math.trunc(index), args.length);\r\n        return args.slice(pos - 1);\r\n    }\r\n    throw new LuaError(`bad argument #1 to 'select' (number expected, got ${type(index)})`);\r\n}\r\nfunction setmetatable(table, metatable) {\r\n    const TABLE = coerceArgToTable(table, 'setmetatable', 1);\r\n    if (TABLE.metatable && TABLE.metatable.rawget('__metatable')) {\r\n        throw new LuaError('cannot change a protected metatable');\r\n    }\r\n    TABLE.metatable = metatable === null || metatable === undefined ? null : coerceArgToTable(metatable, 'setmetatable', 2);\r\n    return TABLE;\r\n}\r\nfunction tonumber(e, base) {\r\n    const E = coerceToString(e).trim();\r\n    const BASE = base === undefined ? 10 : coerceArgToNumber(base, 'tonumber', 2);\r\n    if (BASE !== 10 && E === 'nil') {\r\n        throw new LuaError(\"bad argument #1 to 'tonumber' (string expected, got nil)\");\r\n    }\r\n    if (BASE < 2 || BASE > 36) {\r\n        throw new LuaError(`bad argument #2 to 'tonumber' (base out of range)`);\r\n    }\r\n    if (E === '')\r\n        return;\r\n    if (BASE === 10)\r\n        return coerceToNumber(E);\r\n    const pattern = new RegExp(`^${BASE === 16 ? '(0x)?' : ''}[${CHARS.substr(0, BASE)}]*$`, 'gi');\r\n    if (!pattern.test(E))\r\n        return;\r\n    return parseInt(E, BASE);\r\n}\r\nfunction xpcall(f, msgh, ...args) {\r\n    if (typeof f !== 'function' || typeof msgh !== 'function') {\r\n        throw new LuaError('Attempt to call non-function');\r\n    }\r\n    try {\r\n        return [true, ...f(...args)];\r\n    }\r\n    catch (e) {\r\n        return [false, msgh(e)[0]];\r\n    }\r\n}\r\nfunction createG(cfg, execChunk) {\r\n    function print(...args) {\r\n        const output = args.map(arg => tostring(arg)).join('\\t');\r\n        cfg.stdout(output);\r\n    }\r\n    function load(chunk, _chunkname, _mode, env) {\r\n        let C = '';\r\n        if (chunk instanceof Function) {\r\n            let ret = ' ';\r\n            while (ret !== '' && ret !== undefined) {\r\n                C += ret;\r\n                ret = chunk()[0];\r\n            }\r\n        }\r\n        else {\r\n            C = coerceArgToString(chunk, 'load', 1);\r\n        }\r\n        let parsed;\r\n        try {\r\n            parsed = parse(C);\r\n        }\r\n        catch (e) {\r\n            return [undefined, e.message];\r\n        }\r\n        return () => execChunk(env || _G, parsed);\r\n    }\r\n    function dofile(filename) {\r\n        const res = loadfile(filename);\r\n        if (Array.isArray(res) && res[0] === undefined) {\r\n            throw new LuaError(res[1]);\r\n        }\r\n        const exec = res;\r\n        return exec();\r\n    }\r\n    function loadfile(filename, mode, env) {\r\n        const FILENAME = filename === undefined ? cfg.stdin : coerceArgToString(filename, 'loadfile', 1);\r\n        if (!cfg.fileExists) {\r\n            throw new LuaError('loadfile requires the config.fileExists function');\r\n        }\r\n        if (!cfg.fileExists(FILENAME))\r\n            return [undefined, 'file not found'];\r\n        if (!cfg.loadFile) {\r\n            throw new LuaError('loadfile requires the config.loadFile function');\r\n        }\r\n        return load(cfg.loadFile(FILENAME), FILENAME, mode, env);\r\n    }\r\n    const _G = new Table({\r\n        _VERSION,\r\n        assert,\r\n        dofile,\r\n        collectgarbage,\r\n        error,\r\n        getmetatable,\r\n        ipairs,\r\n        load,\r\n        loadfile,\r\n        next,\r\n        pairs,\r\n        pcall,\r\n        print,\r\n        rawequal,\r\n        rawget,\r\n        rawlen,\r\n        rawset,\r\n        select,\r\n        setmetatable,\r\n        tonumber,\r\n        tostring,\r\n        type,\r\n        xpcall\r\n    });\r\n    return _G;\r\n}\n\nconst binaryArithmetic = (left, right, metaMethodName, callback) => {\r\n    const mm = (left instanceof Table && left.getMetaMethod(metaMethodName)) ||\r\n        (right instanceof Table && right.getMetaMethod(metaMethodName));\r\n    if (mm)\r\n        return mm(left, right)[0];\r\n    const L = coerceToNumber(left, 'attempt to perform arithmetic on a %type value');\r\n    const R = coerceToNumber(right, 'attempt to perform arithmetic on a %type value');\r\n    return callback(L, R);\r\n};\r\nconst binaryBooleanArithmetic = (left, right, metaMethodName, callback) => {\r\n    if ((typeof left === 'string' && typeof right === 'string') ||\r\n        (typeof left === 'number' && typeof right === 'number')) {\r\n        return callback(left, right);\r\n    }\r\n    return binaryArithmetic(left, right, metaMethodName, callback);\r\n};\r\nconst bool = (value) => coerceToBoolean(value);\r\nconst and = (l, r) => coerceToBoolean(l) ? r : l;\r\nconst or = (l, r) => coerceToBoolean(l) ? l : r;\r\nconst not = (value) => !bool(value);\r\nconst unm = (value) => {\r\n    const mm = value instanceof Table && value.getMetaMethod('__unm');\r\n    if (mm)\r\n        return mm(value)[0];\r\n    return -1 * coerceToNumber(value, 'attempt to perform arithmetic on a %type value');\r\n};\r\nconst bnot = (value) => {\r\n    const mm = value instanceof Table && value.getMetaMethod('__bnot');\r\n    if (mm)\r\n        return mm(value)[0];\r\n    return ~coerceToNumber(value, 'attempt to perform arithmetic on a %type value');\r\n};\r\nconst len$1 = (value) => {\r\n    if (value instanceof Table) {\r\n        const mm = value.getMetaMethod('__len');\r\n        if (mm)\r\n            return mm(value)[0];\r\n        return value.getn();\r\n    }\r\n    if (typeof value === 'string')\r\n        return value.length;\r\n    throw new LuaError('attempt to get length of an unsupported value');\r\n};\r\nconst add = (left, right) => binaryArithmetic(left, right, '__add', (l, r) => l + r);\r\nconst sub$1 = (left, right) => binaryArithmetic(left, right, '__sub', (l, r) => l - r);\r\nconst mul = (left, right) => binaryArithmetic(left, right, '__mul', (l, r) => l * r);\r\nconst mod = (left, right) => binaryArithmetic(left, right, '__mod', (l, r) => {\r\n    if (r === 0 || r === -Infinity || r === Infinity || isNaN(l) || isNaN(r))\r\n        return NaN;\r\n    const absR = Math.abs(r);\r\n    let result = Math.abs(l) % absR;\r\n    if (l * r < 0)\r\n        result = absR - result;\r\n    if (r < 0)\r\n        result *= -1;\r\n    return result;\r\n});\r\nconst pow = (left, right) => binaryArithmetic(left, right, '__pow', Math.pow);\r\nconst div = (left, right) => binaryArithmetic(left, right, '__div', (l, r) => {\r\n    if (r === undefined)\r\n        throw new LuaError('attempt to perform arithmetic on a nil value');\r\n    return l / r;\r\n});\r\nconst idiv = (left, right) => binaryArithmetic(left, right, '__idiv', (l, r) => {\r\n    if (r === undefined)\r\n        throw new LuaError('attempt to perform arithmetic on a nil value');\r\n    return Math.floor(l / r);\r\n});\r\nconst band = (left, right) => binaryArithmetic(left, right, '__band', (l, r) => l & r);\r\nconst bor = (left, right) => binaryArithmetic(left, right, '__bor', (l, r) => l | r);\r\nconst bxor = (left, right) => binaryArithmetic(left, right, '__bxor', (l, r) => l ^ r);\r\nconst shl = (left, right) => binaryArithmetic(left, right, '__shl', (l, r) => l << r);\r\nconst shr = (left, right) => binaryArithmetic(left, right, '__shr', (l, r) => l >> r);\r\nconst concat = (left, right) => {\r\n    const mm = (left instanceof Table && left.getMetaMethod('__concat')) ||\r\n        (right instanceof Table && right.getMetaMethod('__concat'));\r\n    if (mm)\r\n        return mm(left, right)[0];\r\n    const L = coerceToString(left, 'attempt to concatenate a %type value');\r\n    const R = coerceToString(right, 'attempt to concatenate a %type value');\r\n    return `${L}${R}`;\r\n};\r\nconst neq = (left, right) => !eq(left, right);\r\nconst eq = (left, right) => {\r\n    const mm = right !== left &&\r\n        left instanceof Table &&\r\n        right instanceof Table &&\r\n        left.metatable === right.metatable &&\r\n        left.getMetaMethod('__eq');\r\n    if (mm)\r\n        return !!mm(left, right)[0];\r\n    return left === right;\r\n};\r\nconst lt = (left, right) => binaryBooleanArithmetic(left, right, '__lt', (l, r) => l < r);\r\nconst le = (left, right) => binaryBooleanArithmetic(left, right, '__le', (l, r) => l <= r);\r\nconst gt = (left, right) => !le(left, right);\r\nconst ge = (left, right) => !lt(left, right);\r\nconst operators = {\r\n    bool,\r\n    and,\r\n    or,\r\n    not,\r\n    unm,\r\n    bnot,\r\n    len: len$1,\r\n    add,\r\n    sub: sub$1,\r\n    mul,\r\n    mod,\r\n    pow,\r\n    div,\r\n    idiv,\r\n    band,\r\n    bor,\r\n    bxor,\r\n    shl,\r\n    shr,\r\n    concat,\r\n    neq,\r\n    eq,\r\n    lt,\r\n    le,\r\n    gt,\r\n    ge,\r\n};\n\nconst maxinteger = Number.MAX_SAFE_INTEGER;\r\nconst mininteger = Number.MIN_SAFE_INTEGER;\r\nconst huge = Infinity;\r\nconst pi = Math.PI;\r\nlet randomSeed = 1;\r\nfunction getRandom() {\r\n    randomSeed = (16807 * randomSeed) % 2147483647;\r\n    return randomSeed / 2147483647;\r\n}\r\nfunction abs(x) {\r\n    const X = coerceArgToNumber(x, 'abs', 1);\r\n    return Math.abs(X);\r\n}\r\nfunction acos(x) {\r\n    const X = coerceArgToNumber(x, 'acos', 1);\r\n    return Math.acos(X);\r\n}\r\nfunction asin(x) {\r\n    const X = coerceArgToNumber(x, 'asin', 1);\r\n    return Math.asin(X);\r\n}\r\nfunction atan(y, x) {\r\n    const Y = coerceArgToNumber(y, 'atan', 1);\r\n    const X = x === undefined ? 1 : coerceArgToNumber(x, 'atan', 2);\r\n    return Math.atan2(Y, X);\r\n}\r\nfunction atan2(y, x) {\r\n    return atan(y, x);\r\n}\r\nfunction ceil(x) {\r\n    const X = coerceArgToNumber(x, 'ceil', 1);\r\n    return Math.ceil(X);\r\n}\r\nfunction cos(x) {\r\n    const X = coerceArgToNumber(x, 'cos', 1);\r\n    return Math.cos(X);\r\n}\r\nfunction cosh(x) {\r\n    const X = coerceArgToNumber(x, 'cosh', 1);\r\n    return (exp(X) + exp(-X)) / 2;\r\n}\r\nfunction deg(x) {\r\n    const X = coerceArgToNumber(x, 'deg', 1);\r\n    return (X * 180) / Math.PI;\r\n}\r\nfunction exp(x) {\r\n    const X = coerceArgToNumber(x, 'exp', 1);\r\n    return Math.exp(X);\r\n}\r\nfunction floor(x) {\r\n    const X = coerceArgToNumber(x, 'floor', 1);\r\n    return Math.floor(X);\r\n}\r\nfunction fmod(x, y) {\r\n    const X = coerceArgToNumber(x, 'fmod', 1);\r\n    const Y = coerceArgToNumber(y, 'fmod', 2);\r\n    return X % Y;\r\n}\r\nfunction frexp(x) {\r\n    let X = coerceArgToNumber(x, 'frexp', 1);\r\n    if (X === 0) {\r\n        return [0, 0];\r\n    }\r\n    const delta = X > 0 ? 1 : -1;\r\n    X *= delta;\r\n    const exponent = Math.floor(Math.log(X) / Math.log(2)) + 1;\r\n    const mantissa = X / Math.pow(2, exponent);\r\n    return [mantissa * delta, exponent];\r\n}\r\nfunction ldexp(m, e) {\r\n    const M = coerceArgToNumber(m, 'ldexp', 1);\r\n    const E = coerceArgToNumber(e, 'ldexp', 2);\r\n    return M * Math.pow(2, E);\r\n}\r\nfunction log(x, base) {\r\n    const X = coerceArgToNumber(x, 'log', 1);\r\n    if (base === undefined) {\r\n        return Math.log(X);\r\n    }\r\n    else {\r\n        const B = coerceArgToNumber(base, 'log', 2);\r\n        return Math.log(X) / Math.log(B);\r\n    }\r\n}\r\nfunction log10(x) {\r\n    const X = coerceArgToNumber(x, 'log10', 1);\r\n    return Math.log(X) / Math.log(10);\r\n}\r\nfunction max(...args) {\r\n    const ARGS = args.map((n, i) => coerceArgToNumber(n, 'max', i + 1));\r\n    return Math.max(...ARGS);\r\n}\r\nfunction min(...args) {\r\n    const ARGS = args.map((n, i) => coerceArgToNumber(n, 'min', i + 1));\r\n    return Math.min(...ARGS);\r\n}\r\nfunction modf(x) {\r\n    const X = coerceArgToNumber(x, 'modf', 1);\r\n    const intValue = Math.floor(X);\r\n    const mantissa = X - intValue;\r\n    return [intValue, mantissa];\r\n}\r\nfunction pow$1(x, y) {\r\n    const X = coerceArgToNumber(x, 'pow', 1);\r\n    const Y = coerceArgToNumber(y, 'pow', 2);\r\n    return Math.pow(X, Y);\r\n}\r\nfunction rad(x) {\r\n    const X = coerceArgToNumber(x, 'rad', 1);\r\n    return (Math.PI / 180) * X;\r\n}\r\nfunction random(min, max) {\r\n    if (min === undefined && max === undefined)\r\n        return getRandom();\r\n    const firstArg = coerceArgToNumber(min, 'random', 1);\r\n    const MIN = max !== undefined ? firstArg : 1;\r\n    const MAX = max !== undefined ? coerceArgToNumber(max, 'random', 2) : firstArg;\r\n    if (MIN > MAX)\r\n        throw new Error(\"bad argument #2 to 'random' (interval is empty)\");\r\n    return Math.floor(getRandom() * (MAX - MIN + 1) + MIN);\r\n}\r\nfunction randomseed(x) {\r\n    randomSeed = coerceArgToNumber(x, 'randomseed', 1);\r\n}\r\nfunction sin(x) {\r\n    const X = coerceArgToNumber(x, 'sin', 1);\r\n    return Math.sin(X);\r\n}\r\nfunction sinh(x) {\r\n    const X = coerceArgToNumber(x, 'sinh', 1);\r\n    return (exp(X) - exp(-X)) / 2;\r\n}\r\nfunction sqrt(x) {\r\n    const X = coerceArgToNumber(x, 'sqrt', 1);\r\n    return Math.sqrt(X);\r\n}\r\nfunction tan(x) {\r\n    const X = coerceArgToNumber(x, 'tan', 1);\r\n    return Math.tan(X);\r\n}\r\nfunction tanh(x) {\r\n    const X = coerceArgToNumber(x, 'tanh', 1);\r\n    return (exp(X) - exp(-X)) / (exp(X) + exp(-X));\r\n}\r\nfunction tointeger(x) {\r\n    const X = coerceToNumber(x);\r\n    if (X === undefined)\r\n        return undefined;\r\n    return Math.floor(X);\r\n}\r\nfunction type$1(x) {\r\n    const X = coerceToNumber(x);\r\n    if (X === undefined)\r\n        return undefined;\r\n    if (tointeger(X) === X)\r\n        return 'integer';\r\n    return 'float';\r\n}\r\nfunction ult(m, n) {\r\n    const M = coerceArgToNumber(m, 'ult', 1);\r\n    const N = coerceArgToNumber(n, 'ult', 2);\r\n    const toUnsigned = (n) => n >>> 0;\r\n    return toUnsigned(M) < toUnsigned(N);\r\n}\r\nconst libMath = new Table({\r\n    abs,\r\n    acos,\r\n    asin,\r\n    atan,\r\n    atan2,\r\n    ceil,\r\n    cos,\r\n    cosh,\r\n    deg,\r\n    exp,\r\n    floor,\r\n    fmod,\r\n    frexp,\r\n    huge,\r\n    ldexp,\r\n    log,\r\n    log10,\r\n    max,\r\n    min,\r\n    maxinteger,\r\n    mininteger,\r\n    modf,\r\n    pi,\r\n    pow: pow$1,\r\n    rad,\r\n    random,\r\n    randomseed,\r\n    sin,\r\n    sinh,\r\n    sqrt,\r\n    tan,\r\n    tanh,\r\n    tointeger,\r\n    type: type$1,\r\n    ult\r\n});\n\nfunction getn(table) {\r\n    const TABLE = coerceArgToTable(table, 'getn', 1);\r\n    return TABLE.getn();\r\n}\r\nfunction concat$1(table, sep = '', i = 1, j) {\r\n    const TABLE = coerceArgToTable(table, 'concat', 1);\r\n    const SEP = coerceArgToString(sep, 'concat', 2);\r\n    const I = coerceArgToNumber(i, 'concat', 3);\r\n    const J = j === undefined ? maxn(TABLE) : coerceArgToNumber(j, 'concat', 4);\r\n    return []\r\n        .concat(TABLE.numValues)\r\n        .splice(I, J - I + 1)\r\n        .join(SEP);\r\n}\r\nfunction insert(table, pos, value) {\r\n    const TABLE = coerceArgToTable(table, 'insert', 1);\r\n    const POS = value === undefined ? TABLE.numValues.length : coerceArgToNumber(pos, 'insert', 2);\r\n    const VALUE = value === undefined ? pos : value;\r\n    TABLE.numValues.splice(POS, 0, undefined);\r\n    TABLE.set(POS, VALUE);\r\n}\r\nfunction maxn(table) {\r\n    const TABLE = coerceArgToTable(table, 'maxn', 1);\r\n    return TABLE.numValues.length - 1;\r\n}\r\nfunction move(a1, f, e, t, a2) {\r\n    const A1 = coerceArgToTable(a1, 'move', 1);\r\n    const F = coerceArgToNumber(f, 'move', 2);\r\n    const E = coerceArgToNumber(e, 'move', 3);\r\n    const T = coerceArgToNumber(t, 'move', 4);\r\n    const A2 = a2 === undefined ? A1 : coerceArgToTable(a2, 'move', 5);\r\n    if (E >= F) {\r\n        if (F <= 0 && E >= Number.MAX_SAFE_INTEGER + F)\r\n            throw new LuaError('too many elements to move');\r\n        const n = E - F + 1;\r\n        if (T > Number.MAX_SAFE_INTEGER - n + 1)\r\n            throw new LuaError('destination wrap around');\r\n        if (T > E || T <= F || A2 !== A1) {\r\n            for (let i = 0; i < n; i++) {\r\n                const v = A1.get(F + i);\r\n                A2.set(T + i, v);\r\n            }\r\n        }\r\n        else {\r\n            for (let i = n - 1; i >= 0; i--) {\r\n                const v = A1.get(F + i);\r\n                A2.set(T + i, v);\r\n            }\r\n        }\r\n    }\r\n    return A2;\r\n}\r\nfunction pack(...args) {\r\n    const table = new Table(args);\r\n    table.rawset('n', args.length);\r\n    return table;\r\n}\r\nfunction remove(table, pos) {\r\n    const TABLE = coerceArgToTable(table, 'remove', 1);\r\n    const max = TABLE.getn();\r\n    const POS = pos === undefined ? max : coerceArgToNumber(pos, 'remove', 2);\r\n    if (POS > max || POS < 0) {\r\n        return;\r\n    }\r\n    const vals = TABLE.numValues;\r\n    const result = vals.splice(POS, 1)[0];\r\n    let i = POS;\r\n    while (i < max && vals[i] === undefined) {\r\n        delete vals[i];\r\n        i += 1;\r\n    }\r\n    return result;\r\n}\r\nfunction sort(table, comp) {\r\n    const TABLE = coerceArgToTable(table, 'sort', 1);\r\n    let sortFunc;\r\n    if (comp) {\r\n        const COMP = coerceArgToFunction(comp, 'sort', 2);\r\n        sortFunc = (a, b) => (coerceToBoolean(COMP(a, b)[0]) ? -1 : 1);\r\n    }\r\n    else {\r\n        sortFunc = (a, b) => (a < b ? -1 : 1);\r\n    }\r\n    const arr = TABLE.numValues;\r\n    arr.shift();\r\n    arr.sort(sortFunc).unshift(undefined);\r\n}\r\nfunction unpack(table, i, j) {\r\n    const TABLE = coerceArgToTable(table, 'unpack', 1);\r\n    const I = i === undefined ? 1 : coerceArgToNumber(i, 'unpack', 2);\r\n    const J = j === undefined ? TABLE.getn() : coerceArgToNumber(j, 'unpack', 3);\r\n    return TABLE.numValues.slice(I, J + 1);\r\n}\r\nconst libTable = new Table({\r\n    getn,\r\n    concat: concat$1,\r\n    insert,\r\n    maxn,\r\n    move,\r\n    pack,\r\n    remove,\r\n    sort,\r\n    unpack\r\n});\n\nconst DAYS = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\nconst MONTHS = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December'\r\n];\r\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nconst DATE_FORMAT_HANDLERS = {\r\n    '%': () => '%',\r\n    Y: (date, utc) => `${utc ? date.getUTCFullYear() : date.getFullYear()}`,\r\n    y: (date, utc) => DATE_FORMAT_HANDLERS.Y(date, utc).substr(-2),\r\n    b: (date, utc) => DATE_FORMAT_HANDLERS.B(date, utc).substr(0, 3),\r\n    B: (date, utc) => MONTHS[utc ? date.getUTCMonth() : date.getMonth()],\r\n    m: (date, utc) => `0${(utc ? date.getUTCMonth() : date.getMonth()) + 1}`.substr(-2),\r\n    U: (date, utc) => getWeekOfYear(date, 0, utc),\r\n    W: (date, utc) => getWeekOfYear(date, 1, utc),\r\n    j: (date, utc) => {\r\n        let result = utc ? date.getUTCDate() : date.getDate();\r\n        const month = utc ? date.getUTCMonth() : date.getMonth();\r\n        const year = utc ? date.getUTCFullYear() : date.getFullYear();\r\n        result += DAYS_IN_MONTH.slice(0, month).reduce((sum, n) => sum + n, 0);\r\n        if (month > 1 && year % 4 === 0) {\r\n            result += 1;\r\n        }\r\n        return `00${result}`.substr(-3);\r\n    },\r\n    d: (date, utc) => `0${utc ? date.getUTCDate() : date.getDate()}`.substr(-2),\r\n    a: (date, utc) => DATE_FORMAT_HANDLERS.A(date, utc).substr(0, 3),\r\n    A: (date, utc) => DAYS[utc ? date.getUTCDay() : date.getDay()],\r\n    w: (date, utc) => `${utc ? date.getUTCDay() : date.getDay()}`,\r\n    H: (date, utc) => `0${utc ? date.getUTCHours() : date.getHours()}`.substr(-2),\r\n    I: (date, utc) => `0${(utc ? date.getUTCHours() : date.getHours()) % 12 || 12}`.substr(-2),\r\n    M: (date, utc) => `0${utc ? date.getUTCMinutes() : date.getMinutes()}`.substr(-2),\r\n    S: (date, utc) => `0${utc ? date.getUTCSeconds() : date.getSeconds()}`.substr(-2),\r\n    c: (date, utc) => date.toLocaleString(undefined, utc ? { timeZone: 'UTC' } : undefined),\r\n    x: (date, utc) => {\r\n        const m = DATE_FORMAT_HANDLERS.m(date, utc);\r\n        const d = DATE_FORMAT_HANDLERS.d(date, utc);\r\n        const y = DATE_FORMAT_HANDLERS.y(date, utc);\r\n        return `${m}/${d}/${y}`;\r\n    },\r\n    X: (date, utc) => {\r\n        const h = DATE_FORMAT_HANDLERS.H(date, utc);\r\n        const m = DATE_FORMAT_HANDLERS.M(date, utc);\r\n        const s = DATE_FORMAT_HANDLERS.S(date, utc);\r\n        return `${h}:${m}:${s}`;\r\n    },\r\n    p: (date, utc) => ((utc ? date.getUTCHours() : date.getHours()) < 12 ? 'AM' : 'PM'),\r\n    Z: (date, utc) => {\r\n        if (utc)\r\n            return 'UTC';\r\n        const match = date.toString().match(/[A-Z][A-Z][A-Z]/);\r\n        return match ? match[0] : '';\r\n    }\r\n};\r\nfunction isDST(date) {\r\n    const year = date.getFullYear();\r\n    const jan = new Date(year, 0);\r\n    return date.getTimezoneOffset() !== jan.getTimezoneOffset();\r\n}\r\nfunction getWeekOfYear(date, firstDay, utc) {\r\n    const dayOfYear = parseInt(DATE_FORMAT_HANDLERS.j(date, utc), 10);\r\n    const jan1 = new Date(date.getFullYear(), 0, 1, 12);\r\n    const offset = (8 - (utc ? jan1.getUTCDay() : jan1.getDay()) + firstDay) % 7;\r\n    return `0${Math.floor((dayOfYear - offset) / 7) + 1}`.substr(-2);\r\n}\r\nfunction date(input = '%c', time) {\r\n    const utc = input.substr(0, 1) === '!';\r\n    const string = utc ? input.substr(1) : input;\r\n    const date = new Date();\r\n    if (time) {\r\n        date.setTime(time * 1000);\r\n    }\r\n    if (string === '*t') {\r\n        return new Table({\r\n            year: parseInt(DATE_FORMAT_HANDLERS.Y(date, utc), 10),\r\n            month: parseInt(DATE_FORMAT_HANDLERS.m(date, utc), 10),\r\n            day: parseInt(DATE_FORMAT_HANDLERS.d(date, utc), 10),\r\n            hour: parseInt(DATE_FORMAT_HANDLERS.H(date, utc), 10),\r\n            min: parseInt(DATE_FORMAT_HANDLERS.M(date, utc), 10),\r\n            sec: parseInt(DATE_FORMAT_HANDLERS.S(date, utc), 10),\r\n            wday: parseInt(DATE_FORMAT_HANDLERS.w(date, utc), 10) + 1,\r\n            yday: parseInt(DATE_FORMAT_HANDLERS.j(date, utc), 10),\r\n            isdst: isDST(date)\r\n        });\r\n    }\r\n    return string.replace(/%[%YybBmUWjdaAwHIMScxXpZ]/g, f => DATE_FORMAT_HANDLERS[f[1]](date, utc));\r\n}\r\nfunction setlocale(locale = 'C') {\r\n    if (locale === 'C')\r\n        return 'C';\r\n}\r\nfunction time(table) {\r\n    let now = Math.round(Date.now() / 1000);\r\n    if (!table)\r\n        return now;\r\n    const year = table.rawget('year');\r\n    const month = table.rawget('month');\r\n    const day = table.rawget('day');\r\n    const hour = table.rawget('hour') || 12;\r\n    const min = table.rawget('min');\r\n    const sec = table.rawget('sec');\r\n    if (year)\r\n        now += year * 31557600;\r\n    if (month)\r\n        now += month * 2629800;\r\n    if (day)\r\n        now += day * 86400;\r\n    if (hour)\r\n        now += hour * 3600;\r\n    if (min)\r\n        now += min * 60;\r\n    if (sec)\r\n        now += sec;\r\n    return now;\r\n}\r\nfunction difftime(t2, t1) {\r\n    const T2 = coerceArgToNumber(t2, 'difftime', 1);\r\n    const T1 = coerceArgToNumber(t1, 'difftime', 2);\r\n    return T2 - T1;\r\n}\r\nconst getLibOS = (cfg) => {\r\n    function exit(code) {\r\n        if (!cfg.osExit)\r\n            throw new LuaError('os.exit requires the config.osExit function');\r\n        let CODE = 0;\r\n        if (typeof code === 'boolean' && code === false)\r\n            CODE = 1;\r\n        else if (typeof code === 'number')\r\n            CODE = code;\r\n        cfg.osExit(CODE);\r\n    }\r\n    return new Table({\r\n        date,\r\n        exit,\r\n        setlocale,\r\n        time,\r\n        difftime\r\n    });\r\n};\n\nconst getLibPackage = (execModule, cfg) => {\r\n    const LUA_DIRSEP = '/';\r\n    const LUA_PATH_SEP = ';';\r\n    const LUA_PATH_MARK = '?';\r\n    const LUA_EXEC_DIR = '!';\r\n    const LUA_IGMARK = '-';\r\n    const LUA_PATH = cfg.LUA_PATH;\r\n    const config = [LUA_DIRSEP, LUA_PATH_SEP, LUA_PATH_MARK, LUA_EXEC_DIR, LUA_IGMARK].join('\\n');\r\n    const loaded = new Table();\r\n    const preload = new Table();\r\n    const searchpath = (name, path, sep, rep) => {\r\n        if (!cfg.fileExists) {\r\n            throw new LuaError('package.searchpath requires the config.fileExists function');\r\n        }\r\n        let NAME = coerceArgToString(name, 'searchpath', 1);\r\n        const PATH = coerceArgToString(path, 'searchpath', 2);\r\n        const SEP = sep === undefined ? '.' : coerceArgToString(sep, 'searchpath', 3);\r\n        const REP = rep === undefined ? '/' : coerceArgToString(rep, 'searchpath', 4);\r\n        NAME = NAME.replace(SEP, REP);\r\n        const paths = PATH.split(';').map(template => template.replace('?', NAME));\r\n        for (const path of paths) {\r\n            if (cfg.fileExists(path))\r\n                return path;\r\n        }\r\n        return [undefined, `The following files don't exist: ${paths.join(' ')}`];\r\n    };\r\n    const searchers = new Table([\r\n        (moduleName) => {\r\n            const res = preload.rawget(moduleName);\r\n            if (res === undefined) {\r\n                return [undefined];\r\n            }\r\n            return [res];\r\n        },\r\n        (moduleName) => {\r\n            const res = searchpath(moduleName, libPackage.rawget('path'));\r\n            if (Array.isArray(res) && res[0] === undefined) {\r\n                return [res[1]];\r\n            }\r\n            if (!cfg.loadFile) {\r\n                throw new LuaError('package.searchers requires the config.loadFile function');\r\n            }\r\n            return [(moduleName, path) => execModule(cfg.loadFile(path), moduleName), res];\r\n        }\r\n    ]);\r\n    function _require(modname) {\r\n        const MODNAME = coerceArgToString(modname, 'require', 1);\r\n        const module = loaded.rawget(MODNAME);\r\n        if (module)\r\n            return module;\r\n        const searcherFns = searchers.numValues.filter(fn => !!fn);\r\n        for (const searcher of searcherFns) {\r\n            const res = searcher(MODNAME);\r\n            if (res[0] !== undefined && typeof res[0] !== 'string') {\r\n                const loader = res[0];\r\n                const result = loader(MODNAME, res[1]);\r\n                const module = result === undefined ? true : result;\r\n                loaded.rawset(MODNAME, module);\r\n                return module;\r\n            }\r\n        }\r\n        throw new LuaError(`Module '${MODNAME}' not found!`);\r\n    }\r\n    const libPackage = new Table({\r\n        path: LUA_PATH,\r\n        config,\r\n        loaded,\r\n        preload,\r\n        searchers,\r\n        searchpath\r\n    });\r\n    return { libPackage, _require };\r\n};\n\nconst call = (f, ...args) => {\r\n    if (f instanceof Function)\r\n        return ensureArray(f(...args));\r\n    const mm = f instanceof Table && f.getMetaMethod('__call');\r\n    if (mm)\r\n        return ensureArray(mm(f, ...args));\r\n    throw new LuaError(`attempt to call an uncallable type`);\r\n};\r\nconst stringTable = new Table();\r\nstringTable.metatable = metatable;\r\nconst get = (t, v) => {\r\n    if (t instanceof Table)\r\n        return t.get(v);\r\n    if (typeof t === 'string')\r\n        return stringTable.get(v);\r\n    throw new LuaError(`no table or metatable found for given type`);\r\n};\r\nconst execChunk = (_G, chunk, chunkName) => {\r\n    const exec = new Function('__lua', chunk);\r\n    const globalScope = new Scope(_G.strValues).extend();\r\n    if (chunkName)\r\n        globalScope.setVarargs([chunkName]);\r\n    const res = exec(Object.assign(Object.assign({ globalScope }, operators), { Table,\r\n        call,\r\n        get }));\r\n    return res === undefined ? [undefined] : res;\r\n};\r\nfunction createEnv(config = {}) {\r\n    const cfg = Object.assign({ LUA_PATH: './?.lua', stdin: '', stdout: console.log }, config);\r\n    const _G = createG(cfg, execChunk);\r\n    const { libPackage, _require } = getLibPackage((content, moduleName) => execChunk(_G, parse(content), moduleName)[0], cfg);\r\n    const loaded = libPackage.get('loaded');\r\n    const loadLib = (name, value) => {\r\n        _G.rawset(name, value);\r\n        loaded.rawset(name, value);\r\n    };\r\n    loadLib('_G', _G);\r\n    loadLib('package', libPackage);\r\n    loadLib('math', libMath);\r\n    loadLib('table', libTable);\r\n    loadLib('string', libString);\r\n    loadLib('os', getLibOS(cfg));\r\n    _G.rawset('require', _require);\r\n    const parse$1 = (code) => {\r\n        const script = parse(code);\r\n        return {\r\n            exec: () => execChunk(_G, script)[0]\r\n        };\r\n    };\r\n    const parseFile = (filename) => {\r\n        if (!cfg.fileExists)\r\n            throw new LuaError('parseFile requires the config.fileExists function');\r\n        if (!cfg.loadFile)\r\n            throw new LuaError('parseFile requires the config.loadFile function');\r\n        if (!cfg.fileExists(filename))\r\n            throw new LuaError('file not found');\r\n        return parse$1(cfg.loadFile(filename));\r\n    };\r\n    return {\r\n        parse: parse$1,\r\n        parseFile,\r\n        loadLib\r\n    };\r\n}\n\nexport { LuaError, Table, createEnv, utils };\n//# sourceMappingURL=lua-in-js.es.js.map\n","import PixosLuaLibrary from '@Engine/scripting/PixosLuaLibrary.jsx';\nimport * as luainjs from 'lua-in-js';\nexport default class PixosLuaInterpreter {\n  constructor(engine) {\n    this.engine = engine;\n    this.lua = luainjs;\n    this.pixosLib = new PixosLuaLibrary(this.lua);\n    this.scope = {};\n    this.env = null;\n    this.library = null;\n  }\n\n  setScope = (scope) => {\n    this.scope = scope;\n  };\n\n  getScope = () => {\n    return this.scope;\n  };\n\n  createEnv = () => {\n    this.env = this.lua.createEnv();\n    return this.env;\n  };\n\n  initLibrary = () => {\n    if (!this.env) this.createEnv();\n    this.library = this.pixosLib.getLibrary(this.engine, this.scope);\n    this.env.loadLib('pixos', this.library);\n  };\n\n  run = async (script) => {\n    if (!this.env) this.createEnv();\n    if (!this.library) this.initLibrary();\n    return this.env.parse(script).exec();\n  };\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n/** referenced from https://webgl2fundamentals.org/webgl/lessons/webgl-picking.html */\nexport default function fs() {\n    return `\n    precision highp float;\n    \n    uniform vec4 u_id;\n\n    void main() {\n        gl_FragColor = u_id;\n    }\n  `;\n  }\n  ","export default function init(shaderProgram) {\n  const { gl } = this.engine;\n  const self = this;\n\n  // console.log({ msg: 'picker shader program - made it' });\n\n  // Vertices\n  shaderProgram.aVertexPosition = gl.getAttribLocation(shaderProgram, 'aVertexPosition');\n  gl.enableVertexAttribArray(shaderProgram.aVertexPosition);\n\n  // Uniform Locations\n  shaderProgram.pMatrixUniform = gl.getUniformLocation(shaderProgram, 'uProjectionMatrix');\n  shaderProgram.mMatrixUniform = gl.getUniformLocation(shaderProgram, 'uModelMatrix');\n  shaderProgram.vMatrixUniform = gl.getUniformLocation(shaderProgram, 'uViewMatrix');\n  shaderProgram.scale = gl.getUniformLocation(shaderProgram, 'u_scale');\n  shaderProgram.id = gl.getUniformLocation(shaderProgram, 'u_id');\n\n  shaderProgram.setMatrixUniforms = ({\n    scale = null,\n    id = [((1 >> 0) & 0xff) / 0xff, ((1 >> 8) & 0xff) / 0xff, ((1 >> 16) & 0xff) / 0xff, ((1 >> 24) & 0xff) / 0xff],\n  }) => {\n    gl.uniformMatrix4fv(shaderProgram.pMatrixUniform, false, self.uProjMat);\n    gl.uniformMatrix4fv(shaderProgram.mMatrixUniform, false, self.uModelMat);\n    gl.uniformMatrix4fv(shaderProgram.vMatrixUniform, false, self.camera.uViewMat);\n    gl.uniform3fv(shaderProgram.scale, scale ? scale.toArray() : self.scale.toArray());\n    gl.uniform4fv(shaderProgram.id, id);\n  };\n\n  // return\n  return shaderProgram;\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n/** referenced from https://webgl2fundamentals.org/webgl/lessons/webgl-picking.html */\nexport default function vs() {\n    return `\n    attribute vec3 aVertexPosition;\n    \n    uniform mat4 uModelMatrix;\n    uniform mat4 uViewMatrix;\n    uniform mat4 uProjectionMatrix;\n  \n    varying vec4 vWorldVertex;\n    varying vec4 vPosition;\n\n    uniform vec3 u_scale;\n        \n    void main() {\n        // Multiply the position by the matrix.\n        vec3 scaledPosition = aVertexPosition * u_scale;\n\n        vWorldVertex = uModelMatrix * vec4(aVertexPosition, 1.0);\n        vPosition = uModelMatrix * vec4(scaledPosition, 1.0);\n\n        gl_Position = uProjectionMatrix * uViewMatrix * vPosition;\n    }\n  `;\n  }\n  ","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { Vector } from '@Engine/utils/math/vector.jsx';\n\n// Mouse event enumeration\nexport const Mouse = {\n  DOWN: 1,\n  UP: 2,\n  MOVE: 3,\n};\n\n// Degrees to Radians\nfunction degToRad(degrees) {\n  return (degrees * Math.PI) / 180;\n}\n\n// Directions enumeration & methods\nexport const Direction = {\n  None: 0, //0000\n  Right: 1, //0001\n  Up: 2, //0010\n  Left: 4, //0100\n  Down: 8, //1000\n  All: 15, //1111\n\n  fromOffset(dp) {\n    if (dp[0] > 0) return Direction.Right;\n    if (dp[0] < 0) return Direction.Left;\n    if (dp[1] > 0) return Direction.Down;\n    if (dp[1] < 0) return Direction.Up;\n    return 0;\n  },\n\n  toOffset(dir) {\n    switch (dir) {\n      case Direction.Right:\n        return [1, 0];\n      case Direction.Up:\n        return [0, -1];\n      case Direction.Left:\n        return [-1, 0];\n      case Direction.Down:\n        return [0, 1];\n    }\n    return [0, 0];\n  },\n\n  reverse(dir) {\n    switch (dir) {\n      case Direction.Right:\n        return Direction.Left;\n      case Direction.Up:\n        return Direction.Down;\n      case Direction.Left:\n        return Direction.Right;\n      case Direction.Down:\n        return Direction.Up;\n    }\n    return Direction.None;\n  },\n\n  rotate(dir, ccw = false) {\n    switch (dir) {\n      case Direction.Right:\n        return ccw ? Direction.Top : Direction.Down;\n      case Direction.Up:\n        return ccw ? Direction.Left : Direction.Right;\n      case Direction.Left:\n        return ccw ? Direction.Down : Direction.Top;\n      case Direction.Down:\n        return ccw ? Direction.Right : Direction.Left;\n    }\n    return Direction.None;\n  },\n\n  // determine which camera facing applies (seems to be working)\n  adjustCameraDirection(vec) {\n    switch (vec.z % 8) {\n      case 0:\n        return 'N';\n      case 1:\n      case -7:\n        return 'NW';\n      case 2:\n      case -6:\n        return 'W';\n      case 3:\n      case -5:\n        return 'SW';\n      case 4:\n      case -4:\n        return 'S';\n      case 5:\n      case -3:\n        return 'SE';\n      case 6:\n      case -2:\n        return 'E';\n      case 7:\n      case -1:\n        return 'NE';\n    }\n  },\n\n  // sprite sequence facing (Needs work -- still not quite right)\n  spriteSequence(dir, camera = 'N') {\n    switch (camera) {\n      case 'N':\n        switch (dir) {\n          case Direction.Up:\n            return 'N';\n          case Direction.Right:\n            return 'E';\n          case Direction.Down:\n            return 'S';\n          case Direction.Left:\n            return 'W';\n        }\n      case 'E':\n        switch (dir) {\n          case Direction.Up:\n            return 'W';\n          case Direction.Right:\n            return 'N';\n          case Direction.Down:\n            return 'E';\n          case Direction.Left:\n            return 'S';\n        }\n      case 'S':\n        switch (dir) {\n          case Direction.Up:\n            return 'S';\n          case Direction.Right:\n            return 'W';\n          case Direction.Down:\n            return 'N';\n          case Direction.Left:\n            return 'E';\n        }\n      case 'W':\n        switch (dir) {\n          case Direction.Up:\n            return 'E';\n          case Direction.Right:\n            return 'S';\n          case Direction.Down:\n            return 'W';\n          case Direction.Left:\n            return 'N';\n        }\n      case 'NE':\n        switch (dir) {\n          case Direction.Up:\n            return 'NW';\n          case Direction.Right:\n            return 'SE';\n          case Direction.Down:\n            return 'NE';\n          case Direction.Left:\n            return 'SW';\n        }\n      case 'SE':\n        switch (dir) {\n          case Direction.Up:\n            return 'SW';\n          case Direction.Right:\n            return 'NW';\n          case Direction.Down:\n            return 'SE';\n          case Direction.Left:\n            return 'NE';\n        }\n      case 'SW':\n        switch (dir) {\n          case Direction.Up:\n            return 'NE';\n          case Direction.Right:\n            return 'SW';\n          case Direction.Down:\n            return 'NW';\n          case Direction.Left:\n            return 'SE';\n        }\n      case 'NW':\n        switch (dir) {\n          case Direction.Up:\n            return 'SE';\n          case Direction.Right:\n            return 'NE';\n          case Direction.Down:\n            return 'SW';\n          case Direction.Left:\n            return 'NW';\n        }\n    }\n\n    return 'S';\n  },\n\n  // adjust draw offset based on rotation position\n  drawOffset(vec, camera = 'N') {\n    // return vec;\n    // todo -- needs work\n    switch (camera) {\n      case 'NE':\n        return vec.cross(new Vector(Math.sin(degToRad(315)), 2 * Math.cos(degToRad(315)), 0));\n      case 'NW':\n        return vec.cross(new Vector(-2 * Math.sin(degToRad(315)), -Math.cos(degToRad(315)), 0));\n      case 'SE':\n        return vec.cross(new Vector(Math.sin(degToRad(225)), Math.cos(degToRad(225)), 0));\n      case 'SW':\n        return vec.cross(new Vector(Math.sin(degToRad(135)), Math.cos(degToRad(135)), 0));\n      case 'E':\n        return vec.cross(new Vector(Math.sin(degToRad(270)), Math.cos(degToRad(270)), 0));\n      case 'W':\n        return vec.cross(new Vector(Math.sin(degToRad(90)), Math.cos(degToRad(90)), 0));\n      case 'S':\n        return vec.cross(new Vector(Math.sin(degToRad(180)), Math.cos(degToRad(180)), 0));\n      case 'N':\n        return vec.cross(new Vector(Math.sin(degToRad(0)), Math.cos(degToRad(0)), 0));\n      default:\n        return vec;\n    }\n  },\n\n  // object sequence rotation (TODO)\n  objectSequence(dir) {\n    switch (dir) {\n      case Direction.Right:\n        return [0, 90, 0];\n      case Direction.Up:\n        return [0, 0, 0];\n      case Direction.Left:\n        return [0, -90, 0];\n      case Direction.Down:\n        return [0, 180, 0];\n    }\n    return [0, 0, 0];\n  },\n};\n\nexport const isObject = (item) => {\n  return item && typeof item === 'object' && !Array.isArray(item);\n};\n\nexport const mergeDeep = (target, ...sources) => {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key])\n          Object.assign(target, {\n            [key]: {},\n          });\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, {\n          [key]: source[key] && Array.isArray(source[key]) ? [].concat(target[key] ?? [], source[key]) : source[key],\n        });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n};\n","/**\n * Utils Singletron\n * @class\n */\nclass Utils {\n  /**\n   * Loop between .9 and .3 to check peak at each thresolds\n   * @param {function} onLoop Function for each iteration\n   * @param {mixed} minValidThresold Function for each iteration\n   * @param {mixed} callback Function executed at the end\n   */\n  loopOnThresolds(onLoop, minValidThresold, callback) {\n    /**\n     * Top starting value to check peaks\n     * @type {number}\n     */\n    let thresold = 0.95;\n\n    /**\n     * Minimum value to check peaks\n     */\n    if (typeof minValidThresold === 'function' || typeof minValidThresold === 'boolean') {\n      callback = minValidThresold || callback;\n      minValidThresold = 0.3;\n    }\n\n    if (typeof minValidThresold === 'undefined') {\n      minValidThresold = 0.3;\n    }\n\n    if (typeof callback !== 'function') {\n      callback = this.noop;\n    }\n\n    const minThresold = minValidThresold;\n\n    /**\n     * Optionnal object to store data\n     */\n    const object = {};\n\n    /**\n     * Loop between 0.90 and 0.30 (theoretically it is 0.90 but it is 0.899999, due because of float manipulation)\n     */\n    do {\n      let stop = false;\n      thresold -= 0.05;\n      onLoop(object, thresold, bool => {\n        stop = bool;\n      });\n\n      if (stop) {\n        break;\n      }\n    } while (thresold > minThresold);\n\n    /**\n     * Ended callback\n     */\n    return callback(object);\n  }\n\n  /**\n   * Generate an object with each keys (thresolds) with a defaultValue\n   * @param  {mixed} defaultValue Contain the nitial value for each thresolds\n   * @param  {function} callback Callback function\n   * @return {object} Object with thresolds key initialized with a defaultValue\n   */\n  generateObjectModel(defaultValue, callback) {\n    return this.loopOnThresolds((object, thresold) => {\n      object[thresold.toString()] = JSON.parse(JSON.stringify(defaultValue));\n    }, object => {\n      if (callback) {\n        return callback(JSON.parse(JSON.stringify(object)));\n      }\n\n      return object;\n    });\n  }\n\n  /**\n   * Empty method\n   */\n  noop() {}\n}\n\nexport default new Utils();\n","import {Analyzer} from './analyzer.js';\nimport utils from './utils.js';\n\nconst analyzer = new Analyzer();\n\n/**\n * RealTimeBPMAnalyzer Class\n */\nclass RealTimeBPMAnalyzer {\n  /**\n   * @constructor\n   * @param {object} config Configuration\n   * @param {boolean} config.debug Debug flag\n   * @param {object} config.scriptNode Contains ScriptProcessorNode configuration\n   * @param {number} config.scriptNode.bufferSize Represents both the input and output buffer size, in sample-frames. Its value can be a power of 2 value in the range 25616384.\n   * @param {boolean} config.continuousAnalysis Flag indicating if we need to analyze continuously, typically used for streams\n   * @param {boolean} config.stabilizedBpmCount Arbitrary number of peaks found at the highest and stable thresold to define a stabilized BPM result\n   * @param {boolean} config.computeBPMDelay Arbitrary delay to compute the BPM for the first time\n   * @param {number} config.stabilizationTime Arbitrary time where we consider that a BPM is computable\n   * @param {number} config.pushTime Push result of analysis (expressed in milliseconds)\n   * @param {function} config.pushCallback Callback function that will returns data from analysis\n   * @param {function} config.onBpmStabilized Callback function that will be triggered when the stabilizationTime is reached\n   * @param {boolean} config.OfflineAudioContext OfflineAudioContext class\n   */\n  constructor(config = {}) {\n    /**\n     * Default configuration\n     * @property {object} options Default configuration\n     */\n    this.options = {\n      debug: false,\n      scriptNode: {\n        bufferSize: 4096,\n      },\n      continuousAnalysis: false,\n      stabilizedBpmCount: 2000,\n      computeBPMDelay: 10000,\n      stabilizationTime: 20000,\n      pushTime: 2000,\n      pushCallback: (error, _bpm) => {\n        if (error) {\n          throw new Error(error);\n        }\n      },\n      onBpmStabilized: thresold => {\n        this.clearValidPeaks(thresold);\n      },\n      OfflineAudioContext: typeof window === 'object' && (window.OfflineAudioContext || window.webkitOfflineAudioContext),\n    };\n\n    /**\n     * Logger\n     * @property {function} logger Logger\n     * @param {string} args Data to log\n     */\n    this.logger = (...args) => {\n      if (this.options.debug) {\n        console.log(...args);\n      }\n    };\n\n    /**\n     * Overriding default configuration\n     */\n    Object.assign(this.options, config);\n\n    /**\n     * @property {number} minValidThresold Minimum valid thresold, below this level result would be irrelevant.\n     */\n    this.minValidThresold = 0.3;\n\n    /**\n     * @property {number} cumulatedPushTime Sum of all pushTimes\n     */\n    this.cumulatedPushTime = 0;\n\n    /**\n     * @property {number} timeoutPushTime Used to temporize the BPM computation\n     */\n    this.timeoutPushTime = null;\n\n    /**\n     * @property {number} timeoutStabilization Schedule timeout triggered when the stabilizationTime is reached\n     */\n    this.timeoutStabilization = null;\n\n    /**\n     * @property {object} validPeaks Contain all valid peaks\n     */\n    this.validPeaks = utils.generateObjectModel([]);\n\n    /**\n     * @property {object} nextIndexPeaks Next index (+10000 ...) to take care about peaks\n     */\n    this.nextIndexPeaks = utils.generateObjectModel(0);\n\n    /**\n     * @property {number} chunkCoeff Number / Position of chunks\n     */\n    this.chunkCoeff = 1;\n  }\n\n  /**\n   * Reset BPM computation properties to get a fresh start\n   */\n  reset() {\n    this.minValidThresold = 0.3;\n    this.cumulatedPushTime = 0;\n    this.timeoutPushTime = null;\n    this.timeoutStabilization = null;\n    this.validPeaks = utils.generateObjectModel([]);\n    this.nextIndexPeaks = utils.generateObjectModel(0);\n    this.chunkCoeff = 1;\n  }\n\n  /**\n   * Remve all validPeaks between the minThresold pass in param to optimize the weight of datas\n   * @param {number} minThresold Value between 0.9 and 0.3\n   */\n  clearValidPeaks(minThresold) {\n    this.logger(`[clearValidPeaks] function: under ${minThresold}`);\n    this.minValidThresold = minThresold.toFixed(2);\n\n    utils.loopOnThresolds((object, thresold) => {\n      if (thresold < minThresold) {\n        delete this.validPeaks[thresold];\n        delete this.nextIndexPeaks[thresold];\n      }\n    });\n  }\n\n  /**\n   * Attach this function to an audioprocess event on a audio/video node to compute BPM / Tempo in realtime\n   * @param {object} event Event\n   */\n  analyze(event) {\n    /**\n     * Compute the maximum index with all previous chunks\n     * @type {number}\n     */\n    const currentMaxIndex = this.options.scriptNode.bufferSize * this.chunkCoeff;\n\n    /**\n     * Compute the minimum index with all previous chunks\n     * @type {number}\n     */\n    const currentMinIndex = currentMaxIndex - this.options.scriptNode.bufferSize;\n\n    /**\n     * Apply a low pass filter to the buffer\n     * @type {AudioBufferSourceNode}\n     */\n    const source = analyzer.getLowPassSource(event.inputBuffer, this.options.OfflineAudioContext);\n\n    /**\n     * Ensure to start the buffer at the begining\n     */\n    source.start(0);\n\n    utils.loopOnThresolds((object, thresold) => {\n      if (this.nextIndexPeaks[thresold] >= currentMaxIndex) {\n        return;\n      }\n\n      /**\n       * Get the next index in the next chunk\n       */\n      const offsetForNextPeak = this.nextIndexPeaks[thresold] % this.options.scriptNode.bufferSize; // 0 - 4095\n\n      /**\n       * Get peaks sort by tresold\n       */\n      const {peaks, thresold: atThresold} = analyzer.findPeaksAtThresold(source.buffer.getChannelData(0), thresold, offsetForNextPeak);\n\n      /**\n       * Loop over peaks\n       */\n      if (typeof peaks === 'undefined') {\n        return;\n      }\n\n      for (const key of Object.keys(peaks)) {\n        /**\n         * If we got some data..\n         */\n        const relativeChunkPeak = peaks[key];\n\n        if (typeof relativeChunkPeak === 'undefined') {\n          continue;\n        }\n\n        /**\n         * Add current Index + 10K\n         */\n        this.nextIndexPeaks[atThresold] = currentMinIndex + relativeChunkPeak + 10000;\n\n        /**\n         * Store valid relativeChunkPeak\n         */\n        this.validPeaks[atThresold].push(currentMinIndex + relativeChunkPeak);\n      }\n    }, this.minValidThresold, () => {\n      /**\n       * Increment chunk\n       */\n      this.chunkCoeff++;\n\n      /**\n       * Refresh BPM every 2s (default value)\n       */\n      if (this.timeoutPushTime !== null) {\n        return;\n      }\n\n      this.timeoutPushTime = setTimeout(() => {\n        this.cumulatedPushTime += this.options.pushTime;\n        this.timeoutPushTime = null;\n\n        analyzer.computeBPM(this.validPeaks, event.inputBuffer.sampleRate, (error, bpm, thresold) => {\n          this.options.pushCallback(error, bpm, thresold);\n\n          // Stop all (we have enougth interval counts)\n          // Never executed !\n          if (!error && bpm && bpm[0].count >= this.options.stabilizedBpmCount) {\n            this.logger('[freezePushBack]');\n            // Freeze pushPack periodicity\n            this.timeoutPushTime = 'never';\n            // Cancel the audioprocess\n            this.minValidThresold = 1;\n          }\n\n          if (this.cumulatedPushTime >= this.options.computeBPMDelay && this.minValidThresold < thresold) {\n            this.logger('[onBpmStabilized] function: Fired !');\n            this.options.onBpmStabilized(thresold);\n\n            /**\n             * After x milliseconds, we reinit the analyzer\n             */\n            if (this.options.continuousAnalysis) {\n              clearTimeout(this.timeoutStabilization);\n              this.timeoutStabilization = setTimeout(() => {\n                this.logger('[timeoutStabilization] setTimeout: Fired !');\n                this.options.computeBPMDelay = 0;\n                this.reset();\n              }, this.options.stabilizationTime);\n            }\n          }\n        });\n      }, this.options.pushTime);\n    });\n  }\n}\n\n/**\n * Expose globally RealTimeBPMAnalyzer class if possible\n */\nif (typeof window !== 'undefined') {\n  window.RealTimeBPMAnalyzer = RealTimeBPMAnalyzer;\n}\n\nexport {RealTimeBPMAnalyzer};\n","import utils from './utils.js';\n\n/**\n * Contain analyzer methods, this class does not need any parameters to be instanciated\n * @class\n */\nclass Analyzer {\n  /**\n   * Apply a low pass filter to an AudioBuffer and return the result\n   * @param {AudioBuffer} buffer Source AudioBuffer\n   * @param {OfflineContext} OfflineContext OfflineContext class\n   * @return {AudioBufferSourceNode}\n   */\n  getLowPassSource(buffer, OfflineContext) {\n    const {numberOfChannels, length, sampleRate} = buffer;\n    const context = new OfflineContext(numberOfChannels, length, sampleRate);\n\n    /**\n     * Create buffer source\n     */\n    const source = context.createBufferSource();\n    source.buffer = buffer;\n\n    /**\n     * Create lowpass filter\n     */\n    const filter = context.createBiquadFilter();\n    filter.type = 'lowpass';\n\n    /**\n     * Pipe the song into the filter, and the filter into the offline context\n     */\n    source.connect(filter);\n    filter.connect(context.destination);\n\n    return source;\n  }\n\n  /**\n   * Find peaks when the signal if greater than the thresold, then move 10000 indexes (represents ~0.25s) to ignore the descending phase of the parabol\n   * @param {object} data Buffer channel data\n   * @param {number} thresold Thresold for qualifying as a peak\n   * @param {number} offset Position where we start to loop\n   * @return {object[]|undefined} Peaks found that are greater than the thresold\n   */\n  findPeaksAtThresold(data, thresold, offset) {\n    let peaks = [];\n\n    const {length} = data;\n\n    /**\n     * Identify peaks that are greater than the thresold, adding them to the collection\n     */\n    for (let i = offset; i < length; i += 1) {\n      if (data[i] > thresold) {\n        peaks.push(i);\n\n        /**\n         * Skip forward ~0.25s to pass this peak\n         */\n        i += 10000;\n      }\n    }\n\n    if (peaks.length === 0) {\n      peaks = undefined;\n    }\n\n    return {\n      peaks,\n      thresold,\n    };\n  }\n\n  /**\n   * Return with a callback the computed bpm from data\n   * @param {object} data Contain valid peaks\n   * @param {object} sampleRate Audio sample rate\n   * @param {function} callback The callback will have as parameters a potential error and bpm candidates\n   */\n  computeBPM(data, sampleRate, callback) {\n    /**\n     * Minimum peaks\n     */\n    const minPeaks = 15;\n\n    /**\n     * Flag to fix Object.keys looping\n     */\n    let peaksFound = false;\n\n    utils.loopOnThresolds((object, thresold, stop) => {\n      if (peaksFound) {\n        return stop(true);\n      }\n\n      if (data[thresold].length > minPeaks) {\n        peaksFound = true;\n\n        return callback(null, [\n          this.identifyIntervals,\n          this.groupByTempo(sampleRate),\n          this.getTopCandidates,\n        ].reduce(\n          (state, fn) => fn(state),\n          data[thresold],\n        ), thresold);\n      }\n    }, () => {\n      if (!peaksFound) {\n        callback(new Error('Could not find enough samples for a reliable detection.'));\n      }\n\n      return false;\n    });\n  }\n\n  /**\n   * Sort results by count and return top candidate\n   * @param {object[]} Candidate (BPMs) with count\n   * @return {object[]} Returns the 5 top candidates with highest counts\n   */\n  getTopCandidates(candidates) {\n    return candidates.sort((a, b) => (b.count - a.count)).splice(0, 5);\n  }\n\n  /**\n   * Identify intervals between peaks\n   * @param {array} peaks Array of qualified peaks\n   * @return {array} Identifies intervals between peaks\n   */\n  identifyIntervals(peaks) {\n    const intervals = [];\n    for (const [index, peak] of peaks.entries()) {\n      for (let i = 0; i < 10; i += 1) {\n        const interval = peaks[index + i] - peak;\n\n        /**\n         * Try and find a matching interval and increase it's count\n         */\n        const foundInterval = intervals.some(intervalCount => {\n          if (intervalCount.interval === interval) {\n            intervalCount.count += 1;\n            return intervalCount.count;\n          }\n\n          return false;\n        });\n\n        /**\n         * Add the interval to the collection if it's unique\n         */\n        if (!foundInterval) {\n          intervals.push({\n            interval,\n            count: 1,\n          });\n        }\n      }\n    }\n\n    return intervals;\n  }\n\n  /**\n   * Factory for group reducer\n   * @param  {number} sampleRate Audio sample rate\n   * @return {Function}\n   */\n  groupByTempo(sampleRate) {\n    /**\n     * Figure out best possible tempo candidates\n     * @param {array} intervalCounts List of identified intervals\n     * @return {array} Intervals grouped with similar values\n     */\n    return intervalCounts => {\n      const tempoCounts = [];\n\n      for (const intervalCount of intervalCounts) {\n        if (intervalCount.interval !== 0) {\n          intervalCount.interval = Math.abs(intervalCount.interval);\n\n          /**\n           * Convert an interval to tempo\n           */\n          let theoreticalTempo = (60 / (intervalCount.interval / sampleRate));\n\n          /**\n           * Adjust the tempo to fit within the 90-180 BPM range\n           */\n          while (theoreticalTempo < 90) {\n            theoreticalTempo *= 2;\n          }\n\n          while (theoreticalTempo > 180) {\n            theoreticalTempo /= 2;\n          }\n\n          /**\n           * Round to legible integer\n           */\n          theoreticalTempo = Math.round(theoreticalTempo);\n\n          /**\n           * See if another interval resolved to the same tempo\n           */\n          const foundTempo = tempoCounts.some(tempoCount => {\n            if (tempoCount.tempo === theoreticalTempo) {\n              tempoCount.count += intervalCount.count;\n              return tempoCount.count;\n            }\n\n            return false;\n          });\n\n          /**\n           * Add a unique tempo to the collection\n           */\n          if (!foundTempo) {\n            tempoCounts.push({\n              tempo: theoreticalTempo,\n              count: intervalCount.count,\n            });\n          }\n        }\n      }\n\n      return tempoCounts;\n    };\n  }\n}\n\nexport {Analyzer};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { RealTimeBPMAnalyzer } from 'realtime-bpm-analyzer';\n\n// Loads Audio\nexport class AudioLoader {\n  constructor(engine) {\n    this.engine = engine;\n    this.definitions = [];\n    this.instances = {};\n  }\n\n  // Load Audio Track\n  load(src, loop = false) {\n    if (this.instances[src]) {\n      return this.instances[src];\n    }\n    let instance = new AudioTrack(src, loop);\n    this.instances[src] = instance;\n    // Stop other loops\n    let loader = this;\n    if (loop) {\n      Object.keys(loader.instances)\n        .filter((instance) => src !== instance)\n        .forEach(function (instance) {\n          if (loader.instances[instance]) {\n            loader.instances[instance].pauseAudio();\n          }\n        });\n    }\n    // once loaded\n    instance.loaded = true;\n    return instance;\n  }\n\n  // Load Audio Track\n  async loadFromZip(zip, src, loop = false) {\n    if (this.instances[src]) {\n      return this.instances[src];\n    }\n    console.log({ msg: 'let the beat roll in!' });\n    let blob = await zip\n      .file(`audio/${src}`)\n      .async('arrayBuffer')\n      .then((audioData) => {\n        let buffer = new Uint8Array(audioData);\n        return new Blob([buffer.buffer]);\n      });\n    let url = URL.createObjectURL(blob);\n    console.log({ msg: 'loading audio track...', url });\n\n    let instance = new AudioTrack(url, loop);\n    this.instances[src] = instance;\n    // Stop other loops\n    let loader = this;\n    if (loop) {\n      Object.keys(loader.instances)\n        .filter((instance) => src !== instance)\n        .forEach(function (instance) {\n          if (loader.instances[instance]) {\n            loader.instances[instance].pauseAudio();\n          }\n        });\n    }\n    // once loaded\n    instance.loaded = true;\n    return instance;\n  }\n}\n\nexport class AudioTrack {\n  constructor(src, loop = false) {\n    this.src = src;\n    this.playing = false;\n    this.audio = new Audio(src);\n    this.audioContext = new AudioContext();\n    this.bpm = 0;\n    this.analyser = this.audioContext.createAnalyser();\n    this.audioSource = this.audioContext.createMediaElementSource(this.audio);\n    this.audioSource.connect(this.analyser);\n    // this.audioSource.connect(this.audioContext.destination);\n    this.audioNode = this.audioContext.createScriptProcessor(4096, 1, 1);\n    this.audioNode.connect(this.audioContext.destination);\n    // Connect everythings together\n    this.audioSource.connect(this.audioNode);\n    this.audioSource.connect(this.audioContext.destination);\n    // bpm analyzer\n    const onAudioProcess = new RealTimeBPMAnalyzer({\n      scriptNode: {\n        bufferSize: 4096,\n      },\n      pushTime: 2000,\n      pushCallback: (err, bpm) => {\n        this.bpm = bpm;\n      },\n    });\n    this.audioNode.onaudioprocess = (e) => {\n      onAudioProcess.analyze(e);\n    };\n\n    // loop if set\n    if (loop) {\n      this.audio.addEventListener(\n        'ended',\n        function () {\n          this.currentTime = 0;\n          this.play();\n        },\n        false\n      );\n    }\n    this.audio.load();\n  }\n  isPlaying() {\n    return this.playing;\n  }\n  playAudio() {\n    const audioPromise = this.audio.play();\n    this.playing = true;\n    if (audioPromise !== undefined) {\n      audioPromise\n        .then((_) => {\n          // autoplay started\n        })\n        .catch((err) => {\n          // catch dom exception\n          console.info(err);\n        });\n    }\n  }\n  pauseAudio() {\n    const audioPromise = this.audio.pause();\n    this.playing = false;\n    if (audioPromise !== undefined) {\n      audioPromise\n        .then((_) => {\n          // autoplay started\n        })\n        .catch((err) => {\n          // catch dom exception\n          console.info(err);\n        });\n    }\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport ActionQueue from '@Engine/core/queue/index.jsx';\nimport Loadable from '@Engine/core/queue/loadable.jsx';\nexport default class Tileset extends Loadable {\n  /**\n   * Tileset geometry and tiles\n   * @param {*} engine\n   */\n  constructor(engine) {\n    super();\n    this.engine = engine;\n    this.src = null;\n    this.sheetSize = [0, 0];\n    this.tileSize = 0;\n    this.tiles = {};\n    this.loaded = false;\n    this.onLoadActions = new ActionQueue();\n    this.onDefinitionLoadActions = new ActionQueue();\n    this.onTextureLoaded = this.onTextureLoaded.bind(this);\n  }\n\n  /**\n   * Received tileset definition JSON\n   * @param {*} data\n   */\n  onJsonLoaded(data) {\n    // Merge tileset definition into this object\n    Object.keys(data).map((k) => {\n      this[k] = data[k];\n    });\n    // Definition actions must always run before loaded actions\n    this.definitionLoaded = true;\n    this.onDefinitionLoadActions.run();\n    // load texture\n    this.texture = this.engine.resourceManager.loadTexture(this.src);\n    this.texture.runWhenLoaded(this.onTextureLoaded);\n    // set background colour\n    if (this.bgColor) this.engine.gl.clearColor(this.bgColor[0] / 255, this.bgColor[1] / 255, this.bgColor[2] / 255, 1.0);\n  }\n\n  /**\n   * Received tileset definition JSON\n   * @param {*} data\n   * @param {*} zip\n   */\n  async onJsonLoadedFromZip(data, zip) {\n    // Merge tileset definition into this object\n    Object.keys(data).map((k) => {\n      this[k] = data[k];\n    });\n    // Definition actions must always run before loaded actions\n    this.definitionLoaded = true;\n    this.onDefinitionLoadActions.run();\n    // load texture\n    this.texture = await this.engine.resourceManager.loadTextureFromZip(this.src, zip);\n    this.texture.runWhenLoaded(this.onTextureLoaded);\n    // set background colour\n    if (this.bgColor) this.engine.gl.clearColor(this.bgColor[0] / 255, this.bgColor[1] / 255, this.bgColor[2] / 255, 1.0);\n  }\n\n  /**\n   * run when loaded\n   */\n  onTextureLoaded() {\n    this.loaded = true;\n    this.onLoadActions.run();\n  }\n\n  /**\n   * Actions to run after the tileset definition has loaded,\n   * but before the texture is ready\n   * @param {*} action\n   */\n  runWhenDefinitionLoaded(action) {\n    if (this.definitionLoaded) action();\n    else this.onDefinitionLoadActions.add(action);\n  }\n\n  /**\n   * Get vertices for tile\n   * @param {*} id\n   * @param {*} offset\n   * @returns\n   */\n  getTileVertices(id, offset) {\n    return this.geometry[id].vertices\n      .map((poly) => poly.map((vertex) => [vertex[0] + offset[0], vertex[1] + offset[1], vertex[2] + offset[2]]))\n      .flat(3);\n  }\n\n  /**\n   * get texture coordinates\n   * @param {*} id\n   * @param {*} texId\n   * @returns\n   */\n  getTileTexCoords(id, texId) {\n    let tileOffset = this.textures[texId];\n    let size = [this.tileSize / this.sheetSize[0], this.tileSize / this.sheetSize[1]];\n    return this.geometry[id].surfaces\n      .map((poly) => poly.map((vertex) => [(vertex[0] + tileOffset[0]) * size[0], (vertex[1] + tileOffset[1]) * size[1]]))\n      .flat(3);\n  }\n\n  /**\n   * determine walkability\n   * @param {*} tileId\n   * @returns\n   */\n  getWalkability(tileId) {\n    return this.geometry[tileId].type;\n  }\n\n  /**\n   * get poly for walk\n   * @param {*} tileId\n   * @returns\n   */\n  getTileWalkPoly(tileId) {\n    return this.geometry[tileId].walkPoly;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport Tileset from '@Engine/core/resource/tileset.jsx';\nimport { mergeDeep } from '@Engine/utils/enums.jsx';\n\n// Helps Loads New Tileset Instance\nexport class TilesetLoader {\n  constructor(engine) {\n    this.engine = engine;\n    this.tilesets = {};\n  }\n\n  // load from zip\n  async loadFromZip(zip, type, spritzName) {\n    console.log('loading tileset from zip: ' + type + ' for ' + spritzName);\n    let tileset = this.tilesets[type];\n    if (tileset) return tileset;\n    let instance = new Tileset(this.engine);\n    this.tilesets[type] = instance;\n    instance.name = type;\n\n    // extract component json files from zip file and compile into single config\n    let tilesetJson = JSON.parse(await zip.file(`tilesets/${type}/tileset.json`).async('string'));\n    let tilesetGeometry = JSON.parse(await zip.file(`tilesets/${type}/geometry.json`).async('string'));\n    let tilesetTiles = JSON.parse(await zip.file(`tilesets/${type}/tiles.json`).async('string'));\n    let tilesetData = await this.loadTilesetData(tilesetJson, tilesetTiles, tilesetGeometry, zip);\n\n    await instance.onJsonLoadedFromZip(tilesetData, zip);\n    return instance;\n  }\n\n  // load tileset data components and merge into config\n  async loadTilesetData(tilesetJson, Tiles, TilesetGeometry, zip) {\n    // extend tileset\n    if (tilesetJson.extends) {\n      await Promise.all(\n        tilesetJson.extends.map(async (file) => {\n          let stringD = JSON.parse(await zip.file('tilesets/' + file + '/tileset.json').async('string'));\n          tilesetJson = mergeDeep(tilesetJson, stringD);\n        })\n      );\n      // unset\n      tilesetJson.extends = null;\n    }\n    console.log({ tilesetJson });\n    // extend tiles\n    if (Tiles.extends) {\n      await Promise.all(\n        Tiles.extends.map(async (file) => {\n          let stringD = JSON.parse(await zip.file('tilesets/' + file + '/tiles.json').async('string'));\n          Tiles = mergeDeep(Tiles, stringD);\n        })\n      );\n      // unset\n      Tiles.extends = null;\n    }\n    console.log({ Tiles });\n\n    // extend geometry\n    if (TilesetGeometry.extends) {\n      await Promise.all(\n        TilesetGeometry.extends.map(async (file) => {\n          let stringD = JSON.parse(await zip.file('tilesets/' + file + '/geometry.json').async('string'));\n          TilesetGeometry = mergeDeep(TilesetGeometry, stringD);\n        })\n      );\n      // unset\n      TilesetGeometry.extends = null;\n    }\n    console.log({ TilesetGeometry });\n\n    let geometry = {};\n    Object.keys(tilesetJson.geometry).forEach((geo) => {\n      geometry[geo] = TilesetGeometry[tilesetJson.geometry[geo]];\n    });\n    return {\n      name: tilesetJson.name,\n      src: tilesetJson.src,\n      sheetSize: tilesetJson.sheetSize,\n      sheetOffsetX: tilesetJson.sheetOffsetX,\n      sheetOffsetY: tilesetJson.sheetOffsetY,\n      tileSize: tilesetJson.tileSize,\n      bgColor: tilesetJson.bgColor,\n      // Tile Locations on resource (based on size)\n      textures: tilesetJson.textures,\n      // Geometries for the tileset\n      // type --> walkability -- 1/0 --> [down,left,up,right]\n      geometry: geometry,\n      // tiles to use\n      tiles: Tiles,\n    };\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { Vector, set } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\nimport ActionQueue from '../queue/index.jsx';\nimport { ActionLoader } from '@Engine/utils/loaders/index.jsx';\nimport { rotate, translate } from '@Engine/utils/math/matrix4.jsx';\nimport Loadable from '@Engine/core/queue/loadable.jsx';\nimport { degToRad } from '../../utils/math/vector.jsx';\n\nexport default class Sprite extends Loadable {\n  /**\n   * Sprites are 2D objects\n   * @param {*} engine\n   */\n  constructor(engine) {\n    super();\n    this.objId = Math.round(Math.random() * 10000) + 111;\n    this.engine = engine;\n    this.templateLoaded = false;\n    this.drawOffset = new Vector(0, 0, 0);\n    this.hotspotOffset = new Vector(0, 0, 0);\n    this.animFrame = 0;\n    this.fixed = false;\n    this.pos = new Vector(0, 0, 0);\n    this.scale = new Vector(1, 1, 1);\n    this.facing = Direction.Right;\n    this.actionDict = {};\n    this.actionList = [];\n    this.gender = null;\n    this.speech = {};\n    this.portrait = null;\n    this.onLoadActions = new ActionQueue();\n    this.getTexCoords = this.getTexCoords.bind(this);\n    this.inventory = [];\n    this.onTilesetOrTextureLoaded = this.onTilesetOrTextureLoaded.bind(this);\n    this.blocking = true; // default - cannot passthrough\n    this.override = false;\n    this.isLit = true;\n    this.lightIndex = null;\n    this.lightColor = [0.1, 1.0, 0.1];\n    this.density = 1;\n    this.voice = new SpeechSynthesisUtterance();\n  }\n\n  /**\n   * Load Sprite data and configure\n   * @param {*} instanceData\n   * @returns\n   */\n  onLoad(instanceData) {\n    if (this.loaded) return;\n    if (!this.src || !this.sheetSize || !this.tileSize || !this.frames) {\n      console.error('Invalid sprite definition');\n      return;\n    }\n    console.log({ msg: 'sprite load', instanceData, objId: this.objId });\n    // Zone Information\n    this.zone = instanceData.zone;\n    if (instanceData.id) this.id = instanceData.id;\n    if (instanceData.pos) this.pos = instanceData.pos;\n    if (instanceData.isLit) this.isLit = instanceData.isLit;\n    if (instanceData.attenuation) this.attenuation = instanceData.attenuation;\n    if (instanceData.direction) this.direction = instanceData.direction;\n    if (instanceData.lightColor) this.lightColor = instanceData.lightColor;\n    if (instanceData.density) this.density = instanceData.density;\n    if (instanceData.scatteringCoefficients) this.scatteringCoefficients = instanceData.scatteringCoefficients;\n    if (instanceData.rotation) this.rotation = instanceData.rotation;\n    if (instanceData.facing && instanceData.facing !== 0) this.facing = instanceData.facing;\n    if (instanceData.zones && instanceData.zones !== null) this.zones = instanceData.zones;\n    if (instanceData.onStep && typeof instanceData.onStep == 'function') {\n      let stepParent = this.onStep.bind(this);\n      this.onStep = async () => {\n        await instanceData.onStep(this, this);\n        console.log('made it to here');\n        await stepParent(this, this);\n      };\n    }\n    // Texture Buffer\n    this.texture = this.engine.resourceManager.loadTexture(this.src);\n    this.texture.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n    this.vertexTexBuf = this.engine.renderManager.createBuffer(this.getTexCoords(), this.engine.gl.DYNAMIC_DRAW, 2);\n\n    // // Speech bubble\n    if (this.enableSpeech) {\n      this.speech = this.engine.resourceManager.loadSpeech(this.id, this.engine.mipmap);\n      this.speech.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n      this.speechTexBuf = this.engine.renderManager.createBuffer(this.getSpeechBubbleTexture(), this.engine.gl.DYNAMIC_DRAW, 2);\n    }\n    // load Portrait\n    if (this.portraitSrc) {\n      this.portrait = this.engine.resourceManager.loadTexture(this.portraitSrc);\n      this.portrait.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n    }\n    if (this.isLit) {\n      console.log({ msg: 'Adding Light Loaded', id: this.id, pos: this.pos.toArray() });\n      this.lightIndex = this.engine.renderManager.lightManager.addLight(\n        this.id,\n        this.pos.toArray(),\n        this.lightColor,\n        this.attenuation ?? [0.01, 0.01, 0.01],\n        this.direction,\n        this.density,\n        this.scatteringCoefficients,\n        true\n      );\n    }\n    //\n    this.zone.tileset.runWhenDefinitionLoaded(this.onTilesetDefinitionLoaded.bind(this));\n  }\n\n  /**\n   * Load Texture / Location\n   * @param {*} instanceData\n   * @param {Zip} zip\n   * @returns\n   */\n  async onLoadFromZip(instanceData, zip) {\n    if (this.loaded) return;\n    if (!this.src || !this.sheetSize || !this.tileSize || !this.frames) {\n      console.error('Invalid sprite definition');\n      return;\n    }\n\n    console.log({ msg: 'sprite load from zip', instanceData });\n\n    // Zone Information\n    this.update(instanceData);\n    this.zone = instanceData.zone;\n    if (instanceData.id) this.id = instanceData.id;\n    if (instanceData.isLit) this.isLit = instanceData.isLit;\n    if (instanceData.lightColor) this.lightColor = instanceData.lightColor;\n    if (instanceData.density) this.density = instanceData.density;\n    if (instanceData.attenuation) this.attenuation = instanceData.attenuation;\n    if (instanceData.direction) this.direction = instanceData.direction;\n    if (instanceData.scatteringCoefficients) this.scatteringCoefficients = instanceData.scatteringCoefficients;\n    if (instanceData.fixed) this.fixed = instanceData.fixed;\n    if (instanceData.pos) this.pos = instanceData.pos;\n    if (instanceData.facing && instanceData.facing !== 0) this.facing = instanceData.facing;\n    if (instanceData.zones && instanceData.zones !== null) this.zones = instanceData.zones;\n    if (instanceData.onStep && typeof instanceData.onStep == 'function') {\n      let stepParent = this.onStep.bind(this);\n      this.onStep = async () => {\n        await instanceData.onStep(this, this);\n        await stepParent(this, this);\n      };\n    }\n\n    // Step Handler - todo\n    // if (instanceData.onStep) {\n    //   let stepParent = this.onStep.bind(this);\n    //   this.onStep = async () => {\n    //     // todo - need to add lua interpreter\n    //     // -- should be able to run lua scripts\n    //     eval.call(this, await this.zip.file(`triggers/${instanceData.onStep}.js`).async('string')).call(this, this);\n    //     await stepParent(this, this);\n    //   };\n    // }\n\n    // Texture Buffer\n    this.texture = await this.engine.resourceManager.loadTextureFromZip(this.src, zip);\n    this.texture.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n    this.vertexTexBuf = this.engine.renderManager.createBuffer(this.getTexCoords(), this.engine.gl.DYNAMIC_DRAW, 2);\n\n    // Speech bubble\n    if (this.enableSpeech) {\n      this.speech = this.engine.resourceManager.loadSpeech(this.id, this.engine.mipmap);\n      this.speech.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n      this.speechTexBuf = this.engine.renderManager.createBuffer(this.getSpeechBubbleTexture(), this.engine.gl.DYNAMIC_DRAW, 2);\n    }\n\n    // load Portrait\n    if (this.portraitSrc) {\n      this.portrait = await this.engine.resourceManager.loadTextureFromZip(this.portraitSrc, zip);\n      this.portrait.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n    }\n\n    // lighting\n    if (this.isLit) {\n      console.log({ msg: 'Adding Light', id: this.id, pos: this.pos.toArray() });\n      this.lightIndex = this.engine.renderManager.lightManager.addLight(\n        this.id,\n        this.pos.toArray(),\n        this.lightColor,\n        this.attenuation ?? [0.01, 0.01, 0.01],\n        this.direction,\n        this.density,\n        this.scatteringCoefficients,\n        true\n      );\n    }\n\n    this.zone.tileset.runWhenDefinitionLoaded(this.onTilesetDefinitionLoaded.bind(this));\n  }\n\n  /**\n   * Definition Loaded\n   */\n  onTilesetDefinitionLoaded() {\n    // size of tiles (1x1 squares are assumed)\n    let tileSize = this.zone.tileset.tileSize;\n\n    // normalize - ie scale the provided tile by the tile size\n    let normTile = [this.tileSize[0] / tileSize, this.tileSize[1] / tileSize];\n\n    // vertices\n    let verts = [\n      [0, 0, 0],\n      [normTile[0], 0, 0],\n      [normTile[0], 0, normTile[1]],\n      [0, 0, normTile[1]],\n    ];\n\n    // polys\n    let poly = [\n      [verts[2], verts[3], verts[0]],\n      [verts[2], verts[0], verts[1]],\n    ].flat(3);\n\n    // sprite data\n    this.vertexPosBuf = this.engine.renderManager.createBuffer(poly, this.engine.gl.STATIC_DRAW, 3);\n\n    // speech bubble data - to account for proper height\n    if (this.enableSpeech) {\n      this.speechVerBuf = this.engine.renderManager.createBuffer(this.getSpeechBubbleVertices(), this.engine.gl.STATIC_DRAW, 3);\n    }\n\n    this.zone.tileset.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n  }\n\n  /**\n   * After Tileset / Texture Loaded\n   * @returns\n   */\n  onTilesetOrTextureLoaded() {\n    if (\n      !this ||\n      this.loaded ||\n      !this.zone.tileset.loaded ||\n      !this.texture.loaded ||\n      (this.enableSpeech && this.speech && !this.speech.loaded) ||\n      (this.portrait && !this.portrait.loaded)\n    )\n      return;\n\n    this.init(); // Hook for sprite implementations\n    if (this.enableSpeech && this.speech) {\n      if (this.speech.clearHud) {\n        this.speech.clearHud();\n        this.speech.writeText(this.id);\n        this.speech.loadImage();\n      }\n    }\n    this.loaded = true;\n    this.onLoadActions.run();\n  }\n\n  /**\n   * Get Texture Coordinates\n   * @returns\n   */\n  getTexCoords() {\n    let sequence = Direction.spriteSequence(this.facing, this.engine.renderManager.camera.cameraDir);\n    let frames = this.frames[sequence] ?? this.frames['N']; //default up\n    let length = frames.length;\n    let t = frames[this.animFrame % length];\n    let ss = this.sheetSize;\n    let ts = this.tileSize;\n    let bl = [(t[0] + ts[0]) / ss[0], t[1] / ss[1]];\n    let tr = [t[0] / ss[0], (t[1] + ts[1]) / ss[1]];\n    let v = [bl, [tr[0], bl[1]], tr, [bl[0], tr[1]]];\n    let poly = [\n      [v[0], v[1], v[2]],\n      [v[0], v[2], v[3]],\n    ];\n    return poly.flat(3);\n  }\n\n  /**\n   * Speech Area texture\n   * @returns\n   */\n  getSpeechBubbleTexture() {\n    return [\n      [1.0, 1.0],\n      [0.0, 1.0],\n      [0.0, 0.0],\n      [1.0, 1.0],\n      [0.0, 0.0],\n      [1.0, 0.0],\n    ].flat(3);\n  }\n\n  /**\n   * speech bubble position\n   * @returns\n   */\n  getSpeechBubbleVertices() {\n    return [\n      new Vector(...[2, 0, 4]).toArray(),\n      new Vector(...[0, 0, 4]).toArray(),\n      new Vector(...[0, 0, 2]).toArray(),\n      new Vector(...[2, 0, 4]).toArray(),\n      new Vector(...[0, 0, 2]).toArray(),\n      new Vector(...[2, 0, 2]).toArray(),\n    ].flat(3);\n  }\n\n  /**\n   * Draw Sprite Sprite\n   * @returns\n   */\n  draw() {\n    if (!this.loaded) return;\n\n    //update light position\n    if (this.isLit) {\n      let pos = this.pos.toArray();\n      this.engine.renderManager.lightManager.updateLight(this.lightIndex, pos);\n    }\n\n    this.engine.renderManager.mvPushMatrix();\n    // position\n    translate(\n      this.engine.renderManager.uModelMat,\n      this.engine.renderManager.uModelMat,\n      (this.drawOffset[this.engine.renderManager.camera.cameraDir] ?? this.drawOffset['N']).toArray()\n    );\n    translate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, this.pos.toArray());\n\n    // scale & rotate sprite to handle walls\n    if (!this.fixed) {\n      this.engine.renderManager.shaderProgram.setMatrixUniforms({\n        scale: new Vector(1, Math.cos(this.engine.renderManager.camera.cameraAngle / 180), 1),\n      });\n      translate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, [\n        0.5 * this.engine.renderManager.camera.cameraVector.x,\n        0.5 * this.engine.renderManager.camera.cameraVector.y,\n        0,\n      ]);\n      rotate(\n        this.engine.renderManager.uModelMat,\n        this.engine.renderManager.uModelMat,\n        degToRad(this.engine.renderManager.camera.cameraAngle * this.engine.renderManager.camera.cameraVector.z),\n        [0, 0, -1]\n      );\n      translate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, [\n        -0.5 * this.engine.renderManager.camera.cameraVector.x,\n        -0.5 * this.engine.renderManager.camera.cameraVector.y,\n        0,\n      ]);\n    }\n\n    // Bind texture\n    this.engine.renderManager.bindBuffer(this.vertexPosBuf, this.engine.renderManager.shaderProgram.aVertexPosition);\n    this.engine.renderManager.bindBuffer(this.vertexTexBuf, this.engine.renderManager.shaderProgram.aTextureCoord);\n    this.texture.attach();\n\n    // Draw\n    this.engine.renderManager.effectPrograms['picker'].setMatrixUniforms({id: this.getPickingId()});\n    this.engine.renderManager.shaderProgram.setMatrixUniforms({});\n    this.engine.gl.depthFunc(this.engine.gl.ALWAYS);\n    this.engine.gl.drawArrays(this.engine.gl.TRIANGLES, 0, this.vertexPosBuf.numItems);\n    this.engine.gl.depthFunc(this.engine.gl.LESS);\n\n    this.engine.renderManager.mvPopMatrix();\n\n    // Draw Speech\n    if (this.enableSpeech) {\n      this.engine.renderManager.mvPushMatrix();\n\n      // Undo rotation so that character plane is normal to LOS\n      translate(\n        this.engine.renderManager.uModelMat,\n        this.engine.renderManager.uModelMat,\n        (this.drawOffset[this.engine.renderManager.camera.cameraDir] ?? this.drawOffset['N']).toArray()\n      );\n      translate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, this.pos.toArray());\n      rotate(\n        this.engine.renderManager.uModelMat,\n        this.engine.renderManager.uModelMat,\n        degToRad(this.engine.renderManager.camera.cameraAngle * this.engine.renderManager.camera.cameraVector.z),\n        [0, 0, -1]\n      );\n\n      // Bind texture for speech bubble\n      this.engine.renderManager.bindBuffer(this.speechVerBuf, this.engine.renderManager.shaderProgram.aVertexPosition);\n      this.engine.renderManager.bindBuffer(this.speechTexBuf, this.engine.renderManager.shaderProgram.aTextureCoord);\n      this.speech.attach();\n\n      // Draw Speech bubble\n      this.engine.renderManager.shaderProgram.setMatrixUniforms({});\n      this.engine.gl.depthFunc(this.engine.gl.ALWAYS);\n      this.engine.gl.drawArrays(this.engine.gl.TRIANGLES, 0, this.speechVerBuf.numItems);\n      this.engine.gl.depthFunc(this.engine.gl.LESS);\n\n      this.engine.renderManager.mvPopMatrix();\n    }\n  }\n\n  /**\n   * Return id for picking\n   * @returns\n   */\n  getPickingId() {\n    const id = [\n      ((this.objId >> 0) & 0xff) / 0xff,\n      ((this.objId >> 8) & 0xff) / 0xff,\n      ((this.objId >> 16) & 0xff) / 0xff,\n      ((this.objId >> 24) & 0xff) / 0xff,\n    ];\n    return id;\n  }\n\n  /**\n   * Set Frame\n   * @param {number} frame\n   */\n  setFrame(frame) {\n    this.animFrame = frame;\n    this.engine.renderManager.updateBuffer(this.vertexTexBuf, this.getTexCoords());\n  }\n\n  /**\n   * Set Facing\n   * @param {string} facing\n   */\n  setFacing(facing) {\n    if (facing) this.facing = facing;\n    this.setFrame(this.animFrame);\n  }\n\n  /**\n   * Add Action to Queue\n   * @param {*} action\n   */\n  async addAction(action) {\n    action = await Promise.resolve(action);\n    if (this.actionDict[action.id]) this.removeAction(action.id);\n    this.actionDict[action.id] = action;\n    this.actionList.push(action);\n  }\n\n  /**\n   * Remove Action\n   * @param {string} id\n   */\n  removeAction(id) {\n    this.actionList = this.actionList.filter((action) => action.id !== id);\n    delete this.actionDict[id];\n  }\n\n  /**\n   * Remove all actions\n   */\n  removeAllActions() {\n    this.actionList = [];\n    this.actionDict = {};\n  }\n\n  /**\n   * Tick Outer Wrapper - represents a logical cycle / step - runs the action queue & sprite actions\n   * @param {int} time\n   * @returns\n   */\n  tickOuter(time) {\n    if (!this.loaded) return;\n    // Sort activities by increasing startTime, then by id\n    this.actionList.sort((a, b) => {\n      let dt = a.startTime - b.startTime;\n      if (!dt) return dt;\n      return a.id > b.id ? 1 : -1;\n    });\n    // Run & Queue for Removal when complete\n    let toRemove = [];\n    this.actionList.forEach((action) => {\n      if (!action.loaded || action.startTime > time) return;\n      try {\n        if (action.tick(time)) {\n          toRemove.push(action); // remove from backlog\n          action.onComplete(); // call completion handler\n        }\n      } catch (e) {\n        console.error(e);\n        toRemove.push(action);\n      }\n    });\n    // clear completed activities\n    toRemove.forEach((action) => this.removeAction(action.id));\n    // tick\n    if (this.tick) this.tick(time);\n  }\n\n  /**\n   * Hook for sprite implementations\n   */\n  init() {}\n\n  /**\n   * load from json specification\n   * @param {string} url\n   */\n  async loadRemote(url) {\n    let response = await fetch(url);\n    if (!response.ok) {\n      throw new Error();\n    }\n    this.processJson(response.json());\n  }\n\n  /**\n   * process json object\n   * @param {*} json\n   */\n  processJson(json) {\n    // TODO -- process json details\n    this.update(json);\n  }\n\n  /**\n   * Output Dialogue to the HUD\n   * @param {string} text\n   * @param {boolean} showBubble\n   * @param {*} dialogue\n   */\n  speak(text, showBubble = false, dialogue = {}) {\n    if (!text && this.speech.clearHud) this.speech.clearHud();\n    else {\n      // speech tts output\n      if (dialogue.speechOutput) {\n        this.speechSynthesis(text);\n        dialogue.speechOutput = false;\n      }\n\n      // dialogue box\n      this.textbox = this.engine.hud.scrollText(this.id + ':> ' + text, true, {\n        portrait: this.portrait ?? false,\n      });\n\n      // speech bubble?\n      if (showBubble && this.speech) {\n        this.speech.scrollText(text, false, {\n          portrait: this.portrait ?? false,\n        });\n        this.speech.loadImage();\n      }\n    }\n  }\n\n  /**\n   * Text to Speech output\n   * @param {string} text\n   * @param {SpeechSynthesisVoice} voice\n   * @param {string} lang\n   * @param {number} rate\n   * @param {number} volume\n   * @param {number} pitch\n   */\n  speechSynthesis(text, voice = null, lang = 'en', rate = null, volume = null, pitch = null) {\n    let speech = this.voice;\n    let voices = window.speechSynthesis.getVoices() ?? [];\n\n    // set voice\n    speech.voice = this.gender ? (this.gender == 'male' ? voices[7] : voices[28]) : voices[0];\n    if (rate) speech.rate = rate;\n    if (volume) speech.volume = volume;\n    if (pitch) speech.pitch = pitch;\n    speech.text = text;\n    speech.lang = lang;\n\n    // speak\n    window.speechSynthesis.speak(speech);\n  }\n\n  /**\n   * handles interaction -- default (should be overridden in definition)\n   * @param {*} sprite sprite which triggered interaction\n   * @param {*} finish callback to call on completion\n   * @returns\n   */\n  async interact(sprite, finish) {\n    let ret = null;\n    // React based on internal state\n    switch (this.state) {\n      default:\n        break;\n    }\n    // If completion handler passed through - call it when done\n    if (finish) finish(true);\n    return ret;\n  }\n\n  /**\n   * Set Facing\n   * @param {string} facing\n   * @param {boolean} override\n   * @returns\n   */\n  faceDir(facing, override = false) {\n    if ((!override && this.facing == facing) || facing === Direction.None) return null;\n    return new ActionLoader(this.engine, 'face', [facing], this);\n  }\n\n  /**\n   * set message (for chat bubble above objects/sprites)\n   * @param {string} greeting\n   * @returns\n   */\n  setGreeting(greeting) {\n    if (this.speech.clearHud) {\n      this.speech.clearHud();\n    }\n    this.speech.writeText(greeting);\n    this.speech.loadImage();\n    return new ActionLoader(this.engine, 'greeting', [greeting, { autoclose: true }], this);\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Vector } from '@Engine/utils/math/vector.jsx';\nimport Avatar from '@Engine/core/scene/avatar.jsx';\n\nexport default class DynamicAvatar extends Avatar {\n  constructor(engine, json, zip) {\n    // Initialize Sprite\n    super(engine);\n    this.json = json;\n    this.zip = zip;\n  }\n\n  // load in json properties to object\n  async loadJson() {\n    // extended properties\n    if (this.json.extends) {\n      await Promise.all(\n        this.json.extends.map(async (file) => {\n          let stringD = JSON.parse(await this.zip.file('sprites/' + file + '.json').async('string'));\n          Object.assign(this.json, stringD);\n        })\n      );\n      // unset\n      this.json.extends = null;\n    }\n    // core properties\n    this.update(this.json);\n    this.src = this.json.src;\n    this.portraitSrc = this.json.portraitSrc;\n    this.sheetSize = this.json.sheetSize;\n    this.tileSize = this.json.tileSize;\n    this.state = this.json.state ?? 'intro';\n    // Frames\n    this.frames = this.json.frames;\n    // Offsets\n    this.hotspotOffset = new Vector(...this.json.hotspotOffset);\n    this.drawOffset = {};\n    Object.keys(this.json.drawOffset).forEach((offset) => {\n      this.drawOffset[offset] = new Vector(...this.json.drawOffset[offset]);\n    });\n    // Should the camera follow the avatar?\n    this.bindCamera = this.json.bindCamera;\n    this.enableSpeech = this.json.enableSpeech; // speech bubble\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Vector, set } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\nimport { ActionLoader } from '@Engine/utils/loaders/index.jsx';\nimport { EventLoader } from '@Engine/utils/loaders/index.jsx';\nimport Sprite from '@Engine/core/scene/sprite.jsx';\n\nexport default class Avatar extends Sprite {\n  /**\n   * Special class of Sprite which is controlled by the player\n   * @param {*} engine\n   */\n  constructor(engine) {\n    // Initialize Sprite\n    super(engine);\n    this.handleWalk = this.handleWalk.bind(this);\n    this.isLit = true;\n  }\n\n  /**\n   * Initialization Hook\n   */\n  init() {\n    console.log({msg: '- avatar hook', id: this.id, pos: this.pos, avatar: this});\n  }\n\n  /**\n   * Tick - Logical Step / Update\n   * @param {number} time\n   */\n  tick(time) {\n    // ONLY ONE MOVE AT A TIME\n    if (!this.actionList.length) {\n      let ret = this.checkInput();\n      if (ret) {\n        this.addAction(ret).then(() => {});\n      }\n    }\n    if (this.bindCamera) set(this.pos, this.engine.renderManager.camera.cameraPosition);\n  }\n  /**\n   * open menu\n   * @param {*} menuConfig\n   * @param {*} defaultMenus\n   * @returns\n   */\n  openMenu(menuConfig = {}, defaultMenus = []) {\n    return new ActionLoader(this.engine, 'prompt', [menuConfig, defaultMenus, false, { autoclose: false }], this);\n  }\n\n  /**\n   * Reads for Input to Respond to\n   * @returns\n   */\n  checkInput() {\n    // Action Keys\n    let key = this.engine.keyboard.lastPressedCode();\n    let touchmap = this.engine.gamepad.checkInput();\n    let from = this.engine.renderManager.camera.cameraVector;\n    let to = this.engine.renderManager.camera.cameraVector;\n    // Keyboard\n    switch (key) {\n      // Bind Camera\n      case 'b':\n        this.bindCamera = true;\n        break;\n      // Fixed Camera\n      case 'c':\n        this.bindCamera = false;\n        break;\n      // adjust Camera\n      case 'x':\n        from = this.engine.renderManager.camera.cameraVector;\n        console.log(this.engine.renderManager.camera);\n        to = this.engine.renderManager.camera.cameraVector.add(new Vector(...[0, 0, 1]));\n        to.z = to.z % 9 ?? 8; // locked to every 45 degrees\n        if (to.z === 0 && from.z === 8) {\n          from.z = 0;\n        }\n        if (to.z === 0 && from.z === 7) {\n          to.z = 8;\n        }\n        this.zone.world.addEvent(\n          new EventLoader(this.engine, 'camera', ['pan', { from, to, duration: 1 }], this.zone.world, () => {\n            // let ret = this.faceDir(Direction.rotate(this.facing), true);\n            // this.addAction(ret);\n          })\n        );\n        break;\n      // adjust Camera\n      case 'z':\n        from = this.engine.renderManager.camera.cameraVector;\n        to = this.engine.renderManager.camera.cameraVector.sub(new Vector(...[0, 0, 1]));\n        to.z = to.z % 9; // lock to every 45 degrees\n        if (to.z === 0 && from.z === 8) {\n          from.z = 0;\n        }\n        if (to.z === 0 && from.z === 7) {\n          to.z = 8;\n        }\n        this.zone.world.addEvent(\n          new EventLoader(this.engine, 'camera', ['pan', { from, to, duration: 1 }], this.zone.world, () => {\n            // let ret = this.faceDir(Direction.rotate(this.facing), true);\n            // this.addAction(ret);\n          })\n        );\n        break;\n      // show menu\n      case 'm':\n        return this.openMenu(\n          {\n            main: {\n              text: 'Close Menu',\n              x: 100,\n              y: 100,\n              w: 150,\n              h: 75,\n              colours: {\n                top: '#333',\n                bottom: '#777',\n                background: '#999',\n              },\n              trigger: (menu) => {\n                menu.completed = true;\n              },\n            },\n          },\n          ['main']\n        );\n        break;\n      // Interact with tile\n      case 'k':\n      case 'Enter':\n        return new ActionLoader(this.engine, 'interact', [this.pos.toArray(), this.facing, this.zone.world], this);\n      // Help Dialogue\n      case 'h':\n        return new ActionLoader(this.engine, 'dialogue', ['Welcome! You pressed help! Press Escape to close', false, { autoclose: true }], this);\n      // Chat Message\n      case ' ':\n        return new ActionLoader(this.engine, 'chat', ['>:', true, { autoclose: false }], this);\n      // Clear Speech\n      case 'Escape':\n        this.speech.clearHud();\n        break;\n    }\n    // Gamepad controls - TODO\n    if (this.engine.gamepad.keyPressed('a')) {\n      // select\n      return new ActionLoader(this.engine, 'interact', [this.pos.toArray(), this.facing, this.zone.world], this);\n    }\n    // camera\n    if (touchmap['x'] === 1) {\n      this.bindCamera = !this.bindCamera;\n    }\n    // menu\n    if (touchmap['y'] === 1) {\n      return this.openMenu(\n        {\n          main: {\n            text: 'Close Menu',\n            x: 100,\n            y: 100,\n            w: 150,\n            h: 75,\n            colours: {\n              top: '#333',\n              bottom: '#777',\n              background: '#999',\n            },\n            trigger: (menu) => {\n              menu.completed = true;\n            },\n          },\n        },\n        ['main']\n      );\n    }\n\n    // Walk\n    return this.handleWalk(this.engine.keyboard.lastPressedKey(), touchmap);\n  }\n\n  /**\n   * Handle the walking keys (wasd + extras (optonal))\n   * @param {*} key\n   * @param {*} touchmap\n   * @returns\n   */\n  handleWalk(key, touchmap) {\n    let moveTime = 600; // move time in ms\n    let facing = Direction.None;\n    // Read Key presses\n    switch (key) {\n      // Movement\n      case 'w':\n        facing = Direction.Up;\n        break;\n      case 'y':\n        this.pos.z++;\n        break;\n      case 'f':\n        this.pos.z--;\n        break;\n      case 's':\n        facing = Direction.Down;\n        break;\n      case 'a':\n        facing = Direction.Left;\n        break;\n      case 'd':\n        facing = Direction.Right;\n        break;\n      // Patrol\n      case 'u':\n        return new ActionLoader(this.engine, 'dance', [300, this.zone], this);\n      // Patrol\n      case 'p':\n        return new ActionLoader(this.engine, 'patrol', [this.pos.toArray(), new Vector(8, 13, this.pos.z).toArray(), 600, this.zone], this);\n      // Run\n      case 'r':\n        return new ActionLoader(this.engine, 'patrol', [this.pos.toArray(), new Vector(8, 13, this.pos.z).toArray(), 200, this.zone], this);\n      case 't':        \n        this.engine.renderManager.startTransition({ duration: 2 });\n        return;\n    }\n\n    // Mobile Gamepad\n    // X axis - joystick\n    if (touchmap['x-dir'] === 1) {\n      // right\n      facing = Direction.Right;\n    }\n    if (touchmap['x-dir'] === -1) {\n      // left\n      facing = Direction.Left;\n    }\n    // Y axis - joystick\n    if (touchmap['y-dir'] === 1) {\n      // down\n      facing = Direction.Down;\n    }\n    if (touchmap['y-dir'] === -1) {\n      // up\n      facing = Direction.Up;\n    }\n\n    // Running?\n    if (this.engine.keyboard.shift || this.engine.gamepad.keyPressed('y')) {\n      moveTime = 200;\n    } else {\n      moveTime = 600;\n    }\n    // Check Direction\n    if (this.facing !== facing) {\n      return this.faceDir(facing);\n    }\n    // Determine Location\n    let from = this.pos;\n    let dp = Direction.toOffset(facing);\n    let to = new Vector(...[Math.round(from.x + dp[0]), Math.round(from.y + dp[1]), 0]);\n    // Check zones if changing\n    if (!this.zone.isInZone(to.x, to.y)) {\n      let z = this.zone.world.zoneContaining(to.x, to.y);\n      if (!z || !z.loaded || !z.isWalkable(to.x, to.y, Direction.reverse(facing))) {\n        return this.faceDir(facing);\n      }\n      return new ActionLoader(this.engine, 'changezone', [this.zone.id, this.pos.toArray(), z.id, to.toArray(), moveTime], this);\n    }\n    // Check Walking\n    if (!this.zone.isWalkable(to.x, to.y, Direction.reverse(facing))) {\n      return this.faceDir(facing);\n    }\n    return new ActionLoader(this.engine, 'move', [this.pos.toArray(), to.toArray(), moveTime, this.zone], this);\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Vector } from '@Engine/utils/math/vector.jsx';\nimport { ActionLoader } from '@Engine/utils/loaders/index.jsx';\nimport { mergeDeep } from '@Engine/utils/enums.jsx';\nimport Sprite from '@Engine/core/scene/sprite.jsx';\nimport PixosLuaInterpreter from '@Engine/scripting/PixosLuaInterpreter.jsx';\n\nexport default class DynamicSprite extends Sprite {\n  constructor(engine, json, zip) {\n    // Initialize Sprite\n    super(engine);\n    this.engine = engine;\n    this.json = json;\n    this.zip = zip;\n    // store json config\n    this.ActionLoader = ActionLoader;\n  }\n\n  // load in json properties to object\n  async loadJson() {\n    // extended properties\n    if (this.json.extends) {\n      await Promise.all(\n        this.json.extends.map(async (file) => {\n          let stringD = JSON.parse(await this.zip.file('sprites/' + file + '.json').async('string'));\n          console.log({ old: this.json, new: stringD });\n          this.json = mergeDeep(this.json, stringD);\n        })\n      );\n      // unset\n      this.json.extends = null;\n    }\n    // core properties\n    this.update(this.json);\n    this.src = this.json.src;\n    this.portraitSrc = this.json.portraitSrc;\n    this.sheetSize = this.json.sheetSize;\n    this.tileSize = this.json.tileSize;\n    this.isLit = this.json.isLit;\n    this.direction = this.json.direction;\n    this.attenuation = this.json.attenuation;\n    this.density = this.json.density;\n    this.lightColor = this.json.lightColor;\n    this.state = this.json.state ?? 'intro';\n    // Frames\n    this.frames = this.json.frames;\n    // Offsets\n    this.drawOffset = {};\n    Object.keys(this.json.drawOffset).forEach((offset) => {\n      this.drawOffset[offset] = new Vector(...this.json.drawOffset[offset]);\n    });\n    this.hotspotOffset = new Vector(...this.json.hotspotOffset);\n    // Should the camera follow the avatar?\n    this.bindCamera = this.json.bindCamera;\n    this.enableSpeech = this.json.enableSpeech; // speech bubble\n  }\n\n  // Interaction\n  async interact(sprite, finish) {\n    let ret = null;\n    let states = this.json.states ?? [];\n    \n    // build state machine\n    let stateMachine = {};\n    await Promise.all(\n      states.map(async (state) => {\n        let actions = await this.loadActionDynamically(state, sprite, finish); // load actions dynamically\n\n        for (const action of actions) {\n          console.log({ msg: 'loading action', action });\n        }\n        console.log({ msg: 'switching state', state: state.name });\n        stateMachine[state.name] = {next:state.next, actions};\n      })\n    );\n    console.log({ msg: 'loading stateMachine', stateMachine });\n\n    // run state actions\n    ret = [];\n    for(const action of stateMachine[this.state].actions){\n      ret.push(await action(this, sprite, finish));\n    }\n\n    // update state\n    this.state = stateMachine[this.state].next;\n\n    // If completion handler passed through - call it when done\n    if (finish) finish(false);\n\n    return ret;\n  }\n\n  // load actions based on provided state and load lua callbacks as needed\n  async loadActionDynamically(state, sprite, finish) {\n    console.log({ sprite, state });\n    return await Promise.all(\n      // load actions based on state\n      state.actions.map(async (action) => {\n        console.log({ msg: 'preping actions', action });\n        let luaCallback =\n          action.callback && action.callback !== ''\n            ? await this.zip.file('callbacks/' + action.callback + '.lua').async('string')\n            : 'print(\"no callback\")';\n\n        // lua script callback is injected via function wrapper\n        let callback = () => {\n          console.log('calling callback');\n          let interpreter = new PixosLuaInterpreter(this.engine);\n          interpreter.setScope({ _this: this, subject: sprite, finish: finish });\n          interpreter.initLibrary();\n          interpreter.run('print(\"hello world lua - sprite callback\")');\n          return interpreter.run(luaCallback);\n        };\n\n        // supported action types\n        switch (action.type) {\n          case 'dialogue':\n            console.log({ _this: this, finish });\n            return async (_this, sprite, finish) => {\n              console.log({ msg: 'dialogue' });\n              let actionToLoad = new _this.ActionLoader(\n                _this.engine,\n                'dialogue',\n                [JSON.stringify(action.dialogue), false, { autoclose: true, onClose: () => finish(true) }],\n                _this,\n                callback\n              );\n              console.log({ msg: 'action to load', actionToLoad });\n              _this.addAction(actionToLoad);\n            };\n          case 'animate':\n            console.log({ _this: this, finish });\n            return async (_this, sprite, finish) => {\n              console.log({ msg: 'animate', _this, sprite, finish, action });\n              let actionToLoad = new _this.ActionLoader(_this.engine, 'animate', [...action.animate, () => finish(true)], _this, callback);\n              console.log({ msg: 'action to load', actionToLoad });\n              _this.addAction(actionToLoad);\n            };\n          default:\n            return async (_this, sprite, _finish) => {\n              console.log({ msg: 'no action found', _this, sprite, _finish });\n            };\n        }\n      })\n    );\n  }\n\n  // todo -- add step handler dynamically (onStep)\n  // Interaction\n  async onStep(_this, sprite) {\n    if (!this.stepTrigger) {\n      return;\n    }\n\n    // lua scripting\n    try {\n      console.log({ trigger: this.stepTrigger });\n      let file = this.zip.file(`triggers/${this.stepTrigger}.lua`);\n      if (!file) throw new Error('No Lua Script Found');\n\n      let luaScript = await file.async('string');\n      console.log({ msg: 'trigger lua statement', luaScript });\n\n      let interpreter = new PixosLuaInterpreter(this.engine);\n      interpreter.setScope({ _this: this, subject: sprite });\n      interpreter.initLibrary();\n      interpreter.run('print(\"hello world lua\")');\n\n      return await interpreter.run(luaScript);\n    } catch (e) {\n      console.log({ msg: 'no lua script found', e });\n    }\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport DynamicSprite from '@Engine/dynamic/sprite.jsx';\n\nexport default class DynamicAnimatedSprite extends DynamicSprite {\n  constructor(engine, json, zip) {\n    // Initialize Sprite\n    super(engine, json, zip);\n  }\n\n  // setup framerate\n  init() {\n    if (this.json.randomJitter) {\n      this.triggerTime = this.json.triggerTime + Math.floor(Math.random() * this.json.randomJitter);\n    } else {\n      this.triggerTime = this.json.triggerTime;\n    }\n  }\n\n  // animate sprite on ticks\n  tick(time) {\n    if (this.lastTime == 0) {\n      this.lastTime = time;\n      return;\n    }\n    // wait enough time\n    this.accumTime += time - this.lastTime;\n    if (this.accumTime < this.frameTime || (this.animFrame == 0 && this.accumTime < this.triggerTime)) return;\n    // reset animation\n    if (this.animFrame == 5) {\n      this.setFrame(0);\n      this.triggerTime = 1000 + Math.floor(Math.random() * 4000);\n    } else {\n      this.setFrame(this.animFrame + 1);\n      this.accumTime = 0;\n      this.lastTime = time;\n    }\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { translate, rotate } from '@Engine/utils/math/matrix4.jsx';\nimport DynamicSprite from '@Engine/dynamic/sprite.jsx';\nimport { degToRad } from '../utils/math/vector.jsx';\n\nexport default class DynamicAnimatedTile extends DynamicSprite {\n  constructor(engine, json, zip) {\n    // Initialize Sprite\n    super(engine, json, zip);\n  }\n\n  // setup framerate\n  init() {\n    if (this.json.randomJitter) {\n      this.triggerTime = this.json.triggerTime + Math.floor(Math.random() * this.json.randomJitter);\n    } else {\n      this.triggerTime = this.json.triggerTime;\n    }\n  }\n\n  // Update each frame\n  tick(time) {\n    if (this.lastTime == 0) {\n      this.lastTime = time;\n      return;\n    }\n    // wait enough time\n    this.accumTime += time - this.lastTime;\n    if (this.accumTime < this.frameTime || (this.animFrame == 0 && this.accumTime < this.triggerTime)) return;\n    // reset animation\n    if (this.animFrame == 4) {\n      this.setFrame(0);\n      this.triggerTime = 2000 + Math.floor(Math.random() * 4000);\n    } else {\n      this.setFrame(this.animFrame + 1);\n      this.accumTime = 0;\n      this.lastTime = time;\n    }\n  }\n\n  // Draw Frame\n  draw(engine) {\n    if (!this.loaded) return;\n    engine.renderManager.mvPushMatrix();\n    translate(engine.renderManager.uModelMat, engine.renderManager.uModelMat, this.pos.toArray());\n    // Lie flat on the ground\n    translate(\n      engine.renderManager.uModelMat,\n      engine.renderManager.uModelMat,\n      (this.drawOffset[engine.renderManager.camera.cameraDir] ?? this.drawOffset['N']).toArray()\n    );\n    rotate(engine.renderManager.uModelMat, engine.renderManager.uModelMat, degToRad(90), [1, 0, 0]);\n    engine.renderManager.bindBuffer(this.vertexPosBuf, engine.renderManager.shaderProgram.aVertexPosition);\n    engine.renderManager.bindBuffer(this.vertexTexBuf, engine.renderManager.shaderProgram.aTextureCoord);\n    this.texture.attach();\n    // Draw\n    engine.renderManager.effectPrograms['picker'].setMatrixUniforms({ id: this.getPickingId() });\n    engine.renderManager.shaderProgram.setMatrixUniforms({});\n    engine.gl.drawArrays(engine.gl.TRIANGLES, 0, this.vertexPosBuf.numItems);\n    engine.renderManager.mvPopMatrix();\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport DynamicAvatar from '@Engine/dynamic/avatar.jsx';\nimport DynamicSprite from '@Engine/dynamic/sprite.jsx';\nimport DynamicAnimatedSprite from '@Engine/dynamic/animatedSprite.jsx';\nimport DynamicAnimatedTile from '@Engine/dynamic/animatedTile.jsx';\n\n// Helps Loads New Sprite Instance\nexport class SpriteLoader {\n  constructor(engine) {\n    this.engine = engine;\n    this.definitions = [];\n    this.instances = {};\n  }\n\n  // Load Sprite\n  async loadFromZip(zip, type, spritzName) {\n    console.log('loading sprite from zip: ' + type + ' for ' + spritzName);\n    let afterLoad = arguments[3];\n    let runConfigure = arguments[4];\n    if (!this.instances[type]) {\n      this.instances[type] = [];\n    }\n    // New Instance\n    let json = '';\n    try {\n      json = JSON.parse(await zip.file(`sprites/${type}.json`).async('string'));\n    } catch (e) {\n      console.error(e);\n    }\n    let instance = {};\n    switch (json.type) {\n      case 'animated-sprite':\n        instance = new DynamicAnimatedSprite(this.engine, json, zip);\n        await instance.loadJson();\n        break;\n      case 'animated-tile':\n        instance = new DynamicAnimatedTile(this.engine, json, zip);\n        await instance.loadJson();\n        break;\n      case 'avatar':\n        instance = new DynamicAvatar(this.engine, json, zip);\n        await instance.loadJson();\n        break;\n      default:\n        instance = new DynamicSprite(this.engine, json, zip);\n        await instance.loadJson();\n        break;\n    }\n    instance.templateLoaded = true;\n    // Update Existing\n    this.instances[type].forEach(async function (instance) {\n      if (instance.afterLoad) await instance.afterLoad(instance.instance);\n    });\n    // Configure if needed\n    if (runConfigure) await runConfigure(instance);\n    // once loaded\n    if (afterLoad) {\n      if (instance.templateLoaded) await afterLoad(instance);\n      else this.instances[type].push({ instance, afterLoad });\n    }\n\n    return instance;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { Vector, set } from '@Engine/utils/math/vector.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\nimport ActionQueue from '../queue/index.jsx';\nimport { ActionLoader } from '@Engine/utils/loaders/index.jsx';\nimport { rotate, translate } from '@Engine/utils/math/matrix4.jsx';\nimport { _buildBuffer } from '@Engine/utils/obj/utils.js';\nimport Loadable from '@Engine/core/queue/loadable.jsx';\nimport { degToRad } from '../../utils/math/vector.jsx';\nexport default class ModelObject extends Loadable {\n  /**\n   * 3D Model Objects\n   * @param {*} engine\n   */\n  constructor(engine) {\n    super();\n    this.objId = Math.floor(Math.random() * 1000000);\n    this.engine = engine;\n    this.templateLoaded = false;\n    this.drawOffset = new Vector(0, 0, 0);\n    this.hotspotOffset = new Vector(0, 0, 0);\n    this.pos = new Vector(0, 0, 0);\n    this.size = new Vector(1, 1, 1);\n    this.scale = new Vector(1, 1, 1);\n    this.rotation = new Vector(0, 0, 0);\n    this.facing = Direction.Right;\n    this.actionDict = {};\n    this.actionList = [];\n    this.speech = {};\n    this.portrait = null;\n    this.isLit = true;\n    this.lightColor = [1.0, 1.0, 1.0];\n    this.lightIndex = null;\n    this.onLoadActions = new ActionQueue();\n    this.inventory = [];\n    this.onTilesetOrTextureLoaded = this.onTilesetOrTextureLoaded.bind(this);\n    this.blocking = true; // default - cannot passthrough\n    this.override = false;\n  }\n\n  /**\n   * Load Object and Materials\n   * @param {*} instanceData\n   * @returns\n   */\n  onLoad(instanceData) {\n    if (this.loaded) return;\n\n    // Zone Information\n    this.zone = instanceData.zone;\n    if (instanceData.id) this.id = instanceData.id;\n    if (instanceData.pos) this.pos = instanceData.pos;\n    if (instanceData.isLit) this.isLit = instanceData.isLit;\n    if (instanceData.lightColor) this.lightColor = instanceData.lightColor;\n    if (instanceData.attenuation) this.attenuation = instanceData.attenuation;\n    if (instanceData.direction) this.direction = instanceData.direction;\n    if (instanceData.rotation) this.rotation = instanceData.rotation;\n    if (instanceData.facing && instanceData.facing !== 0) this.facing = instanceData.facing;\n    if (instanceData.zones && instanceData.zones !== null) this.zones = instanceData.zones;\n    let mesh = instanceData.mesh;\n\n    // Mesh bounds\n    let maxX,\n      minX = null;\n    let maxY,\n      minY = null;\n    let maxZ,\n      minZ = null;\n    for (let i = 0; i < mesh.vertices.length; i = i + 3) {\n      let v = mesh.vertices.slice(i, i + 3);\n      // calculate size\n      if (maxX == null || v[0] > maxX) maxX = v[0];\n      if (minX == null || v[0] < minX) minX = v[0];\n      if (maxY == null || v[1] > maxY) maxY = v[1];\n      if (minY == null || v[1] < minY) minY = v[1];\n      if (maxZ == null || v[2] > maxZ) maxZ = v[2];\n      if (minZ == null || v[2] < minZ) minZ = v[2];\n    }\n\n    // normalize x, y to fit in tile (todo)\n    let size = new Vector(maxX - minX, maxZ - minZ, maxY - minY);\n    this.size = size;\n    this.scale = new Vector(1 / Math.max(size.x, size.z), 1 / Math.max(size.x, size.z), 1 / Math.max(size.x, size.z));\n    if (instanceData.useScale) this.scale = instanceData.useScale;\n    this.drawOffset = new Vector(0.5, 0.5, 0);\n\n    // mesh buffers\n    this.mesh = mesh;\n    this.engine.resourceManager.objLoader.initMeshBuffers(this.engine.gl, this.mesh);\n\n    // Speech bubble\n    if (this.enableSpeech) {\n      this.speech = this.engine.resourceManager.loadSpeech(this.id, this.engine.mipmap);\n      this.speech.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n      this.speechTexBuf = this.engine.renderManager.createBuffer(this.getSpeechBubbleTexture(), this.engine.gl.DYNAMIC_DRAW, 2);\n    }\n\n    // load Portrait\n    if (this.portraitSrc) {\n      this.portrait = this.engine.resourceManager.loadTexture(this.portraitSrc);\n      this.portrait.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n    }\n\n    // lighting?\n    if (this.isLit) {\n      this.lightIndex = this.engine.renderManager.lightManager.addLight(this.id, this.pos.toArray(), this.lightColor, [0.01,0.01,0.01]);\n    }\n\n    //\n    this.zone.tileset.runWhenDefinitionLoaded(this.onTilesetDefinitionLoaded.bind(this));\n  }\n\n  /**\n   * Load Object and Materials\n   * @param {*} instanceData\n   * @param {*} zip\n   * @returns\n   */\n  async onLoadFromZip(instanceData, zip) {\n    if (this.loaded) return;\n\n    // Zone Information\n    this.zone = instanceData.zone;\n    if (instanceData.id) this.id = instanceData.id;\n    if (instanceData.pos) this.pos = instanceData.pos;\n    if (instanceData.isLit) this.isLit = instanceData.isLit;\n    if (instanceData.lightColor) this.lightColor = instanceData.lightColor;\n    if (instanceData.attenuation) this.attenuation = instanceData.attenuation;\n    if (instanceData.density) this.density = instanceData.density;\n    if (instanceData.scatteringCoefficients) this.scatteringCoefficients = instanceData.scatteringCoefficients;\n    if (instanceData.direction) this.direction = instanceData.direction;\n    if (instanceData.rotation) this.rotation = instanceData.rotation;\n    if (instanceData.facing && instanceData.facing !== 0) this.facing = instanceData.facing;\n    if (instanceData.zones && instanceData.zones !== null) this.zones = instanceData.zones;\n    let mesh = instanceData.mesh;\n\n    // Mesh bounds\n    let maxX,\n      minX = null;\n    let maxY,\n      minY = null;\n    let maxZ,\n      minZ = null;\n    for (let i = 0; i < mesh.vertices.length; i = i + 3) {\n      let v = mesh.vertices.slice(i, i + 3);\n      // calculate size\n      if (maxX == null || v[0] > maxX) maxX = v[0];\n      if (minX == null || v[0] < minX) minX = v[0];\n      if (maxY == null || v[1] > maxY) maxY = v[1];\n      if (minY == null || v[1] < minY) minY = v[1];\n      if (maxZ == null || v[2] > maxZ) maxZ = v[2];\n      if (minZ == null || v[2] < minZ) minZ = v[2];\n    }\n\n    // normalize x, y to fit in tile (todo)\n    let size = new Vector(maxX - minX, maxZ - minZ, maxY - minY);\n    this.size = size;\n    this.scale = new Vector(1 / Math.max(size.x, size.z), 1 / Math.max(size.x, size.z), 1 / Math.max(size.x, size.z));\n    if (instanceData.useScale) this.scale = instanceData.useScale;\n    this.drawOffset = new Vector(0.5, 0.5, 0);\n\n    // mesh buffers\n    this.mesh = mesh;\n    this.engine.resourceManager.objLoader.initMeshBuffers(this.engine.gl, this.mesh);\n\n    // Speech bubble\n    if (this.enableSpeech) {\n      this.speech = this.engine.resourceManager.loadSpeech(this.id, this.engine.mipmap);\n      this.speech.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n      this.speechTexBuf = this.engine.renderManager.createBuffer(this.getSpeechBubbleTexture(), this.engine.gl.DYNAMIC_DRAW, 2);\n    }\n\n    // load Portrait\n    if (this.portraitSrc) {\n      this.portrait = await this.engine.resourceManager.loadTextureFromZip(this.portraitSrc, zip);\n      this.portrait.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n    }\n\n    // lighting?\n    if (this.isLit) {\n      this.lightIndex = this.engine.renderManager.lightManager.addLight(this.id, this.pos.toArray(), this.lightColor, this.attenuation, this.direction, this.density, this.scatteringCoefficients, true);\n    }\n\n    //\n    this.zone.tileset.runWhenDefinitionLoaded(this.onTilesetDefinitionLoaded.bind(this));\n  }\n\n  /**\n   * Definition Loaded\n   */\n  onTilesetDefinitionLoaded() {\n    this.zone.tileset.runWhenLoaded(this.onTilesetOrTextureLoaded.bind(this));\n  }\n\n  /**\n   * After Tileset / Texture Loaded\n   * @returns\n   */\n  onTilesetOrTextureLoaded() {\n    if (!this || this.loaded || (this.enableSpeech && this.speech && !this.speech.loaded) || (this.portrait && !this.portrait.loaded)) return;\n\n    this.init(); // Hook for sprite implementations\n    if (this.enableSpeech && this.speech) {\n      if (this.speech.clearHud) {\n        this.speech.clearHud();\n        this.speech.writeText(this.id);\n        this.speech.loadImage();\n      }\n    }\n    this.loaded = true;\n    this.onLoadActions.run();\n  }\n\n  /**\n   * Speech Area texture\n   * @returns\n   */\n  getSpeechBubbleTexture() {\n    return [\n      [1.0, 1.0],\n      [0.0, 1.0],\n      [0.0, 0.0],\n      [1.0, 1.0],\n      [0.0, 0.0],\n      [1.0, 0.0],\n    ].flat(3);\n  }\n\n  /**\n   * speech bubble position\n   * @returns\n   */\n  getSpeechBubbleVertices() {\n    return [\n      new Vector(...[2, 0, 4]).toArray(),\n      new Vector(...[0, 0, 4]).toArray(),\n      new Vector(...[0, 0, 2]).toArray(),\n      new Vector(...[2, 0, 4]).toArray(),\n      new Vector(...[0, 0, 2]).toArray(),\n      new Vector(...[2, 0, 2]).toArray(),\n    ].flat(3);\n  }\n\n  /**\n   * bind texture\n   * @param {*} texture\n   */\n  attach(texture) {\n    let { gl } = this.engine;\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.uniform1i(this.engine.renderManager.shaderProgram.diffuseMapUniform, 0);\n  }\n\n  /**\n   * draw obj model with materials and textures (needs work)\n   */\n  drawTexturedObj() {\n    let { engine, mesh } = this;\n    // draw each piece of the object (per material)\n    if (mesh.indicesPerMaterial.length >= 1 && Object.keys(mesh.materialsByIndex).length > 0) {\n      mesh.indicesPerMaterial.forEach((x, i) => {\n        // vertices\n        engine.renderManager.bindBuffer(mesh.vertexBuffer, engine.renderManager.shaderProgram.aVertexPosition);\n        // texture\n        engine.renderManager.bindBuffer(mesh.textureBuffer, engine.renderManager.shaderProgram.aTextureCoord);\n        // normal\n        engine.renderManager.bindBuffer(mesh.normalBuffer, engine.renderManager.shaderProgram.aVertexNormal);\n        // Diffuse\n        engine.gl.uniform3fv(engine.renderManager.shaderProgram.uDiffuse, mesh.materialsByIndex[i].diffuse);\n        engine.gl.uniform1f(engine.renderManager.shaderProgram.uSpecularExponent, mesh.materialsByIndex[i].specularExponent);\n        // TODO -- Texture is not being displayed (needs fixing)\n        if (mesh.materialsByIndex[i]?.mapDiffuse?.glTexture) this.attach(mesh.materialsByIndex[i].mapDiffuse.glTexture);\n        // Specular\n        engine.gl.uniform3fv(engine.renderManager.shaderProgram.uSpecular, mesh.materialsByIndex[i].specular);\n        // Specular Exponent\n        engine.gl.uniform1f(engine.renderManager.shaderProgram.uSpecularExponent, mesh.materialsByIndex[i].specularExponent);\n        // indices\n        let bufferInfo = _buildBuffer(engine.gl, engine.gl.ELEMENT_ARRAY_BUFFER, x, 1);\n        engine.gl.bindBuffer(engine.gl.ELEMENT_ARRAY_BUFFER, bufferInfo);\n        \n        // picking id\n        engine.renderManager.effectPrograms['picker'].setMatrixUniforms({scale: this.scale, id: this.getPickingId()});\n        engine.renderManager.shaderProgram.setMatrixUniforms({scale: this.scale, sampler: 0.0 });\n        engine.gl.drawElements(engine.gl.TRIANGLES, bufferInfo.numItems, engine.gl.UNSIGNED_SHORT, 0);\n      });\n    } else {\n      // no materials\n      // vertices\n      engine.renderManager.bindBuffer(mesh.vertexBuffer, engine.renderManager.shaderProgram.aVertexPosition);\n      engine.renderManager.bindBuffer(mesh.normalBuffer, engine.renderManager.shaderProgram.aVertexNormal);\n      engine.renderManager.bindBuffer(mesh.textureBuffer, engine.renderManager.shaderProgram.aTextureCoord);\n      engine.gl.bindBuffer(engine.gl.ELEMENT_ARRAY_BUFFER, mesh.indexBuffer);\n      // Diffuse\n      engine.gl.uniform3fv(engine.renderManager.shaderProgram.uDiffuse, [0.6, 0.3, 0.6]);\n      // Specular\n      engine.gl.uniform3fv(engine.renderManager.shaderProgram.uSpecular, [0.1, 0.1, 0.2]);\n      // Specular Exponent\n      engine.gl.uniform1f(engine.renderManager.shaderProgram.uSpecularExponent, 2);\n      \n      engine.renderManager.effectPrograms['picker'].setMatrixUniforms({scale: this.scale, id: this.getPickingId()});\n      engine.renderManager.shaderProgram.setMatrixUniforms({scale: this.scale, sampler: 0.0});\n      engine.gl.drawElements(engine.gl.TRIANGLES, mesh.indexBuffer.numItems, engine.gl.UNSIGNED_SHORT, 0);\n    }\n  }\n\n  /**\n   * Return id for picking\n   * @returns \n   */\n  getPickingId(){\n    const id = [\n      ((this.objId >>  0) & 0xFF) / 0xFF,\n      ((this.objId >>  8) & 0xFF) / 0xFF,\n      ((this.objId >> 16) & 0xFF) / 0xFF,\n      ((this.objId >> 24) & 0xFF) / 0xFF,\n    ];\n    return id;\n  }\n\n  /**\n   * draw object with textures / materials\n   */\n  drawObj() {\n    let { engine, mesh } = this;\n    engine.gl.disableVertexAttribArray(engine.renderManager.shaderProgram.aTextureCoord);\n    engine.renderManager.bindBuffer(mesh.vertexBuffer, engine.renderManager.shaderProgram.aVertexPosition);\n    engine.renderManager.bindBuffer(mesh.normalBuffer, engine.renderManager.shaderProgram.aVertexNormal);\n    engine.gl.bindBuffer(engine.gl.ELEMENT_ARRAY_BUFFER, mesh.indexBuffer);\n\n    engine.renderManager.effectPrograms['picker'].setMatrixUniforms({scale: this.scale, id: this.getPickingId()});\n    engine.renderManager.shaderProgram.setMatrixUniforms({scale: this.scale, sampler: 1.0});\n    engine.gl.drawElements(engine.gl.TRIANGLES, mesh.indexBuffer.numItems, engine.gl.UNSIGNED_SHORT, 0);\n  }\n\n  /**\n   * Draw Object\n   * @returns\n   */\n  draw() {\n    if (!this.loaded) return;\n    let { engine, mesh } = this;\n    // setup obj attributes\n    engine.gl.enableVertexAttribArray(engine.renderManager.shaderProgram.aVertexNormal);\n    engine.gl.enableVertexAttribArray(engine.renderManager.shaderProgram.aTextureCoord);\n    // initialize buffers\n    engine.renderManager.mvPushMatrix();\n    // position object\n    translate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, this.drawOffset.toArray());\n    translate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, this.pos.toArray());\n    rotate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, degToRad(90), [1, 0, 0]);\n    // rotate object\n    if (this.rotation && this.rotation.toArray) {\n      let rotation = Math.max(...this.rotation.toArray());\n      if (rotation > 0)\n        rotate(this.engine.renderManager.uModelMat, this.engine.renderManager.uModelMat, degToRad(rotation), [\n          this.rotation.x / rotation,\n          this.rotation.y / rotation,\n          this.rotation.z / rotation,\n        ]);\n    }\n    // Draw Object\n    if (!mesh.textures.length) {\n      this.drawObj();\n    } else {\n      this.drawTexturedObj();\n    }\n    engine.renderManager.mvPopMatrix();\n    // clear obj rendering attributes\n    engine.gl.enableVertexAttribArray(engine.renderManager.shaderProgram.aTextureCoord);\n    engine.gl.disableVertexAttribArray(engine.renderManager.shaderProgram.aVertexNormal);\n  }\n\n  /**\n   * Set Facing\n   * @param {*} facing\n   */\n  setFacing(facing) {\n    if (facing) this.facing = facing;\n    this.rotation = Direction.objectSequence(facing);\n  }\n\n  /**\n   * Add Action to Queue\n   * @param {*} action\n   */\n  async addAction(action) {\n    action = await Promise.resolve(action);\n    if (this.actionDict[action.id]) this.removeAction(action.id);\n    this.actionDict[action.id] = action;\n    this.actionList.push(action);\n  }\n\n  /**\n   * Remove Action\n   * @param {*} id\n   */\n  removeAction(id) {\n    this.actionList = this.actionList.filter((action) => action.id !== id);\n    delete this.actionDict[id];\n  }\n\n  /**\n   * Remove Action\n   */\n  removeAllActions() {\n    this.actionList = [];\n    this.actionDict = {};\n  }\n\n  /**\n   * Outer Tick Handler\n   * @param {number} time\n   * @returns\n   */\n  tickOuter(time) {\n    if (!this.loaded) return;\n    // Sort activities by increasing startTime, then by id\n    this.actionList.sort((a, b) => {\n      let dt = a.startTime - b.startTime;\n      if (!dt) return dt;\n      return a.id > b.id ? 1 : -1;\n    });\n    // Run & Queue for Removal when complete\n    let toRemove = [];\n    this.actionList.forEach((action) => {\n      if (!action.loaded || action.startTime > time) return;\n      if (action.tick(time)) {\n        toRemove.push(action); // remove from backlog\n        action.onComplete(); // call completion handler\n      }\n    });\n    // clear completed activities\n    toRemove.forEach((action) => this.removeAction(action.id));\n    // tick\n    if (this.tick) this.tick(time);\n  }\n\n  /**\n   * Hook for sprite implementations\n   */\n  init() {\n    console.log('- object hook', this.id, this.pos, this.objId);\n  }\n\n  /**\n   * speak\n   * @param {*} text\n   * @param {*} showBubble\n   */\n  speak(text, showBubble = false) {\n    if (!text) this.speech.clearHud();\n    else {\n      this.textbox = this.engine.hud.scrollText(this.id + ':> ' + text, true, {\n        portrait: this.portrait ?? false,\n      });\n      if (showBubble && this.speech) {\n        this.speech.scrollText(text, false, {\n          portrait: this.portrait ?? false,\n        });\n        this.speech.loadImage();\n      }\n    }\n  }\n\n  /**\n   * handles interaction -- default (should be overridden in definition)\n   * @param {*} sprite\n   * @param {*} finish\n   * @returns\n   */\n  async interact(sprite, finish) {\n    let ret = null;\n    // React based on internal state\n    switch (this.state) {\n      default:\n        break;\n    }\n    // If completion handler passed through - call it when done\n    if (finish) finish(true);\n    return ret;\n  }\n\n  /**\n   * Set Facing\n   * @param {*} facing\n   */\n  setFacing(facing) {\n    if (facing) this.facing = facing;\n    this.rotation = Direction.objectSequence(facing);\n  }\n\n  /**\n   * Change direction\n   * @param {*} facing\n   * @returns\n   */\n  faceDir(facing) {\n    if (this.facing == facing || facing === Direction.None) return null;\n    return new ActionLoader(this.engine, 'face', [facing], this);\n  }\n\n  /**\n   * set message (for chat bubbles)\n   */\n  setGreeting(greeting) {\n    if (this.speech.clearHud) {\n      this.speech.clearHud();\n    }\n    this.speech.writeText(greeting);\n    this.speech.loadImage();\n    return new ActionLoader(this.engine, 'greeting', [greeting, { autoclose: true }], this);\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport Resources from '../resources.jsx';\nimport ModelObject from '@Engine/core/resource/object.jsx';\n\n//helps load models\nexport class ObjectLoader {\n  constructor(engine) {\n    this.engine = engine;\n    this.definitions = [];\n    this.instances = {};\n  }\n\n  // Load 3d model\n  async loadFromZip(zip, model) {\n    let afterLoad = arguments[2];\n    let runConfigure = arguments[3];\n    if (!this.instances[model.id]) {\n      this.instances[model.id] = [];\n    }\n\n    let instance = new ModelObject(this.engine);\n    instance.update(model);\n    // New Instance\n    let modelreq = {\n      obj: `${instance.type}.obj`,\n      mtl: model.mtl ?? false,\n      mtlTextureRoot: 'textures',\n      downloadMtlTextures: true,\n      enableWTextureCoord: false,\n      name: instance.id,\n    };\n\n    let models = await this.engine.resourceManager.objLoader.downloadModelsFromZip(this.engine.gl, [modelreq], zip);\n\n    instance.mesh = models[model.type];\n    instance.templateLoaded = true;\n\n    // Update Existing\n    this.instances[instance.id].forEach(function (instance) {\n      if (instance.afterLoad) instance.afterLoad(instance.instance);\n    });\n\n    // Configure if needed\n    if (runConfigure) runConfigure(instance);\n\n    // once loaded\n    if (afterLoad) {\n      if (instance.templateLoaded) afterLoad(instance);\n      else this.instances[instance.id].push({ instance, afterLoad });\n    }\n\n    instance.loaded = true;\n    return instance;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nexport default class Action {\n  /**\n   * Actions are performed by sprites / objects\n   * @param {string} type\n   * @param {*} sprite\n   * @param {*} callback\n   */\n  constructor(type, sprite, callback) {\n    this.type = type;\n    this.sprite = sprite;\n    this.callback = callback;\n    this.time = new Date().getTime();\n    this.id = sprite.id + '-' + type + '-' + this.time;\n  }\n\n  /**\n   * configure action\n   * @param {string} type\n   * @param {*} sprite\n   * @param {string} id\n   * @param {number} time\n   * @param {*} args\n   */\n  configure(type, sprite, id, time, args) {\n    this.sprite = sprite;\n    this.id = id;\n    this.type = type;\n    this.startTime = time;\n    this.creationArgs = args;\n  }\n\n  /**\n   * initialize on load\n   * @param {*} args\n   */\n  async onLoad(args) {\n    await this.init.apply(this, args);\n    this.loaded = true;\n  }\n\n  /**\n   * serialize\n   * @returns\n   */\n  serialize() {\n    return {\n      id: this.id,\n      time: this.startTime,\n      zone: this.sprite.zone.id,\n      sprite: this.sprite.id,\n      type: this.type,\n      args: this.creationArgs,\n    };\n  }\n\n  /**\n   * callback on completion\n   * @returns\n   */\n  onComplete() {\n    return this.callback ? this.callback() : null;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport Action from '@Engine/core/queue/action.jsx';\n\n// Helps Loads New Action Instance\nexport class ActionLoader {\n  constructor(engine, type, args, sprite, callback) {\n    this.engine = engine;\n    this.type = type;\n    this.args = args;\n    this.sprite = sprite;\n    this.callback = callback;\n    this.instances = {};\n    this.definitions = [];\n    this.assets = {};\n\n    let time = new Date().getTime();\n    let id = sprite.id + '-' + type + '-' + time;\n    return this.load(\n      type,\n      async function (action) {\n        await action.onLoad(args);\n      },\n      function (action) {\n        action.configure(type, sprite, id, time, args);\n      }\n    );\n  }\n  // Load Internal Action\n  async load(type) {\n    console.log('Loading Action: ' + type);\n\n    let afterLoad = arguments[1];\n    let runConfigure = arguments[2];\n    if (!this.instances[type]) {\n      this.instances[type] = [];\n    }\n    console.log({afterLoad, runConfigure})\n    // New Instance (assigns properties loaded by type)\n    let instance = new Action(this.type, this.sprite, this.callback);\n    Object.assign(instance, require('@Engine/actions/' + type + '.jsx')['default']);\n    instance.templateLoaded = true;\n    console.log('Notifying in Action: ' + type);\n\n    // Notify existing\n    await Promise.all(\n      this.instances[type].map(async function (instance) {\n        console.log({instance});\n        if (instance.afterLoad) await instance.afterLoad(instance.instance);\n      })\n    );\n    // construct\n    if (runConfigure) runConfigure(instance);\n    // load\n    if (afterLoad) {\n      if (instance.templateLoaded) afterLoad(instance);\n      else this.instances[type].push({ instance, afterLoad });\n    }\n\n    console.log('Ending load Action: ' + type);\n\n    return instance;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nexport default class Event {\n  /**\n   * Events are High-Level Analogues to actions\n   * @param {string} type\n   * @param {World} world\n   * @param {*} callback\n   */\n  constructor(type, world, callback) {\n    this.type = type;\n    this.world = world;\n    this.callback = callback;\n    this.time = new Date().getTime();\n    this.id = world.id + '-' + type + '-' + this.time;\n  }\n\n  /**\n   * configure event\n   * @param {string} type\n   * @param {World} world\n   * @param {string} id\n   * @param {number} time\n   * @param {*} args\n   */\n  configure(type, world, id, time, args) {\n    this.world = world;\n    this.id = id;\n    this.type = type;\n    this.startTime = time;\n    this.creationArgs = args;\n  }\n\n  /**\n   * initialize on load\n   * @param {*} args\n   */\n  async onLoad(args) {\n    await this.init.apply(this, args);\n    this.loaded = true;\n  }\n\n  /**\n   * serialize\n   * @returns\n   */\n  serialize() {\n    return {\n      id: this.id,\n      time: this.startTime,\n      world: this.world.id,\n      type: this.type,\n      args: this.creationArgs,\n    };\n  }\n\n  /**\n   * callback on completion\n   * @returns\n   */\n  onComplete() {\n    return this.callback ? this.callback() : null;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport Event from '@Engine/core/queue/event.jsx';\n\n// Helps Loads New Event Instance\nexport class EventLoader {\n  constructor(engine, type, args, world, callback) {\n    this.engine = engine;\n    this.type = type;\n    this.args = args;\n    this.world = world;\n    this.callback = callback;\n    this.instances = {};\n    this.definitions = [];\n    this.assets = {};\n\n    let time = new Date().getTime();\n    let id = world.id + '-' + type + '-' + time;\n    return this.load(\n      type,\n      function (event) {\n        event.onLoad(args);\n      },\n      function (event) {\n        event.configure(type, world, id, time, args);\n      }\n    );\n  }\n  // Load Internal Action\n  load(type) {\n    let afterLoad = arguments[1];\n    let runConfigure = arguments[2];\n    if (!this.instances[type]) {\n      this.instances[type] = [];\n    }\n    // New Instance (assigns properties loaded by type)\n    let instance = new Event(this.type, this.world, this.callback);\n    Object.assign(instance, require('@Engine/events/' + type + '.jsx')['default']);\n    instance.templateLoaded = true;\n    // Notify existing\n    this.instances[type].forEach(function (instance) {\n      if (instance.afterLoad) instance.afterLoad(instance.instance);\n    });\n    // construct\n    if (runConfigure) runConfigure(instance);\n    // load\n    if (afterLoad) {\n      if (instance.templateLoaded) afterLoad(instance);\n      else this.instances[type].push({ instance, afterLoad });\n    }\n\n    return instance;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nconst EPSILON = 0.000001;\n\nconst from = (mat) => {\n  let dest = new Float32Array(16);\n  dest[0] = mat[0];\n  dest[1] = mat[1];\n  dest[2] = mat[2];\n  dest[3] = mat[3];\n  dest[4] = mat[4];\n  dest[5] = mat[5];\n  dest[6] = mat[6];\n  dest[7] = mat[7];\n  dest[8] = mat[8];\n  dest[9] = mat[9];\n  dest[10] = mat[10];\n  dest[11] = mat[11];\n  dest[12] = mat[12];\n  dest[13] = mat[13];\n  dest[14] = mat[14];\n  dest[15] = mat[15];\n  return dest;\n};\n\nconst create = () => {\n  let matrix = new Float32Array(16);\n  matrix[0] = 1;\n  matrix[5] = 1;\n  matrix[10] = 1;\n  matrix[15] = 1;\n  return matrix;\n};\n\nconst create3 = () => {\n  let matrix = new Float32Array(9);\n  matrix[0] = 1;\n  matrix[4] = 1;\n  matrix[8] = 1;\n  return matrix;\n};\n\nconst perspective = (fovy, aspect, near, far) => {\n  let matrix = new Float32Array(16);\n  let f = 1.0 / Math.tan(fovy / 2);\n  matrix[0] = f / aspect;\n  matrix[1] = 0;\n  matrix[2] = 0;\n  matrix[3] = 0;\n  matrix[4] = 0;\n  matrix[5] = f;\n  matrix[6] = 0;\n  matrix[7] = 0;\n  matrix[8] = 0;\n  matrix[9] = 0;\n  matrix[10] = -1;\n  matrix[11] = -1;\n  matrix[12] = 0;\n  matrix[13] = 0;\n  matrix[14] = -2 * near;\n  matrix[15] = 0;\n  if (far != null && far !== Infinity && far !== near) {\n    const nf = 1 / (near - far);\n    matrix[10] = (far + near) * nf;\n    matrix[14] = 2 * far * near * nf;\n  }\n  return matrix;\n};\n\nconst translate = (m1, m2, v) => {\n  let matrix = m1;\n  let [x, y, z] = v;\n\n  let [a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23] = m2;\n  if (m1 !== m2) {\n    matrix[0] = a00;\n    matrix[1] = a01;\n    matrix[2] = a02;\n    matrix[3] = a03;\n    matrix[4] = a10;\n    matrix[5] = a11;\n    matrix[6] = a12;\n    matrix[7] = a13;\n    matrix[8] = a20;\n    matrix[9] = a21;\n    matrix[10] = a22;\n    matrix[11] = a23;\n  }\n  matrix[12] = a00 * x + a10 * y + a20 * z + m2[12];\n  matrix[13] = a01 * x + a11 * y + a21 * z + m2[13];\n  matrix[14] = a02 * x + a12 * y + a22 * z + m2[14];\n  matrix[15] = a03 * x + a13 * y + a23 * z + m2[15];\n  return matrix;\n};\n\nconst subtractVectors = (a, b) => {\n  return [a[0] - b[0], a[1] - b[1], a[2] - b[2]];\n};\n\nconst rotate = (m1, m2, rad, axis) => {\n  let matrix = m1;\n  let [x, y, z] = axis;\n  let len = Math.hypot(x, y, z);\n\n  if (len < EPSILON) {\n    throw new Error('Matrix4*4 rotate has wrong axis');\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n\n  let s = Math.sin(rad);\n  let c = Math.cos(rad);\n  let t = 1 - c;\n\n  let [a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23] = m2;\n\n  let b00 = x * x * t + c;\n  let b01 = y * x * t + z * s;\n  let b02 = z * x * t - y * s;\n  let b10 = x * y * t - z * s;\n  let b11 = y * y * t + c;\n  let b12 = z * y * t + x * s;\n  let b20 = x * z * t + y * s;\n  let b21 = y * z * t - x * s;\n  let b22 = z * z * t + c;\n\n  matrix[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  matrix[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  matrix[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  matrix[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  matrix[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  matrix[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  matrix[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  matrix[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  matrix[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  matrix[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  matrix[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  matrix[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (m2 !== m1) {\n    matrix[12] = m2[12];\n    matrix[13] = m2[13];\n    matrix[14] = m2[14];\n    matrix[15] = m2[15];\n  }\n  return matrix;\n};\n\nfunction isPowerOf2(value) {\n  return (value & (value - 1)) == 0;\n}\n\nfunction set(mat, dest) {\n  dest[0] = mat[0];\n  dest[1] = mat[1];\n  dest[2] = mat[2];\n  dest[3] = mat[3];\n  dest[4] = mat[4];\n  dest[5] = mat[5];\n  dest[6] = mat[6];\n  dest[7] = mat[7];\n  dest[8] = mat[8];\n  dest[9] = mat[9];\n  dest[10] = mat[10];\n  dest[11] = mat[11];\n  dest[12] = mat[12];\n  dest[13] = mat[13];\n  dest[14] = mat[14];\n  dest[15] = mat[15];\n  return dest;\n}\n\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {mat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n    a01 = a[1],\n    a02 = a[2],\n    a03 = a[3];\n  var a10 = a[4],\n    a11 = a[5],\n    a12 = a[6],\n    a13 = a[7];\n  var a20 = a[8],\n    a21 = a[9],\n    a22 = a[10],\n    a23 = a[11];\n  var a30 = a[12],\n    a31 = a[13],\n    a32 = a[14],\n    a33 = a[15];\n\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\nconst normalize = (v) => {\n  let len = Math.hypot(...v);\n  return [v[0] / len, v[1] / len, v[2] / len];\n};\n\nexport { from, normalize, subtractVectors, normalFromMat4, create, create3, perspective, translate, rotate, isPowerOf2, set };\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport class Coord {\n  constructor(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n  }\n\n  add(vec) {\n    return new Coord(this.x + vec.x, this.y + vec.y);\n  }\n\n  sub(vec) {\n    return new Coord(this.x - vec.x, this.y - vec.y);\n  }\n\n  mul(n) {\n    return new Coord(this.x * n, this.y * n);\n  }\n\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  distance(vec) {\n    return this.sub(vec).length();\n  }\n\n  normal() {\n    if (this.x === 0 && this.y === 0) return new Coord(0, 0);\n    const l = this.length();\n    return new Coord(this.x / l, this.y / l);\n  }\n\n  dot(vec) {\n    return this.x * vec.x + this.y * vec.y;\n  }\n\n  toArray() {\n    return [this.x, this.y];\n  }\n\n  toString() {\n    return `( ${this.x}, ${this.y} )`;\n  }\n\n  negate() {\n    return new Vector(this.x * -1, this.y * -1);\n  }\n}\n\nexport class Vector {\n  constructor(x, y, z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n  }\n\n  add(vec) {\n    return new Vector(this.x + vec.x, this.y + vec.y, this.z + vec.z);\n  }\n\n  sub(vec) {\n    return new Vector(this.x - vec.x, this.y - vec.y, this.z - vec.z);\n  }\n\n  mul(n) {\n    return new Vector(this.x * n, this.y * n, this.z * n);\n  }\n\n  mul3(n) {\n    return new Vector(this.x * n.x, this.y * n.y, this.z * n.z);\n  }\n\n  cross(n) {\n    return new Vector(this.x * n.x - this.y * n.y, this.y * n.y + this.x * n.x, this.z * n.z);\n  }\n\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  }\n\n  distance(vec) {\n    return this.sub(vec).length();\n  }\n\n  normal() {\n    if (this.x === 0 && this.y === 0 && this.z === 0) return new Vector(0, 0, 0);\n    const l = this.length();\n    return new Vector(this.x / l, this.y / l, this.z / l);\n  }\n\n  dot(vec) {\n    return this.x * vec.x + this.y * vec.y + this.z * vec.z;\n  }\n\n  toArray() {\n    return [this.x, this.y, this.z];\n  }\n\n  toString() {\n    return `( ${this.x}, ${this.y}, ${this.z} )`;\n  }\n  negate() {\n    return new Vector(this.x * -1, this.y * -1, this.z * -1);\n  }\n}\n\nexport class Vector4 {\n  constructor(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n  }\n\n  add(vec) {\n    return new Vector4(this.x + vec.x, this.y + vec.y, this.z + vec.z, this.w + vec.w);\n  }\n\n  sub(vec) {\n    return new Vector4(this.x - vec.x, this.y - vec.y, this.z - vec.z, this.w - vec.w);\n  }\n\n  mul(n) {\n    return new Vector4(this.x * n, this.y * n, this.z * n, this.w * n);\n  }\n\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n  }\n\n  distance(vec) {\n    return this.sub(vec).length();\n  }\n\n  normal() {\n    if (this.x === 0 && this.y === 0 && this.z === 0 && this.w === 0) return new Vector4(0, 0, 0, 0);\n    const l = this.length();\n    return new Vector4(this.x / l, this.y / l, this.z / l, this.w / l);\n  }\n\n  dot(vec) {\n    return this.x * vec.x + this.y * vec.y + this.z * vec.z + this.w * vec.w;\n  }\n\n  toArray() {\n    return [this.x, this.y, this.z, this.w];\n  }\n\n  toString() {\n    return `( ${this.x}, ${this.y}, ${this.z}, ${this.w} )`;\n  }\n\n  negate() {\n    return new Vector(this.x * -1, this.y * -1, this.z * -1, this.w * -1);\n  }\n  \n}\n\n// lineRectCollide( line, rect )\n//\n// Checks if an axis-aligned line and a bounding box overlap.\n// line = { y, x1, x2 } or line = { x, y1, y2 }\n// rect = { x, y, size }\n\nexport function lineRectCollide(line, rect) {\n  return rect.y > line.y - rect.size / 2 && rect.y < line.y + rect.size / 2 && rect.x > line.x1 - rect.size / 2 && rect.x < line.x2 + rect.size / 2;\n}\n\n// rectRectCollide( r1, r2 )\n//\n// Checks if two rectangles (x1, y1, x2, y2) overlap.\n\nexport function rectRectCollide(r1, r2) {\n  if (r2.x1 > r1.x1 && r2.x1 < r1.x2 && r2.y1 > r1.y1 && r2.y1 < r1.y2) return true;\n  if (r2.x2 > r1.x1 && r2.x2 < r1.x2 && r2.y1 > r1.y1 && r2.y1 < r1.y2) return true;\n  if (r2.x2 > r1.x1 && r2.x2 < r1.x2 && r2.y2 > r1.y1 && r2.y2 < r1.y2) return true;\n  if (r2.x1 > r1.x1 && r2.x1 < r1.x2 && r2.y2 > r1.y1 && r2.y2 < r1.y2) return true;\n  return false;\n}\n\n// Push a Qua\nexport function pushQuad(v, p1, p2, p3, p4) {\n  v.push(p1[0], p1[1], p1[2], p1[3], p1[4], p1[5], p1[6], p1[7], p1[8]);\n  v.push(p2[0], p2[1], p2[2], p2[3], p2[4], p2[5], p2[6], p2[7], p2[8]);\n  v.push(p3[0], p3[1], p3[2], p3[3], p3[4], p3[5], p3[6], p3[7], p3[8]);\n\n  v.push(p3[0], p3[1], p3[2], p3[3], p3[4], p3[5], p3[6], p3[7], p3[8]);\n  v.push(p4[0], p4[1], p4[2], p4[3], p4[4], p4[5], p4[6], p4[7], p4[8]);\n  v.push(p1[0], p1[1], p1[2], p1[3], p1[4], p1[5], p1[6], p1[7], p1[8]);\n}\n\n// apply values from one vector to another\nexport function set(w, v) {\n  v.x = w.x;\n  v.y = w.y;\n  v.z = w.z;\n}\n\nexport function negate(vec, dest) {\n  if (!dest) dest = new Vector(-vec.x, -vec.y, -vec.z);\n  dest.x = -vec.x;\n  dest.y = -vec.y;\n  dest.z = -vec.z;\n  return dest;\n}\n\nexport function lerp(vec, vec2, lerp, dest) {\n  if (!dest) {\n    dest = vec;\n  }\n\n  dest.x = vec.x + lerp * (vec2.x - vec.x);\n  dest.y = vec.y + lerp * (vec2.y - vec.y);\n  dest.z = vec.z + lerp * (vec2.z - vec.z);\n\n  return dest;\n}\n\n  /**\n   * Degrees to Radians\n   * @param {number} degrees\n   * @returns\n   */\n  export function degToRad(degrees) {\n    return (degrees * Math.PI) / 180;\n  }\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default {\n  tilesetRequestUrl: (id) => '/pixos/tilesets/' + id + '/tileset.json',\n  zoneRequestUrl: (id) => '/pixos/maps/' + id + '/map.json',\n  artResourceUrl: (art) => '/pixos/art/' + art,\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*                                                 *** ----------------------------------------------- **\\n**             Calliope - Site Generator   \\t       **\\n** ----------------------------------------------- **\\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\\n**                                                 **\\n**    Any unauthorized distribution or transfer    **\\n**       of this work is strictly prohibited.      **\\n**                                                 **\\n**               All Rights Reserved.              **\\n** ----------------------------------------------- **\\n\\\\*                                                 */\\n.pixos {\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 16px;\\n  width: 100%;\\n  text-shadow: #3f3f3f 2px 2px 0px;\\n  position: relative;\\n  /* padding: 2.5em; */\\n  align-items: center;\\n  align-content: center;\\n}\\n\\n.renderSurface {\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n\\n.materialSelector {\\n  background: rgba(0, 0, 0, 0.6);\\n  margin: auto;\\n  position: relative;\\n}\\n.materialSelector tr {\\n  height: 70px;\\n}\\n.materialSelector td {\\n  background-position: 0px 0px;\\n  cursor: pointer;\\n  margin: 0;\\n  opacity: 0.3;\\n  padding: 0;\\n  width: 70px;\\n}\\n.materialSelector td:hover {\\n  opacity: 0.8;\\n}\\n\\n.nickname {\\n  color: #ffffff;\\n  cursor: default;\\n  left: 42%;\\n  position: absolute;\\n  top: 40%;\\n  width: 300px;\\n}\\n.nickname input {\\n  background: none;\\n  border-bottom: 1px solid #888888;\\n  border: none;\\n  color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 24px;\\n  outline: none;\\n  width: 100%;\\n}\\n\\n.joininfo {\\n  color: #ffffff;\\n  cursor: default;\\n  font-size: 24px;\\n  position: absolute;\\n  text-align: center;\\n  top: 42%;\\n  width: 99%;\\n}\\n\\n.chatbox {\\n  background: rgba(0, 0, 0, 0.6);\\n  bottom: 55px;\\n  color: white;\\n  cursor: default;\\n  height: 195px;\\n  left: 20px;\\n  overflow: hidden;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  position: absolute;\\n  width: 600px;\\n}\\n\\n.chatbox_text {\\n  bottom: 8px;\\n  position: absolute;\\n  text-shadow: none;\\n}\\n\\n.chatbox_entry {\\n  background: rgba(0, 0, 0, 0.6);\\n  border: none;\\n  bottom: 18px;\\n  color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 16px;\\n  height: 30px;\\n  left: 20px;\\n  outline: none;\\n  padding-bottom: 2px;\\n  padding-left: 10px;\\n  position: absolute;\\n  width: 610px;\\n}\\n\\nhtml {\\n  height: 100%;\\n}\\n\\n.pixos-body {\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  background: linear-gradient(to bottom, #202020, #111119);\\n}\\n\\n.rain {\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 2;\\n}\\n\\n.snow {\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 2;\\n}\\n\\n.rain.back-row {\\n  z-index: 1;\\n  bottom: 60px;\\n  opacity: 0.5;\\n}\\n.snow.back-row {\\n  z-index: 1;\\n  bottom: 60px;\\n  opacity: 0.8;\\n}\\n\\nbody.back-row-toggle .rain.back-row .snow.back-row {\\n  display: block;\\n}\\n\\n.drop {\\n  position: absolute;\\n  bottom: 100%;\\n  width: 15px;\\n  height: 120px;\\n  pointer-events: none;\\n  animation: drop 0.5s linear infinite;\\n}\\n\\n.flake {\\n  position: absolute;\\n  bottom: 100%;\\n  width: 24px;\\n  height: 24px;\\n  pointer-events: none;\\n  animation: snow 2.5s linear infinite;\\n}\\n\\n@keyframes drop {\\n  0% {\\n    transform: translateY(0vh);\\n  }\\n  75% {\\n    transform: translateY(90vh);\\n  }\\n  100% {\\n    transform: translateY(90vh);\\n  }\\n}\\n\\n@keyframes snow {\\n  0% {\\n    transform: translateY(0vh);\\n  }\\n  70% {\\n    transform: translateY(50vh);\\n  }\\n  85% {\\n    transform: translateY(85vh);\\n  }\\n  75% {\\n    transform: translateY(75vh);\\n  }\\n  100% {\\n    transform: translateY(95vh);\\n    transform: translateX(30vw);\\n  }\\n}\\n\\n.stem {\\n  width: 1px;\\n  height: 60%;\\n  margin-left: 7px;\\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.25));\\n  animation: stem 0.5s linear infinite;\\n}\\n\\n@keyframes stem {\\n  0% {\\n    opacity: 1;\\n  }\\n  65% {\\n    opacity: 1;\\n  }\\n  75% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n.splat {\\n  width: 15px;\\n  height: 10px;\\n  border-top: 2px dotted rgba(255, 255, 255, 0.5);\\n  border-radius: 50%;\\n  opacity: 1;\\n  transform: scale(0);\\n  animation: splat 0.5s linear infinite;\\n}\\n\\nbody.splat-toggle .splat {\\n  display: block;\\n}\\n\\n@keyframes splat {\\n  0% {\\n    opacity: 1;\\n    transform: scale(0);\\n  }\\n  80% {\\n    opacity: 1;\\n    transform: scale(0);\\n  }\\n  90% {\\n    opacity: 0.5;\\n    transform: scale(1);\\n  }\\n  100% {\\n    opacity: 0;\\n    transform: scale(1.5);\\n  }\\n}\\n\\n.toggles {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 3;\\n}\\n\\n.toggle {\\n  position: absolute;\\n  left: 20px;\\n  width: 50px;\\n  height: 50px;\\n  line-height: 51px;\\n  box-sizing: border-box;\\n  text-align: center;\\n  font-family: sans-serif;\\n  font-size: 10px;\\n  font-weight: bold;\\n  background-color: rgba(255, 255, 255, 0.2);\\n  color: rgba(0, 0, 0, 0.5);\\n  border-radius: 50%;\\n  cursor: pointer;\\n  transition: background-color 0.3s;\\n}\\n\\n.toggle:hover {\\n  background-color: rgba(255, 255, 255, 0.25);\\n}\\n\\n.toggle:active {\\n  background-color: rgba(255, 255, 255, 0.3);\\n}\\n\\n.toggle.active {\\n  background-color: rgba(255, 255, 255, 0.4);\\n}\\n\\n.splat-toggle {\\n  top: 20px;\\n}\\n\\n.back-row-toggle {\\n  top: 90px;\\n  line-height: 12px;\\n  padding-top: 14px;\\n}\\n\\n.single-toggle {\\n  top: 160px;\\n}\\n\\nbody.single-toggle .drop {\\n  display: none;\\n}\\n\\nbody.single-toggle .drop:nth-child(10) {\\n  display: block;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./pixos/css/pixos.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/*                                                 *** ----------------------------------------------- **\\n**             Calliope - Site Generator   \\t       **\\n** ----------------------------------------------- **\\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\\n**                                                 **\\n**    Any unauthorized distribution or transfer    **\\n**       of this work is strictly prohibited.      **\\n**                                                 **\\n**               All Rights Reserved.              **\\n** ----------------------------------------------- **\\n\\\\*                                                 */\\n.pixos {\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 16px;\\n  width: 100%;\\n  text-shadow: #3f3f3f 2px 2px 0px;\\n  position: relative;\\n  /* padding: 2.5em; */\\n  align-items: center;\\n  align-content: center;\\n}\\n\\n.renderSurface {\\n  height: 100%;\\n  left: 0;\\n  position: absolute;\\n  top: 0;\\n  width: 100%;\\n}\\n\\n.materialSelector {\\n  background: rgba(0, 0, 0, 0.6);\\n  margin: auto;\\n  position: relative;\\n}\\n.materialSelector tr {\\n  height: 70px;\\n}\\n.materialSelector td {\\n  background-position: 0px 0px;\\n  cursor: pointer;\\n  margin: 0;\\n  opacity: 0.3;\\n  padding: 0;\\n  width: 70px;\\n}\\n.materialSelector td:hover {\\n  opacity: 0.8;\\n}\\n\\n.nickname {\\n  color: #ffffff;\\n  cursor: default;\\n  left: 42%;\\n  position: absolute;\\n  top: 40%;\\n  width: 300px;\\n}\\n.nickname input {\\n  background: none;\\n  border-bottom: 1px solid #888888;\\n  border: none;\\n  color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 24px;\\n  outline: none;\\n  width: 100%;\\n}\\n\\n.joininfo {\\n  color: #ffffff;\\n  cursor: default;\\n  font-size: 24px;\\n  position: absolute;\\n  text-align: center;\\n  top: 42%;\\n  width: 99%;\\n}\\n\\n.chatbox {\\n  background: rgba(0, 0, 0, 0.6);\\n  bottom: 55px;\\n  color: white;\\n  cursor: default;\\n  height: 195px;\\n  left: 20px;\\n  overflow: hidden;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n  position: absolute;\\n  width: 600px;\\n}\\n\\n.chatbox_text {\\n  bottom: 8px;\\n  position: absolute;\\n  text-shadow: none;\\n}\\n\\n.chatbox_entry {\\n  background: rgba(0, 0, 0, 0.6);\\n  border: none;\\n  bottom: 18px;\\n  color: white;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 16px;\\n  height: 30px;\\n  left: 20px;\\n  outline: none;\\n  padding-bottom: 2px;\\n  padding-left: 10px;\\n  position: absolute;\\n  width: 610px;\\n}\\n\\nhtml {\\n  height: 100%;\\n}\\n\\n.pixos-body {\\n  height: 100%;\\n  margin: 0;\\n  overflow: hidden;\\n  background: linear-gradient(to bottom, #202020, #111119);\\n}\\n\\n.rain {\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 2;\\n}\\n\\n.snow {\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 2;\\n}\\n\\n.rain.back-row {\\n  z-index: 1;\\n  bottom: 60px;\\n  opacity: 0.5;\\n}\\n.snow.back-row {\\n  z-index: 1;\\n  bottom: 60px;\\n  opacity: 0.8;\\n}\\n\\nbody.back-row-toggle .rain.back-row .snow.back-row {\\n  display: block;\\n}\\n\\n.drop {\\n  position: absolute;\\n  bottom: 100%;\\n  width: 15px;\\n  height: 120px;\\n  pointer-events: none;\\n  animation: drop 0.5s linear infinite;\\n}\\n\\n.flake {\\n  position: absolute;\\n  bottom: 100%;\\n  width: 24px;\\n  height: 24px;\\n  pointer-events: none;\\n  animation: snow 2.5s linear infinite;\\n}\\n\\n@keyframes drop {\\n  0% {\\n    transform: translateY(0vh);\\n  }\\n  75% {\\n    transform: translateY(90vh);\\n  }\\n  100% {\\n    transform: translateY(90vh);\\n  }\\n}\\n\\n@keyframes snow {\\n  0% {\\n    transform: translateY(0vh);\\n  }\\n  70% {\\n    transform: translateY(50vh);\\n  }\\n  85% {\\n    transform: translateY(85vh);\\n  }\\n  75% {\\n    transform: translateY(75vh);\\n  }\\n  100% {\\n    transform: translateY(95vh);\\n    transform: translateX(30vw);\\n  }\\n}\\n\\n.stem {\\n  width: 1px;\\n  height: 60%;\\n  margin-left: 7px;\\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.25));\\n  animation: stem 0.5s linear infinite;\\n}\\n\\n@keyframes stem {\\n  0% {\\n    opacity: 1;\\n  }\\n  65% {\\n    opacity: 1;\\n  }\\n  75% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n.splat {\\n  width: 15px;\\n  height: 10px;\\n  border-top: 2px dotted rgba(255, 255, 255, 0.5);\\n  border-radius: 50%;\\n  opacity: 1;\\n  transform: scale(0);\\n  animation: splat 0.5s linear infinite;\\n}\\n\\nbody.splat-toggle .splat {\\n  display: block;\\n}\\n\\n@keyframes splat {\\n  0% {\\n    opacity: 1;\\n    transform: scale(0);\\n  }\\n  80% {\\n    opacity: 1;\\n    transform: scale(0);\\n  }\\n  90% {\\n    opacity: 0.5;\\n    transform: scale(1);\\n  }\\n  100% {\\n    opacity: 0;\\n    transform: scale(1.5);\\n  }\\n}\\n\\n.toggles {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 3;\\n}\\n\\n.toggle {\\n  position: absolute;\\n  left: 20px;\\n  width: 50px;\\n  height: 50px;\\n  line-height: 51px;\\n  box-sizing: border-box;\\n  text-align: center;\\n  font-family: sans-serif;\\n  font-size: 10px;\\n  font-weight: bold;\\n  background-color: rgba(255, 255, 255, 0.2);\\n  color: rgba(0, 0, 0, 0.5);\\n  border-radius: 50%;\\n  cursor: pointer;\\n  transition: background-color 0.3s;\\n}\\n\\n.toggle:hover {\\n  background-color: rgba(255, 255, 255, 0.25);\\n}\\n\\n.toggle:active {\\n  background-color: rgba(255, 255, 255, 0.3);\\n}\\n\\n.toggle.active {\\n  background-color: rgba(255, 255, 255, 0.4);\\n}\\n\\n.splat-toggle {\\n  top: 20px;\\n}\\n\\n.back-row-toggle {\\n  top: 90px;\\n  line-height: 12px;\\n  padding-top: 14px;\\n}\\n\\n.single-toggle {\\n  top: 160px;\\n}\\n\\nbody.single-toggle .drop {\\n  display: none;\\n}\\n\\nbody.single-toggle .drop:nth-child(10) {\\n  display: block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","module.exports = {\n  0: 'NONE',\n  1: 'ONE',\n  2: 'LINE_LOOP',\n  3: 'LINE_STRIP',\n  4: 'TRIANGLES',\n  5: 'TRIANGLE_STRIP',\n  6: 'TRIANGLE_FAN',\n  256: 'DEPTH_BUFFER_BIT',\n  512: 'NEVER',\n  513: 'LESS',\n  514: 'EQUAL',\n  515: 'LEQUAL',\n  516: 'GREATER',\n  517: 'NOTEQUAL',\n  518: 'GEQUAL',\n  519: 'ALWAYS',\n  768: 'SRC_COLOR',\n  769: 'ONE_MINUS_SRC_COLOR',\n  770: 'SRC_ALPHA',\n  771: 'ONE_MINUS_SRC_ALPHA',\n  772: 'DST_ALPHA',\n  773: 'ONE_MINUS_DST_ALPHA',\n  774: 'DST_COLOR',\n  775: 'ONE_MINUS_DST_COLOR',\n  776: 'SRC_ALPHA_SATURATE',\n  1024: 'STENCIL_BUFFER_BIT',\n  1028: 'FRONT',\n  1029: 'BACK',\n  1032: 'FRONT_AND_BACK',\n  1280: 'INVALID_ENUM',\n  1281: 'INVALID_VALUE',\n  1282: 'INVALID_OPERATION',\n  1285: 'OUT_OF_MEMORY',\n  1286: 'INVALID_FRAMEBUFFER_OPERATION',\n  2304: 'CW',\n  2305: 'CCW',\n  2849: 'LINE_WIDTH',\n  2884: 'CULL_FACE',\n  2885: 'CULL_FACE_MODE',\n  2886: 'FRONT_FACE',\n  2928: 'DEPTH_RANGE',\n  2929: 'DEPTH_TEST',\n  2930: 'DEPTH_WRITEMASK',\n  2931: 'DEPTH_CLEAR_VALUE',\n  2932: 'DEPTH_FUNC',\n  2960: 'STENCIL_TEST',\n  2961: 'STENCIL_CLEAR_VALUE',\n  2962: 'STENCIL_FUNC',\n  2963: 'STENCIL_VALUE_MASK',\n  2964: 'STENCIL_FAIL',\n  2965: 'STENCIL_PASS_DEPTH_FAIL',\n  2966: 'STENCIL_PASS_DEPTH_PASS',\n  2967: 'STENCIL_REF',\n  2968: 'STENCIL_WRITEMASK',\n  2978: 'VIEWPORT',\n  3024: 'DITHER',\n  3042: 'BLEND',\n  3088: 'SCISSOR_BOX',\n  3089: 'SCISSOR_TEST',\n  3106: 'COLOR_CLEAR_VALUE',\n  3107: 'COLOR_WRITEMASK',\n  3317: 'UNPACK_ALIGNMENT',\n  3333: 'PACK_ALIGNMENT',\n  3379: 'MAX_TEXTURE_SIZE',\n  3386: 'MAX_VIEWPORT_DIMS',\n  3408: 'SUBPIXEL_BITS',\n  3410: 'RED_BITS',\n  3411: 'GREEN_BITS',\n  3412: 'BLUE_BITS',\n  3413: 'ALPHA_BITS',\n  3414: 'DEPTH_BITS',\n  3415: 'STENCIL_BITS',\n  3553: 'TEXTURE_2D',\n  4352: 'DONT_CARE',\n  4353: 'FASTEST',\n  4354: 'NICEST',\n  5120: 'BYTE',\n  5121: 'UNSIGNED_BYTE',\n  5122: 'SHORT',\n  5123: 'UNSIGNED_SHORT',\n  5124: 'INT',\n  5125: 'UNSIGNED_INT',\n  5126: 'FLOAT',\n  5386: 'INVERT',\n  5890: 'TEXTURE',\n  6401: 'STENCIL_INDEX',\n  6402: 'DEPTH_COMPONENT',\n  6406: 'ALPHA',\n  6407: 'RGB',\n  6408: 'RGBA',\n  6409: 'LUMINANCE',\n  6410: 'LUMINANCE_ALPHA',\n  7680: 'KEEP',\n  7681: 'REPLACE',\n  7682: 'INCR',\n  7683: 'DECR',\n  7936: 'VENDOR',\n  7937: 'RENDERER',\n  7938: 'VERSION',\n  9728: 'NEAREST',\n  9729: 'LINEAR',\n  9984: 'NEAREST_MIPMAP_NEAREST',\n  9985: 'LINEAR_MIPMAP_NEAREST',\n  9986: 'NEAREST_MIPMAP_LINEAR',\n  9987: 'LINEAR_MIPMAP_LINEAR',\n  10240: 'TEXTURE_MAG_FILTER',\n  10241: 'TEXTURE_MIN_FILTER',\n  10242: 'TEXTURE_WRAP_S',\n  10243: 'TEXTURE_WRAP_T',\n  10497: 'REPEAT',\n  10752: 'POLYGON_OFFSET_UNITS',\n  16384: 'COLOR_BUFFER_BIT',\n  32769: 'CONSTANT_COLOR',\n  32770: 'ONE_MINUS_CONSTANT_COLOR',\n  32771: 'CONSTANT_ALPHA',\n  32772: 'ONE_MINUS_CONSTANT_ALPHA',\n  32773: 'BLEND_COLOR',\n  32774: 'FUNC_ADD',\n  32777: 'BLEND_EQUATION_RGB',\n  32778: 'FUNC_SUBTRACT',\n  32779: 'FUNC_REVERSE_SUBTRACT',\n  32819: 'UNSIGNED_SHORT_4_4_4_4',\n  32820: 'UNSIGNED_SHORT_5_5_5_1',\n  32823: 'POLYGON_OFFSET_FILL',\n  32824: 'POLYGON_OFFSET_FACTOR',\n  32854: 'RGBA4',\n  32855: 'RGB5_A1',\n  32873: 'TEXTURE_BINDING_2D',\n  32926: 'SAMPLE_ALPHA_TO_COVERAGE',\n  32928: 'SAMPLE_COVERAGE',\n  32936: 'SAMPLE_BUFFERS',\n  32937: 'SAMPLES',\n  32938: 'SAMPLE_COVERAGE_VALUE',\n  32939: 'SAMPLE_COVERAGE_INVERT',\n  32968: 'BLEND_DST_RGB',\n  32969: 'BLEND_SRC_RGB',\n  32970: 'BLEND_DST_ALPHA',\n  32971: 'BLEND_SRC_ALPHA',\n  33071: 'CLAMP_TO_EDGE',\n  33170: 'GENERATE_MIPMAP_HINT',\n  33189: 'DEPTH_COMPONENT16',\n  33306: 'DEPTH_STENCIL_ATTACHMENT',\n  33635: 'UNSIGNED_SHORT_5_6_5',\n  33648: 'MIRRORED_REPEAT',\n  33901: 'ALIASED_POINT_SIZE_RANGE',\n  33902: 'ALIASED_LINE_WIDTH_RANGE',\n  33984: 'TEXTURE0',\n  33985: 'TEXTURE1',\n  33986: 'TEXTURE2',\n  33987: 'TEXTURE3',\n  33988: 'TEXTURE4',\n  33989: 'TEXTURE5',\n  33990: 'TEXTURE6',\n  33991: 'TEXTURE7',\n  33992: 'TEXTURE8',\n  33993: 'TEXTURE9',\n  33994: 'TEXTURE10',\n  33995: 'TEXTURE11',\n  33996: 'TEXTURE12',\n  33997: 'TEXTURE13',\n  33998: 'TEXTURE14',\n  33999: 'TEXTURE15',\n  34000: 'TEXTURE16',\n  34001: 'TEXTURE17',\n  34002: 'TEXTURE18',\n  34003: 'TEXTURE19',\n  34004: 'TEXTURE20',\n  34005: 'TEXTURE21',\n  34006: 'TEXTURE22',\n  34007: 'TEXTURE23',\n  34008: 'TEXTURE24',\n  34009: 'TEXTURE25',\n  34010: 'TEXTURE26',\n  34011: 'TEXTURE27',\n  34012: 'TEXTURE28',\n  34013: 'TEXTURE29',\n  34014: 'TEXTURE30',\n  34015: 'TEXTURE31',\n  34016: 'ACTIVE_TEXTURE',\n  34024: 'MAX_RENDERBUFFER_SIZE',\n  34041: 'DEPTH_STENCIL',\n  34055: 'INCR_WRAP',\n  34056: 'DECR_WRAP',\n  34067: 'TEXTURE_CUBE_MAP',\n  34068: 'TEXTURE_BINDING_CUBE_MAP',\n  34069: 'TEXTURE_CUBE_MAP_POSITIVE_X',\n  34070: 'TEXTURE_CUBE_MAP_NEGATIVE_X',\n  34071: 'TEXTURE_CUBE_MAP_POSITIVE_Y',\n  34072: 'TEXTURE_CUBE_MAP_NEGATIVE_Y',\n  34073: 'TEXTURE_CUBE_MAP_POSITIVE_Z',\n  34074: 'TEXTURE_CUBE_MAP_NEGATIVE_Z',\n  34076: 'MAX_CUBE_MAP_TEXTURE_SIZE',\n  34338: 'VERTEX_ATTRIB_ARRAY_ENABLED',\n  34339: 'VERTEX_ATTRIB_ARRAY_SIZE',\n  34340: 'VERTEX_ATTRIB_ARRAY_STRIDE',\n  34341: 'VERTEX_ATTRIB_ARRAY_TYPE',\n  34342: 'CURRENT_VERTEX_ATTRIB',\n  34373: 'VERTEX_ATTRIB_ARRAY_POINTER',\n  34466: 'NUM_COMPRESSED_TEXTURE_FORMATS',\n  34467: 'COMPRESSED_TEXTURE_FORMATS',\n  34660: 'BUFFER_SIZE',\n  34661: 'BUFFER_USAGE',\n  34816: 'STENCIL_BACK_FUNC',\n  34817: 'STENCIL_BACK_FAIL',\n  34818: 'STENCIL_BACK_PASS_DEPTH_FAIL',\n  34819: 'STENCIL_BACK_PASS_DEPTH_PASS',\n  34877: 'BLEND_EQUATION_ALPHA',\n  34921: 'MAX_VERTEX_ATTRIBS',\n  34922: 'VERTEX_ATTRIB_ARRAY_NORMALIZED',\n  34930: 'MAX_TEXTURE_IMAGE_UNITS',\n  34962: 'ARRAY_BUFFER',\n  34963: 'ELEMENT_ARRAY_BUFFER',\n  34964: 'ARRAY_BUFFER_BINDING',\n  34965: 'ELEMENT_ARRAY_BUFFER_BINDING',\n  34975: 'VERTEX_ATTRIB_ARRAY_BUFFER_BINDING',\n  35040: 'STREAM_DRAW',\n  35044: 'STATIC_DRAW',\n  35048: 'DYNAMIC_DRAW',\n  35632: 'FRAGMENT_SHADER',\n  35633: 'VERTEX_SHADER',\n  35660: 'MAX_VERTEX_TEXTURE_IMAGE_UNITS',\n  35661: 'MAX_COMBINED_TEXTURE_IMAGE_UNITS',\n  35663: 'SHADER_TYPE',\n  35664: 'FLOAT_VEC2',\n  35665: 'FLOAT_VEC3',\n  35666: 'FLOAT_VEC4',\n  35667: 'INT_VEC2',\n  35668: 'INT_VEC3',\n  35669: 'INT_VEC4',\n  35670: 'BOOL',\n  35671: 'BOOL_VEC2',\n  35672: 'BOOL_VEC3',\n  35673: 'BOOL_VEC4',\n  35674: 'FLOAT_MAT2',\n  35675: 'FLOAT_MAT3',\n  35676: 'FLOAT_MAT4',\n  35678: 'SAMPLER_2D',\n  35680: 'SAMPLER_CUBE',\n  35712: 'DELETE_STATUS',\n  35713: 'COMPILE_STATUS',\n  35714: 'LINK_STATUS',\n  35715: 'VALIDATE_STATUS',\n  35716: 'INFO_LOG_LENGTH',\n  35717: 'ATTACHED_SHADERS',\n  35718: 'ACTIVE_UNIFORMS',\n  35719: 'ACTIVE_UNIFORM_MAX_LENGTH',\n  35720: 'SHADER_SOURCE_LENGTH',\n  35721: 'ACTIVE_ATTRIBUTES',\n  35722: 'ACTIVE_ATTRIBUTE_MAX_LENGTH',\n  35724: 'SHADING_LANGUAGE_VERSION',\n  35725: 'CURRENT_PROGRAM',\n  36003: 'STENCIL_BACK_REF',\n  36004: 'STENCIL_BACK_VALUE_MASK',\n  36005: 'STENCIL_BACK_WRITEMASK',\n  36006: 'FRAMEBUFFER_BINDING',\n  36007: 'RENDERBUFFER_BINDING',\n  36048: 'FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE',\n  36049: 'FRAMEBUFFER_ATTACHMENT_OBJECT_NAME',\n  36050: 'FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL',\n  36051: 'FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE',\n  36053: 'FRAMEBUFFER_COMPLETE',\n  36054: 'FRAMEBUFFER_INCOMPLETE_ATTACHMENT',\n  36055: 'FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT',\n  36057: 'FRAMEBUFFER_INCOMPLETE_DIMENSIONS',\n  36061: 'FRAMEBUFFER_UNSUPPORTED',\n  36064: 'COLOR_ATTACHMENT0',\n  36096: 'DEPTH_ATTACHMENT',\n  36128: 'STENCIL_ATTACHMENT',\n  36160: 'FRAMEBUFFER',\n  36161: 'RENDERBUFFER',\n  36162: 'RENDERBUFFER_WIDTH',\n  36163: 'RENDERBUFFER_HEIGHT',\n  36164: 'RENDERBUFFER_INTERNAL_FORMAT',\n  36168: 'STENCIL_INDEX8',\n  36176: 'RENDERBUFFER_RED_SIZE',\n  36177: 'RENDERBUFFER_GREEN_SIZE',\n  36178: 'RENDERBUFFER_BLUE_SIZE',\n  36179: 'RENDERBUFFER_ALPHA_SIZE',\n  36180: 'RENDERBUFFER_DEPTH_SIZE',\n  36181: 'RENDERBUFFER_STENCIL_SIZE',\n  36194: 'RGB565',\n  36336: 'LOW_FLOAT',\n  36337: 'MEDIUM_FLOAT',\n  36338: 'HIGH_FLOAT',\n  36339: 'LOW_INT',\n  36340: 'MEDIUM_INT',\n  36341: 'HIGH_INT',\n  36346: 'SHADER_COMPILER',\n  36347: 'MAX_VERTEX_UNIFORM_VECTORS',\n  36348: 'MAX_VARYING_VECTORS',\n  36349: 'MAX_FRAGMENT_UNIFORM_VECTORS',\n  37440: 'UNPACK_FLIP_Y_WEBGL',\n  37441: 'UNPACK_PREMULTIPLY_ALPHA_WEBGL',\n  37442: 'CONTEXT_LOST_WEBGL',\n  37443: 'UNPACK_COLORSPACE_CONVERSION_WEBGL',\n  37444: 'BROWSER_DEFAULT_WEBGL'\n}\n","var gl10 = require('./1.0/numbers')\n\nmodule.exports = function lookupConstant (number) {\n  return gl10[number]\n}\n","\nvar sprintf = require('sprintf-js').sprintf;\nvar glConstants = require('gl-constants/lookup');\nvar shaderName = require('glsl-shader-name');\nvar addLineNumbers = require('add-line-numbers');\n\nmodule.exports = formatCompilerError;\n\nfunction formatCompilerError(errLog, src, type) {\n    \"use strict\";\n\n    var name = shaderName(src) || 'of unknown name (see npm glsl-shader-name)';\n\n    var typeName = 'unknown type';\n    if (type !== undefined) {\n        typeName = type === glConstants.FRAGMENT_SHADER ? 'fragment' : 'vertex'\n    }\n\n    var longForm = sprintf('Error compiling %s shader %s:\\n', typeName, name);\n    var shortForm = sprintf(\"%s%s\", longForm, errLog);\n\n    var errorStrings = errLog.split('\\n');\n    var errors = {};\n\n    for (var i = 0; i < errorStrings.length; i++) {\n        var errorString = errorStrings[i];\n        if (errorString === '' || errorString === \"\\0\") continue;\n        var lineNo = parseInt(errorString.split(':')[2]);\n        if (isNaN(lineNo)) {\n            throw new Error(sprintf('Could not parse error: %s', errorString));\n        }\n        errors[lineNo] = errorString;\n    }\n\n    var lines = addLineNumbers(src).split('\\n');\n\n    for (var i = 0; i < lines.length; i++) {\n        if (!errors[i+3] && !errors[i+2] && !errors[i+1]) continue;\n        var line = lines[i];\n        longForm += line + '\\n';\n        if (errors[i+1]) {\n            var e = errors[i+1];\n            e = e.substr(e.split(':', 3).join(':').length + 1).trim();\n            longForm += sprintf('^^^ %s\\n\\n', e);\n        }\n    }\n\n    return {\n        long: longForm.trim(),\n        short: shortForm.trim()\n    };\n}\n\n","'use strict'\n\nvar createUniformWrapper   = require('./lib/create-uniforms')\nvar createAttributeWrapper = require('./lib/create-attributes')\nvar makeReflect            = require('./lib/reflect')\nvar shaderCache            = require('./lib/shader-cache')\nvar runtime                = require('./lib/runtime-reflect')\nvar GLError                = require(\"./lib/GLError\")\n\n//Shader object\nfunction Shader(gl) {\n  this.gl         = gl\n  this.gl.lastAttribCount = 0  // fixme where else should we store info, safe but not nice on the gl object\n\n  //Default initialize these to null\n  this._vref      =\n  this._fref      =\n  this._relink    =\n  this.vertShader =\n  this.fragShader =\n  this.program    =\n  this.attributes =\n  this.uniforms   =\n  this.types      = null\n}\n\nvar proto = Shader.prototype\n\nproto.bind = function() {\n  if(!this.program) {\n    this._relink()\n  }\n\n  // ensuring that we have the right number of enabled vertex attributes\n  var i\n  var newAttribCount = this.gl.getProgramParameter(this.program, this.gl.ACTIVE_ATTRIBUTES) // more robust approach\n  //var newAttribCount = Object.keys(this.attributes).length // avoids the probably immaterial introspection slowdown\n  var oldAttribCount = this.gl.lastAttribCount\n  if(newAttribCount > oldAttribCount) {\n    for(i = oldAttribCount; i < newAttribCount; i++) {\n      this.gl.enableVertexAttribArray(i)\n    }\n  } else if(oldAttribCount > newAttribCount) {\n    for(i = newAttribCount; i < oldAttribCount; i++) {\n      this.gl.disableVertexAttribArray(i)\n    }\n  }\n\n  this.gl.lastAttribCount = newAttribCount\n\n  this.gl.useProgram(this.program)\n}\n\nproto.dispose = function() {\n\n  // disabling vertex attributes so new shader starts with zero\n  // and it's also useful if all shaders are disposed but the\n  // gl context is reused for subsequent replotting\n  var oldAttribCount = this.gl.lastAttribCount\n  for (var i = 0; i < oldAttribCount; i++) {\n    this.gl.disableVertexAttribArray(i)\n  }\n  this.gl.lastAttribCount = 0\n\n  if(this._fref) {\n    this._fref.dispose()\n  }\n  if(this._vref) {\n    this._vref.dispose()\n  }\n  this.attributes =\n  this.types      =\n  this.vertShader =\n  this.fragShader =\n  this.program    =\n  this._relink    =\n  this._fref      =\n  this._vref      = null\n}\n\nfunction compareAttributes(a, b) {\n  if(a.name < b.name) {\n    return -1\n  }\n  return 1\n}\n\n//Update export hook for glslify-live\nproto.update = function(\n    vertSource\n  , fragSource\n  , uniforms\n  , attributes) {\n\n  //If only one object passed, assume glslify style output\n  if(!fragSource || arguments.length === 1) {\n    var obj = vertSource\n    vertSource = obj.vertex\n    fragSource = obj.fragment\n    uniforms   = obj.uniforms\n    attributes = obj.attributes\n  }\n\n  var wrapper = this\n  var gl      = wrapper.gl\n\n  //Compile vertex and fragment shaders\n  var pvref = wrapper._vref\n  wrapper._vref = shaderCache.shader(gl, gl.VERTEX_SHADER, vertSource)\n  if(pvref) {\n    pvref.dispose()\n  }\n  wrapper.vertShader = wrapper._vref.shader\n  var pfref = this._fref\n  wrapper._fref = shaderCache.shader(gl, gl.FRAGMENT_SHADER, fragSource)\n  if(pfref) {\n    pfref.dispose()\n  }\n  wrapper.fragShader = wrapper._fref.shader\n\n  //If uniforms/attributes is not specified, use RT reflection\n  if(!uniforms || !attributes) {\n\n    //Create initial test program\n    var testProgram = gl.createProgram()\n    gl.attachShader(testProgram, wrapper.fragShader)\n    gl.attachShader(testProgram, wrapper.vertShader)\n    gl.linkProgram(testProgram)\n    if(!gl.getProgramParameter(testProgram, gl.LINK_STATUS)) {\n      var errLog = gl.getProgramInfoLog(testProgram)\n      throw new GLError(errLog, 'Error linking program:' + errLog)\n    }\n\n    //Load data from runtime\n    uniforms   = uniforms   || runtime.uniforms(gl, testProgram)\n    attributes = attributes || runtime.attributes(gl, testProgram)\n\n    //Release test program\n    gl.deleteProgram(testProgram)\n  }\n\n  //Sort attributes lexicographically\n  // overrides undefined WebGL behavior for attribute locations\n  attributes = attributes.slice()\n  attributes.sort(compareAttributes)\n\n  //Convert attribute types, read out locations\n  var attributeUnpacked  = []\n  var attributeNames     = []\n  var attributeLocations = []\n  var i\n  for(i=0; i<attributes.length; ++i) {\n    var attr = attributes[i]\n    if(attr.type.indexOf('mat') >= 0) {\n      var size = attr.type.charAt(attr.type.length-1)|0\n      var locVector = new Array(size)\n      for(var j=0; j<size; ++j) {\n        locVector[j] = attributeLocations.length\n        attributeNames.push(attr.name + '[' + j + ']')\n        if(typeof attr.location === 'number') {\n          attributeLocations.push(attr.location + j)\n        } else if(Array.isArray(attr.location) &&\n                  attr.location.length === size &&\n                  typeof attr.location[j] === 'number') {\n          attributeLocations.push(attr.location[j]|0)\n        } else {\n          attributeLocations.push(-1)\n        }\n      }\n      attributeUnpacked.push({\n        name: attr.name,\n        type: attr.type,\n        locations: locVector\n      })\n    } else {\n      attributeUnpacked.push({\n        name: attr.name,\n        type: attr.type,\n        locations: [ attributeLocations.length ]\n      })\n      attributeNames.push(attr.name)\n      if(typeof attr.location === 'number') {\n        attributeLocations.push(attr.location|0)\n      } else {\n        attributeLocations.push(-1)\n      }\n    }\n  }\n\n  //For all unspecified attributes, assign them lexicographically min attribute\n  var curLocation = 0\n  for(i=0; i<attributeLocations.length; ++i) {\n    if(attributeLocations[i] < 0) {\n      while(attributeLocations.indexOf(curLocation) >= 0) {\n        curLocation += 1\n      }\n      attributeLocations[i] = curLocation\n    }\n  }\n\n  //Rebuild program and recompute all uniform locations\n  var uniformLocations = new Array(uniforms.length)\n  function relink() {\n    wrapper.program = shaderCache.program(\n        gl\n      , wrapper._vref\n      , wrapper._fref\n      , attributeNames\n      , attributeLocations)\n\n    for(var i=0; i<uniforms.length; ++i) {\n      uniformLocations[i] = gl.getUniformLocation(\n          wrapper.program\n        , uniforms[i].name)\n    }\n  }\n\n  //Perform initial linking, reuse program used for reflection\n  relink()\n\n  //Save relinking procedure, defer until runtime\n  wrapper._relink = relink\n\n  //Generate type info\n  wrapper.types = {\n    uniforms:   makeReflect(uniforms),\n    attributes: makeReflect(attributes)\n  }\n\n  //Generate attribute wrappers\n  wrapper.attributes = createAttributeWrapper(\n      gl\n    , wrapper\n    , attributeUnpacked\n    , attributeLocations)\n\n  //Generate uniform wrappers\n  Object.defineProperty(wrapper, 'uniforms', createUniformWrapper(\n      gl\n    , wrapper\n    , uniforms\n    , uniformLocations))\n}\n\n//Compiles and links a shader program with the given attribute and vertex list\nfunction createShader(\n    gl\n  , vertSource\n  , fragSource\n  , uniforms\n  , attributes) {\n\n  var shader = new Shader(gl)\n\n  shader.update(\n      vertSource\n    , fragSource\n    , uniforms\n    , attributes)\n\n  return shader\n}\n\nmodule.exports = createShader\n","function GLError (rawError, shortMessage, longMessage) {\n    this.shortMessage = shortMessage || ''\n    this.longMessage = longMessage || ''\n    this.rawError = rawError || ''\n    this.message =\n      'gl-shader: ' + (shortMessage || rawError || '') +\n      (longMessage ? '\\n'+longMessage : '')\n    this.stack = (new Error()).stack\n}\nGLError.prototype = new Error\nGLError.prototype.name = 'GLError'\nGLError.prototype.constructor = GLError\nmodule.exports = GLError\n","'use strict'\n\nmodule.exports = createAttributeWrapper\n\nvar GLError = require(\"./GLError\")\n\nfunction ShaderAttribute(\n    gl\n  , wrapper\n  , index\n  , locations\n  , dimension\n  , constFunc) {\n  this._gl        = gl\n  this._wrapper   = wrapper\n  this._index     = index\n  this._locations = locations\n  this._dimension = dimension\n  this._constFunc = constFunc\n}\n\nvar proto = ShaderAttribute.prototype\n\nproto.pointer = function setAttribPointer(\n    type\n  , normalized\n  , stride\n  , offset) {\n\n  var self      = this\n  var gl        = self._gl\n  var location  = self._locations[self._index]\n\n  gl.vertexAttribPointer(\n      location\n    , self._dimension\n    , type || gl.FLOAT\n    , !!normalized\n    , stride || 0\n    , offset || 0)\n  gl.enableVertexAttribArray(location)\n}\n\nproto.set = function(x0, x1, x2, x3) {\n  return this._constFunc(this._locations[this._index], x0, x1, x2, x3)\n}\n\nObject.defineProperty(proto, 'location', {\n  get: function() {\n    return this._locations[this._index]\n  }\n  , set: function(v) {\n    if(v !== this._locations[this._index]) {\n      this._locations[this._index] = v|0\n      this._wrapper.program = null\n    }\n    return v|0\n  }\n})\n\nvar allFns = [\n  function (gl, v, x0) {\n    if (x0.length === undefined) {\n      return gl.vertexAttrib1f(v, x0)\n    } else {\n      return gl.vertexAttrib1fv(v, x0)\n    }\n  },\n\n  function (gl, v, x0, x1) {\n    if (x0.length === undefined) {\n      return gl.vertexAttrib2f(v, x0, x1)\n    } else {\n      return gl.vertexAttrib2fv(v, x0)\n    }\n  },\n\n  function (gl, v, x0, x1, x2) {\n    if (x0.length === undefined) {\n      return gl.vertexAttrib3f(v, x0, x1, x2)\n    } else {\n      return gl.vertexAttrib3fv(v, x0)\n    }\n  },\n\n  function (gl, v, x0, x1, x2, x3) {\n    if (x0.length === undefined) {\n      return gl.vertexAttrib4f(v, x0, x1, x2, x3)\n    } else {\n      return gl.vertexAttrib4fv(v, x0)\n    }\n  }\n]\n\n//Adds a vector attribute to obj\nfunction addVectorAttribute(\n    gl\n  , wrapper\n  , index\n  , locations\n  , dimension\n  , obj\n  , name) {\n\n  var constFunc = allFns[dimension]\n\n  //Create attribute wrapper\n  var attr = new ShaderAttribute(\n      gl\n    , wrapper\n    , index\n    , locations\n    , dimension\n    , constFunc)\n\n  //Create accessor\n  Object.defineProperty(obj, name, {\n    set: function(x) {\n      gl.disableVertexAttribArray(locations[index])\n      constFunc(gl, locations[index], x)\n      return x\n    }\n    , get: function() {\n      return attr\n    }\n    , enumerable: true\n  })\n}\n\nfunction addMatrixAttribute(\n    gl\n  , wrapper\n  , index\n  , locations\n  , dimension\n  , obj\n  , name) {\n\n  var parts = new Array(dimension)\n  var attrs = new Array(dimension)\n  for(var i=0; i<dimension; ++i) {\n    addVectorAttribute(\n        gl\n      , wrapper\n      , index[i]\n      , locations\n      , dimension\n      , parts\n      , i)\n    attrs[i] = parts[i]\n  }\n\n  Object.defineProperty(parts, 'location', {\n    set: function(v) {\n      if(Array.isArray(v)) {\n        for(var i=0; i<dimension; ++i) {\n          attrs[i].location = v[i]\n        }\n      } else {\n        for(var i=0; i<dimension; ++i) {\n          attrs[i].location = v + i\n        }\n      }\n      return v\n    }\n    , get: function() {\n      var result = new Array(dimension)\n      for(var i=0; i<dimension; ++i) {\n        result[i] = locations[index[i]]\n      }\n      return result\n    }\n    , enumerable: true\n  })\n\n  parts.pointer = function(type, normalized, stride, offset) {\n    type       = type || gl.FLOAT\n    normalized = !!normalized\n    stride     = stride || (dimension * dimension)\n    offset     = offset || 0\n    for(var i=0; i<dimension; ++i) {\n      var location = locations[index[i]]\n      gl.vertexAttribPointer(\n            location\n          , dimension\n          , type\n          , normalized\n          , stride\n          , offset + i * dimension)\n      gl.enableVertexAttribArray(location)\n    }\n  }\n\n  var scratch = new Array(dimension)\n  var vertexAttrib = gl['vertexAttrib' + dimension + 'fv']\n\n  Object.defineProperty(obj, name, {\n    set: function(x) {\n      for(var i=0; i<dimension; ++i) {\n        var loc = locations[index[i]]\n        gl.disableVertexAttribArray(loc)\n        if(Array.isArray(x[0])) {\n          vertexAttrib.call(gl, loc, x[i])\n        } else {\n          for(var j=0; j<dimension; ++j) {\n            scratch[j] = x[dimension*i + j]\n          }\n          vertexAttrib.call(gl, loc, scratch)\n        }\n      }\n      return x\n    }\n    , get: function() {\n      return parts\n    }\n    , enumerable: true\n  })\n}\n\n//Create shims for attributes\nfunction createAttributeWrapper(\n    gl\n  , wrapper\n  , attributes\n  , locations) {\n\n  var obj = {}\n  for(var i=0, n=attributes.length; i<n; ++i) {\n\n    var a = attributes[i]\n    var name = a.name\n    var type = a.type\n    var locs = a.locations\n\n    switch(type) {\n      case 'bool':\n      case 'int':\n      case 'float':\n        addVectorAttribute(\n            gl\n          , wrapper\n          , locs[0]\n          , locations\n          , 1\n          , obj\n          , name)\n      break\n\n      default:\n        if(type.indexOf('vec') >= 0) {\n          var d = type.charCodeAt(type.length-1) - 48\n          if(d < 2 || d > 4) {\n            throw new GLError('', 'Invalid data type for attribute ' + name + ': ' + type)\n          }\n          addVectorAttribute(\n              gl\n            , wrapper\n            , locs[0]\n            , locations\n            , d\n            , obj\n            , name)\n        } else if(type.indexOf('mat') >= 0) {\n          var d = type.charCodeAt(type.length-1) - 48\n          if(d < 2 || d > 4) {\n            throw new GLError('', 'Invalid data type for attribute ' + name + ': ' + type)\n          }\n          addMatrixAttribute(\n              gl\n            , wrapper\n            , locs\n            , locations\n            , d\n            , obj\n            , name)\n        } else {\n          throw new GLError('', 'Unknown data type for attribute ' + name + ': ' + type)\n        }\n      break\n    }\n  }\n  return obj\n}\n","'use strict'\n\nvar coallesceUniforms = require('./reflect')\nvar GLError = require(\"./GLError\")\n\nmodule.exports = createUniformWrapper\n\n//Binds a function and returns a value\nfunction identity(x) {\n  return function() {\n    return x\n  }\n}\n\nfunction makeVector(length, fill) {\n  var result = new Array(length)\n  for(var i=0; i<length; ++i) {\n    result[i] = fill\n  }\n  return result\n}\n\n//Create shims for uniforms\nfunction createUniformWrapper(gl, wrapper, uniforms, locations) {\n\n  function makeGetter(idx) {\n    return function(gl, wrapper, locations) {\n      return gl.getUniform(wrapper.program, locations[idx])\n    }\n  }\n\n  function makeSetter(type) {\n    return function updateProperty(obj){\n      var indices = enumerateIndices('', type)\n      for(var i=0; i<indices.length; ++i) {\n        var item = indices[i]\n        var path = item[0]\n        var idx  = item[1]\n        if(locations[idx]) {\n          var objPath =  obj\n          if(typeof path === 'string' && (\n            path.indexOf('.') === 0 ||\n            path.indexOf('[') === 0\n          )) {\n            var key = path\n            if(path.indexOf('.') === 0) {\n              key = path.slice(1)\n            }\n\n            if(key.indexOf(']') === key.length - 1) {\n              var j = key.indexOf('[')\n              var k1 = key.slice(0, j)\n              var k2 = key.slice(j + 1, key.length - 1)\n              objPath = k1? obj[k1][k2] : obj[k2]\n            } else {\n              objPath = obj[key]\n            }\n          }\n\n          var t = uniforms[idx].type\n          var d\n          switch(t) {\n            case 'bool':\n            case 'int':\n            case 'sampler2D':\n            case 'samplerCube':\n              gl.uniform1i(locations[idx], objPath)\n              break\n            case 'float':\n              gl.uniform1f(locations[idx], objPath)\n              break\n            default:\n              var vidx = t.indexOf('vec')\n              if(0 <= vidx && vidx <= 1 && t.length === 4 + vidx) {\n                d = t.charCodeAt(t.length-1) - 48\n                if(d < 2 || d > 4) {\n                  throw new GLError('', 'Invalid data type')\n                }\n                switch(t.charAt(0)) {\n                  case 'b':\n                  case 'i':\n                    gl['uniform' + d + 'iv'](locations[idx], objPath)\n                    break\n                  case 'v':\n                    gl['uniform' + d + 'fv'](locations[idx], objPath)\n                    break\n                  default:\n                    throw new GLError('', 'Unrecognized data type for vector ' + name + ': ' + t)\n                }\n              } else if(t.indexOf('mat') === 0 && t.length === 4) {\n                d = t.charCodeAt(t.length-1) - 48\n                if(d < 2 || d > 4) {\n                  throw new GLError('', 'Invalid uniform dimension type for matrix ' + name + ': ' + t)\n                }\n                gl['uniformMatrix' + d + 'fv'](locations[idx], false, objPath)\n                break\n              } else {\n                throw new GLError('', 'Unknown uniform data type for ' + name + ': ' + t)\n              }\n          }\n        }\n      }\n    }\n  }\n\n  function enumerateIndices(prefix, type) {\n    if(typeof type !== 'object') {\n      return [ [prefix, type] ]\n    }\n    var indices = []\n    for(var id in type) {\n      var prop = type[id]\n      var tprefix = prefix\n      if(parseInt(id) + '' === id) {\n        tprefix += '[' + id + ']'\n      } else {\n        tprefix += '.' + id\n      }\n      if(typeof prop === 'object') {\n        indices.push.apply(indices, enumerateIndices(tprefix, prop))\n      } else {\n        indices.push([tprefix, prop])\n      }\n    }\n    return indices\n  }\n\n\n  function defaultValue(type) {\n    switch(type) {\n      case 'bool':\n        return false\n      case 'int':\n      case 'sampler2D':\n      case 'samplerCube':\n        return 0\n      case 'float':\n        return 0.0\n      default:\n        var vidx = type.indexOf('vec')\n        if(0 <= vidx && vidx <= 1 && type.length === 4 + vidx) {\n          var d = type.charCodeAt(type.length-1) - 48\n          if(d < 2 || d > 4) {\n            throw new GLError('', 'Invalid data type')\n          }\n          if(type.charAt(0) === 'b') {\n            return makeVector(d, false)\n          }\n          return makeVector(d, 0)\n        } else if(type.indexOf('mat') === 0 && type.length === 4) {\n          var d = type.charCodeAt(type.length-1) - 48\n          if(d < 2 || d > 4) {\n            throw new GLError('', 'Invalid uniform dimension type for matrix ' + name + ': ' + type)\n          }\n          return makeVector(d*d, 0)\n        } else {\n          throw new GLError('', 'Unknown uniform data type for ' + name + ': ' + type)\n        }\n    }\n  }\n\n  function storeProperty(obj, prop, type) {\n    if(typeof type === 'object') {\n      var child = processObject(type)\n      Object.defineProperty(obj, prop, {\n        get: identity(child),\n        set: makeSetter(type),\n        enumerable: true,\n        configurable: false\n      })\n    } else {\n      if(locations[type]) {\n        Object.defineProperty(obj, prop, {\n          get: makeGetter(type),\n          set: makeSetter(type),\n          enumerable: true,\n          configurable: false\n        })\n      } else {\n        obj[prop] = defaultValue(uniforms[type].type)\n      }\n    }\n  }\n\n  function processObject(obj) {\n    var result\n    if(Array.isArray(obj)) {\n      result = new Array(obj.length)\n      for(var i=0; i<obj.length; ++i) {\n        storeProperty(result, i, obj[i])\n      }\n    } else {\n      result = {}\n      for(var id in obj) {\n        storeProperty(result, id, obj[id])\n      }\n    }\n    return result\n  }\n\n  //Return data\n  var coallesced = coallesceUniforms(uniforms, true)\n  return {\n    get: identity(processObject(coallesced)),\n    set: makeSetter(coallesced),\n    enumerable: true,\n    configurable: true\n  }\n}\n","'use strict'\n\nmodule.exports = makeReflectTypes\n\n//Construct type info for reflection.\n//\n// This iterates over the flattened list of uniform type values and smashes them into a JSON object.\n//\n// The leaves of the resulting object are either indices or type strings representing primitive glslify types\nfunction makeReflectTypes(uniforms, useIndex) {\n  var obj = {}\n  for(var i=0; i<uniforms.length; ++i) {\n    var n = uniforms[i].name\n    var parts = n.split(\".\")\n    var o = obj\n    for(var j=0; j<parts.length; ++j) {\n      var x = parts[j].split(\"[\")\n      if(x.length > 1) {\n        if(!(x[0] in o)) {\n          o[x[0]] = []\n        }\n        o = o[x[0]]\n        for(var k=1; k<x.length; ++k) {\n          var y = parseInt(x[k])\n          if(k<x.length-1 || j<parts.length-1) {\n            if(!(y in o)) {\n              if(k < x.length-1) {\n                o[y] = []\n              } else {\n                o[y] = {}\n              }\n            }\n            o = o[y]\n          } else {\n            if(useIndex) {\n              o[y] = i\n            } else {\n              o[y] = uniforms[i].type\n            }\n          }\n        }\n      } else if(j < parts.length-1) {\n        if(!(x[0] in o)) {\n          o[x[0]] = {}\n        }\n        o = o[x[0]]\n      } else {\n        if(useIndex) {\n          o[x[0]] = i\n        } else {\n          o[x[0]] = uniforms[i].type\n        }\n      }\n    }\n  }\n  return obj\n}","'use strict'\n\nexports.uniforms    = runtimeUniforms\nexports.attributes  = runtimeAttributes\n\nvar GL_TO_GLSL_TYPES = {\n  'FLOAT':       'float',\n  'FLOAT_VEC2':  'vec2',\n  'FLOAT_VEC3':  'vec3',\n  'FLOAT_VEC4':  'vec4',\n  'INT':         'int',\n  'INT_VEC2':    'ivec2',\n  'INT_VEC3':    'ivec3',\n  'INT_VEC4':    'ivec4',\n  'BOOL':        'bool',\n  'BOOL_VEC2':   'bvec2',\n  'BOOL_VEC3':   'bvec3',\n  'BOOL_VEC4':   'bvec4',\n  'FLOAT_MAT2':  'mat2',\n  'FLOAT_MAT3':  'mat3',\n  'FLOAT_MAT4':  'mat4',\n  'SAMPLER_2D':  'sampler2D',\n  'SAMPLER_CUBE':'samplerCube'\n}\n\nvar GL_TABLE = null\n\nfunction getType(gl, type) {\n  if(!GL_TABLE) {\n    var typeNames = Object.keys(GL_TO_GLSL_TYPES)\n    GL_TABLE = {}\n    for(var i=0; i<typeNames.length; ++i) {\n      var tn = typeNames[i]\n      GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn]\n    }\n  }\n  return GL_TABLE[type]\n}\n\nfunction runtimeUniforms(gl, program) {\n  var numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS)\n  var result = []\n  for(var i=0; i<numUniforms; ++i) {\n    var info = gl.getActiveUniform(program, i)\n    if(info) {\n      var type = getType(gl, info.type)\n      if(info.size > 1) {\n        for(var j=0; j<info.size; ++j) {\n          result.push({\n            name: info.name.replace('[0]', '[' + j + ']'),\n            type: type\n          })\n        }\n      } else {\n        result.push({\n          name: info.name,\n          type: type\n        })\n      }\n    }\n  }\n  return result\n}\n\nfunction runtimeAttributes(gl, program) {\n  var numAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES)\n  var result = []\n  for(var i=0; i<numAttributes; ++i) {\n    var info = gl.getActiveAttrib(program, i)\n    if(info) {\n      result.push({\n        name: info.name,\n        type: getType(gl, info.type)\n      })\n    }\n  }\n  return result\n}\n","'use strict'\n\nexports.shader   = getShaderReference\nexports.program  = createProgram\n\nvar GLError = require(\"./GLError\")\nvar formatCompilerError = require('gl-format-compiler-error');\n\nvar weakMap = typeof WeakMap === 'undefined' ? require('weakmap-shim') : WeakMap\nvar CACHE = new weakMap()\n\nvar SHADER_COUNTER = 0\n\nfunction ShaderReference(id, src, type, shader, programs, count, cache) {\n  this.id       = id\n  this.src      = src\n  this.type     = type\n  this.shader   = shader\n  this.count    = count\n  this.programs = []\n  this.cache    = cache\n}\n\nShaderReference.prototype.dispose = function() {\n  if(--this.count === 0) {\n    var cache    = this.cache\n    var gl       = cache.gl\n\n    //Remove program references\n    var programs = this.programs\n    for(var i=0, n=programs.length; i<n; ++i) {\n      var p = cache.programs[programs[i]]\n      if(p) {\n        delete cache.programs[i]\n        gl.deleteProgram(p)\n      }\n    }\n\n    //Remove shader reference\n    gl.deleteShader(this.shader)\n    delete cache.shaders[(this.type === gl.FRAGMENT_SHADER)|0][this.src]\n  }\n}\n\nfunction ContextCache(gl) {\n  this.gl       = gl\n  this.shaders  = [{}, {}]\n  this.programs = {}\n}\n\nvar proto = ContextCache.prototype\n\nfunction compileShader(gl, type, src) {\n  var shader = gl.createShader(type)\n  gl.shaderSource(shader, src)\n  gl.compileShader(shader)\n  if(!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    var errLog = gl.getShaderInfoLog(shader)\n    try {\n        var fmt = formatCompilerError(errLog, src, type);\n    } catch (e){\n        console.warn('Failed to format compiler error: ' + e);\n        throw new GLError(errLog, 'Error compiling shader:\\n' + errLog)\n    }\n    throw new GLError(errLog, fmt.short, fmt.long)\n  }\n  return shader\n}\n\nproto.getShaderReference = function(type, src) {\n  var gl      = this.gl\n  var shaders = this.shaders[(type === gl.FRAGMENT_SHADER)|0]\n  var shader  = shaders[src]\n  if(!shader || !gl.isShader(shader.shader)) {\n    var shaderObj = compileShader(gl, type, src)\n    shader = shaders[src] = new ShaderReference(\n      SHADER_COUNTER++,\n      src,\n      type,\n      shaderObj,\n      [],\n      1,\n      this)\n  } else {\n    shader.count += 1\n  }\n  return shader\n}\n\nfunction linkProgram(gl, vshader, fshader, attribs, locations) {\n  var program = gl.createProgram()\n  gl.attachShader(program, vshader)\n  gl.attachShader(program, fshader)\n  for(var i=0; i<attribs.length; ++i) {\n    gl.bindAttribLocation(program, locations[i], attribs[i])\n  }\n  gl.linkProgram(program)\n  if(!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    var errLog = gl.getProgramInfoLog(program)\n    throw new GLError(errLog, 'Error linking program: ' + errLog)\n  }\n  return program\n}\n\nproto.getProgram = function(vref, fref, attribs, locations) {\n  var token = [vref.id, fref.id, attribs.join(':'), locations.join(':')].join('@')\n  var prog  = this.programs[token]\n  if(!prog || !this.gl.isProgram(prog)) {\n    this.programs[token] = prog = linkProgram(\n      this.gl,\n      vref.shader,\n      fref.shader,\n      attribs,\n      locations)\n    vref.programs.push(token)\n    fref.programs.push(token)\n  }\n  return prog\n}\n\nfunction getCache(gl) {\n  var ctxCache = CACHE.get(gl)\n  if(!ctxCache) {\n    ctxCache = new ContextCache(gl)\n    CACHE.set(gl, ctxCache)\n  }\n  return ctxCache\n}\n\nfunction getShaderReference(gl, type, src) {\n  return getCache(gl).getShaderReference(type, src)\n}\n\nfunction createProgram(gl, vref, fref, attribs, locations) {\n  return getCache(gl).getProgram(vref, fref, attribs, locations)\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _glShader = require(\"gl-shader\");\n\nvar _glShader2 = _interopRequireDefault(_glShader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar VERT = \"attribute vec2 _p;\\nvarying vec2 _uv;\\nvoid main() {\\ngl_Position = vec4(_p,0.0,1.0);\\n_uv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));\\n}\";\n\n// these functions make a GLSL code that map the texture2D uv to preserve ratio for a given ${r} image ratio.\n// there are different modes:\nvar resizeModes = {\n  cover: function cover(r) {\n    return \".5+(uv-.5)*vec2(min(ratio/\" + r + \",1.),min(\" + r + \"/ratio,1.))\";\n  },\n  contain: function contain(r) {\n    return \".5+(uv-.5)*vec2(max(ratio/\" + r + \",1.),max(\" + r + \"/ratio,1.))\";\n  },\n  stretch: function stretch() {\n    return \"uv\";\n  }\n};\n\nvar makeFrag = function makeFrag(transitionGlsl, resizeMode) {\n  var r = resizeModes[resizeMode];\n  if (!r) throw new Error(\"invalid resizeMode=\" + resizeMode);\n  return \"precision highp float;varying vec2 _uv;uniform sampler2D from, to;uniform float progress, ratio, _fromR, _toR;vec4 getFromColor(vec2 uv){return texture2D(from,\" + r(\"_fromR\") + \");}vec4 getToColor(vec2 uv){return texture2D(to,\" + r(\"_toR\") + \");}\\n\" + transitionGlsl + \"\\nvoid main(){gl_FragColor=transition(_uv);}\";\n};\n\nexports.default = function (gl, transition) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var _resizeMode$options = _extends({ resizeMode: \"cover\" }, options),\n      resizeMode = _resizeMode$options.resizeMode;\n\n  var shader = (0, _glShader2.default)(gl, VERT, makeFrag(transition.glsl, resizeMode));\n  shader.bind();\n  shader.attributes._p.pointer();\n\n  return {\n    draw: function draw(progress, from, to) {\n      var width = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : gl.drawingBufferWidth;\n      var height = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : gl.drawingBufferHeight;\n      var params = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      shader.bind();\n      shader.uniforms.ratio = width / height;\n      shader.uniforms.progress = progress;\n      shader.uniforms.from = from.bind(0);\n      shader.uniforms.to = to.bind(1);\n      shader.uniforms._fromR = from.shape[0] / from.shape[1];\n      shader.uniforms._toR = to.shape[0] / to.shape[1];\n      var unit = 2;\n      for (var _key in transition.paramsTypes) {\n        var value = _key in params ? params[_key] : transition.defaultParams[_key];\n        if (transition.paramsTypes[_key] === \"sampler2D\") {\n          if (!value) {\n            console.warn(\"uniform[\" + _key + \"]: A texture MUST be defined for uniform sampler2D of a texture\");\n          } else if (typeof value.bind !== \"function\") {\n            throw new Error(\"uniform[\" + _key + \"]: A gl-texture2d API-like object was expected\");\n          } else {\n            shader.uniforms[_key] = value.bind(unit++);\n          }\n        } else {\n          shader.uniforms[_key] = value;\n        }\n      }\n      gl.drawArrays(gl.TRIANGLES, 0, 3);\n    },\n    dispose: function dispose() {\n      shader.dispose();\n    }\n  };\n};","var tokenize = require('glsl-tokenizer')\nvar atob     = require('atob-lite')\n\nmodule.exports = getName\n\nfunction getName(src) {\n  var tokens = Array.isArray(src)\n    ? src\n    : tokenize(src)\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n    if (token.type !== 'preprocessor') continue\n    var match = token.data.match(/\\#define\\s+SHADER_NAME(_B64)?\\s+(.+)$/)\n    if (!match) continue\n    if (!match[2]) continue\n\n    var b64  = match[1]\n    var name = match[2]\n\n    return (b64 ? atob(name) : name).trim()\n  }\n}\n","module.exports = tokenize\r\n\r\nvar literals100 = require('./lib/literals')\r\n  , operators = require('./lib/operators')\r\n  , builtins100 = require('./lib/builtins')\r\n  , literals300es = require('./lib/literals-300es')\r\n  , builtins300es = require('./lib/builtins-300es')\r\n\r\nvar NORMAL = 999          // <-- never emitted\r\n  , TOKEN = 9999          // <-- never emitted\r\n  , BLOCK_COMMENT = 0\r\n  , LINE_COMMENT = 1\r\n  , PREPROCESSOR = 2\r\n  , OPERATOR = 3\r\n  , INTEGER = 4\r\n  , FLOAT = 5\r\n  , IDENT = 6\r\n  , BUILTIN = 7\r\n  , KEYWORD = 8\r\n  , WHITESPACE = 9\r\n  , EOF = 10\r\n  , HEX = 11\r\n\r\nvar map = [\r\n    'block-comment'\r\n  , 'line-comment'\r\n  , 'preprocessor'\r\n  , 'operator'\r\n  , 'integer'\r\n  , 'float'\r\n  , 'ident'\r\n  , 'builtin'\r\n  , 'keyword'\r\n  , 'whitespace'\r\n  , 'eof'\r\n  , 'integer'\r\n]\r\n\r\nfunction tokenize(opt) {\r\n  var i = 0\r\n    , total = 0\r\n    , mode = NORMAL\r\n    , c\r\n    , last\r\n    , content = []\r\n    , tokens = []\r\n    , token_idx = 0\r\n    , token_offs = 0\r\n    , line = 1\r\n    , col = 0\r\n    , start = 0\r\n    , isnum = false\r\n    , isoperator = false\r\n    , input = ''\r\n    , len\r\n\r\n  opt = opt || {}\r\n  var allBuiltins = builtins100\r\n  var allLiterals = literals100\r\n  if (opt.version === '300 es') {\r\n    allBuiltins = builtins300es\r\n    allLiterals = literals300es\r\n  }\r\n\r\n  // cache by name\r\n  var builtinsDict = {}, literalsDict = {}\r\n  for (var i = 0; i < allBuiltins.length; i++) {\r\n    builtinsDict[allBuiltins[i]] = true\r\n  }\r\n  for (var i = 0; i < allLiterals.length; i++) {\r\n    literalsDict[allLiterals[i]] = true\r\n  }\r\n\r\n  return function(data) {\r\n    tokens = []\r\n    if (data !== null) return write(data)\r\n    return end()\r\n  }\r\n\r\n  function token(data) {\r\n    if (data.length) {\r\n      tokens.push({\r\n        type: map[mode]\r\n      , data: data\r\n      , position: start\r\n      , line: line\r\n      , column: col\r\n      })\r\n    }\r\n  }\r\n\r\n  function write(chunk) {\r\n    i = 0\r\n\r\n    if (chunk.toString) chunk = chunk.toString()\r\n\r\n    input += chunk.replace(/\\r\\n/g, '\\n')\r\n    len = input.length\r\n\r\n\r\n    var last\r\n\r\n    while(c = input[i], i < len) {\r\n      last = i\r\n\r\n      switch(mode) {\r\n        case BLOCK_COMMENT: i = block_comment(); break\r\n        case LINE_COMMENT: i = line_comment(); break\r\n        case PREPROCESSOR: i = preprocessor(); break\r\n        case OPERATOR: i = operator(); break\r\n        case INTEGER: i = integer(); break\r\n        case HEX: i = hex(); break\r\n        case FLOAT: i = decimal(); break\r\n        case TOKEN: i = readtoken(); break\r\n        case WHITESPACE: i = whitespace(); break\r\n        case NORMAL: i = normal(); break\r\n      }\r\n\r\n      if(last !== i) {\r\n        switch(input[last]) {\r\n          case '\\n': col = 0; ++line; break\r\n          default: ++col; break\r\n        }\r\n      }\r\n    }\r\n\r\n    total += i\r\n    input = input.slice(i)\r\n    return tokens\r\n  }\r\n\r\n  function end(chunk) {\r\n    if(content.length) {\r\n      token(content.join(''))\r\n    }\r\n\r\n    mode = EOF\r\n    token('(eof)')\r\n    return tokens\r\n  }\r\n\r\n  function normal() {\r\n    content = content.length ? [] : content\r\n\r\n    if(last === '/' && c === '*') {\r\n      start = total + i - 1\r\n      mode = BLOCK_COMMENT\r\n      last = c\r\n      return i + 1\r\n    }\r\n\r\n    if(last === '/' && c === '/') {\r\n      start = total + i - 1\r\n      mode = LINE_COMMENT\r\n      last = c\r\n      return i + 1\r\n    }\r\n\r\n    if(c === '#') {\r\n      mode = PREPROCESSOR\r\n      start = total + i\r\n      return i\r\n    }\r\n\r\n    if(/\\s/.test(c)) {\r\n      mode = WHITESPACE\r\n      start = total + i\r\n      return i\r\n    }\r\n\r\n    isnum = /\\d/.test(c)\r\n    isoperator = /[^\\w_]/.test(c)\r\n\r\n    start = total + i\r\n    mode = isnum ? INTEGER : isoperator ? OPERATOR : TOKEN\r\n    return i\r\n  }\r\n\r\n  function whitespace() {\r\n    if(/[^\\s]/g.test(c)) {\r\n      token(content.join(''))\r\n      mode = NORMAL\r\n      return i\r\n    }\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n\r\n  function preprocessor() {\r\n    if((c === '\\r' || c === '\\n') && last !== '\\\\') {\r\n      token(content.join(''))\r\n      mode = NORMAL\r\n      return i\r\n    }\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n\r\n  function line_comment() {\r\n    return preprocessor()\r\n  }\r\n\r\n  function block_comment() {\r\n    if(c === '/' && last === '*') {\r\n      content.push(c)\r\n      token(content.join(''))\r\n      mode = NORMAL\r\n      return i + 1\r\n    }\r\n\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n\r\n  function operator() {\r\n    if(last === '.' && /\\d/.test(c)) {\r\n      mode = FLOAT\r\n      return i\r\n    }\r\n\r\n    if(last === '/' && c === '*') {\r\n      mode = BLOCK_COMMENT\r\n      return i\r\n    }\r\n\r\n    if(last === '/' && c === '/') {\r\n      mode = LINE_COMMENT\r\n      return i\r\n    }\r\n\r\n    if(c === '.' && content.length) {\r\n      while(determine_operator(content));\r\n\r\n      mode = FLOAT\r\n      return i\r\n    }\r\n\r\n    if(c === ';' || c === ')' || c === '(') {\r\n      if(content.length) while(determine_operator(content));\r\n      token(c)\r\n      mode = NORMAL\r\n      return i + 1\r\n    }\r\n\r\n    var is_composite_operator = content.length === 2 && c !== '='\r\n    if(/[\\w_\\d\\s]/.test(c) || is_composite_operator) {\r\n      while(determine_operator(content));\r\n      mode = NORMAL\r\n      return i\r\n    }\r\n\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n\r\n  function determine_operator(buf) {\r\n    var j = 0\r\n      , idx\r\n      , res\r\n\r\n    do {\r\n      idx = operators.indexOf(buf.slice(0, buf.length + j).join(''))\r\n      res = operators[idx]\r\n\r\n      if(idx === -1) {\r\n        if(j-- + buf.length > 0) continue\r\n        res = buf.slice(0, 1).join('')\r\n      }\r\n\r\n      token(res)\r\n\r\n      start += res.length\r\n      content = content.slice(res.length)\r\n      return content.length\r\n    } while(1)\r\n  }\r\n\r\n  function hex() {\r\n    if(/[^a-fA-F0-9]/.test(c)) {\r\n      token(content.join(''))\r\n      mode = NORMAL\r\n      return i\r\n    }\r\n\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n\r\n  function integer() {\r\n    if(c === '.') {\r\n      content.push(c)\r\n      mode = FLOAT\r\n      last = c\r\n      return i + 1\r\n    }\r\n\r\n    if(/[eE]/.test(c)) {\r\n      content.push(c)\r\n      mode = FLOAT\r\n      last = c\r\n      return i + 1\r\n    }\r\n\r\n    if(c === 'x' && content.length === 1 && content[0] === '0') {\r\n      mode = HEX\r\n      content.push(c)\r\n      last = c\r\n      return i + 1\r\n    }\r\n\r\n    if(/[^\\d]/.test(c)) {\r\n      token(content.join(''))\r\n      mode = NORMAL\r\n      return i\r\n    }\r\n\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n\r\n  function decimal() {\r\n    if(c === 'f') {\r\n      content.push(c)\r\n      last = c\r\n      i += 1\r\n    }\r\n\r\n    if(/[eE]/.test(c)) {\r\n      content.push(c)\r\n      last = c\r\n      return i + 1\r\n    }\r\n\r\n    if ((c === '-' || c === '+') && /[eE]/.test(last)) {\r\n      content.push(c)\r\n      last = c\r\n      return i + 1\r\n    }\r\n\r\n    if(/[^\\d]/.test(c)) {\r\n      token(content.join(''))\r\n      mode = NORMAL\r\n      return i\r\n    }\r\n\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n\r\n  function readtoken() {\r\n    if(/[^\\d\\w_]/.test(c)) {\r\n      var contentstr = content.join('')\r\n      if(literalsDict[contentstr]) {\r\n        mode = KEYWORD\r\n      } else if(builtinsDict[contentstr]) {\r\n        mode = BUILTIN\r\n      } else {\r\n        mode = IDENT\r\n      }\r\n      token(content.join(''))\r\n      mode = NORMAL\r\n      return i\r\n    }\r\n    content.push(c)\r\n    last = c\r\n    return i + 1\r\n  }\r\n}\r\n","// 300es builtins/reserved words that were previously valid in v100\r\nvar v100 = require('./builtins')\r\n\r\n// The texture2D|Cube functions have been removed\r\n// And the gl_ features are updated\r\nv100 = v100.slice().filter(function (b) {\r\n  return !/^(gl\\_|texture)/.test(b)\r\n})\r\n\r\nmodule.exports = v100.concat([\r\n  // the updated gl_ constants\r\n    'gl_VertexID'\r\n  , 'gl_InstanceID'\r\n  , 'gl_Position'\r\n  , 'gl_PointSize'\r\n  , 'gl_FragCoord'\r\n  , 'gl_FrontFacing'\r\n  , 'gl_FragDepth'\r\n  , 'gl_PointCoord'\r\n  , 'gl_MaxVertexAttribs'\r\n  , 'gl_MaxVertexUniformVectors'\r\n  , 'gl_MaxVertexOutputVectors'\r\n  , 'gl_MaxFragmentInputVectors'\r\n  , 'gl_MaxVertexTextureImageUnits'\r\n  , 'gl_MaxCombinedTextureImageUnits'\r\n  , 'gl_MaxTextureImageUnits'\r\n  , 'gl_MaxFragmentUniformVectors'\r\n  , 'gl_MaxDrawBuffers'\r\n  , 'gl_MinProgramTexelOffset'\r\n  , 'gl_MaxProgramTexelOffset'\r\n  , 'gl_DepthRangeParameters'\r\n  , 'gl_DepthRange'\r\n\r\n  // other builtins\r\n  , 'trunc'\r\n  , 'round'\r\n  , 'roundEven'\r\n  , 'isnan'\r\n  , 'isinf'\r\n  , 'floatBitsToInt'\r\n  , 'floatBitsToUint'\r\n  , 'intBitsToFloat'\r\n  , 'uintBitsToFloat'\r\n  , 'packSnorm2x16'\r\n  , 'unpackSnorm2x16'\r\n  , 'packUnorm2x16'\r\n  , 'unpackUnorm2x16'\r\n  , 'packHalf2x16'\r\n  , 'unpackHalf2x16'\r\n  , 'outerProduct'\r\n  , 'transpose'\r\n  , 'determinant'\r\n  , 'inverse'\r\n  , 'texture'\r\n  , 'textureSize'\r\n  , 'textureProj'\r\n  , 'textureLod'\r\n  , 'textureOffset'\r\n  , 'texelFetch'\r\n  , 'texelFetchOffset'\r\n  , 'textureProjOffset'\r\n  , 'textureLodOffset'\r\n  , 'textureProjLod'\r\n  , 'textureProjLodOffset'\r\n  , 'textureGrad'\r\n  , 'textureGradOffset'\r\n  , 'textureProjGrad'\r\n  , 'textureProjGradOffset'\r\n])\r\n","module.exports = [\r\n  // Keep this list sorted\r\n  'abs'\r\n  , 'acos'\r\n  , 'all'\r\n  , 'any'\r\n  , 'asin'\r\n  , 'atan'\r\n  , 'ceil'\r\n  , 'clamp'\r\n  , 'cos'\r\n  , 'cross'\r\n  , 'dFdx'\r\n  , 'dFdy'\r\n  , 'degrees'\r\n  , 'distance'\r\n  , 'dot'\r\n  , 'equal'\r\n  , 'exp'\r\n  , 'exp2'\r\n  , 'faceforward'\r\n  , 'floor'\r\n  , 'fract'\r\n  , 'gl_BackColor'\r\n  , 'gl_BackLightModelProduct'\r\n  , 'gl_BackLightProduct'\r\n  , 'gl_BackMaterial'\r\n  , 'gl_BackSecondaryColor'\r\n  , 'gl_ClipPlane'\r\n  , 'gl_ClipVertex'\r\n  , 'gl_Color'\r\n  , 'gl_DepthRange'\r\n  , 'gl_DepthRangeParameters'\r\n  , 'gl_EyePlaneQ'\r\n  , 'gl_EyePlaneR'\r\n  , 'gl_EyePlaneS'\r\n  , 'gl_EyePlaneT'\r\n  , 'gl_Fog'\r\n  , 'gl_FogCoord'\r\n  , 'gl_FogFragCoord'\r\n  , 'gl_FogParameters'\r\n  , 'gl_FragColor'\r\n  , 'gl_FragCoord'\r\n  , 'gl_FragData'\r\n  , 'gl_FragDepth'\r\n  , 'gl_FragDepthEXT'\r\n  , 'gl_FrontColor'\r\n  , 'gl_FrontFacing'\r\n  , 'gl_FrontLightModelProduct'\r\n  , 'gl_FrontLightProduct'\r\n  , 'gl_FrontMaterial'\r\n  , 'gl_FrontSecondaryColor'\r\n  , 'gl_LightModel'\r\n  , 'gl_LightModelParameters'\r\n  , 'gl_LightModelProducts'\r\n  , 'gl_LightProducts'\r\n  , 'gl_LightSource'\r\n  , 'gl_LightSourceParameters'\r\n  , 'gl_MaterialParameters'\r\n  , 'gl_MaxClipPlanes'\r\n  , 'gl_MaxCombinedTextureImageUnits'\r\n  , 'gl_MaxDrawBuffers'\r\n  , 'gl_MaxFragmentUniformComponents'\r\n  , 'gl_MaxLights'\r\n  , 'gl_MaxTextureCoords'\r\n  , 'gl_MaxTextureImageUnits'\r\n  , 'gl_MaxTextureUnits'\r\n  , 'gl_MaxVaryingFloats'\r\n  , 'gl_MaxVertexAttribs'\r\n  , 'gl_MaxVertexTextureImageUnits'\r\n  , 'gl_MaxVertexUniformComponents'\r\n  , 'gl_ModelViewMatrix'\r\n  , 'gl_ModelViewMatrixInverse'\r\n  , 'gl_ModelViewMatrixInverseTranspose'\r\n  , 'gl_ModelViewMatrixTranspose'\r\n  , 'gl_ModelViewProjectionMatrix'\r\n  , 'gl_ModelViewProjectionMatrixInverse'\r\n  , 'gl_ModelViewProjectionMatrixInverseTranspose'\r\n  , 'gl_ModelViewProjectionMatrixTranspose'\r\n  , 'gl_MultiTexCoord0'\r\n  , 'gl_MultiTexCoord1'\r\n  , 'gl_MultiTexCoord2'\r\n  , 'gl_MultiTexCoord3'\r\n  , 'gl_MultiTexCoord4'\r\n  , 'gl_MultiTexCoord5'\r\n  , 'gl_MultiTexCoord6'\r\n  , 'gl_MultiTexCoord7'\r\n  , 'gl_Normal'\r\n  , 'gl_NormalMatrix'\r\n  , 'gl_NormalScale'\r\n  , 'gl_ObjectPlaneQ'\r\n  , 'gl_ObjectPlaneR'\r\n  , 'gl_ObjectPlaneS'\r\n  , 'gl_ObjectPlaneT'\r\n  , 'gl_Point'\r\n  , 'gl_PointCoord'\r\n  , 'gl_PointParameters'\r\n  , 'gl_PointSize'\r\n  , 'gl_Position'\r\n  , 'gl_ProjectionMatrix'\r\n  , 'gl_ProjectionMatrixInverse'\r\n  , 'gl_ProjectionMatrixInverseTranspose'\r\n  , 'gl_ProjectionMatrixTranspose'\r\n  , 'gl_SecondaryColor'\r\n  , 'gl_TexCoord'\r\n  , 'gl_TextureEnvColor'\r\n  , 'gl_TextureMatrix'\r\n  , 'gl_TextureMatrixInverse'\r\n  , 'gl_TextureMatrixInverseTranspose'\r\n  , 'gl_TextureMatrixTranspose'\r\n  , 'gl_Vertex'\r\n  , 'greaterThan'\r\n  , 'greaterThanEqual'\r\n  , 'inversesqrt'\r\n  , 'length'\r\n  , 'lessThan'\r\n  , 'lessThanEqual'\r\n  , 'log'\r\n  , 'log2'\r\n  , 'matrixCompMult'\r\n  , 'max'\r\n  , 'min'\r\n  , 'mix'\r\n  , 'mod'\r\n  , 'normalize'\r\n  , 'not'\r\n  , 'notEqual'\r\n  , 'pow'\r\n  , 'radians'\r\n  , 'reflect'\r\n  , 'refract'\r\n  , 'sign'\r\n  , 'sin'\r\n  , 'smoothstep'\r\n  , 'sqrt'\r\n  , 'step'\r\n  , 'tan'\r\n  , 'texture2D'\r\n  , 'texture2DLod'\r\n  , 'texture2DProj'\r\n  , 'texture2DProjLod'\r\n  , 'textureCube'\r\n  , 'textureCubeLod'\r\n  , 'texture2DLodEXT'\r\n  , 'texture2DProjLodEXT'\r\n  , 'textureCubeLodEXT'\r\n  , 'texture2DGradEXT'\r\n  , 'texture2DProjGradEXT'\r\n  , 'textureCubeGradEXT'\r\n]\r\n","var v100 = require('./literals')\r\n\r\nmodule.exports = v100.slice().concat([\r\n   'layout'\r\n  , 'centroid'\r\n  , 'smooth'\r\n  , 'case'\r\n  , 'mat2x2'\r\n  , 'mat2x3'\r\n  , 'mat2x4'\r\n  , 'mat3x2'\r\n  , 'mat3x3'\r\n  , 'mat3x4'\r\n  , 'mat4x2'\r\n  , 'mat4x3'\r\n  , 'mat4x4'\r\n  , 'uvec2'\r\n  , 'uvec3'\r\n  , 'uvec4'\r\n  , 'samplerCubeShadow'\r\n  , 'sampler2DArray'\r\n  , 'sampler2DArrayShadow'\r\n  , 'isampler2D'\r\n  , 'isampler3D'\r\n  , 'isamplerCube'\r\n  , 'isampler2DArray'\r\n  , 'usampler2D'\r\n  , 'usampler3D'\r\n  , 'usamplerCube'\r\n  , 'usampler2DArray'\r\n  , 'coherent'\r\n  , 'restrict'\r\n  , 'readonly'\r\n  , 'writeonly'\r\n  , 'resource'\r\n  , 'atomic_uint'\r\n  , 'noperspective'\r\n  , 'patch'\r\n  , 'sample'\r\n  , 'subroutine'\r\n  , 'common'\r\n  , 'partition'\r\n  , 'active'\r\n  , 'filter'\r\n  , 'image1D'\r\n  , 'image2D'\r\n  , 'image3D'\r\n  , 'imageCube'\r\n  , 'iimage1D'\r\n  , 'iimage2D'\r\n  , 'iimage3D'\r\n  , 'iimageCube'\r\n  , 'uimage1D'\r\n  , 'uimage2D'\r\n  , 'uimage3D'\r\n  , 'uimageCube'\r\n  , 'image1DArray'\r\n  , 'image2DArray'\r\n  , 'iimage1DArray'\r\n  , 'iimage2DArray'\r\n  , 'uimage1DArray'\r\n  , 'uimage2DArray'\r\n  , 'image1DShadow'\r\n  , 'image2DShadow'\r\n  , 'image1DArrayShadow'\r\n  , 'image2DArrayShadow'\r\n  , 'imageBuffer'\r\n  , 'iimageBuffer'\r\n  , 'uimageBuffer'\r\n  , 'sampler1DArray'\r\n  , 'sampler1DArrayShadow'\r\n  , 'isampler1D'\r\n  , 'isampler1DArray'\r\n  , 'usampler1D'\r\n  , 'usampler1DArray'\r\n  , 'isampler2DRect'\r\n  , 'usampler2DRect'\r\n  , 'samplerBuffer'\r\n  , 'isamplerBuffer'\r\n  , 'usamplerBuffer'\r\n  , 'sampler2DMS'\r\n  , 'isampler2DMS'\r\n  , 'usampler2DMS'\r\n  , 'sampler2DMSArray'\r\n  , 'isampler2DMSArray'\r\n  , 'usampler2DMSArray'\r\n])\r\n","module.exports = [\r\n  // current\r\n    'precision'\r\n  , 'highp'\r\n  , 'mediump'\r\n  , 'lowp'\r\n  , 'attribute'\r\n  , 'const'\r\n  , 'uniform'\r\n  , 'varying'\r\n  , 'break'\r\n  , 'continue'\r\n  , 'do'\r\n  , 'for'\r\n  , 'while'\r\n  , 'if'\r\n  , 'else'\r\n  , 'in'\r\n  , 'out'\r\n  , 'inout'\r\n  , 'float'\r\n  , 'int'\r\n  , 'uint'\r\n  , 'void'\r\n  , 'bool'\r\n  , 'true'\r\n  , 'false'\r\n  , 'discard'\r\n  , 'return'\r\n  , 'mat2'\r\n  , 'mat3'\r\n  , 'mat4'\r\n  , 'vec2'\r\n  , 'vec3'\r\n  , 'vec4'\r\n  , 'ivec2'\r\n  , 'ivec3'\r\n  , 'ivec4'\r\n  , 'bvec2'\r\n  , 'bvec3'\r\n  , 'bvec4'\r\n  , 'sampler1D'\r\n  , 'sampler2D'\r\n  , 'sampler3D'\r\n  , 'samplerCube'\r\n  , 'sampler1DShadow'\r\n  , 'sampler2DShadow'\r\n  , 'struct'\r\n\r\n  // future\r\n  , 'asm'\r\n  , 'class'\r\n  , 'union'\r\n  , 'enum'\r\n  , 'typedef'\r\n  , 'template'\r\n  , 'this'\r\n  , 'packed'\r\n  , 'goto'\r\n  , 'switch'\r\n  , 'default'\r\n  , 'inline'\r\n  , 'noinline'\r\n  , 'volatile'\r\n  , 'public'\r\n  , 'static'\r\n  , 'extern'\r\n  , 'external'\r\n  , 'interface'\r\n  , 'long'\r\n  , 'short'\r\n  , 'double'\r\n  , 'half'\r\n  , 'fixed'\r\n  , 'unsigned'\r\n  , 'input'\r\n  , 'output'\r\n  , 'hvec2'\r\n  , 'hvec3'\r\n  , 'hvec4'\r\n  , 'dvec2'\r\n  , 'dvec3'\r\n  , 'dvec4'\r\n  , 'fvec2'\r\n  , 'fvec3'\r\n  , 'fvec4'\r\n  , 'sampler2DRect'\r\n  , 'sampler3DRect'\r\n  , 'sampler2DRectShadow'\r\n  , 'sizeof'\r\n  , 'cast'\r\n  , 'namespace'\r\n  , 'using'\r\n]\r\n","module.exports = [\r\n    '<<='\r\n  , '>>='\r\n  , '++'\r\n  , '--'\r\n  , '<<'\r\n  , '>>'\r\n  , '<='\r\n  , '>='\r\n  , '=='\r\n  , '!='\r\n  , '&&'\r\n  , '||'\r\n  , '+='\r\n  , '-='\r\n  , '*='\r\n  , '/='\r\n  , '%='\r\n  , '&='\r\n  , '^^'\r\n  , '^='\r\n  , '|='\r\n  , '('\r\n  , ')'\r\n  , '['\r\n  , ']'\r\n  , '.'\r\n  , '!'\r\n  , '~'\r\n  , '*'\r\n  , '/'\r\n  , '%'\r\n  , '+'\r\n  , '-'\r\n  , '<'\r\n  , '>'\r\n  , '&'\r\n  , '^'\r\n  , '|'\r\n  , '?'\r\n  , ':'\r\n  , '='\r\n  , ','\r\n  , ';'\r\n  , '{'\r\n  , '}'\r\n]\r\n","var tokenize = require('./index')\r\n\r\nmodule.exports = tokenizeString\r\n\r\nfunction tokenizeString(str, opt) {\r\n  var generator = tokenize(opt)\r\n  var tokens = []\r\n\r\n  tokens = tokens.concat(generator(str))\r\n  tokens = tokens.concat(generator(null))\r\n\r\n  return tokens\r\n}\r\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","/*!\n\nJSZip v3.7.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/master/LICENSE\n*/\n\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=t()}}(function(){return function s(a,o,h){function u(r,t){if(!o[r]){if(!a[r]){var e=\"function\"==typeof require&&require;if(!t&&e)return e(r,!0);if(l)return l(r,!0);var i=new Error(\"Cannot find module '\"+r+\"'\");throw i.code=\"MODULE_NOT_FOUND\",i}var n=o[r]={exports:{}};a[r][0].call(n.exports,function(t){var e=a[r][1][t];return u(e||t)},n,n.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,r){\"use strict\";var c=t(\"./utils\"),d=t(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(t){for(var e,r,i,n,s,a,o,h=[],u=0,l=t.length,f=l,d=\"string\"!==c.getTypeOf(t);u<t.length;)f=l-u,i=d?(e=t[u++],r=u<l?t[u++]:0,u<l?t[u++]:0):(e=t.charCodeAt(u++),r=u<l?t.charCodeAt(u++):0,u<l?t.charCodeAt(u++):0),n=e>>2,s=(3&e)<<4|r>>4,a=1<f?(15&r)<<2|i>>6:64,o=2<f?63&i:64,h.push(p.charAt(n)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(t){var e,r,i,n,s,a,o=0,h=0,u=\"data:\";if(t.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(t.charAt(t.length-1)===p.charAt(64)&&f--,t.charAt(t.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=d.uint8array?new Uint8Array(0|f):new Array(0|f);o<t.length;)e=p.indexOf(t.charAt(o++))<<2|(n=p.indexOf(t.charAt(o++)))>>4,r=(15&n)<<4|(s=p.indexOf(t.charAt(o++)))>>2,i=(3&s)<<6|(a=p.indexOf(t.charAt(o++))),l[h++]=e,64!==s&&(l[h++]=r),64!==a&&(l[h++]=i);return l}},{\"./support\":30,\"./utils\":32}],2:[function(t,e,r){\"use strict\";var i=t(\"./external\"),n=t(\"./stream/DataWorker\"),s=t(\"./stream/Crc32Probe\"),a=t(\"./stream/DataLengthProbe\");function o(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}o.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),e=this;return t.on(\"end\",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(t,e,r){return t.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(e.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",e)},e.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(t,e,r){\"use strict\";var i=t(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(t){return new i(\"STORE compression\")},uncompressWorker:function(){return new i(\"STORE decompression\")}},r.DEFLATE=t(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(t,e,r){\"use strict\";var i=t(\"./utils\");var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?\"string\"!==i.getTypeOf(t)?function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},{\"./utils\":32}],5:[function(t,e,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){\"use strict\";var i=null;i=\"undefined\"!=typeof Promise?Promise:t(\"lie\"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,n=t(\"pako\"),s=t(\"./utils\"),a=t(\"./stream/GenericWorker\"),o=i?\"uint8array\":\"array\";function h(t,e){a.call(this,\"FlateWorker/\"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(t){return new h(\"Deflate\",t)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(t,e,r){\"use strict\";function A(t,e){var r,i=\"\";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,r,i,n,s){var a,o,h=t.file,u=t.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),d=I.transformTo(\"string\",O.utf8encode(h.name)),c=h.comment,p=I.transformTo(\"string\",s(c)),m=I.transformTo(\"string\",O.utf8encode(c)),_=d.length!==h.name.length,g=m.length!==c.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var S=0;e&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===n?(C=798,z|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(t){return 63&(t||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+d,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(i,4)+f+b+p}}var I=t(\"../utils\"),n=t(\"../stream/GenericWorker\"),O=t(\"../utf8\"),B=t(\"../crc32\"),R=t(\"../signature\");function s(t,e,r,i){n.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,n),s.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},s.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return R.DATA_DESCRIPTOR+A(t.crc32,4)+A(t.compressedSize,4)+A(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,i=function(t,e,r,i,n){var s=I.transformTo(\"string\",n(i));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(t,2)+A(t,2)+A(e,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on(\"error\",function(t){e.error(t)}),this},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},s.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(t,e,r){\"use strict\";var u=t(\"../compressions\"),i=t(\"./ZipFileWorker\");r.generateWorker=function(t,a,e){var o=new i(a.streamFiles,e,a.platform,a.encodeFileName),h=0;try{t.forEach(function(t,e){h++;var r=function(t,e){var r=t||e,i=u[r];if(!i)throw new Error(r+\" is not a valid compression method !\");return i}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},n=e.dir,s=e.date;e._compressWorker(r,i).withStreamInfo(\"file\",{name:t,dir:n,date:s,comment:e.comment||\"\",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(t){o.error(t)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(t,e,r){\"use strict\";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var t=new i;for(var e in this)\"function\"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t(\"./object\")).loadAsync=t(\"./load\"),i.support=t(\"./support\"),i.defaults=t(\"./defaults\"),i.version=\"3.7.1\",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t(\"./external\"),e.exports=i},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(t,e,r){\"use strict\";var i=t(\"./utils\"),n=t(\"./external\"),o=t(\"./utf8\"),h=t(\"./zipEntries\"),s=t(\"./stream/Crc32Probe\"),u=t(\"./nodejsUtils\");function l(i){return new n.Promise(function(t,e){var r=i.decompressed.getContentWorker().pipe(new s);r.on(\"error\",function(t){e(t)}).on(\"end\",function(){r.streamInfo.crc32!==i.decompressed.crc32?e(new Error(\"Corrupted zip : CRC32 mismatch\")):t()}).resume()})}e.exports=function(t,s){var a=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):i.prepareContent(\"the loaded zip file\",t,!0,s.optimizedBinaryString,s.base64).then(function(t){var e=new h(s);return e.load(t),e}).then(function(t){var e=[n.Promise.resolve(t)],r=t.files;if(s.checkCRC32)for(var i=0;i<r.length;i++)e.push(l(r[i]));return n.Promise.all(e)}).then(function(t){for(var e=t.shift(),r=e.files,i=0;i<r.length;i++){var n=r[i];a.file(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:s.createFolders})}return e.zipComment.length&&(a.comment=e.zipComment),a})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../stream/GenericWorker\");function s(t,e){n.call(this,\"Nodejs stream input adapter for \"+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(s,n),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on(\"data\",function(t){e.push({data:t,meta:{percent:0}})}).on(\"error\",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on(\"end\",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(t,e,r){\"use strict\";var n=t(\"readable-stream\").Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on(\"data\",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on(\"error\",function(t){i.emit(\"error\",t)}).on(\"end\",function(){i.push(null)})}t(\"../utils\").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{\"../utils\":32,\"readable-stream\":16}],14:[function(t,e,r){\"use strict\";e.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if(\"number\"==typeof t)throw new Error('The \"data\" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&\"function\"==typeof t.on&&\"function\"==typeof t.pause&&\"function\"==typeof t.resume}}},{}],15:[function(t,e,r){\"use strict\";function s(t,e,r){var i,n=u.getTypeOf(e),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=_(t))&&b.call(this,i,!0);var a=\"string\"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(e instanceof d&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e=\"\",s.compression=\"STORE\",n=\"string\");var o=null;o=e instanceof d||e instanceof l?e:p.isNode&&p.isStream(e)?new m(t,e):u.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var h=new c(t,o,s);this.files[t]=h}var n=t(\"./utf8\"),u=t(\"./utils\"),l=t(\"./stream/GenericWorker\"),a=t(\"./stream/StreamHelper\"),f=t(\"./defaults\"),d=t(\"./compressedObject\"),c=t(\"./zipObject\"),o=t(\"./generate\"),p=t(\"./nodejsUtils\"),m=t(\"./nodejs/NodejsStreamInputAdapter\"),_=function(t){\"/\"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf(\"/\");return 0<e?t.substring(0,e):\"\"},g=function(t){return\"/\"!==t.slice(-1)&&(t+=\"/\"),t},b=function(t,e){return e=void 0!==e?e:f.createFolders,t=g(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function h(t){return\"[object RegExp]\"===Object.prototype.toString.call(t)}var i={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(t){var e,r,i;for(e in this.files)i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i)},filter:function(r){var i=[];return this.forEach(function(t,e){r(t,e)&&i.push(e)}),i},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,s.call(this,t,e,r),this;if(h(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(t,e){return e.dir&&r.test(t)});var t=this.root+r,e=b.call(this,t),i=this.clone();return i.root=e.name,i},remove:function(r){r=this.root+r;var t=this.files[r];if(t||(\"/\"!==r.slice(-1)&&(r+=\"/\"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var e=this.filter(function(t,e){return e.name.slice(0,r.length)===r}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(t){var e,r={};try{if((r=u.extend(t||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var i=r.comment||this.comment||\"\";e=o.generateWorker(this,r,i)}catch(t){(e=new l(\"error\")).error(t)}return new a(e,r.type||\"string\",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type=\"nodebuffer\"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=i},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(t,e,r){e.exports=t(\"stream\")},{stream:void 0}],17:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],18:[function(t,e,r){\"use strict\";var i=t(\"../utils\");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+t+\"). Corrupted zip ?\")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo(\"string\",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{\"../utils\":32}],19:[function(t,e,r){\"use strict\";var i=t(\"./Uint8ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],21:[function(t,e,r){\"use strict\";var i=t(\"./ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../support\"),s=t(\"./ArrayReader\"),a=t(\"./StringReader\"),o=t(\"./NodeBufferReader\"),h=t(\"./Uint8ArrayReader\");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),\"string\"!==e||n.uint8array?\"nodebuffer\"===e?new o(t):n.uint8array?new h(i.transformTo(\"uint8array\",t)):new s(i.transformTo(\"array\",t)):new a(t)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(t,e,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../utils\");function s(t){i.call(this,\"ConvertWorker to \"+t),this.destType=t}n.inherits(s,i),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../crc32\");function s(){i.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}t(\"../utils\").inherits(s,i),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataLengthProbe for \"+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataWorker\");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":t=this.data.substring(this.index,e);break;case\"uint8array\":t=this.data.subarray(this.index,e);break;case\"array\":case\"nodebuffer\":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(t,e,r){\"use strict\";function i(t){this.name=t||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit(\"data\",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit(\"error\",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit(\"error\",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.end()}),t.on(\"error\",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+t:t}},e.exports=i},{}],29:[function(t,e,r){\"use strict\";var h=t(\"../utils\"),n=t(\"./ConvertWorker\"),s=t(\"./GenericWorker\"),u=t(\"../base64\"),i=t(\"../support\"),a=t(\"../external\"),o=null;if(i.nodestream)try{o=t(\"../nodejs/NodejsStreamOutputAdapter\")}catch(t){}function l(t,o){return new a.Promise(function(e,r){var i=[],n=t._internalType,s=t._outputType,a=t._mimeType;t.on(\"data\",function(t,e){i.push(t),o&&o(e)}).on(\"error\",function(t){i=[],r(t)}).on(\"end\",function(){try{var t=function(t,e,r){switch(t){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",e),r);case\"base64\":return u.encode(e);default:return h.transformTo(t,e)}}(s,function(t,e){var r,i=0,n=null,s=0;for(r=0;r<e.length;r++)s+=e[r].length;switch(t){case\"string\":return e.join(\"\");case\"array\":return Array.prototype.concat.apply([],e);case\"uint8array\":for(n=new Uint8Array(s),r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n;case\"nodebuffer\":return Buffer.concat(e);default:throw new Error(\"concat : unsupported type '\"+t+\"'\")}}(n,i),a);e(t)}catch(t){r(t)}i=[]}).resume()})}function f(t,e,r){var i=e;switch(e){case\"blob\":case\"arraybuffer\":i=\"uint8array\";break;case\"base64\":i=\"string\"}try{this._internalType=i,this._outputType=e,this._mimeType=r,h.checkSupport(i),this._worker=t.pipe(new n(i)),t.lock()}catch(t){this._worker=new s(\"error\"),this._worker.error(t)}}f.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var r=this;return\"data\"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){h.delay(e,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},t)}},e.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(t,e,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:\"application/zip\"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob(\"application/zip\").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t(\"readable-stream\").Readable}catch(t){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(t,e,s){\"use strict\";for(var o=t(\"./utils\"),h=t(\"./support\"),r=t(\"./nodejsUtils\"),i=t(\"./stream/GenericWorker\"),u=new Array(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;u[254]=u[254]=1;function a(){i.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){i.call(this,\"utf-8 encode\")}s.utf8encode=function(t){return h.nodebuffer?r.newBufferFrom(t,\"utf-8\"):function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=h.uint8array?new Uint8Array(o):new Array(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e}(t)},s.utf8decode=function(t){return h.nodebuffer?o.transformTo(\"nodebuffer\",t).toString(\"utf-8\"):function(t){var e,r,i,n,s=t.length,a=new Array(2*s);for(e=r=0;e<s;)if((i=t[e++])<128)a[r++]=i;else if(4<(n=u[i]))a[r++]=65533,e+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&e<s;)i=i<<6|63&t[e++],n--;1<n?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(t=o.transformTo(h.uint8array?\"uint8array\":\"array\",t))},o.inherits(a,i),a.prototype.processChunk=function(t){var e=o.transformTo(h.uint8array?\"uint8array\":\"array\",t.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}(e),n=e;i!==e.length&&(h.uint8array?(n=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(n=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:s.utf8decode(n),meta:t.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,i),l.prototype.processChunk=function(t){this.push({data:s.utf8encode(t.data),meta:t.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(t,e,a){\"use strict\";var o=t(\"./support\"),h=t(\"./base64\"),r=t(\"./nodejsUtils\"),i=t(\"set-immediate-shim\"),u=t(\"./external\");function n(t){return t}function l(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}a.newBlob=function(e,r){a.checkSupport(\"blob\");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error(\"Bug : can't construct the Blob.\")}}};var s={stringifyByChunk:function(t,e,r){var i=[],n=0,s=t.length;if(s<=r)return String.fromCharCode.apply(null,t);for(;n<s;)\"array\"===e||\"nodebuffer\"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,s)))),n+=r;return i.join(\"\")},stringifyByChar:function(t){for(var e=\"\",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=a.getTypeOf(t),i=!0;if(\"uint8array\"===r?i=s.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return s.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return s.stringifyByChar(t)}function d(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}a.applyFromCharCode=f;var c={};c.string={string:n,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},c.array={string:f,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||\"\",!t)return e;a.checkSupport(t);var r=a.getTypeOf(e);return c[r][t](e)},a.getTypeOf=function(t){return\"string\"==typeof t?\"string\":\"[object Array]\"===Object.prototype.toString.call(t)?\"array\":o.nodebuffer&&r.isBuffer(t)?\"nodebuffer\":o.uint8array&&t instanceof Uint8Array?\"uint8array\":o.arraybuffer&&t instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,r,i=\"\";for(r=0;r<(t||\"\").length;r++)i+=\"\\\\x\"+((e=t.charCodeAt(r))<16?\"0\":\"\")+e.toString(16).toUpperCase();return i},a.delay=function(t,e,r){i(function(){t.apply(r||null,e||[])})},a.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},a.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},a.prepareContent=function(r,t,i,n,s){return u.Promise.resolve(t).then(function(i){return o.blob&&(i instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(i)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(e,r){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){r(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?(\"arraybuffer\"===e?t=a.transformTo(\"uint8array\",t):\"string\"===e&&(s?t=h.decode(t):i&&!0!==n&&(t=function(t){return l(t,o.uint8array?new Uint8Array(t.length):new Array(t.length))}(t))),t):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,\"set-immediate-shim\":54}],33:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),n=t(\"./utils\"),s=t(\"./signature\"),a=t(\"./zipEntry\"),o=(t(\"./utf8\"),t(\"./support\"));function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+n.pretty(e)+\", expected \"+n.pretty(t)+\")\")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?\"uint8array\":\"array\",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(i)+\" bytes.\")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utf8\":31,\"./utils\":32,\"./zipEntry\":34}],34:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),s=t(\"./utils\"),n=t(\"./compressedObject\"),a=t(\"./crc32\"),o=t(\"./utf8\"),h=t(\"./compressions\"),u=t(\"./support\");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(e=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var n=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(t,e,r){\"use strict\";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=t(\"./stream/StreamHelper\"),n=t(\"./stream/DataWorker\"),a=t(\"./utf8\"),o=t(\"./compressedObject\"),h=t(\"./stream/GenericWorker\");i.prototype={internalStream:function(t){var e=null,r=\"string\";try{if(!t)throw new Error(\"No output type specified.\");var i=\"string\"===(r=t.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),e=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!n&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new h(\"error\")).error(t)}return new s(e,r,\"\")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||\"nodebuffer\").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new n(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)i.prototype[u[f]]=l;e.exports=i},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(t,l,e){(function(e){\"use strict\";var r,i,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var n=0,s=new t(u),a=e.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r=\"document\"in e&&\"onreadystatechange\"in e.document.createElement(\"script\")?function(){var t=e.document.createElement(\"script\");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var o=new e.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var t,e;i=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}i=!1}l.exports=function(t){1!==h.push(t)||i||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(t,e,r){\"use strict\";var n=t(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],i=[\"PENDING\"];function o(t){if(\"function\"!=typeof t)throw new TypeError(\"resolver must be a function\");this.state=i,this.queue=[],this.outcome=void 0,t!==u&&c(this,t)}function h(t,e,r){this.promise=t,\"function\"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,r,i){n(function(){var t;try{t=r(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(e,t)})}function d(t){var e=t&&t.then;if(t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof e)return function(){e.apply(t,arguments)}}function c(e,t){var r=!1;function i(t){r||(r=!0,l.reject(e,t))}function n(t){r||(r=!0,l.resolve(e,t))}var s=p(function(){t(n,i)});\"error\"===s.status&&i(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status=\"success\"}catch(t){r.status=\"error\",r.value=t}return r}(e.exports=o).prototype.finally=function(e){if(\"function\"!=typeof e)return this;var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if(\"function\"!=typeof t&&this.state===a||\"function\"!=typeof e&&this.state===s)return this;var r=new this.constructor(u);this.state!==i?f(r,this.state===a?t:e,this.outcome):this.queue.push(new h(r,t,e));return r},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},l.resolve=function(t,e){var r=p(d,e);if(\"error\"===r.status)return l.reject(t,r.value);var i=r.value;if(i)c(t,i);else{t.state=a,t.outcome=e;for(var n=-1,s=t.queue.length;++n<s;)t.queue[n].callFulfilled(e)}return t},l.reject=function(t,e){t.state=s,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},o.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},o.reject=function(t){var e=new this(u);return l.reject(e,t)},o.all=function(t){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var i=t.length,n=!1;if(!i)return this.resolve([]);var s=new Array(i),a=0,e=-1,o=new this(u);for(;++e<i;)h(t[e],e);return o;function h(t,e){r.resolve(t).then(function(t){s[e]=t,++a!==i||n||(n=!0,l.resolve(o,s))},function(t){n||(n=!0,l.reject(o,t))})}},o.race=function(t){var e=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var r=t.length,i=!1;if(!r)return this.resolve([]);var n=-1,s=new this(u);for(;++n<r;)a=t[n],e.resolve(a).then(function(t){i||(i=!0,l.resolve(s,t))},function(t){i||(i=!0,l.reject(s,t))});var a;return s}},{immediate:36}],38:[function(t,e,r){\"use strict\";var i={};(0,t(\"./lib/utils/common\").assign)(i,t(\"./lib/deflate\"),t(\"./lib/inflate\"),t(\"./lib/zlib/constants\")),e.exports=i},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(t,e,r){\"use strict\";var a=t(\"./zlib/deflate\"),o=t(\"./utils/common\"),h=t(\"./utils/strings\"),n=t(\"./zlib/messages\"),s=t(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,d=0,c=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:\"\"},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(n[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i=\"string\"==typeof e.dictionary?h.string2buf(e.dictionary):\"[object ArrayBuffer]\"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=a.deflateSetDictionary(this.strm,i))!==l)throw new Error(n[r]);this._dict_set=!0}}function i(t,e){var r=new p(e);if(r.push(t,!0),r.err)throw r.msg||n[r.err];return r.result}p.prototype.push=function(t,e){var r,i,n=this.strm,s=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,\"string\"==typeof t?n.input=h.string2buf(t):\"[object ArrayBuffer]\"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(s),n.next_out=0,n.avail_out=s),1!==(r=a.deflate(n,i))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==r);return 4===i?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),!(n.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=p,r.deflate=i,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(t,e,r){\"use strict\";var d=t(\"./zlib/inflate\"),c=t(\"./utils/common\"),p=t(\"./utils/strings\"),m=t(\"./zlib/constants\"),i=t(\"./zlib/messages\"),n=t(\"./zlib/zstream\"),s=t(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(t){if(!(this instanceof a))return new a(t);this.options=c.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var r=d.inflateInit2(this.strm,e.windowBits);if(r!==m.Z_OK)throw new Error(i[r]);this.header=new s,d.inflateGetHeader(this.strm,this.header)}function o(t,e){var r=new a(e);if(r.push(t,!0),r.err)throw r.msg||i[r.err];return r.result}a.prototype.push=function(t,e){var r,i,n,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof t?h.input=p.binstring2buf(t):\"[object ArrayBuffer]\"===_.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new c.Buf8(u),h.next_out=0,h.avail_out=u),(r=d.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=d.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||i!==m.Z_FINISH&&i!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(n=p.utf8border(h.output,h.next_out),s=h.next_out-n,a=p.buf2string(h.output,n),h.next_out=s,h.avail_out=u-s,s&&c.arraySet(h.output,h.output,n,s,0),this.onData(a)):this.onData(c.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(i=m.Z_FINISH),i===m.Z_FINISH?(r=d.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):i!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(t){this.chunks.push(t)},a.prototype.onEnd=function(t){t===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){var e,r,i,n,s,a;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,r,i,n){for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(i)},{}],42:[function(t,e,r){\"use strict\";var h=t(\"./common\"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var u=new h.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(t,e));for(var r=\"\",i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r}u[254]=u[254]=1,r.string2buf=function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new h.Buf8(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},r.buf2binstring=function(t){return l(t,t.length)},r.binstring2buf=function(t){for(var e=new h.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,s,a=e||t.length,o=new Array(2*a);for(r=i=0;r<a;)if((n=t[r++])<128)o[i++]=n;else if(4<(s=u[n]))o[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&r<a;)n=n<<6|63&t[r++],s--;1<s?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return l(o,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}},{\"./common\":41}],43:[function(t,e,r){\"use strict\";e.exports=function(t,e,r,i){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(n=n+e[i++]|0)|0,--a;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e,r){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){\"use strict\";var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,r){\"use strict\";var h,d=t(\"../utils/common\"),u=t(\"./trees\"),c=t(\"./adler32\"),p=t(\"./crc32\"),i=t(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,n=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(t,e){return t.msg=i[e],e}function T(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function F(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(d.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function N(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,F(t.strm)}function U(t,e){t.pending_buf[t.pending++]=e}function P(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,u=t.window,l=t.w_mask,f=t.prev,d=t.strstart+S,c=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]===p&&u[r+a-1]===c&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d);if(i=S-(d-s),s=d-S,a<i){if(t.match_start=e,o<=(a=i))break;c=u[s+a-1],p=u[s+a]}}}while((e=f[e&l])>h&&0!=--n);return a<=t.lookahead?a:t.lookahead}function j(t){var e,r,i,n,s,a,o,h,u,l,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-z)){for(d.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=r=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--r;);for(e=r=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--r;);n+=f}if(0===t.strm.avail_in)break;if(a=t.strm,o=t.window,h=t.strstart+t.lookahead,u=n,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,d.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=c(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),t.lookahead+=r,t.lookahead+t.insert>=x)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+x-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function Z(t,e){for(var r,i;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r)),t.match_length>=x)if(i=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function W(t,e){for(var r,i,n;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=u._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function M(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*w),this.dyn_dtree=new d.Buf16(2*(2*a+1)),this.bl_tree=new d.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(k+1),this.heap=new d.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:E,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),m):R(t,_)}function K(t){var e=G(t);return e===m&&function(t){t.window_size=2*t.w_size,D(t.head),t.max_lazy_match=h[t.level].max_lazy,t.good_match=h[t.level].good_length,t.nice_match=h[t.level].nice_length,t.max_chain_length=h[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Y(t,e,r,i,n,s){if(!t)return _;var a=1;if(e===g&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),n<1||y<n||r!==v||i<8||15<i||e<0||9<e||s<0||b<s)return R(t,_);8===i&&(i=9);var o=new H;return(t.state=o).strm=t,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new d.Buf8(2*o.w_size),o.head=new d.Buf16(o.hash_size),o.prev=new d.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new d.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,K(t)}h=[new M(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===l)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-z&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(t,e){return Y(t,e,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?_:(t.state.gzhead=e,m):_},r.deflate=function(t,e){var r,i,n,s;if(!t||!t.state||5<e||e<0)return t?R(t,_):_;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return R(t,0===t.avail_out?-5:_);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===C)if(2===i.wrap)t.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=p(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,3),i.status=E);else{var a=v+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=E,P(i,a),0!==i.strstart&&(P(i,t.adler>>>16),P(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(t),i.pending+2<=i.pending_buf_size&&(U(i,255&t.adler),U(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(F(t),0===t.avail_out)return i.last_flush=-1,m}else if(0===t.avail_in&&T(e)<=T(r)&&e!==f)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var o=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===l)return A;break}if(t.match_length=0,r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):3===i.strategy?function(t,e){for(var r,i,n,s,a=t.window;;){if(t.lookahead<=S){if(j(t),t.lookahead<=S&&e===l)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=a[n=t.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=t.strstart+S;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);t.match_length=S-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(r=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):h[i.level].func(i,e);if(o!==O&&o!==B||(i.status=666),o===A||o===O)return 0===t.avail_out&&(i.last_flush=-1),m;if(o===I&&(1===e?u._tr_align(i):5!==e&&(u._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(t),0===t.avail_out))return i.last_flush=-1,m}return e!==f?m:i.wrap<=0?1:(2===i.wrap?(U(i,255&t.adler),U(i,t.adler>>8&255),U(i,t.adler>>16&255),U(i,t.adler>>24&255),U(i,255&t.total_in),U(i,t.total_in>>8&255),U(i,t.total_in>>16&255),U(i,t.total_in>>24&255)):(P(i,t.adler>>>16),P(i,65535&t.adler)),F(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?m:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?R(t,_):(t.state=null,e===E?R(t,-3):m):_},r.deflateSetDictionary=function(t,e){var r,i,n,s,a,o,h,u,l=e.length;if(!t||!t.state)return _;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(t.adler=c(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new d.Buf8(r.w_size),d.arraySet(u,e,l-r.w_size,r.w_size,0),e=u,l=r.w_size),a=t.avail_in,o=t.next_in,h=t.input,t.avail_in=l,t.next_in=0,t.input=e,j(r);r.lookahead>=x;){for(i=r.strstart,n=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+x-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--n;);r.strstart=i,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,t.next_in=o,t.input=h,t.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(t,e,r){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){\"use strict\";e.exports=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C;r=t.state,i=t.next_in,z=t.input,n=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,c=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=m[c&g];e:for(;;){if(c>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(c&(1<<y)-1)];continue e}if(32&y){r.mode=12;break t}t.msg=\"invalid literal/length code\",r.mode=30;break t}w=65535&v,(y&=15)&&(p<y&&(c+=z[i++]<<p,p+=8),w+=c&(1<<y)-1,c>>>=y,p-=y),p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=_[c&b];r:for(;;){if(c>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(c&(1<<y)-1)];continue r}t.msg=\"invalid distance code\",r.mode=30;break t}if(k=65535&v,p<(y&=15)&&(c+=z[i++]<<p,(p+=8)<y&&(c+=z[i++]<<p,p+=8)),h<(k+=c&(1<<y)-1)){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(c>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(S=d,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=d[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=d[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(i<n&&s<o);i-=w=p>>3,c&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),r.hold=c,r.bits=p}},{}],49:[function(t,e,r){\"use strict\";var I=t(\"../utils/common\"),O=t(\"./adler32\"),B=t(\"./crc32\"),R=t(\"./inffast\"),T=t(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new I.Buf32(i),e.distcode=e.distdyn=new I.Buf32(n),e.sane=1,e.back=-1,N):U}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):U}function h(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?U:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,o(t))):U}function u(t,e){var r,i;return t?(i=new s,(t.state=i).window=null,(r=h(t,e))!==N&&(t.state=null),r):U}var l,f,d=!0;function j(t){if(d){var e;for(l=new I.Buf32(512),f=new I.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(T(D,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;T(F,t.lens,0,32,f,0,t.work,{bits:5}),d=!1}t.lencode=l,t.lenbits=9,t.distcode=f,t.distbits=5}function Z(t,e,r,i){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),i>=s.wsize?(I.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(n=s.wsize-s.wnext)&&(n=i),I.arraySet(s.window,e,r-i,n,s.wnext),(i-=n)?(I.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(t){return u(t,15)},r.inflateInit2=u,r.inflate=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return U;12===(r=t.state).mode&&(r.mode=13),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,f=o,d=h,x=N;t:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){t.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,t.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){t.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){t.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(c=r.length)&&(c=o),c&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,i,s,c,k)),512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,r.length-=c),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(65535&r.check)){t.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}t.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:r.mode=17;break;case 3:t.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(c=r.length){if(o<c&&(c=o),h<c&&(c=h),0===c)break t;I.arraySet(n,i,s,c,a),o-=c,s+=c,h-=c,a+=c,r.length-=c;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){t.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){t.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],c=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+c>r.nlen+r.ndist){t.msg=\"invalid bit length repeat\",r.mode=30;break}for(;c--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){t.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=o&&258<=h){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,R(t,d),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){t.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){t.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break t;if(c=d-h,r.offset>c){if((c=r.offset-c)>r.whave&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break}p=c>r.wnext?(c-=r.wnext,r.wsize-c):r.wnext-c,c>r.length&&(c=r.length),m=r.window}else m=n,p=a-r.offset,c=r.length;for(h<c&&(c=h),h-=c,r.length-=c;n[a++]=m[p++],--c;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break t;n[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break t;o--,u|=i[s++]<<l,l+=8}if(d-=h,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?B(r.check,n,d,a-d):O(r.check,n,d,a-d)),d=h,(r.flags?u:L(u))!==r.check){t.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return U}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Z(t,t.output,t.next_out,d-t.avail_out)?(r.mode=31,-4):(f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?B(r.check,n,d,t.next_out-d):O(r.check,n,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===d||4===e)&&x===N&&(x=-5),x)},r.inflateEnd=function(t){if(!t||!t.state)return U;var e=t.state;return e.window&&(e.window=null),t.state=null,N},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?U:((r.head=e).done=!1,N):U},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,e,i,0)!==r.check?-3:Z(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(t,e,r){\"use strict\";var D=t(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,i,n,s,a,o){var h,u,l,f,d,c,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<i;v++)O[e[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===t||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<i;v++)0!==e[r+v]&&(a[B[e[r+v]]++]=v);if(c=0===t?(A=R=a,19):1===t?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,d=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<c?(m=0,a[v]):a[v]>c?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;n[d+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=e[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),d+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===t&&852<C||2===t&&592<C)return 1;n[l=E&f]=k<<24|x<<16|d-s|0}}return 0!==E&&(n[d+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(t,e,r){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(t,e,r){\"use strict\";var n=t(\"../utils/common\"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,a=29,u=256,l=u+1+a,f=30,d=19,_=2*l+1,g=15,c=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));i(z);var C=new Array(2*f);i(C);var E=new Array(512);i(E);var A=new Array(256);i(A);var I=new Array(a);i(I);var O,B,R,T=new Array(f);function D(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function F(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?E[t]:E[256+(t>>>7)]}function U(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function P(t,e,r){t.bi_valid>c-r?(t.bi_buf|=e<<t.bi_valid&65535,U(t,t.bi_buf),t.bi_buf=e>>c-t.bi_valid,t.bi_valid+=r-c):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function L(t,e,r){P(t,r[2*e],r[2*e+1])}function j(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function Z(t,e,r){var i,n,s=new Array(g+1),a=0;for(i=1;i<=g;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=j(s[o]++,o))}}function W(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?U(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,r,i){var n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]}function G(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&H(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!H(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function K(t,e,r){var i,n,s,a,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(s=A[n])+u+1,e),0!==(a=w[s])&&P(t,n-=I[s],a),L(t,s=N(--i),r),0!==(a=k[s])&&P(t,i-=T[s],a)),o<t.last_lit;);L(t,m,e)}function Y(t,e){var r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;1<=r;r--)G(t,s,r);for(n=h;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,G(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,s,a,o,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=g;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<_;r++)p<(s=h[2*h[2*(i=t.heap[r])+1]+1]+1)&&(s=p,m++),h[2*i+1]=s,u<i||(t.bl_count[s]++,a=0,c<=i&&(a=d[i-c]),o=h[2*i],t.opt_len+=o*(s+a),f&&(t.static_len+=o*(l[2*i+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)u<(n=t.heap[--r])||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(t,e),Z(s,u,t.bl_count)}function X(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++o<h&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*b]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*y]++,s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4))}function V(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++o<h&&n===a)){if(o<u)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==s&&(L(t,n,t.bl_tree),o--),L(t,b,t.bl_tree),P(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),P(t,o-3,3)):(L(t,y,t.bl_tree),P(t,o-11,7));s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4)}}i(T);var q=!1;function J(t,e,r,i){P(t,(s<<1)+(i?1:0),3),function(t,e,r,i){M(t),i&&(U(t,r),U(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){q||(function(){var t,e,r,i,n,s=new Array(g+1);for(i=r=0;i<a-1;i++)for(I[i]=r,t=0;t<1<<w[i];t++)A[r++]=i;for(A[r-1]=i,i=n=0;i<16;i++)for(T[i]=n,t=0;t<1<<k[i];t++)E[n++]=i;for(n>>=7;i<f;i++)for(T[i]=n<<7,t=0;t<1<<k[i]-7;t++)E[256+n++]=i;for(e=0;e<=g;e++)s[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,s[8]++;for(;t<=255;)z[2*t+1]=9,t++,s[9]++;for(;t<=279;)z[2*t+1]=7,t++,s[7]++;for(;t<=287;)z[2*t+1]=8,t++,s[8]++;for(Z(z,l+1,s),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=j(t,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,d,p)}(),q=!0),t.l_desc=new F(t.dyn_ltree,O),t.d_desc=new F(t.dyn_dtree,B),t.bl_desc=new F(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,W(t)},r._tr_stored_block=J,r._tr_flush_block=function(t,e,r,i){var n,s,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),Y(t,t.l_desc),Y(t,t.d_desc),a=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),e=d-1;3<=e&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?J(t,e,r,i):4===t.strategy||s===n?(P(t,2+(i?1:0),3),K(t,z,C)):(P(t,4+(i?1:0),3),function(t,e,r,i){var n;for(P(t,e-257,5),P(t,r-1,5),P(t,i-4,4),n=0;n<i;n++)P(t,t.bl_tree[2*S[n]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),i&&M(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(A[r]+u+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){P(t,2,3),L(t,m,z),function(t){16===t.bi_valid?(U(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{\"../utils/common\":41}],53:[function(t,e,r){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){\"use strict\";e.exports=\"function\"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)});","/* global exports:true, module:true, require:true, define:true, global:true */\n\n(function (root, name, factory) {\n  'use strict';\n\n  // Used to determine if values are of the language type `Object`\n  var objectTypes = {\n        'function': true\n      , 'object': true\n    }\n    // Detect free variable `exports`\n    , freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports\n    // Detect free variable `module`\n    , freeModule = objectTypes[typeof module] && module && !module.nodeType && module\n    // Detect free variable `global`, from Node.js or Browserified code, and\n    // use it as `window`\n    , freeGlobal = freeExports && freeModule && typeof global === 'object' && global\n    // Detect the popular CommonJS extension `module.exports`\n    , moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /* istanbul ignore else */\n  if (freeGlobal && (freeGlobal.global === freeGlobal ||\n                     /* istanbul ignore next */ freeGlobal.window === freeGlobal ||\n                     /* istanbul ignore next */ freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Some AMD build optimizers, like r.js, check for specific condition\n  // patterns like the following:\n  /* istanbul ignore if */\n  if (typeof define === 'function' &&\n      /* istanbul ignore next */ typeof define.amd === 'object' &&\n      /* istanbul ignore next */ define.amd) {\n    // defined as an anonymous module.\n    define(['exports'], factory);\n    // In case the source has been processed and wrapped in a define module use\n    // the supplied `exports` object.\n    if (freeExports && moduleExports) factory(freeModule.exports);\n  }\n  // check for `exports` after `define` in case a build optimizer adds an\n  // `exports` object\n  else /* istanbul ignore else */ if (freeExports && freeModule) {\n    // in Node.js or RingoJS v0.8.0+\n    /* istanbul ignore else */\n    if (moduleExports) factory(freeModule.exports);\n    // in RingoJS v0.7.0-\n    else factory(freeExports);\n  }\n  // in a browser or Rhino\n  else {\n    factory((root[name] = {}));\n  }\n}(this, 'luaparse', function (exports) {\n  'use strict';\n\n  exports.version = \"0.3.1\";\n\n  var input, options, length, features, encodingMode;\n\n  // Options can be set either globally on the parser object through\n  // defaultOptions, or during the parse call.\n  var defaultOptions = exports.defaultOptions = {\n    // Explicitly tell the parser when the input ends.\n      wait: false\n    // Store comments as an array in the chunk object.\n    , comments: true\n    // Track identifier scopes by adding an isLocal attribute to each\n    // identifier-node.\n    , scope: false\n    // Store location information on each syntax node as\n    // `loc: { start: { line, column }, end: { line, column } }`.\n    , locations: false\n    // Store the start and end character locations on each syntax node as\n    // `range: [start, end]`.\n    , ranges: false\n    // A callback which will be invoked when a syntax node has been completed.\n    // The node which has been created will be passed as the only parameter.\n    , onCreateNode: null\n    // A callback which will be invoked when a new scope is created.\n    , onCreateScope: null\n    // A callback which will be invoked when the current scope is destroyed.\n    , onDestroyScope: null\n    // A callback which will be invoked when a local variable is declared in the current scope.\n    // The variable's name will be passed as the only parameter\n    , onLocalDeclaration: null\n    // The version of Lua targeted by the parser (string; allowed values are\n    // '5.1', '5.2', '5.3').\n    , luaVersion: '5.1'\n    // Encoding mode: how to interpret code units higher than U+007F in input\n    , encodingMode: 'none'\n  };\n\n  function encodeUTF8(codepoint, highMask) {\n    highMask = highMask || 0;\n\n    if (codepoint < 0x80) {\n      return String.fromCharCode(codepoint);\n    } else if (codepoint < 0x800) {\n      return String.fromCharCode(\n        highMask | 0xc0 |  (codepoint >>  6)        ,\n        highMask | 0x80 | ( codepoint        & 0x3f)\n      );\n    } else if (codepoint < 0x10000) {\n      return String.fromCharCode(\n        highMask | 0xe0 |  (codepoint >> 12)        ,\n        highMask | 0x80 | ((codepoint >>  6) & 0x3f),\n        highMask | 0x80 | ( codepoint        & 0x3f)\n      );\n    } else /* istanbul ignore else */ if (codepoint < 0x110000) {\n      return String.fromCharCode(\n        highMask | 0xf0 |  (codepoint >> 18)        ,\n        highMask | 0x80 | ((codepoint >> 12) & 0x3f),\n        highMask | 0x80 | ((codepoint >>  6) & 0x3f),\n        highMask | 0x80 | ( codepoint        & 0x3f)\n      );\n    } else {\n      // TODO: Lua 5.4 allows up to six-byte sequences, as in UTF-8:1993\n      return null;\n    }\n  }\n\n  function toHex(num, digits) {\n    var result = num.toString(16);\n    while (result.length < digits)\n      result = '0' + result;\n    return result;\n  }\n\n  function checkChars(rx) {\n    return function (s) {\n      var m = rx.exec(s);\n      if (!m)\n        return s;\n      raise(null, errors.invalidCodeUnit, toHex(m[0].charCodeAt(0), 4).toUpperCase());\n    };\n  }\n\n  var encodingModes = {\n    // `pseudo-latin1` encoding mode: assume the input was decoded with the latin1 encoding\n    // WARNING: latin1 does **NOT** mean cp1252 here like in the bone-headed WHATWG standard;\n    // it means true ISO/IEC 8859-1 identity-mapped to Basic Latin and Latin-1 Supplement blocks\n    'pseudo-latin1': {\n      fixup: checkChars(/[^\\x00-\\xff]/),\n      encodeByte: function (value) {\n        if (value === null)\n          return '';\n        return String.fromCharCode(value);\n      },\n      encodeUTF8: function (codepoint) {\n        return encodeUTF8(codepoint);\n      },\n    },\n\n    // `x-user-defined` encoding mode: assume the input was decoded with the WHATWG `x-user-defined` encoding\n    'x-user-defined': {\n      fixup: checkChars(/[^\\x00-\\x7f\\uf780-\\uf7ff]/),\n      encodeByte: function (value) {\n        if (value === null)\n          return '';\n        if (value >= 0x80)\n          return String.fromCharCode(value | 0xf700);\n        return String.fromCharCode(value);\n      },\n      encodeUTF8: function (codepoint) {\n        return encodeUTF8(codepoint, 0xf700);\n      }\n    },\n\n    // `none` encoding mode: disregard intrepretation of string literals, leave identifiers as-is\n    'none': {\n      discardStrings: true,\n      fixup: function (s) {\n        return s;\n      },\n      encodeByte: function (value) {\n        return '';\n      },\n      encodeUTF8: function (codepoint) {\n        return '';\n      }\n    }\n  };\n\n  // The available tokens expressed as enum flags so they can be checked with\n  // bitwise operations.\n\n  var EOF = 1, StringLiteral = 2, Keyword = 4, Identifier = 8\n    , NumericLiteral = 16, Punctuator = 32, BooleanLiteral = 64\n    , NilLiteral = 128, VarargLiteral = 256;\n\n  exports.tokenTypes = { EOF: EOF, StringLiteral: StringLiteral\n    , Keyword: Keyword, Identifier: Identifier, NumericLiteral: NumericLiteral\n    , Punctuator: Punctuator, BooleanLiteral: BooleanLiteral\n    , NilLiteral: NilLiteral, VarargLiteral: VarargLiteral\n  };\n\n  // As this parser is a bit different from luas own, the error messages\n  // will be different in some situations.\n\n  var errors = exports.errors = {\n      unexpected: 'unexpected %1 \\'%2\\' near \\'%3\\''\n    , unexpectedEOF: 'unexpected symbol near \\'<eof>\\''\n    , expected: '\\'%1\\' expected near \\'%2\\''\n    , expectedToken: '%1 expected near \\'%2\\''\n    , unfinishedString: 'unfinished string near \\'%1\\''\n    , malformedNumber: 'malformed number near \\'%1\\''\n    , decimalEscapeTooLarge: 'decimal escape too large near \\'%1\\''\n    , invalidEscape: 'invalid escape sequence near \\'%1\\''\n    , hexadecimalDigitExpected: 'hexadecimal digit expected near \\'%1\\''\n    , braceExpected: 'missing \\'%1\\' near \\'%2\\''\n    , tooLargeCodepoint: 'UTF-8 value too large near \\'%1\\''\n    , unfinishedLongString: 'unfinished long string (starting at line %1) near \\'%2\\''\n    , unfinishedLongComment: 'unfinished long comment (starting at line %1) near \\'%2\\''\n    , ambiguousSyntax: 'ambiguous syntax (function call x new statement) near \\'%1\\''\n    , noLoopToBreak: 'no loop to break near \\'%1\\''\n    , labelAlreadyDefined: 'label \\'%1\\' already defined on line %2'\n    , labelNotVisible: 'no visible label \\'%1\\' for <goto>'\n    , gotoJumpInLocalScope: '<goto %1> jumps into the scope of local \\'%2\\''\n    , cannotUseVararg: 'cannot use \\'...\\' outside a vararg function near \\'%1\\''\n    , invalidCodeUnit: 'code unit U+%1 is not allowed in the current encoding mode'\n  };\n\n  // ### Abstract Syntax Tree\n  //\n  // The default AST structure is inspired by the Mozilla Parser API but can\n  // easily be customized by overriding these functions.\n\n  var ast = exports.ast = {\n      labelStatement: function(label) {\n      return {\n          type: 'LabelStatement'\n        , label: label\n      };\n    }\n\n    , breakStatement: function() {\n      return {\n          type: 'BreakStatement'\n      };\n    }\n\n    , gotoStatement: function(label) {\n      return {\n          type: 'GotoStatement'\n        , label: label\n      };\n    }\n\n    , returnStatement: function(args) {\n      return {\n          type: 'ReturnStatement'\n        , 'arguments': args\n      };\n    }\n\n    , ifStatement: function(clauses) {\n      return {\n          type: 'IfStatement'\n        , clauses: clauses\n      };\n    }\n    , ifClause: function(condition, body) {\n      return {\n          type: 'IfClause'\n        , condition: condition\n        , body: body\n      };\n    }\n    , elseifClause: function(condition, body) {\n      return {\n          type: 'ElseifClause'\n        , condition: condition\n        , body: body\n      };\n    }\n    , elseClause: function(body) {\n      return {\n          type: 'ElseClause'\n        , body: body\n      };\n    }\n\n    , whileStatement: function(condition, body) {\n      return {\n          type: 'WhileStatement'\n        , condition: condition\n        , body: body\n      };\n    }\n\n    , doStatement: function(body) {\n      return {\n          type: 'DoStatement'\n        , body: body\n      };\n    }\n\n    , repeatStatement: function(condition, body) {\n      return {\n          type: 'RepeatStatement'\n        , condition: condition\n        , body: body\n      };\n    }\n\n    , localStatement: function(variables, init) {\n      return {\n          type: 'LocalStatement'\n        , variables: variables\n        , init: init\n      };\n    }\n\n    , assignmentStatement: function(variables, init) {\n      return {\n          type: 'AssignmentStatement'\n        , variables: variables\n        , init: init\n      };\n    }\n\n    , callStatement: function(expression) {\n      return {\n          type: 'CallStatement'\n        , expression: expression\n      };\n    }\n\n    , functionStatement: function(identifier, parameters, isLocal, body) {\n      return {\n          type: 'FunctionDeclaration'\n        , identifier: identifier\n        , isLocal: isLocal\n        , parameters: parameters\n        , body: body\n      };\n    }\n\n    , forNumericStatement: function(variable, start, end, step, body) {\n      return {\n          type: 'ForNumericStatement'\n        , variable: variable\n        , start: start\n        , end: end\n        , step: step\n        , body: body\n      };\n    }\n\n    , forGenericStatement: function(variables, iterators, body) {\n      return {\n          type: 'ForGenericStatement'\n        , variables: variables\n        , iterators: iterators\n        , body: body\n      };\n    }\n\n    , chunk: function(body) {\n      return {\n          type: 'Chunk'\n        , body: body\n      };\n    }\n\n    , identifier: function(name) {\n      return {\n          type: 'Identifier'\n        , name: name\n      };\n    }\n\n    , literal: function(type, value, raw) {\n      type = (type === StringLiteral) ? 'StringLiteral'\n        : (type === NumericLiteral) ? 'NumericLiteral'\n        : (type === BooleanLiteral) ? 'BooleanLiteral'\n        : (type === NilLiteral) ? 'NilLiteral'\n        : 'VarargLiteral';\n\n      return {\n          type: type\n        , value: value\n        , raw: raw\n      };\n    }\n\n    , tableKey: function(key, value) {\n      return {\n          type: 'TableKey'\n        , key: key\n        , value: value\n      };\n    }\n    , tableKeyString: function(key, value) {\n      return {\n          type: 'TableKeyString'\n        , key: key\n        , value: value\n      };\n    }\n    , tableValue: function(value) {\n      return {\n          type: 'TableValue'\n        , value: value\n      };\n    }\n\n\n    , tableConstructorExpression: function(fields) {\n      return {\n          type: 'TableConstructorExpression'\n        , fields: fields\n      };\n    }\n    , binaryExpression: function(operator, left, right) {\n      var type = ('and' === operator || 'or' === operator) ?\n        'LogicalExpression' :\n        'BinaryExpression';\n\n      return {\n          type: type\n        , operator: operator\n        , left: left\n        , right: right\n      };\n    }\n    , unaryExpression: function(operator, argument) {\n      return {\n          type: 'UnaryExpression'\n        , operator: operator\n        , argument: argument\n      };\n    }\n    , memberExpression: function(base, indexer, identifier) {\n      return {\n          type: 'MemberExpression'\n        , indexer: indexer\n        , identifier: identifier\n        , base: base\n      };\n    }\n\n    , indexExpression: function(base, index) {\n      return {\n          type: 'IndexExpression'\n        , base: base\n        , index: index\n      };\n    }\n\n    , callExpression: function(base, args) {\n      return {\n          type: 'CallExpression'\n        , base: base\n        , 'arguments': args\n      };\n    }\n\n    , tableCallExpression: function(base, args) {\n      return {\n          type: 'TableCallExpression'\n        , base: base\n        , 'arguments': args\n      };\n    }\n\n    , stringCallExpression: function(base, argument) {\n      return {\n          type: 'StringCallExpression'\n        , base: base\n        , argument: argument\n      };\n    }\n\n    , comment: function(value, raw) {\n      return {\n          type: 'Comment'\n        , value: value\n        , raw: raw\n      };\n    }\n  };\n\n  // Wrap up the node object.\n\n  function finishNode(node) {\n    // Pop a `Marker` off the location-array and attach its location data.\n    if (trackLocations) {\n      var location = locations.pop();\n      location.complete();\n      location.bless(node);\n    }\n    if (options.onCreateNode) options.onCreateNode(node);\n    return node;\n  }\n\n\n  // Helpers\n  // -------\n\n  var slice = Array.prototype.slice\n    , toString = Object.prototype.toString\n    ;\n\n  var indexOf = /* istanbul ignore next */ function (array, element) {\n    for (var i = 0, length = array.length; i < length; ++i) {\n      if (array[i] === element) return i;\n    }\n    return -1;\n  };\n\n  /* istanbul ignore else */\n  if (Array.prototype.indexOf)\n    indexOf = function (array, element) {\n      return array.indexOf(element);\n    };\n\n  // Iterate through an array of objects and return the index of an object\n  // with a matching property.\n\n  function indexOfObject(array, property, element) {\n    for (var i = 0, length = array.length; i < length; ++i) {\n      if (array[i][property] === element) return i;\n    }\n    return -1;\n  }\n\n  // A sprintf implementation using %index (beginning at 1) to input\n  // arguments in the format string.\n  //\n  // Example:\n  //\n  //     // Unexpected function in token\n  //     sprintf('Unexpected %2 in %1.', 'token', 'function');\n\n  function sprintf(format) {\n    var args = slice.call(arguments, 1);\n    format = format.replace(/%(\\d)/g, function (match, index) {\n      return '' + args[index - 1] || /* istanbul ignore next */ '';\n    });\n    return format;\n  }\n\n  // Polyfill for `Object.assign`.\n\n  var assign = /* istanbul ignore next */ function (dest) {\n    var args = slice.call(arguments, 1)\n      , src, prop;\n\n    for (var i = 0, length = args.length; i < length; ++i) {\n      src = args[i];\n      for (prop in src)\n        /* istanbul ignore else */\n        if (Object.prototype.hasOwnProperty.call(src, prop)) {\n          dest[prop] = src[prop];\n        }\n    }\n\n    return dest;\n  };\n\n  /* istanbul ignore else */\n  if (Object.assign)\n    assign = Object.assign;\n\n  // ### Error functions\n\n  exports.SyntaxError = SyntaxError;\n\n  // XXX: Eliminate this function and change the error type to be different from SyntaxError.\n  // This will unfortunately be a breaking change, because some downstream users depend\n  // on the error thrown being an instance of SyntaxError. For example, the Ace editor:\n  // <https://github.com/ajaxorg/ace/blob/4c7e5eb3f5d5ca9434847be51834a4e41661b852/lib/ace/mode/lua_worker.js#L55>\n\n  function fixupError(e) {\n    /* istanbul ignore if */\n    if (!Object.create)\n      return e;\n    return Object.create(e, {\n      'line': { 'writable': true, value: e.line },\n      'index': { 'writable': true, value: e.index },\n      'column': { 'writable': true, value: e.column }\n    });\n  }\n\n  // #### Raise an exception.\n  //\n  // Raise an exception by passing a token, a string format and its paramters.\n  //\n  // The passed tokens location will automatically be added to the error\n  // message if it exists, if not it will default to the lexers current\n  // position.\n  //\n  // Example:\n  //\n  //     // [1:0] expected [ near (\n  //     raise(token, \"expected %1 near %2\", '[', token.value);\n\n  function raise(token) {\n    var message = sprintf.apply(null, slice.call(arguments, 1))\n      , error, col;\n\n    if (token === null || typeof token.line === 'undefined') {\n      col = index - lineStart + 1;\n      error = fixupError(new SyntaxError(sprintf('[%1:%2] %3', line, col, message)));\n      error.index = index;\n      error.line = line;\n      error.column = col;\n    } else {\n      col = token.range[0] - token.lineStart;\n      error = fixupError(new SyntaxError(sprintf('[%1:%2] %3', token.line, col, message)));\n      error.line = token.line;\n      error.index = token.range[0];\n      error.column = col;\n    }\n    throw error;\n  }\n\n  function tokenValue(token) {\n    var raw = input.slice(token.range[0], token.range[1]);\n    if (raw)\n      return raw;\n    return token.value;\n  }\n\n  // #### Raise an unexpected token error.\n  //\n  // Example:\n  //\n  //     // expected <name> near '0'\n  //     raiseUnexpectedToken('<name>', token);\n\n  function raiseUnexpectedToken(type, token) {\n    raise(token, errors.expectedToken, type, tokenValue(token));\n  }\n\n  // #### Raise a general unexpected error\n  //\n  // Usage should pass either a token object or a symbol string which was\n  // expected. We can also specify a nearby token such as <eof>, this will\n  // default to the currently active token.\n  //\n  // Example:\n  //\n  //     // Unexpected symbol 'end' near '<eof>'\n  //     unexpected(token);\n  //\n  // If there's no token in the buffer it means we have reached <eof>.\n\n  function unexpected(found) {\n    var near = tokenValue(lookahead);\n    if ('undefined' !== typeof found.type) {\n      var type;\n      switch (found.type) {\n        case StringLiteral:   type = 'string';      break;\n        case Keyword:         type = 'keyword';     break;\n        case Identifier:      type = 'identifier';  break;\n        case NumericLiteral:  type = 'number';      break;\n        case Punctuator:      type = 'symbol';      break;\n        case BooleanLiteral:  type = 'boolean';     break;\n        case NilLiteral:\n          return raise(found, errors.unexpected, 'symbol', 'nil', near);\n        case EOF:\n          return raise(found, errors.unexpectedEOF);\n      }\n      return raise(found, errors.unexpected, type, tokenValue(found), near);\n    }\n    return raise(found, errors.unexpected, 'symbol', found, near);\n  }\n\n  // Lexer\n  // -----\n  //\n  // The lexer, or the tokenizer reads the input string character by character\n  // and derives a token left-right. To be as efficient as possible the lexer\n  // prioritizes the common cases such as identifiers. It also works with\n  // character codes instead of characters as string comparisons was the\n  // biggest bottleneck of the parser.\n  //\n  // If `options.comments` is enabled, all comments encountered will be stored\n  // in an array which later will be appended to the chunk object. If disabled,\n  // they will simply be disregarded.\n  //\n  // When the lexer has derived a valid token, it will be returned as an object\n  // containing its value and as well as its position in the input string (this\n  // is always enabled to provide proper debug messages).\n  //\n  // `lex()` starts lexing and returns the following token in the stream.\n\n  var index\n    , token\n    , previousToken\n    , lookahead\n    , comments\n    , tokenStart\n    , line\n    , lineStart;\n\n  exports.lex = lex;\n\n  function lex() {\n    skipWhiteSpace();\n\n    // Skip comments beginning with --\n    while (45 === input.charCodeAt(index) &&\n           45 === input.charCodeAt(index + 1)) {\n      scanComment();\n      skipWhiteSpace();\n    }\n    if (index >= length) return {\n        type : EOF\n      , value: '<eof>'\n      , line: line\n      , lineStart: lineStart\n      , range: [index, index]\n    };\n\n    var charCode = input.charCodeAt(index)\n      , next = input.charCodeAt(index + 1);\n\n    // Memorize the range index where the token begins.\n    tokenStart = index;\n    if (isIdentifierStart(charCode)) return scanIdentifierOrKeyword();\n\n    switch (charCode) {\n      case 39: case 34: // '\"\n        return scanStringLiteral();\n\n      case 48: case 49: case 50: case 51: case 52: case 53:\n      case 54: case 55: case 56: case 57: // 0-9\n        return scanNumericLiteral();\n\n      case 46: // .\n        // If the dot is followed by a digit it's a float.\n        if (isDecDigit(next)) return scanNumericLiteral();\n        if (46 === next) {\n          if (46 === input.charCodeAt(index + 2)) return scanVarargLiteral();\n          return scanPunctuator('..');\n        }\n        return scanPunctuator('.');\n\n      case 61: // =\n        if (61 === next) return scanPunctuator('==');\n        return scanPunctuator('=');\n\n      case 62: // >\n        if (features.bitwiseOperators)\n          if (62 === next) return scanPunctuator('>>');\n        if (61 === next) return scanPunctuator('>=');\n        return scanPunctuator('>');\n\n      case 60: // <\n        if (features.bitwiseOperators)\n          if (60 === next) return scanPunctuator('<<');\n        if (61 === next) return scanPunctuator('<=');\n        return scanPunctuator('<');\n\n      case 126: // ~\n        if (61 === next) return scanPunctuator('~=');\n        if (!features.bitwiseOperators)\n          break;\n        return scanPunctuator('~');\n\n      case 58: // :\n        if (features.labels)\n          if (58 === next) return scanPunctuator('::');\n        return scanPunctuator(':');\n\n      case 91: // [\n        // Check for a multiline string, they begin with [= or [[\n        if (91 === next || 61 === next) return scanLongStringLiteral();\n        return scanPunctuator('[');\n\n      case 47: // /\n        // Check for integer division op (//)\n        if (features.integerDivision)\n          if (47 === next) return scanPunctuator('//');\n        return scanPunctuator('/');\n\n      case 38: case 124: // & |\n        if (!features.bitwiseOperators)\n          break;\n\n        /* fall through */\n      case 42: case 94: case 37: case 44: case 123: case 125:\n      case 93: case 40: case 41: case 59: case 35: case 45:\n      case 43: // * ^ % , { } ] ( ) ; # - +\n        return scanPunctuator(input.charAt(index));\n    }\n\n    return unexpected(input.charAt(index));\n  }\n\n  // Whitespace has no semantic meaning in lua so simply skip ahead while\n  // tracking the encounted newlines. Any kind of eol sequence is counted as a\n  // single line.\n\n  function consumeEOL() {\n    var charCode = input.charCodeAt(index)\n      , peekCharCode = input.charCodeAt(index + 1);\n\n    if (isLineTerminator(charCode)) {\n      // Count \\n\\r and \\r\\n as one newline.\n      if (10 === charCode && 13 === peekCharCode) ++index;\n      if (13 === charCode && 10 === peekCharCode) ++index;\n      ++line;\n      lineStart = ++index;\n\n      return true;\n    }\n    return false;\n  }\n\n  function skipWhiteSpace() {\n    while (index < length) {\n      var charCode = input.charCodeAt(index);\n      if (isWhiteSpace(charCode)) {\n        ++index;\n      } else if (!consumeEOL()) {\n        break;\n      }\n    }\n  }\n\n  // Identifiers, keywords, booleans and nil all look the same syntax wise. We\n  // simply go through them one by one and defaulting to an identifier if no\n  // previous case matched.\n\n  function scanIdentifierOrKeyword() {\n    var value, type;\n\n    // Slicing the input string is prefered before string concatenation in a\n    // loop for performance reasons.\n    while (isIdentifierPart(input.charCodeAt(++index)));\n    value = encodingMode.fixup(input.slice(tokenStart, index));\n\n    // Decide on the token type and possibly cast the value.\n    if (isKeyword(value)) {\n      type = Keyword;\n    } else if ('true' === value || 'false' === value) {\n      type = BooleanLiteral;\n      value = ('true' === value);\n    } else if ('nil' === value) {\n      type = NilLiteral;\n      value = null;\n    } else {\n      type = Identifier;\n    }\n\n    return {\n        type: type\n      , value: value\n      , line: line\n      , lineStart: lineStart\n      , range: [tokenStart, index]\n    };\n  }\n\n  // Once a punctuator reaches this function it should already have been\n  // validated so we simply return it as a token.\n\n  function scanPunctuator(value) {\n    index += value.length;\n    return {\n        type: Punctuator\n      , value: value\n      , line: line\n      , lineStart: lineStart\n      , range: [tokenStart, index]\n    };\n  }\n\n  // A vararg literal consists of three dots.\n\n  function scanVarargLiteral() {\n    index += 3;\n    return {\n        type: VarargLiteral\n      , value: '...'\n      , line: line\n      , lineStart: lineStart\n      , range: [tokenStart, index]\n    };\n  }\n\n  // Find the string literal by matching the delimiter marks used.\n\n  function scanStringLiteral() {\n    var delimiter = input.charCodeAt(index++)\n      , beginLine = line\n      , beginLineStart = lineStart\n      , stringStart = index\n      , string = encodingMode.discardStrings ? null : ''\n      , charCode;\n\n    for (;;) {\n      charCode = input.charCodeAt(index++);\n      if (delimiter === charCode) break;\n      // EOF or `\\n` terminates a string literal. If we haven't found the\n      // ending delimiter by now, raise an exception.\n      if (index > length || isLineTerminator(charCode)) {\n        string += input.slice(stringStart, index - 1);\n        raise(null, errors.unfinishedString, input.slice(tokenStart, index - 1));\n      }\n      if (92 === charCode) { // backslash\n        if (!encodingMode.discardStrings) {\n          var beforeEscape = input.slice(stringStart, index - 1);\n          string += encodingMode.fixup(beforeEscape);\n        }\n        var escapeValue = readEscapeSequence();\n        if (!encodingMode.discardStrings)\n          string += escapeValue;\n        stringStart = index;\n      }\n    }\n    if (!encodingMode.discardStrings) {\n      string += encodingMode.encodeByte(null);\n      string += encodingMode.fixup(input.slice(stringStart, index - 1));\n    }\n\n    return {\n        type: StringLiteral\n      , value: string\n      , line: beginLine\n      , lineStart: beginLineStart\n      , lastLine: line\n      , lastLineStart: lineStart\n      , range: [tokenStart, index]\n    };\n  }\n\n  // Expect a multiline string literal and return it as a regular string\n  // literal, if it doesn't validate into a valid multiline string, throw an\n  // exception.\n\n  function scanLongStringLiteral() {\n    var beginLine = line\n      , beginLineStart = lineStart\n      , string = readLongString(false);\n    // Fail if it's not a multiline literal.\n    if (false === string) raise(token, errors.expected, '[', tokenValue(token));\n\n    return {\n        type: StringLiteral\n      , value: encodingMode.discardStrings ? null : encodingMode.fixup(string)\n      , line: beginLine\n      , lineStart: beginLineStart\n      , lastLine: line\n      , lastLineStart: lineStart\n      , range: [tokenStart, index]\n    };\n  }\n\n  // Numeric literals will be returned as floating-point numbers instead of\n  // strings. The raw value should be retrieved from slicing the input string\n  // later on in the process.\n  //\n  // If a hexadecimal number is encountered, it will be converted.\n\n  function scanNumericLiteral() {\n    var character = input.charAt(index)\n      , next = input.charAt(index + 1);\n\n    var literal = ('0' === character && 'xX'.indexOf(next || null) >= 0) ?\n      readHexLiteral() : readDecLiteral();\n\n    var foundImaginaryUnit = readImaginaryUnitSuffix()\n      , foundInt64Suffix = readInt64Suffix();\n\n    if (foundInt64Suffix && (foundImaginaryUnit || literal.hasFractionPart)) {\n      raise(null, errors.malformedNumber, input.slice(tokenStart, index));\n    }\n\n    return {\n        type: NumericLiteral\n      , value: literal.value\n      , line: line\n      , lineStart: lineStart\n      , range: [tokenStart, index]\n    };\n  }\n\n  function readImaginaryUnitSuffix() {\n    if (!features.imaginaryNumbers) return;\n\n    // Imaginary unit number suffix is optional.\n    // See http://luajit.org/ext_ffi_api.html#literals\n    if ('iI'.indexOf(input.charAt(index) || null) >= 0) {\n      ++index;\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function readInt64Suffix() {\n    if (!features.integerSuffixes) return;\n\n    // Int64/uint64 number suffix is optional.\n    // See http://luajit.org/ext_ffi_api.html#literals\n\n    if ('uU'.indexOf(input.charAt(index) || null) >= 0) {\n      ++index;\n      if ('lL'.indexOf(input.charAt(index) || null) >= 0) {\n        ++index;\n        if ('lL'.indexOf(input.charAt(index) || null) >= 0) {\n          ++index;\n          return 'ULL';\n        } else {\n          // UL but no L\n          raise(null, errors.malformedNumber, input.slice(tokenStart, index));\n        }\n      } else {\n        // U but no L\n        raise(null, errors.malformedNumber, input.slice(tokenStart, index));\n      }\n    } else if ('lL'.indexOf(input.charAt(index) || null) >= 0) {\n        ++index;\n        if ('lL'.indexOf(input.charAt(index) || null) >= 0) {\n          ++index;\n          return 'LL';\n        } else {\n          // First L but no second L\n          raise(null, errors.malformedNumber, input.slice(tokenStart, index));\n        }\n    }\n  }\n\n  // Lua hexadecimals have an optional fraction part and an optional binary\n  // exoponent part. These are not included in JavaScript so we will compute\n  // all three parts separately and then sum them up at the end of the function\n  // with the following algorithm.\n  //\n  //     Digit := toDec(digit)\n  //     Fraction := toDec(fraction) / 16 ^ fractionCount\n  //     BinaryExp := 2 ^ binaryExp\n  //     Number := ( Digit + Fraction ) * BinaryExp\n\n  function readHexLiteral() {\n    var fraction = 0 // defaults to 0 as it gets summed\n      , binaryExponent = 1 // defaults to 1 as it gets multiplied\n      , binarySign = 1 // positive\n      , digit, fractionStart, exponentStart, digitStart;\n\n    digitStart = index += 2; // Skip 0x part\n\n    // A minimum of one hex digit is required.\n    if (!isHexDigit(input.charCodeAt(index)))\n      raise(null, errors.malformedNumber, input.slice(tokenStart, index));\n\n    while (isHexDigit(input.charCodeAt(index))) ++index;\n    // Convert the hexadecimal digit to base 10.\n    digit = parseInt(input.slice(digitStart, index), 16);\n\n    // Fraction part is optional.\n    var foundFraction = false;\n    if ('.' === input.charAt(index)) {\n      foundFraction = true;\n      fractionStart = ++index;\n\n      while (isHexDigit(input.charCodeAt(index))) ++index;\n      fraction = input.slice(fractionStart, index);\n\n      // Empty fraction parts should default to 0, others should be converted\n      // 0.x form so we can use summation at the end.\n      fraction = (fractionStart === index) ? 0\n        : parseInt(fraction, 16) / Math.pow(16, index - fractionStart);\n    }\n\n    // Binary exponents are optional\n    var foundBinaryExponent = false;\n    if ('pP'.indexOf(input.charAt(index) || null) >= 0) {\n      foundBinaryExponent = true;\n      ++index;\n\n      // Sign part is optional and defaults to 1 (positive).\n      if ('+-'.indexOf(input.charAt(index) || null) >= 0)\n        binarySign = ('+' === input.charAt(index++)) ? 1 : -1;\n\n      exponentStart = index;\n\n      // The binary exponent sign requires a decimal digit.\n      if (!isDecDigit(input.charCodeAt(index)))\n        raise(null, errors.malformedNumber, input.slice(tokenStart, index));\n\n      while (isDecDigit(input.charCodeAt(index))) ++index;\n      binaryExponent = input.slice(exponentStart, index);\n\n      // Calculate the binary exponent of the number.\n      binaryExponent = Math.pow(2, binaryExponent * binarySign);\n    }\n\n    return {\n      value: (digit + fraction) * binaryExponent,\n      hasFractionPart: foundFraction || foundBinaryExponent\n    };\n  }\n\n  // Decimal numbers are exactly the same in Lua and in JavaScript, because of\n  // this we check where the token ends and then parse it with native\n  // functions.\n\n  function readDecLiteral() {\n    while (isDecDigit(input.charCodeAt(index))) ++index;\n    // Fraction part is optional\n    var foundFraction = false;\n    if ('.' === input.charAt(index)) {\n      foundFraction = true;\n      ++index;\n      // Fraction part defaults to 0\n      while (isDecDigit(input.charCodeAt(index))) ++index;\n    }\n\n    // Exponent part is optional.\n    var foundExponent = false;\n    if ('eE'.indexOf(input.charAt(index) || null) >= 0) {\n      foundExponent = true;\n      ++index;\n      // Sign part is optional.\n      if ('+-'.indexOf(input.charAt(index) || null) >= 0) ++index;\n      // An exponent is required to contain at least one decimal digit.\n      if (!isDecDigit(input.charCodeAt(index)))\n        raise(null, errors.malformedNumber, input.slice(tokenStart, index));\n\n      while (isDecDigit(input.charCodeAt(index))) ++index;\n    }\n\n    return {\n      value: parseFloat(input.slice(tokenStart, index)),\n      hasFractionPart: foundFraction || foundExponent\n    };\n  }\n\n  function readUnicodeEscapeSequence() {\n    var sequenceStart = index++;\n\n    if (input.charAt(index++) !== '{')\n      raise(null, errors.braceExpected, '{', '\\\\' + input.slice(sequenceStart, index));\n    if (!isHexDigit(input.charCodeAt(index)))\n      raise(null, errors.hexadecimalDigitExpected, '\\\\' + input.slice(sequenceStart, index));\n\n    while (input.charCodeAt(index) === 0x30) ++index;\n    var escStart = index;\n\n    while (isHexDigit(input.charCodeAt(index))) {\n      ++index;\n      if (index - escStart > 6)\n        raise(null, errors.tooLargeCodepoint, '\\\\' + input.slice(sequenceStart, index));\n    }\n\n    var b = input.charAt(index++);\n    if (b !== '}') {\n      if ((b === '\"') || (b === \"'\"))\n        raise(null, errors.braceExpected, '}', '\\\\' + input.slice(sequenceStart, index--));\n      else\n        raise(null, errors.hexadecimalDigitExpected, '\\\\' + input.slice(sequenceStart, index));\n    }\n\n    var codepoint = parseInt(input.slice(escStart, index - 1) || '0', 16);\n    var frag = '\\\\' + input.slice(sequenceStart, index);\n\n    if (codepoint > 0x10ffff) {\n      raise(null, errors.tooLargeCodepoint, frag);\n    }\n\n    return encodingMode.encodeUTF8(codepoint, frag);\n  }\n\n  // Translate escape sequences to the actual characters.\n  function readEscapeSequence() {\n    var sequenceStart = index;\n    switch (input.charAt(index)) {\n      // Lua allow the following escape sequences.\n      case 'a': ++index; return '\\x07';\n      case 'n': ++index; return '\\n';\n      case 'r': ++index; return '\\r';\n      case 't': ++index; return '\\t';\n      case 'v': ++index; return '\\x0b';\n      case 'b': ++index; return '\\b';\n      case 'f': ++index; return '\\f';\n\n      // Backslash at the end of the line. We treat all line endings as equivalent,\n      // and as representing the [LF] character (code 10). Lua 5.1 through 5.3\n      // have been verified to behave the same way.\n      case '\\r':\n      case '\\n':\n        consumeEOL();\n        return '\\n';\n\n      case '0': case '1': case '2': case '3': case '4':\n      case '5': case '6': case '7': case '8': case '9':\n        // \\ddd, where ddd is a sequence of up to three decimal digits.\n        while (isDecDigit(input.charCodeAt(index)) && index - sequenceStart < 3) ++index;\n\n        var frag = input.slice(sequenceStart, index);\n        var ddd = parseInt(frag, 10);\n        if (ddd > 255) {\n          raise(null, errors.decimalEscapeTooLarge, '\\\\' + ddd);\n        }\n        return encodingMode.encodeByte(ddd, '\\\\' + frag);\n\n      case 'z':\n        if (features.skipWhitespaceEscape) {\n          ++index;\n          skipWhiteSpace();\n          return '';\n        }\n        break;\n\n      case 'x':\n        if (features.hexEscapes) {\n          // \\xXX, where XX is a sequence of exactly two hexadecimal digits\n          if (isHexDigit(input.charCodeAt(index + 1)) &&\n              isHexDigit(input.charCodeAt(index + 2))) {\n            index += 3;\n            return encodingMode.encodeByte(parseInt(input.slice(sequenceStart + 1, index), 16), '\\\\' + input.slice(sequenceStart, index));\n          }\n          raise(null, errors.hexadecimalDigitExpected, '\\\\' + input.slice(sequenceStart, index + 2));\n        }\n        break;\n\n      case 'u':\n        if (features.unicodeEscapes)\n          return readUnicodeEscapeSequence();\n        break;\n\n      case '\\\\': case '\"': case \"'\":\n        return input.charAt(index++);\n    }\n\n    if (features.strictEscapes)\n      raise(null, errors.invalidEscape, '\\\\' + input.slice(sequenceStart, index + 1));\n    return input.charAt(index++);\n  }\n\n  // Comments begin with -- after which it will be decided if they are\n  // multiline comments or not.\n  //\n  // The multiline functionality works the exact same way as with string\n  // literals so we reuse the functionality.\n\n  function scanComment() {\n    tokenStart = index;\n    index += 2; // --\n\n    var character = input.charAt(index)\n      , content = ''\n      , isLong = false\n      , commentStart = index\n      , lineStartComment = lineStart\n      , lineComment = line;\n\n    if ('[' === character) {\n      content = readLongString(true);\n      // This wasn't a multiline comment after all.\n      if (false === content) content = character;\n      else isLong = true;\n    }\n    // Scan until next line as long as it's not a multiline comment.\n    if (!isLong) {\n      while (index < length) {\n        if (isLineTerminator(input.charCodeAt(index))) break;\n        ++index;\n      }\n      if (options.comments) content = input.slice(commentStart, index);\n    }\n\n    if (options.comments) {\n      var node = ast.comment(content, input.slice(tokenStart, index));\n\n      // `Marker`s depend on tokens available in the parser and as comments are\n      // intercepted in the lexer all location data is set manually.\n      if (options.locations) {\n        node.loc = {\n            start: { line: lineComment, column: tokenStart - lineStartComment }\n          , end: { line: line, column: index - lineStart }\n        };\n      }\n      if (options.ranges) {\n        node.range = [tokenStart, index];\n      }\n      if (options.onCreateNode) options.onCreateNode(node);\n      comments.push(node);\n    }\n  }\n\n  // Read a multiline string by calculating the depth of `=` characters and\n  // then appending until an equal depth is found.\n\n  function readLongString(isComment) {\n    var level = 0\n      , content = ''\n      , terminator = false\n      , character, stringStart, firstLine = line;\n\n    ++index; // [\n\n    // Calculate the depth of the comment.\n    while ('=' === input.charAt(index + level)) ++level;\n    // Exit, this is not a long string afterall.\n    if ('[' !== input.charAt(index + level)) return false;\n\n    index += level + 1;\n\n    // If the first character is a newline, ignore it and begin on next line.\n    if (isLineTerminator(input.charCodeAt(index))) consumeEOL();\n\n    stringStart = index;\n    while (index < length) {\n      // To keep track of line numbers run the `consumeEOL()` which increments\n      // its counter.\n      while (isLineTerminator(input.charCodeAt(index))) consumeEOL();\n\n      character = input.charAt(index++);\n\n      // Once the delimiter is found, iterate through the depth count and see\n      // if it matches.\n      if (']' === character) {\n        terminator = true;\n        for (var i = 0; i < level; ++i) {\n          if ('=' !== input.charAt(index + i)) terminator = false;\n        }\n        if (']' !== input.charAt(index + level)) terminator = false;\n      }\n\n      // We reached the end of the multiline string. Get out now.\n      if (terminator) {\n        content += input.slice(stringStart, index - 1);\n        index += level + 1;\n        return content;\n      }\n    }\n\n    raise(null, isComment ?\n                errors.unfinishedLongComment :\n                errors.unfinishedLongString,\n          firstLine, '<eof>');\n  }\n\n  // ## Lex functions and helpers.\n\n  // Read the next token.\n  //\n  // This is actually done by setting the current token to the lookahead and\n  // reading in the new lookahead token.\n\n  function next() {\n    previousToken = token;\n    token = lookahead;\n    lookahead = lex();\n  }\n\n  // Consume a token if its value matches. Once consumed or not, return the\n  // success of the operation.\n\n  function consume(value) {\n    if (value === token.value) {\n      next();\n      return true;\n    }\n    return false;\n  }\n\n  // Expect the next token value to match. If not, throw an exception.\n\n  function expect(value) {\n    if (value === token.value) next();\n    else raise(token, errors.expected, value, tokenValue(token));\n  }\n\n  // ### Validation functions\n\n  function isWhiteSpace(charCode) {\n    return 9 === charCode || 32 === charCode || 0xB === charCode || 0xC === charCode;\n  }\n\n  function isLineTerminator(charCode) {\n    return 10 === charCode || 13 === charCode;\n  }\n\n  function isDecDigit(charCode) {\n    return charCode >= 48 && charCode <= 57;\n  }\n\n  function isHexDigit(charCode) {\n    return (charCode >= 48 && charCode <= 57) || (charCode >= 97 && charCode <= 102) || (charCode >= 65 && charCode <= 70);\n  }\n\n  // From [Lua 5.2](http://www.lua.org/manual/5.2/manual.html#8.1) onwards\n  // identifiers cannot use 'locale-dependent' letters (i.e. dependent on the C locale).\n  // On the other hand, LuaJIT allows arbitrary octets  128 in identifiers.\n\n  function isIdentifierStart(charCode) {\n    if ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122) || 95 === charCode)\n      return true;\n    if (features.extendedIdentifiers && charCode >= 128)\n      return true;\n    return false;\n  }\n\n  function isIdentifierPart(charCode) {\n    if ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122) || 95 === charCode || (charCode >= 48 && charCode <= 57))\n      return true;\n    if (features.extendedIdentifiers && charCode >= 128)\n      return true;\n    return false;\n  }\n\n  // [3.1 Lexical Conventions](http://www.lua.org/manual/5.2/manual.html#3.1)\n  //\n  // `true`, `false` and `nil` will not be considered keywords, but literals.\n\n  function isKeyword(id) {\n    switch (id.length) {\n      case 2:\n        return 'do' === id || 'if' === id || 'in' === id || 'or' === id;\n      case 3:\n        return 'and' === id || 'end' === id || 'for' === id || 'not' === id;\n      case 4:\n        if ('else' === id || 'then' === id)\n          return true;\n        if (features.labels && !features.contextualGoto)\n          return ('goto' === id);\n        return false;\n      case 5:\n        return 'break' === id || 'local' === id || 'until' === id || 'while' === id;\n      case 6:\n        return 'elseif' === id || 'repeat' === id || 'return' === id;\n      case 8:\n        return 'function' === id;\n    }\n    return false;\n  }\n\n  function isUnary(token) {\n    if (Punctuator === token.type) return '#-~'.indexOf(token.value) >= 0;\n    if (Keyword === token.type) return 'not' === token.value;\n    return false;\n  }\n\n  // Check if the token syntactically closes a block.\n\n  function isBlockFollow(token) {\n    if (EOF === token.type) return true;\n    if (Keyword !== token.type) return false;\n    switch (token.value) {\n      case 'else': case 'elseif':\n      case 'end': case 'until':\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  // Scope\n  // -----\n\n  // Store each block scope as a an array of identifier names. Each scope is\n  // stored in an FILO-array.\n  var scopes\n    // The current scope index\n    , scopeDepth\n    // A list of all global identifier nodes.\n    , globals;\n\n  // Create a new scope inheriting all declarations from the previous scope.\n  function createScope() {\n    var scope = scopes[scopeDepth++].slice();\n    scopes.push(scope);\n    if (options.onCreateScope) options.onCreateScope();\n  }\n\n  // Exit and remove the current scope.\n  function destroyScope() {\n    var scope = scopes.pop();\n    --scopeDepth;\n    if (options.onDestroyScope) options.onDestroyScope();\n  }\n\n  // Add identifier name to the current scope if it doesnt already exist.\n  function scopeIdentifierName(name) {\n    if (options.onLocalDeclaration) options.onLocalDeclaration(name);\n    if (-1 !== indexOf(scopes[scopeDepth], name)) return;\n    scopes[scopeDepth].push(name);\n  }\n\n  // Add identifier to the current scope\n  function scopeIdentifier(node) {\n    scopeIdentifierName(node.name);\n    attachScope(node, true);\n  }\n\n  // Attach scope information to node. If the node is global, store it in the\n  // globals array so we can return the information to the user.\n  function attachScope(node, isLocal) {\n    if (!isLocal && -1 === indexOfObject(globals, 'name', node.name))\n      globals.push(node);\n\n    node.isLocal = isLocal;\n  }\n\n  // Is the identifier name available in this scope.\n  function scopeHasName(name) {\n    return (-1 !== indexOf(scopes[scopeDepth], name));\n  }\n\n  // Location tracking\n  // -----------------\n  //\n  // Locations are stored in FILO-array as a `Marker` object consisting of both\n  // `loc` and `range` data. Once a `Marker` is popped off the list an end\n  // location is added and the data is attached to a syntax node.\n\n  var locations = []\n    , trackLocations;\n\n  function createLocationMarker() {\n    return new Marker(token);\n  }\n\n  function Marker(token) {\n    if (options.locations) {\n      this.loc = {\n          start: {\n            line: token.line\n          , column: token.range[0] - token.lineStart\n        }\n        , end: {\n            line: 0\n          , column: 0\n        }\n      };\n    }\n    if (options.ranges) this.range = [token.range[0], 0];\n  }\n\n  // Complete the location data stored in the `Marker` by adding the location\n  // of the *previous token* as an end location.\n  Marker.prototype.complete = function() {\n    if (options.locations) {\n      this.loc.end.line = previousToken.lastLine || previousToken.line;\n      this.loc.end.column = previousToken.range[1] - (previousToken.lastLineStart || previousToken.lineStart);\n    }\n    if (options.ranges) {\n      this.range[1] = previousToken.range[1];\n    }\n  };\n\n  Marker.prototype.bless = function (node) {\n    if (this.loc) {\n      var loc = this.loc;\n      node.loc = {\n        start: {\n          line: loc.start.line,\n          column: loc.start.column\n        },\n        end: {\n          line: loc.end.line,\n          column: loc.end.column\n        }\n      };\n    }\n    if (this.range) {\n      node.range = [\n        this.range[0],\n        this.range[1]\n      ];\n    }\n  };\n\n  // Create a new `Marker` and add it to the FILO-array.\n  function markLocation() {\n    if (trackLocations) locations.push(createLocationMarker());\n  }\n\n  // Push an arbitrary `Marker` object onto the FILO-array.\n  function pushLocation(marker) {\n    if (trackLocations) locations.push(marker);\n  }\n\n  // Control flow tracking\n  // ---------------------\n  // A context object that validates loop breaks and `goto`-based control flow.\n\n  function FullFlowContext() {\n    this.scopes = [];\n    this.pendingGotos = [];\n  }\n\n  FullFlowContext.prototype.isInLoop = function () {\n    var i = this.scopes.length;\n    while (i --> 0) {\n      if (this.scopes[i].isLoop)\n        return true;\n    }\n    return false;\n  };\n\n  FullFlowContext.prototype.pushScope = function (isLoop) {\n    var scope = {\n      labels: {},\n      locals: [],\n      deferredGotos: [],\n      isLoop: !!isLoop\n    };\n    this.scopes.push(scope);\n  };\n\n  FullFlowContext.prototype.popScope = function () {\n    for (var i = 0; i < this.pendingGotos.length; ++i) {\n      var theGoto = this.pendingGotos[i];\n      if (theGoto.maxDepth >= this.scopes.length)\n        if (--theGoto.maxDepth <= 0)\n          raise(theGoto.token, errors.labelNotVisible, theGoto.target);\n    }\n\n    this.scopes.pop();\n  };\n\n  FullFlowContext.prototype.addGoto = function (target, token) {\n    var localCounts = [];\n\n    for (var i = 0; i < this.scopes.length; ++i) {\n      var scope = this.scopes[i];\n      localCounts.push(scope.locals.length);\n      if (Object.prototype.hasOwnProperty.call(scope.labels, target))\n        return;\n    }\n\n    this.pendingGotos.push({\n      maxDepth: this.scopes.length,\n      target: target,\n      token: token,\n      localCounts: localCounts\n    });\n  };\n\n  FullFlowContext.prototype.addLabel = function (name, token) {\n    var scope = this.currentScope();\n\n    if (Object.prototype.hasOwnProperty.call(scope.labels, name)) {\n      raise(token, errors.labelAlreadyDefined, name, scope.labels[name].line);\n    } else {\n      var newGotos = [];\n\n      for (var i = 0; i < this.pendingGotos.length; ++i) {\n        var theGoto = this.pendingGotos[i];\n\n        if (theGoto.maxDepth >= this.scopes.length && theGoto.target === name) {\n          if (theGoto.localCounts[this.scopes.length - 1] < scope.locals.length) {\n            scope.deferredGotos.push(theGoto);\n          }\n          continue;\n        }\n\n        newGotos.push(theGoto);\n      }\n\n      this.pendingGotos = newGotos;\n    }\n\n    scope.labels[name] = {\n      localCount: scope.locals.length,\n      line: token.line\n    };\n  };\n\n  FullFlowContext.prototype.addLocal = function (name, token) {\n    this.currentScope().locals.push({\n      name: name,\n      token: token\n    });\n  };\n\n  FullFlowContext.prototype.currentScope = function () {\n    return this.scopes[this.scopes.length - 1];\n  };\n\n  FullFlowContext.prototype.raiseDeferredErrors = function () {\n    var scope = this.currentScope();\n    var bads = scope.deferredGotos;\n    for (var i = 0; i < bads.length; ++i) {\n      var theGoto = bads[i];\n      raise(theGoto.token, errors.gotoJumpInLocalScope, theGoto.target, scope.locals[theGoto.localCounts[this.scopes.length - 1]].name);\n    }\n    // Would be dead code currently, but may be useful later\n    // if (bads.length)\n    //   scope.deferredGotos = [];\n  };\n\n  // Simplified context that only checks the validity of loop breaks.\n\n  function LoopFlowContext() {\n    this.level = 0;\n    this.loopLevels = [];\n  }\n\n  LoopFlowContext.prototype.isInLoop = function () {\n    return !!this.loopLevels.length;\n  };\n\n  LoopFlowContext.prototype.pushScope = function (isLoop) {\n    ++this.level;\n    if (isLoop)\n      this.loopLevels.push(this.level);\n  };\n\n  LoopFlowContext.prototype.popScope = function () {\n    var levels = this.loopLevels;\n    var levlen = levels.length;\n    if (levlen) {\n      if (levels[levlen - 1] === this.level)\n        levels.pop();\n    }\n    --this.level;\n  };\n\n  LoopFlowContext.prototype.addGoto =\n  LoopFlowContext.prototype.addLabel =\n  /* istanbul ignore next */\n  function () { throw new Error('This should never happen'); };\n\n  LoopFlowContext.prototype.addLocal =\n  LoopFlowContext.prototype.raiseDeferredErrors =\n  function () {};\n\n  function makeFlowContext() {\n    return features.labels ? new FullFlowContext() : new LoopFlowContext();\n  }\n\n  // Parse functions\n  // ---------------\n\n  // Chunk is the main program object. Syntactically it's the same as a block.\n  //\n  //     chunk ::= block\n\n  function parseChunk() {\n    next();\n    markLocation();\n    if (options.scope) createScope();\n    var flowContext = makeFlowContext();\n    flowContext.allowVararg = true;\n    flowContext.pushScope();\n    var body = parseBlock(flowContext);\n    flowContext.popScope();\n    if (options.scope) destroyScope();\n    if (EOF !== token.type) unexpected(token);\n    // If the body is empty no previousToken exists when finishNode runs.\n    if (trackLocations && !body.length) previousToken = token;\n    return finishNode(ast.chunk(body));\n  }\n\n  // A block contains a list of statements with an optional return statement\n  // as its last statement.\n  //\n  //     block ::= {stat} [retstat]\n\n  function parseBlock(flowContext) {\n    var block = []\n      , statement;\n\n    while (!isBlockFollow(token)) {\n      // Return has to be the last statement in a block.\n      // Likewise 'break' in Lua older than 5.2\n      if ('return' === token.value || (!features.relaxedBreak && 'break' === token.value)) {\n        block.push(parseStatement(flowContext));\n        break;\n      }\n      statement = parseStatement(flowContext);\n      consume(';');\n      // Statements are only added if they are returned, this allows us to\n      // ignore some statements, such as EmptyStatement.\n      if (statement) block.push(statement);\n    }\n\n    // Doesn't really need an ast node\n    return block;\n  }\n\n  // There are two types of statements, simple and compound.\n  //\n  //     statement ::= break | goto | do | while | repeat | return\n  //          | if | for | function | local | label | assignment\n  //          | functioncall | ';'\n\n  function parseStatement(flowContext) {\n    markLocation();\n\n    if (Punctuator === token.type) {\n      if (consume('::')) return parseLabelStatement(flowContext);\n    }\n\n    // When a `;` is encounted, simply eat it without storing it.\n    if (features.emptyStatement) {\n      if (consume(';')) {\n        if (trackLocations) locations.pop();\n        return;\n      }\n    }\n\n    flowContext.raiseDeferredErrors();\n\n    if (Keyword === token.type) {\n      switch (token.value) {\n        case 'local':    next(); return parseLocalStatement(flowContext);\n        case 'if':       next(); return parseIfStatement(flowContext);\n        case 'return':   next(); return parseReturnStatement(flowContext);\n        case 'function': next();\n          var name = parseFunctionName();\n          return parseFunctionDeclaration(name);\n        case 'while':    next(); return parseWhileStatement(flowContext);\n        case 'for':      next(); return parseForStatement(flowContext);\n        case 'repeat':   next(); return parseRepeatStatement(flowContext);\n        case 'break':    next();\n          if (!flowContext.isInLoop())\n            raise(token, errors.noLoopToBreak, token.value);\n          return parseBreakStatement();\n        case 'do':       next(); return parseDoStatement(flowContext);\n        case 'goto':     next(); return parseGotoStatement(flowContext);\n      }\n    }\n\n    if (features.contextualGoto &&\n        token.type === Identifier && token.value === 'goto' &&\n        lookahead.type === Identifier && lookahead.value !== 'goto') {\n      next(); return parseGotoStatement(flowContext);\n    }\n\n    // Assignments memorizes the location and pushes it manually for wrapper nodes.\n    if (trackLocations) locations.pop();\n\n    return parseAssignmentOrCallStatement(flowContext);\n  }\n\n  // ## Statements\n\n  //     label ::= '::' Name '::'\n\n  function parseLabelStatement(flowContext) {\n    var nameToken = token\n      , label = parseIdentifier();\n\n    if (options.scope) {\n      scopeIdentifierName('::' + nameToken.value + '::');\n      attachScope(label, true);\n    }\n\n    expect('::');\n\n    flowContext.addLabel(nameToken.value, nameToken);\n    return finishNode(ast.labelStatement(label));\n  }\n\n  //     break ::= 'break'\n\n  function parseBreakStatement() {\n    return finishNode(ast.breakStatement());\n  }\n\n  //     goto ::= 'goto' Name\n\n  function parseGotoStatement(flowContext) {\n    var name = token.value\n      , gotoToken = previousToken\n      , label = parseIdentifier();\n\n    flowContext.addGoto(name, gotoToken);\n    return finishNode(ast.gotoStatement(label));\n  }\n\n  //     do ::= 'do' block 'end'\n\n  function parseDoStatement(flowContext) {\n    if (options.scope) createScope();\n    flowContext.pushScope();\n    var body = parseBlock(flowContext);\n    flowContext.popScope();\n    if (options.scope) destroyScope();\n    expect('end');\n    return finishNode(ast.doStatement(body));\n  }\n\n  //     while ::= 'while' exp 'do' block 'end'\n\n  function parseWhileStatement(flowContext) {\n    var condition = parseExpectedExpression(flowContext);\n    expect('do');\n    if (options.scope) createScope();\n    flowContext.pushScope(true);\n    var body = parseBlock(flowContext);\n    flowContext.popScope();\n    if (options.scope) destroyScope();\n    expect('end');\n    return finishNode(ast.whileStatement(condition, body));\n  }\n\n  //     repeat ::= 'repeat' block 'until' exp\n\n  function parseRepeatStatement(flowContext) {\n    if (options.scope) createScope();\n    flowContext.pushScope(true);\n    var body = parseBlock(flowContext);\n    expect('until');\n    flowContext.raiseDeferredErrors();\n    var condition = parseExpectedExpression(flowContext);\n    flowContext.popScope();\n    if (options.scope) destroyScope();\n    return finishNode(ast.repeatStatement(condition, body));\n  }\n\n  //     retstat ::= 'return' [exp {',' exp}] [';']\n\n  function parseReturnStatement(flowContext) {\n    var expressions = [];\n\n    if ('end' !== token.value) {\n      var expression = parseExpression(flowContext);\n      if (null != expression) expressions.push(expression);\n      while (consume(',')) {\n        expression = parseExpectedExpression(flowContext);\n        expressions.push(expression);\n      }\n      consume(';'); // grammar tells us ; is optional here.\n    }\n    return finishNode(ast.returnStatement(expressions));\n  }\n\n  //     if ::= 'if' exp 'then' block {elif} ['else' block] 'end'\n  //     elif ::= 'elseif' exp 'then' block\n\n  function parseIfStatement(flowContext) {\n    var clauses = []\n      , condition\n      , body\n      , marker;\n\n    // IfClauses begin at the same location as the parent IfStatement.\n    // It ends at the start of `end`, `else`, or `elseif`.\n    if (trackLocations) {\n      marker = locations[locations.length - 1];\n      locations.push(marker);\n    }\n    condition = parseExpectedExpression(flowContext);\n    expect('then');\n    if (options.scope) createScope();\n    flowContext.pushScope();\n    body = parseBlock(flowContext);\n    flowContext.popScope();\n    if (options.scope) destroyScope();\n    clauses.push(finishNode(ast.ifClause(condition, body)));\n\n    if (trackLocations) marker = createLocationMarker();\n    while (consume('elseif')) {\n      pushLocation(marker);\n      condition = parseExpectedExpression(flowContext);\n      expect('then');\n      if (options.scope) createScope();\n      flowContext.pushScope();\n      body = parseBlock(flowContext);\n      flowContext.popScope();\n      if (options.scope) destroyScope();\n      clauses.push(finishNode(ast.elseifClause(condition, body)));\n      if (trackLocations) marker = createLocationMarker();\n    }\n\n    if (consume('else')) {\n      // Include the `else` in the location of ElseClause.\n      if (trackLocations) {\n        marker = new Marker(previousToken);\n        locations.push(marker);\n      }\n      if (options.scope) createScope();\n      flowContext.pushScope();\n      body = parseBlock(flowContext);\n      flowContext.popScope();\n      if (options.scope) destroyScope();\n      clauses.push(finishNode(ast.elseClause(body)));\n    }\n\n    expect('end');\n    return finishNode(ast.ifStatement(clauses));\n  }\n\n  // There are two types of for statements, generic and numeric.\n  //\n  //     for ::= Name '=' exp ',' exp [',' exp] 'do' block 'end'\n  //     for ::= namelist 'in' explist 'do' block 'end'\n  //     namelist ::= Name {',' Name}\n  //     explist ::= exp {',' exp}\n\n  function parseForStatement(flowContext) {\n    var variable = parseIdentifier()\n      , body;\n\n    // The start-identifier is local.\n\n    if (options.scope) {\n      createScope();\n      scopeIdentifier(variable);\n    }\n\n    // If the first expression is followed by a `=` punctuator, this is a\n    // Numeric For Statement.\n    if (consume('=')) {\n      // Start expression\n      var start = parseExpectedExpression(flowContext);\n      expect(',');\n      // End expression\n      var end = parseExpectedExpression(flowContext);\n      // Optional step expression\n      var step = consume(',') ? parseExpectedExpression(flowContext) : null;\n\n      expect('do');\n      flowContext.pushScope(true);\n      body = parseBlock(flowContext);\n      flowContext.popScope();\n      expect('end');\n      if (options.scope) destroyScope();\n\n      return finishNode(ast.forNumericStatement(variable, start, end, step, body));\n    }\n    // If not, it's a Generic For Statement\n    else {\n      // The namelist can contain one or more identifiers.\n      var variables = [variable];\n      while (consume(',')) {\n        variable = parseIdentifier();\n        // Each variable in the namelist is locally scoped.\n        if (options.scope) scopeIdentifier(variable);\n        variables.push(variable);\n      }\n      expect('in');\n      var iterators = [];\n\n      // One or more expressions in the explist.\n      do {\n        var expression = parseExpectedExpression(flowContext);\n        iterators.push(expression);\n      } while (consume(','));\n\n      expect('do');\n      flowContext.pushScope(true);\n      body = parseBlock(flowContext);\n      flowContext.popScope();\n      expect('end');\n      if (options.scope) destroyScope();\n\n      return finishNode(ast.forGenericStatement(variables, iterators, body));\n    }\n  }\n\n  // Local statements can either be variable assignments or function\n  // definitions. If a function definition is found, it will be delegated to\n  // `parseFunctionDeclaration()` with the isLocal flag.\n  //\n  // This AST structure might change into a local assignment with a function\n  // child.\n  //\n  //     local ::= 'local' 'function' Name funcdecl\n  //        | 'local' Name {',' Name} ['=' exp {',' exp}]\n\n  function parseLocalStatement(flowContext) {\n    var name\n      , declToken = previousToken;\n\n    if (Identifier === token.type) {\n      var variables = []\n        , init = [];\n\n      do {\n        name = parseIdentifier();\n\n        variables.push(name);\n        flowContext.addLocal(name.name, declToken);\n      } while (consume(','));\n\n      if (consume('=')) {\n        do {\n          var expression = parseExpectedExpression(flowContext);\n          init.push(expression);\n        } while (consume(','));\n      }\n\n      // Declarations doesn't exist before the statement has been evaluated.\n      // Therefore assignments can't use their declarator. And the identifiers\n      // shouldn't be added to the scope until the statement is complete.\n      if (options.scope) {\n        for (var i = 0, l = variables.length; i < l; ++i) {\n          scopeIdentifier(variables[i]);\n        }\n      }\n\n      return finishNode(ast.localStatement(variables, init));\n    }\n    if (consume('function')) {\n      name = parseIdentifier();\n      flowContext.addLocal(name.name, declToken);\n\n      if (options.scope) {\n        scopeIdentifier(name);\n        createScope();\n      }\n\n      // MemberExpressions are not allowed in local function statements.\n      return parseFunctionDeclaration(name, true);\n    } else {\n      raiseUnexpectedToken('<name>', token);\n    }\n  }\n\n  //     assignment ::= varlist '=' explist\n  //     var ::= Name | prefixexp '[' exp ']' | prefixexp '.' Name\n  //     varlist ::= var {',' var}\n  //     explist ::= exp {',' exp}\n  //\n  //     call ::= callexp\n  //     callexp ::= prefixexp args | prefixexp ':' Name args\n\n  function parseAssignmentOrCallStatement(flowContext) {\n    // Keep a reference to the previous token for better error messages in case\n    // of invalid statement\n    var previous = token\n      , marker, startMarker;\n    var lvalue, base, name;\n\n    var targets = [];\n\n    if (trackLocations) startMarker = createLocationMarker();\n\n    do {\n      if (trackLocations) marker = createLocationMarker();\n\n      if (Identifier === token.type) {\n        name = token.value;\n        base = parseIdentifier();\n        // Set the parent scope.\n        if (options.scope) attachScope(base, scopeHasName(name));\n        lvalue = true;\n      } else if ('(' === token.value) {\n        next();\n        base = parseExpectedExpression(flowContext);\n        expect(')');\n        lvalue = false;\n      } else {\n        return unexpected(token);\n      }\n\n      both: for (;;) {\n        var newBase;\n\n        switch (StringLiteral === token.type ? '\"' : token.value) {\n        case '.':\n        case '[':\n          lvalue = true;\n          break;\n        case ':':\n        case '(':\n        case '{':\n        case '\"':\n          lvalue = null;\n          break;\n        default:\n          break both;\n        }\n\n        base = parsePrefixExpressionPart(base, marker, flowContext);\n      }\n\n      targets.push(base);\n\n      if (',' !== token.value)\n        break;\n\n      if (!lvalue) {\n        return unexpected(token);\n      }\n\n      next();\n    } while (true);\n\n    if (targets.length === 1 && lvalue === null) {\n      pushLocation(marker);\n      return finishNode(ast.callStatement(targets[0]));\n    } else if (!lvalue) {\n      return unexpected(token);\n    }\n\n    expect('=');\n\n    var values = [];\n\n    do {\n      values.push(parseExpectedExpression(flowContext));\n    } while (consume(','));\n\n    pushLocation(startMarker);\n    return finishNode(ast.assignmentStatement(targets, values));\n  }\n\n  // ### Non-statements\n\n  //     Identifier ::= Name\n\n  function parseIdentifier() {\n    markLocation();\n    var identifier = token.value;\n    if (Identifier !== token.type) raiseUnexpectedToken('<name>', token);\n    next();\n    return finishNode(ast.identifier(identifier));\n  }\n\n  // Parse the functions parameters and body block. The name should already\n  // have been parsed and passed to this declaration function. By separating\n  // this we allow for anonymous functions in expressions.\n  //\n  // For local functions there's a boolean parameter which needs to be set\n  // when parsing the declaration.\n  //\n  //     funcdecl ::= '(' [parlist] ')' block 'end'\n  //     parlist ::= Name {',' Name} | [',' '...'] | '...'\n\n  function parseFunctionDeclaration(name, isLocal) {\n    var flowContext = makeFlowContext();\n    flowContext.pushScope();\n\n    var parameters = [];\n    expect('(');\n\n    // The declaration has arguments\n    if (!consume(')')) {\n      // Arguments are a comma separated list of identifiers, optionally ending\n      // with a vararg.\n      while (true) {\n        if (Identifier === token.type) {\n          var parameter = parseIdentifier();\n          // Function parameters are local.\n          if (options.scope) scopeIdentifier(parameter);\n\n          parameters.push(parameter);\n\n          if (consume(',')) continue;\n        }\n        // No arguments are allowed after a vararg.\n        else if (VarargLiteral === token.type) {\n          flowContext.allowVararg = true;\n          parameters.push(parsePrimaryExpression(flowContext));\n        } else {\n          raiseUnexpectedToken('<name> or \\'...\\'', token);\n        }\n        expect(')');\n        break;\n      }\n    }\n\n    var body = parseBlock(flowContext);\n    flowContext.popScope();\n    expect('end');\n    if (options.scope) destroyScope();\n\n    isLocal = isLocal || false;\n    return finishNode(ast.functionStatement(name, parameters, isLocal, body));\n  }\n\n  // Parse the function name as identifiers and member expressions.\n  //\n  //     Name {'.' Name} [':' Name]\n\n  function parseFunctionName() {\n    var base, name, marker;\n\n    if (trackLocations) marker = createLocationMarker();\n    base = parseIdentifier();\n\n    if (options.scope) {\n      attachScope(base, scopeHasName(base.name));\n      createScope();\n    }\n\n    while (consume('.')) {\n      pushLocation(marker);\n      name = parseIdentifier();\n      base = finishNode(ast.memberExpression(base, '.', name));\n    }\n\n    if (consume(':')) {\n      pushLocation(marker);\n      name = parseIdentifier();\n      base = finishNode(ast.memberExpression(base, ':', name));\n      if (options.scope) scopeIdentifierName('self');\n    }\n\n    return base;\n  }\n\n  //     tableconstructor ::= '{' [fieldlist] '}'\n  //     fieldlist ::= field {fieldsep field} fieldsep\n  //     field ::= '[' exp ']' '=' exp | Name = 'exp' | exp\n  //\n  //     fieldsep ::= ',' | ';'\n\n  function parseTableConstructor(flowContext) {\n    var fields = []\n      , key, value;\n\n    while (true) {\n      markLocation();\n      if (Punctuator === token.type && consume('[')) {\n        key = parseExpectedExpression(flowContext);\n        expect(']');\n        expect('=');\n        value = parseExpectedExpression(flowContext);\n        fields.push(finishNode(ast.tableKey(key, value)));\n      } else if (Identifier === token.type) {\n        if ('=' === lookahead.value) {\n          key = parseIdentifier();\n          next();\n          value = parseExpectedExpression(flowContext);\n          fields.push(finishNode(ast.tableKeyString(key, value)));\n        } else {\n          value = parseExpectedExpression(flowContext);\n          fields.push(finishNode(ast.tableValue(value)));\n        }\n      } else {\n        if (null == (value = parseExpression(flowContext))) {\n          locations.pop();\n          break;\n        }\n        fields.push(finishNode(ast.tableValue(value)));\n      }\n      if (',;'.indexOf(token.value) >= 0) {\n        next();\n        continue;\n      }\n      break;\n    }\n    expect('}');\n    return finishNode(ast.tableConstructorExpression(fields));\n  }\n\n  // Expression parser\n  // -----------------\n  //\n  // Expressions are evaluated and always return a value. If nothing is\n  // matched null will be returned.\n  //\n  //     exp ::= (unop exp | primary | prefixexp ) { binop exp }\n  //\n  //     primary ::= nil | false | true | Number | String | '...'\n  //          | functiondef | tableconstructor\n  //\n  //     prefixexp ::= (Name | '(' exp ')' ) { '[' exp ']'\n  //          | '.' Name | ':' Name args | args }\n  //\n\n  function parseExpression(flowContext) {\n    var expression = parseSubExpression(0, flowContext);\n    return expression;\n  }\n\n  // Parse an expression expecting it to be valid.\n\n  function parseExpectedExpression(flowContext) {\n    var expression = parseExpression(flowContext);\n    if (null == expression) raiseUnexpectedToken('<expression>', token);\n    else return expression;\n  }\n\n\n  // Return the precedence priority of the operator.\n  //\n  // As unary `-` can't be distinguished from binary `-`, unary precedence\n  // isn't described in this table but in `parseSubExpression()` itself.\n  //\n  // As this function gets hit on every expression it's been optimized due to\n  // the expensive CompareICStub which took ~8% of the parse time.\n\n  function binaryPrecedence(operator) {\n    var charCode = operator.charCodeAt(0)\n      , length = operator.length;\n\n    if (1 === length) {\n      switch (charCode) {\n        case 94: return 12; // ^\n        case 42: case 47: case 37: return 10; // * / %\n        case 43: case 45: return 9; // + -\n        case 38: return 6; // &\n        case 126: return 5; // ~\n        case 124: return 4; // |\n        case 60: case 62: return 3; // < >\n      }\n    } else if (2 === length) {\n      switch (charCode) {\n        case 47: return 10; // //\n        case 46: return 8; // ..\n        case 60: case 62:\n            if('<<' === operator || '>>' === operator) return 7; // << >>\n            return 3; // <= >=\n        case 61: case 126: return 3; // == ~=\n        case 111: return 1; // or\n      }\n    } else if (97 === charCode && 'and' === operator) return 2;\n    return 0;\n  }\n\n  // Implement an operator-precedence parser to handle binary operator\n  // precedence.\n  //\n  // We use this algorithm because it's compact, it's fast and Lua core uses\n  // the same so we can be sure our expressions are parsed in the same manner\n  // without excessive amounts of tests.\n  //\n  //     exp ::= (unop exp | primary | prefixexp ) { binop exp }\n\n  function parseSubExpression(minPrecedence, flowContext) {\n    var operator = token.value\n    // The left-hand side in binary operations.\n      , expression, marker;\n\n    if (trackLocations) marker = createLocationMarker();\n\n    // UnaryExpression\n    if (isUnary(token)) {\n      markLocation();\n      next();\n      var argument = parseSubExpression(10, flowContext);\n      if (argument == null) raiseUnexpectedToken('<expression>', token);\n      expression = finishNode(ast.unaryExpression(operator, argument));\n    }\n    if (null == expression) {\n      // PrimaryExpression\n      expression = parsePrimaryExpression(flowContext);\n\n      // PrefixExpression\n      if (null == expression) {\n        expression = parsePrefixExpression(flowContext);\n      }\n    }\n    // This is not a valid left hand expression.\n    if (null == expression) return null;\n\n    var precedence;\n    while (true) {\n      operator = token.value;\n\n      precedence = (Punctuator === token.type || Keyword === token.type) ?\n        binaryPrecedence(operator) : 0;\n\n      if (precedence === 0 || precedence <= minPrecedence) break;\n      // Right-hand precedence operators\n      if ('^' === operator || '..' === operator) --precedence;\n      next();\n      var right = parseSubExpression(precedence, flowContext);\n      if (null == right) raiseUnexpectedToken('<expression>', token);\n      // Push in the marker created before the loop to wrap its entirety.\n      if (trackLocations) locations.push(marker);\n      expression = finishNode(ast.binaryExpression(operator, expression, right));\n\n    }\n    return expression;\n  }\n\n  //     prefixexp ::= prefix {suffix}\n  //     prefix ::= Name | '(' exp ')'\n  //     suffix ::= '[' exp ']' | '.' Name | ':' Name args | args\n  //\n  //     args ::= '(' [explist] ')' | tableconstructor | String\n\n  function parsePrefixExpressionPart(base, marker, flowContext) {\n    var expression, identifier;\n\n    if (Punctuator === token.type) {\n      switch (token.value) {\n        case '[':\n          pushLocation(marker);\n          next();\n          expression = parseExpectedExpression(flowContext);\n          expect(']');\n          return finishNode(ast.indexExpression(base, expression));\n        case '.':\n          pushLocation(marker);\n          next();\n          identifier = parseIdentifier();\n          return finishNode(ast.memberExpression(base, '.', identifier));\n        case ':':\n          pushLocation(marker);\n          next();\n          identifier = parseIdentifier();\n          base = finishNode(ast.memberExpression(base, ':', identifier));\n          // Once a : is found, this has to be a CallExpression, otherwise\n          // throw an error.\n          pushLocation(marker);\n          return parseCallExpression(base, flowContext);\n        case '(': case '{': // args\n          pushLocation(marker);\n          return parseCallExpression(base, flowContext);\n      }\n    } else if (StringLiteral === token.type) {\n      pushLocation(marker);\n      return parseCallExpression(base, flowContext);\n    }\n\n    return null;\n  }\n\n  function parsePrefixExpression(flowContext) {\n    var base, name, marker;\n\n    if (trackLocations) marker = createLocationMarker();\n\n    // The prefix\n    if (Identifier === token.type) {\n      name = token.value;\n      base = parseIdentifier();\n      // Set the parent scope.\n      if (options.scope) attachScope(base, scopeHasName(name));\n    } else if (consume('(')) {\n      base = parseExpectedExpression(flowContext);\n      expect(')');\n    } else {\n      return null;\n    }\n\n    // The suffix\n    for (;;) {\n      var newBase = parsePrefixExpressionPart(base, marker, flowContext);\n      if (newBase === null)\n        break;\n      base = newBase;\n    }\n\n    return base;\n  }\n\n  //     args ::= '(' [explist] ')' | tableconstructor | String\n\n  function parseCallExpression(base, flowContext) {\n    if (Punctuator === token.type) {\n      switch (token.value) {\n        case '(':\n          if (!features.emptyStatement) {\n            if (token.line !== previousToken.line)\n              raise(null, errors.ambiguousSyntax, token.value);\n          }\n          next();\n\n          // List of expressions\n          var expressions = [];\n          var expression = parseExpression(flowContext);\n          if (null != expression) expressions.push(expression);\n          while (consume(',')) {\n            expression = parseExpectedExpression(flowContext);\n            expressions.push(expression);\n          }\n\n          expect(')');\n          return finishNode(ast.callExpression(base, expressions));\n\n        case '{':\n          markLocation();\n          next();\n          var table = parseTableConstructor(flowContext);\n          return finishNode(ast.tableCallExpression(base, table));\n      }\n    } else if (StringLiteral === token.type) {\n      return finishNode(ast.stringCallExpression(base, parsePrimaryExpression(flowContext)));\n    }\n\n    raiseUnexpectedToken('function arguments', token);\n  }\n\n  //     primary ::= String | Numeric | nil | true | false\n  //          | functiondef | tableconstructor | '...'\n\n  function parsePrimaryExpression(flowContext) {\n    var literals = StringLiteral | NumericLiteral | BooleanLiteral | NilLiteral | VarargLiteral\n      , value = token.value\n      , type = token.type\n      , marker;\n\n    if (trackLocations) marker = createLocationMarker();\n\n    if (type === VarargLiteral && !flowContext.allowVararg) {\n      raise(token, errors.cannotUseVararg, token.value);\n    }\n\n    if (type & literals) {\n      pushLocation(marker);\n      var raw = input.slice(token.range[0], token.range[1]);\n      next();\n      return finishNode(ast.literal(type, value, raw));\n    } else if (Keyword === type && 'function' === value) {\n      pushLocation(marker);\n      next();\n      if (options.scope) createScope();\n      return parseFunctionDeclaration(null);\n    } else if (consume('{')) {\n      pushLocation(marker);\n      return parseTableConstructor(flowContext);\n    }\n  }\n\n  // Parser\n  // ------\n\n  // Export the main parser.\n  //\n  //   - `wait` Hold parsing until end() is called. Defaults to false\n  //   - `comments` Store comments. Defaults to true.\n  //   - `scope` Track identifier scope. Defaults to false.\n  //   - `locations` Store location information. Defaults to false.\n  //   - `ranges` Store the start and end character locations. Defaults to\n  //     false.\n  //   - `onCreateNode` Callback which will be invoked when a syntax node is\n  //     created.\n  //   - `onCreateScope` Callback which will be invoked when a new scope is\n  //     created.\n  //   - `onDestroyScope` Callback which will be invoked when the current scope\n  //     is destroyed.\n  //\n  // Example:\n  //\n  //     var parser = require('luaparser');\n  //     parser.parse('i = 0');\n\n  exports.parse = parse;\n\n  var versionFeatures = {\n    '5.1': {\n    },\n    '5.2': {\n      labels: true,\n      emptyStatement: true,\n      hexEscapes: true,\n      skipWhitespaceEscape: true,\n      strictEscapes: true,\n      relaxedBreak: true\n    },\n    '5.3': {\n      labels: true,\n      emptyStatement: true,\n      hexEscapes: true,\n      skipWhitespaceEscape: true,\n      strictEscapes: true,\n      unicodeEscapes: true,\n      bitwiseOperators: true,\n      integerDivision: true,\n      relaxedBreak: true\n    },\n    'LuaJIT': {\n      // XXX: LuaJIT language features may depend on compilation options; may need to\n      // rethink how to handle this. Specifically, there is a LUAJIT_ENABLE_LUA52COMPAT\n      // that removes contextual goto. Maybe add 'LuaJIT-5.2compat' as well?\n      labels: true,\n      contextualGoto: true,\n      hexEscapes: true,\n      skipWhitespaceEscape: true,\n      strictEscapes: true,\n      unicodeEscapes: true,\n      imaginaryNumbers: true,\n      integerSuffixes: true\n    }\n  };\n\n  function parse(_input, _options) {\n    if ('undefined' === typeof _options && 'object' === typeof _input) {\n      _options = _input;\n      _input = undefined;\n    }\n    if (!_options) _options = {};\n\n    input = _input || '';\n    options = assign({}, defaultOptions, _options);\n\n    // Rewind the lexer\n    index = 0;\n    line = 1;\n    lineStart = 0;\n    length = input.length;\n    // When tracking identifier scope, initialize with an empty scope.\n    scopes = [[]];\n    scopeDepth = 0;\n    globals = [];\n    locations = [];\n\n    if (!Object.prototype.hasOwnProperty.call(versionFeatures, options.luaVersion)) {\n      throw new Error(sprintf(\"Lua version '%1' not supported\", options.luaVersion));\n    }\n\n    features = assign({}, versionFeatures[options.luaVersion]);\n    if (options.extendedIdentifiers !== void 0)\n      features.extendedIdentifiers = !!options.extendedIdentifiers;\n\n    if (!Object.prototype.hasOwnProperty.call(encodingModes, options.encodingMode)) {\n      throw new Error(sprintf(\"Encoding mode '%1' not supported\", options.encodingMode));\n    }\n\n    encodingMode = encodingModes[options.encodingMode];\n\n    if (options.comments) comments = [];\n    if (!options.wait) return end();\n    return exports;\n  }\n\n  // Write to the source code buffer without beginning the parse.\n  exports.write = write;\n\n  function write(_input) {\n    input += String(_input);\n    length = input.length;\n    return exports;\n  }\n\n  // Send an EOF and begin parsing.\n  exports.end = end;\n\n  function end(_input) {\n    if ('undefined' !== typeof _input) write(_input);\n\n    // Ignore shebangs.\n    if (input && input.substr(0, 2) === '#!') input = input.replace(/^.*/, function (line) {\n      return line.replace(/./g, ' ');\n    });\n\n    length = input.length;\n    trackLocations = options.locations || options.ranges;\n    // Initialize with a lookahead token.\n    lookahead = lex();\n\n    var chunk = parseChunk();\n    if (options.comments) chunk.comments = comments;\n    if (options.scope) chunk.globals = globals;\n\n    /* istanbul ignore if */\n    if (locations.length > 0)\n      throw new Error('Location tracking failed. This is most likely a bug in luaparse');\n\n    return chunk;\n  }\n\n}));\n/* vim: set sw=2 ts=2 et tw=79 : */\n","/*!\n * pad-left <https://github.com/jonschlinkert/pad-left>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT license.\n */\n\n'use strict';\n\nvar repeat = require('repeat-string');\n\nmodule.exports = function padLeft(str, num, ch) {\n  ch = typeof ch !== 'undefined' ? (ch + '') : ' ';\n  return repeat(ch, num) + str;\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\r\n * Any state shared between modules goes here\r\n * For internal use, not for consumers\r\n */\r\nconst state = {\r\n    currentComponent: null,\r\n    isBatchUpdating: false,\r\n    isInBrowser: typeof window !== 'undefined',\r\n    listeners: new Map(),\r\n    manualListeners: [],\r\n    nextVersionMap: new WeakMap(),\r\n    proxyIsMuted: false,\r\n    redirectToNext: true,\r\n    store: {},\r\n};\n\nexport default state;\n","/**\r\n * To convert the path array to a string for the listener keys\r\n * Use a crazy separator. If the separator was a '.', and the user had a prop with a dot in it,\r\n * then it could cause false matches in the updated logic.\r\n */\r\nconst PROP_PATH_SEP = '~~~';\r\nconst PATH = Symbol('PATH');\r\nconst ORIGINAL = Symbol('ORIGINAL');\r\nconst LS_KEYS = {\r\n    RR_HISTORY_LIMIT: 'RR_HISTORY_LIMIT',\r\n    RR_DEBUG: 'RR_DEBUG',\r\n};\n\nexport { LS_KEYS, ORIGINAL, PATH, PROP_PATH_SEP };\n","import { PATH } from './constants.js';\nimport state$1 from './state.js';\n\n// 'object' meaning 'plain object'.\r\nconst isObject = (item) => !!item && typeof item === 'object' && item.constructor === Object;\r\nconst isArray = (item) => Array.isArray(item);\r\nconst isMap = (item) => item instanceof Map;\r\nconst isSet = (item) => item instanceof Set;\r\n// A target is one of the four types that Recollect will proxy\r\nconst isTarget = (item) => isObject(item) || isArray(item) || isMap(item) || isSet(item);\r\n// This is internal to JS or to Recollect\r\nconst isInternal = (prop) => prop === PATH ||\r\n    prop === 'constructor' ||\r\n    prop === 'toJSON' ||\r\n    // Various type-checking libraries call these\r\n    prop === '@@toStringTag' ||\r\n    prop === Symbol.toStringTag;\r\nconst isFunction = (item) => typeof item === 'function';\r\nconst isArrayMutation = (target, prop) => isArray(target) &&\r\n    [\r\n        \"copyWithin\" /* CopyWithin */,\r\n        \"fill\" /* Fill */,\r\n        \"pop\" /* Pop */,\r\n        \"push\" /* Push */,\r\n        \"reverse\" /* Reverse */,\r\n        \"shift\" /* Shift */,\r\n        \"sort\" /* Sort */,\r\n        \"splice\" /* Splice */,\r\n        \"unshift\" /* Unshift */,\r\n    ].includes(prop);\r\nconst clone = (target) => {\r\n    if (isObject(target))\r\n        return Object.assign({}, target);\r\n    // @ts-ignore\r\n    if (isArray(target))\r\n        return target.slice();\r\n    // @ts-ignore\r\n    if (isMap(target))\r\n        return new Map(target);\r\n    // @ts-ignore\r\n    if (isSet(target))\r\n        return new Set(target);\r\n    return target;\r\n};\r\n/**\r\n * Get the value from an object. This is for end-user objects. E.g. not\r\n * accessing a symbol property on a Map object.\r\n */\r\nconst getValue = (target, prop) => {\r\n    if (isMap(target))\r\n        return target.get(prop);\r\n    if (isSet(target))\r\n        return prop;\r\n    if (isArray(target))\r\n        return target[prop];\r\n    return target[prop];\r\n};\r\nconst setValue = (mutableTarget, prop, value) => {\r\n    if (isObject(mutableTarget)) {\r\n        mutableTarget[prop] = value;\r\n    }\r\n    else if (isArray(mutableTarget)) {\r\n        // @ts-ignore - is fine, prop can be a symbol\r\n        mutableTarget[prop] = value;\r\n    }\r\n    else if (isMap(mutableTarget)) {\r\n        // @ts-ignore\r\n        mutableTarget.set(prop, value);\r\n    }\r\n    else if (isSet(mutableTarget)) {\r\n        // @ts-ignore\r\n        mutableTarget.add(value);\r\n    }\r\n    else {\r\n        throw Error('Unexpected type');\r\n    }\r\n};\r\nconst getSize = (item) => {\r\n    if (isObject(item))\r\n        return Object.keys(item).length;\r\n    // @ts-ignore - TS thinks item is never\r\n    if (isArray(item))\r\n        return item.length;\r\n    // @ts-ignore - TS thinks item is never\r\n    if (isMap(item) || isSet(item))\r\n        return item.size;\r\n    throw Error('Unexpected type');\r\n};\r\n/**\r\n * Shallow replaces the contents of one object with the contents of another.\r\n * The top level object will remain the same, but all changed content will\r\n * be replaced with the new content.\r\n */\r\nconst replaceObject = (mutableTarget, nextObject) => {\r\n    if (nextObject) {\r\n        // From the new data, add to the old data anything that's new\r\n        // (from the top level props only)\r\n        Object.entries(nextObject).forEach(([prop, value]) => {\r\n            if (mutableTarget[prop] !== value) {\r\n                mutableTarget[prop] = value;\r\n            }\r\n        });\r\n        // Clear out any keys that aren't in the new data\r\n        Object.keys(mutableTarget).forEach((prop) => {\r\n            if (!(prop in nextObject)) {\r\n                delete mutableTarget[prop];\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        // Just empty the old object\r\n        Object.keys(mutableTarget).forEach((prop) => {\r\n            delete mutableTarget[prop];\r\n        });\r\n    }\r\n};\r\n/**\r\n * Traverse a tree, calling a callback for each node with the item and the path.\r\n * This can either mutate each value, or return a new value to create a clone.\r\n * @example const clone = utils.updateDeep(original, utils.clone);\r\n * Only traverses the targets supported by Recollect.\r\n */\r\nconst updateDeep = (mutableTarget, updater) => {\r\n    const path = [];\r\n    const processLevel = (target) => {\r\n        const updated = updater(target, path.slice());\r\n        // If the updater returns something, use it. Else mutate the original.\r\n        const next = typeof updated !== 'undefined' ? updated : target;\r\n        const handleEntry = (prop, value) => {\r\n            path.push(prop);\r\n            const processed = processLevel(value);\r\n            path.pop();\r\n            setValue(next, prop, processed);\r\n        };\r\n        if (isObject(next)) {\r\n            Object.entries(next).forEach(([prop, value]) => {\r\n                handleEntry(prop, value);\r\n            });\r\n        }\r\n        else if (isArray(next) || isMap(next)) {\r\n            next.forEach((value, prop) => {\r\n                handleEntry(prop, value);\r\n            });\r\n        }\r\n        else if (isSet(next)) {\r\n            // A set is special - you can't reassign what's in a particular\r\n            // 'position' like the other three, so we do some fancy footwork...\r\n            const setContents = Array.from(next);\r\n            next.clear();\r\n            setContents.forEach((value) => {\r\n                handleEntry(value, value);\r\n            });\r\n        }\r\n        return next;\r\n    };\r\n    return processLevel(mutableTarget);\r\n};\r\n/**\r\n * Does some work while the proxy is muted. Returns the result of the\r\n * callback as a convenience.\r\n * This prevents components from being subscribed to reads from the store,\r\n * it does not prevent updates being triggered.\r\n */\r\nconst whileMuted = (cb) => {\r\n    state$1.proxyIsMuted = true;\r\n    const result = cb();\r\n    state$1.proxyIsMuted = false;\r\n    return result;\r\n};\r\n/**\r\n * This is a convenience method that triggers a read on each item in the array.\r\n * When used during the render cycle of a collected component, it has the\r\n * side-effect of subscribing that component to each item in the array.\r\n */\r\nconst useProps = (props) => {\r\n    // useProps must never return, so it can be used in the body of a component\r\n    props.includes(0);\r\n};\n\nexport { clone, getSize, getValue, isArray, isArrayMutation, isFunction, isInternal, isMap, isObject, isSet, isTarget, replaceObject, setValue, updateDeep, useProps, whileMuted };\n","import { PATH, PROP_PATH_SEP } from './constants.js';\n\n// Joins an array that potentially contains symbols, which need an explicit\r\n// 'toString()'\r\nconst join = (arr, joiner) => arr.map((item) => item.toString()).join(joiner);\r\n/**\r\n * Convert a target and a prop into a user-friendly string like store.tasks.1.done\r\n */\r\nconst makeUserString = (propPath) => join(propPath, '.');\r\nconst makeInternalString = (propPath) => join(propPath, PROP_PATH_SEP);\r\n/**\r\n * Takes the path stored in an object, and a new prop, and returns the two\r\n * combined\r\n */\r\nconst extend = (target, prop) => {\r\n    const basePath = target[PATH] || [];\r\n    if (typeof prop === 'undefined')\r\n        return basePath;\r\n    return basePath.concat(prop);\r\n};\r\n/**\r\n * Convert a target and a prop into a user-friendly string like store.tasks.1.done\r\n */\r\nconst extendToUserString = (target, prop) => makeUserString(extend(target, prop));\r\nconst addProp = (target, propPath) => {\r\n    if (!target)\r\n        return;\r\n    Object.defineProperty(target, PATH, {\r\n        value: propPath,\r\n        writable: true,\r\n    });\r\n};\r\nconst get = (target) => target[PATH] || [];\n\nexport { addProp, extend, extendToUserString, get, makeInternalString, makeUserString };\n","const hasLocalStorage = typeof window !== 'undefined' && !!window.localStorage;\r\nconst set = (key, data) => {\r\n    if (!hasLocalStorage)\r\n        return undefined;\r\n    try {\r\n        const string = typeof data === 'string' ? data : JSON.stringify(data);\r\n        return localStorage.setItem(key, string);\r\n    }\r\n    catch (err) {\r\n        return undefined;\r\n    }\r\n};\r\nconst get = (key) => {\r\n    if (!hasLocalStorage)\r\n        return undefined;\r\n    const data = localStorage.getItem(key);\r\n    if (!data)\r\n        return data;\r\n    try {\r\n        return JSON.parse(data);\r\n    }\r\n    catch (err) {\r\n        // So we return whatever we've got on a failure\r\n        // E.g. the data could be a plain string, which errors on JSON.parse.\r\n        return data;\r\n    }\r\n};\n\nexport { get, set };\n","import { LS_KEYS } from './constants.js';\nimport state$1 from './state.js';\nimport { getValue } from './utils.js';\nimport { extendToUserString } from './paths.js';\nimport { get, set } from './ls.js';\n\nconst DEBUG_ON = 'on';\r\nconst DEBUG_OFF = 'off';\r\nlet DEBUG = get(LS_KEYS.RR_DEBUG) || DEBUG_OFF;\r\nif (DEBUG === DEBUG_ON) {\r\n    console.info('Recollect debugging is enabled. Type __RR__.debugOff() to turn it off.');\r\n}\r\nconst debugOn = () => {\r\n    DEBUG = DEBUG_ON;\r\n    set(LS_KEYS.RR_DEBUG, DEBUG_ON);\r\n};\r\nconst debugOff = () => {\r\n    DEBUG = DEBUG_OFF;\r\n    set(LS_KEYS.RR_DEBUG, DEBUG_OFF);\r\n};\r\nconst debug = (cb) => {\r\n    if (DEBUG === DEBUG_ON)\r\n        cb();\r\n};\r\nconst logGet = (target, prop, value) => {\r\n    debug(() => {\r\n        console.groupCollapsed(`GET: ${extendToUserString(target, prop)}`);\r\n        console.info(`Component: <${state$1.currentComponent._name}>`);\r\n        if (typeof value !== 'undefined') {\r\n            console.info('Value:', value);\r\n        }\r\n        console.groupEnd();\r\n    });\r\n};\r\nconst logSet = (target, prop, value) => {\r\n    debug(() => {\r\n        console.groupCollapsed(`SET: ${extendToUserString(target, prop)}`);\r\n        console.info('From:', getValue(target, prop));\r\n        console.info('To:  ', value);\r\n        console.groupEnd();\r\n    });\r\n};\r\nconst logDelete = (target, prop) => {\r\n    debug(() => {\r\n        console.groupCollapsed(`DELETE: ${extendToUserString(target, prop)}`);\r\n        console.info('Property: ', extendToUserString(target, prop));\r\n        console.groupEnd();\r\n    });\r\n};\r\nconst logUpdate = (component, propsUpdated) => {\r\n    debug(() => {\r\n        console.groupCollapsed(`UPDATE:  <${component._name}>`);\r\n        console.info('Changed properties:', propsUpdated);\r\n        console.groupEnd();\r\n    });\r\n};\n\nexport { debug, debugOff, debugOn, logDelete, logGet, logSet, logUpdate };\n","import state$1 from './state.js';\n\nconst subscribers = {};\r\nconst onUpdateInNextStore = (func) => {\r\n    subscribers[\"UpdateNextStore\" /* UpdateNextStore */] = func;\r\n};\r\nconst dispatchUpdateInNextStore = (data) => {\r\n    return subscribers[\"UpdateNextStore\" /* UpdateNextStore */](data);\r\n};\r\n/**\r\n * Add a callback to be called every time the store changes\r\n */\r\nconst afterChange = (cb) => {\r\n    state$1.manualListeners.push(cb);\r\n};\n\nexport { afterChange, dispatchUpdateInNextStore, onUpdateInNextStore };\n","import { ORIGINAL } from './shared/constants.js';\nimport state$1 from './shared/state.js';\nimport { isMap, isSet, isFunction, isInternal, isArrayMutation, isArray, updateDeep, isTarget } from './shared/utils.js';\nimport { extend, get, makeInternalString, addProp } from './shared/paths.js';\nimport { logGet, logDelete, logSet } from './shared/debug.js';\nimport { dispatchUpdateInNextStore } from './shared/pubSub.js';\n\n/**\r\n * Add a new listener to be notified when a particular value in the store changes\r\n * To be used when a component reads from a property.\r\n */\r\nconst addListener = (propPath) => {\r\n    if (!state$1.currentComponent)\r\n        return;\r\n    // We use a string instead of an array because it's much easier to match\r\n    const pathString = makeInternalString(propPath);\r\n    const components = state$1.listeners.get(pathString) || new Set();\r\n    components.add(state$1.currentComponent);\r\n    state$1.listeners.set(pathString, components);\r\n};\r\n/**\r\n * These are the proxy handlers. Notes:\r\n * * We have different handlers (different traps) for object/array and\r\n *    map/set.\r\n * * When the proxy is muted, use Reflect[trap] and bypass any logic. The\r\n *    exception is Map/Set methods, where we must bind `this` first\r\n * * `ORIGINAL` lets us unwrap a proxied object\r\n * * We redirect to the 'next version' of a target if it has been changed\r\n */\r\nconst getHandlerForObject = (targetObject) => {\r\n    if (isMap(targetObject) || isSet(targetObject)) {\r\n        // Map() and Set() get a special handler, because reads and writes all\r\n        // happen in the get() trap (different to the get() method of the map/set!)\r\n        return {\r\n            get(target, prop) {\r\n                if (prop === ORIGINAL)\r\n                    return target;\r\n                let result = Reflect.get(target, prop);\r\n                // The innards of Map and Set require this binding\r\n                if (isFunction(result))\r\n                    result = result.bind(target);\r\n                // Bail early for some things. Unlike objects/arrays, we will\r\n                // continue on even if !state.currentComponent\r\n                if (state$1.proxyIsMuted || isInternal(prop)) {\r\n                    return result;\r\n                }\r\n                if (!state$1.currentComponent && state$1.redirectToNext) {\r\n                    const nextVersion = state$1.nextVersionMap.get(target);\r\n                    if (nextVersion)\r\n                        return Reflect.get(nextVersion, prop);\r\n                }\r\n                // Adding to a Map\r\n                if (prop === \"set\" /* Set */) {\r\n                    const handler = {\r\n                        apply(func, applyTarget, [key, value]) {\r\n                            if (applyTarget.get(key) === value)\r\n                                return true; // No change, no need to carry on\r\n                            return dispatchUpdateInNextStore({\r\n                                target: applyTarget,\r\n                                prop: key,\r\n                                value,\r\n                                updater: (finalTarget, newProxiedValue) => {\r\n                                    logSet(target, prop, newProxiedValue);\r\n                                    // We call the map.set() now, but on the item in the\r\n                                    // store, and with the new args\r\n                                    return Reflect.apply(finalTarget[prop], finalTarget, [\r\n                                        key,\r\n                                        newProxiedValue,\r\n                                    ]);\r\n                                },\r\n                            });\r\n                        },\r\n                    };\r\n                    return new Proxy(result, handler);\r\n                }\r\n                // Adding to a Set\r\n                if (prop === \"add\" /* Add */) {\r\n                    const handler = {\r\n                        apply(func, applyTarget, [value]) {\r\n                            if (applyTarget.has(value))\r\n                                return true; // Would be a no op\r\n                            return dispatchUpdateInNextStore({\r\n                                target: applyTarget,\r\n                                notifyTarget: true,\r\n                                value,\r\n                                updater: (finalTarget, newProxiedValue) => {\r\n                                    logSet(target, prop, newProxiedValue);\r\n                                    return Reflect.apply(finalTarget[prop], finalTarget, [\r\n                                        newProxiedValue,\r\n                                    ]);\r\n                                },\r\n                            });\r\n                        },\r\n                    };\r\n                    return new Proxy(result, handler);\r\n                }\r\n                // On either a Set or Map\r\n                if (prop === \"clear\" /* Clear */ || prop === \"delete\" /* Delete */) {\r\n                    const handler = {\r\n                        apply(func, applyTarget, [key]) {\r\n                            if (!applyTarget.size ||\r\n                                (prop === \"delete\" /* Delete */ && !applyTarget.has(key))) {\r\n                                return false; // false indicates no change\r\n                            }\r\n                            return dispatchUpdateInNextStore({\r\n                                target: applyTarget,\r\n                                notifyTarget: true,\r\n                                updater: (finalTarget) => {\r\n                                    logSet(target, prop);\r\n                                    return Reflect.apply(finalTarget[prop], finalTarget, [key]);\r\n                                },\r\n                            });\r\n                        },\r\n                    };\r\n                    return new Proxy(result, handler);\r\n                }\r\n                // Now that we've handled any modifying methods, we can\r\n                // just return the result if we're not in the render cycle.\r\n                if (!state$1.currentComponent)\r\n                    return result;\r\n                // If we're reading a particular value, we'll want a listener for that\r\n                // We don't listen on `.has` because any change that would result in\r\n                // `.has` returning a different value would update the target\r\n                if (isMap(target) && prop === \"get\" /* Get */) {\r\n                    const handler = {\r\n                        apply(func, applyTarget, args) {\r\n                            addListener(extend(target, args[0]));\r\n                            return Reflect.apply(func, applyTarget, args);\r\n                        },\r\n                    };\r\n                    return new Proxy(result, handler);\r\n                }\r\n                // For all other read operations, just return\r\n                return result;\r\n            },\r\n        };\r\n    }\r\n    return {\r\n        get(target, prop) {\r\n            // This allows getting the un-proxied version of a proxied object\r\n            if (prop === ORIGINAL)\r\n                return target;\r\n            const result = Reflect.get(target, prop);\r\n            if (state$1.proxyIsMuted || isInternal(prop))\r\n                return result;\r\n            // Mutating array methods make a lot of noise, so we wrap them in a proxy\r\n            // Only one update will be fired - for the actual array.\r\n            if (isArrayMutation(target, prop)) {\r\n                const handler = {\r\n                    apply(func, applyTarget, args) {\r\n                        return dispatchUpdateInNextStore({\r\n                            target: applyTarget,\r\n                            notifyTarget: true,\r\n                            value: args,\r\n                            updater: (finalTarget, proxiedArgs) => {\r\n                                logSet(target, prop, proxiedArgs);\r\n                                const updateResult = Reflect.apply(\r\n                                // @ts-ignore - Yes, symbol CAN be used as an index type\r\n                                finalTarget[prop], finalTarget, proxiedArgs);\r\n                                const rootPath = get(target);\r\n                                // At this point, the array is updated. But the paths of the\r\n                                // items could be wrong, so we refresh them.\r\n                                updateDeep(finalTarget, (item, path) => {\r\n                                    if (isTarget(item)) {\r\n                                        addProp(item, [...rootPath, ...path]);\r\n                                    }\r\n                                });\r\n                                return updateResult;\r\n                            },\r\n                        });\r\n                    },\r\n                };\r\n                return new Proxy(result, handler);\r\n            }\r\n            // For all other methods (.join, .toString(), etc) return the function\r\n            // @ts-ignore - wrong, symbol can be used an an index type\r\n            if (isFunction(target[prop]))\r\n                return result;\r\n            if (state$1.currentComponent) {\r\n                // We record a get if a component is rendering, with the exception\r\n                // of reading array length. This would be redundant, since changes to\r\n                // length trigger a change on the array itself\r\n                if (!(isArray(target) && prop === \"length\" /* Length */)) {\r\n                    logGet(target, prop, result);\r\n                    addListener(extend(target, prop));\r\n                }\r\n            }\r\n            else if (state$1.redirectToNext) {\r\n                // When we're outside the render cycle, we route\r\n                // requests to the 'next version'\r\n                // Note, this will result in another get(), but on the equivalent\r\n                // target from the next store. muteProxy will be set so this line\r\n                // isn't triggered in an infinite loop\r\n                const nextVersion = state$1.nextVersionMap.get(target);\r\n                if (nextVersion)\r\n                    return Reflect.get(nextVersion, prop);\r\n            }\r\n            return result;\r\n        },\r\n        has(target, prop) {\r\n            const result = Reflect.has(target, prop);\r\n            if (state$1.proxyIsMuted || isInternal(prop))\r\n                return result;\r\n            if (state$1.currentComponent) {\r\n                // Arrays use `has` too, but we capture a listener elsewhere for that.\r\n                // Here we only want to capture access to objects\r\n                if (!isArray(target)) {\r\n                    logGet(target, prop);\r\n                    addListener(extend(target, prop));\r\n                }\r\n            }\r\n            else {\r\n                const nextVersion = state$1.nextVersionMap.get(target);\r\n                if (nextVersion)\r\n                    return Reflect.has(nextVersion, prop);\r\n            }\r\n            return result;\r\n        },\r\n        ownKeys(target) {\r\n            const result = Reflect.ownKeys(target);\r\n            if (state$1.proxyIsMuted)\r\n                return result;\r\n            if (state$1.currentComponent) {\r\n                logGet(target);\r\n                addListener(get(target));\r\n            }\r\n            else {\r\n                const nextVersion = state$1.nextVersionMap.get(target);\r\n                if (nextVersion)\r\n                    return Reflect.ownKeys(nextVersion);\r\n            }\r\n            return result;\r\n        },\r\n        set(target, prop, value) {\r\n            if (state$1.proxyIsMuted)\r\n                return Reflect.set(target, prop, value);\r\n            // If there's no change, we return\r\n            // @ts-ignore - target[prop] is fine\r\n            if (target[prop] === value)\r\n                return true;\r\n            return dispatchUpdateInNextStore({\r\n                target,\r\n                prop,\r\n                value,\r\n                updater: (finalTarget, newValueProxy) => {\r\n                    logSet(target, prop, newValueProxy);\r\n                    return Reflect.set(finalTarget, prop, newValueProxy);\r\n                },\r\n            });\r\n        },\r\n        deleteProperty(target, prop) {\r\n            if (state$1.proxyIsMuted)\r\n                return Reflect.deleteProperty(target, prop);\r\n            return dispatchUpdateInNextStore({\r\n                target,\r\n                prop,\r\n                notifyTarget: true,\r\n                updater: (finalTarget) => {\r\n                    logDelete(target, prop);\r\n                    return Reflect.deleteProperty(finalTarget, prop);\r\n                },\r\n            });\r\n        },\r\n    };\r\n};\r\n/**\r\n * Wrap an item in a proxy\r\n */\r\nconst createShallow = (target) => {\r\n    return new Proxy(target, getHandlerForObject(target));\r\n};\n\nexport { createShallow, getHandlerForObject };\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-dom\");","import ReactDOM$1 from 'react-dom';\n\n/* eslint-disable import/no-unresolved */\r\n// unstable_batchedUpdates could be removed in a future major version\r\n// So we'll provide a fallback\r\n// https://github.com/facebook/react/issues/18602\r\nvar batchedUpdates = ReactDOM$1.unstable_batchedUpdates ||\r\n    ((cb) => {\r\n        cb();\r\n    });\n\nexport default batchedUpdates;\n","import state$1 from './shared/state.js';\nimport { makeInternalString, makeUserString } from './shared/paths.js';\nimport { logUpdate } from './shared/debug.js';\nimport batchedUpdates$1 from './shared/batchedUpdates.js';\n\nconst queue = {\r\n    components: new Map(),\r\n    changedPaths: new Set(),\r\n};\r\nconst flushUpdates = () => {\r\n    // We batch updates here so that React will collect all setState() calls\r\n    // (one for each component being updated) before triggering a render.\r\n    // In other words: MANY .update() calls, ONE render.\r\n    // This is subtly different to what the Recollect batch() function does -\r\n    // it ensures that the listeners are only notified once for\r\n    // multiple store changes\r\n    // In other words: MANY store updates, ONE call to flushUpdates()\r\n    batchedUpdates$1(() => {\r\n        queue.components.forEach((propsUpdated, component) => {\r\n            logUpdate(component, Array.from(propsUpdated));\r\n            component.update();\r\n        });\r\n    });\r\n    state$1.manualListeners.forEach((cb) => cb({\r\n        changedProps: Array.from(queue.changedPaths),\r\n        renderedComponents: Array.from(queue.components.keys()),\r\n        store: state$1.store,\r\n    }));\r\n    queue.components.clear();\r\n    queue.changedPaths.clear();\r\n};\r\n/**\r\n * Updates any component listening to:\r\n * - the exact propPath that has been changed. E.g. `tasks.2`\r\n * - a path further up the object tree. E.g. a component listening\r\n *   on `tasks.0` need to know if `tasks = 'foo'` happens\r\n * And if the path being notified is the top level (an empty path), everyone\r\n * gets updated.\r\n */\r\nconst notifyByPath = (propPath) => {\r\n    const pathString = makeInternalString(propPath);\r\n    const userFriendlyPropPath = makeUserString(propPath);\r\n    queue.changedPaths.add(userFriendlyPropPath);\r\n    state$1.listeners.forEach((components, listenerPath) => {\r\n        if (pathString === '' || // Notify everyone for top-level changes\r\n            pathString === listenerPath) {\r\n            components.forEach((component) => {\r\n                const propsUpdated = queue.components.get(component) || new Set();\r\n                propsUpdated.add(userFriendlyPropPath);\r\n                queue.components.set(component, propsUpdated);\r\n            });\r\n        }\r\n    });\r\n    // If we're not batch updating, flush the changes now, otherwise this\r\n    // will be called when the batch is complete\r\n    if (!state$1.isBatchUpdating)\r\n        flushUpdates();\r\n};\r\nconst removeListenersForComponent = (componentToRemove) => {\r\n    state$1.listeners.forEach((components, listenerPath) => {\r\n        const filteredComponents = Array.from(components).filter((existingComponent) => existingComponent !== componentToRemove);\r\n        if (filteredComponents.length) {\r\n            state$1.listeners.set(listenerPath, new Set(filteredComponents));\r\n        }\r\n        else {\r\n            // If there are no components left listening, remove the path\r\n            // For example, leaving a page will unmount a bunch of components\r\n            state$1.listeners.delete(listenerPath);\r\n        }\r\n    });\r\n};\n\nexport { flushUpdates, notifyByPath, removeListenersForComponent };\n","import { ORIGINAL } from './shared/constants.js';\nimport state$1 from './shared/state.js';\nimport { replaceObject, whileMuted, getSize, isTarget, updateDeep, clone, getValue, setValue } from './shared/utils.js';\nimport { get, extend, addProp } from './shared/paths.js';\nimport { onUpdateInNextStore } from './shared/pubSub.js';\nimport { createShallow } from './proxyManager.js';\nimport { flushUpdates, notifyByPath } from './updateManager.js';\n\n/**\r\n * This is the store, as exported to the user. When the store is passed to a\r\n * component, it is shallow cloned. This leaves us free to mutate the root\r\n * level directly.\r\n */\r\nstate$1.store = createShallow({});\r\n/**\r\n * Deep update the store, the following rules are followed:\r\n * - If updating the root level, the store object itself is mutated.\r\n * - For any other (deep) update we clone each node along the path to\r\n *   the target to update (the target is cloned too).\r\n */\r\nconst updateStore = ({ target, prop, value, notifyTarget = false, updater, }) => whileMuted(() => {\r\n    let result;\r\n    // This function doesn't know anything about the prop being set.\r\n    // It just finds the target (the parent of the prop) and\r\n    // calls updater() with it.\r\n    const targetPath = get(target);\r\n    // Note that if this update is a method (e.g. arr.push()) then prop can be\r\n    // undefined, meaning the prop path won't be extended, and will just be\r\n    // the path of the target (the array) which is correct.\r\n    const propPath = extend(target, prop);\r\n    // If we change the length/size of an array/map/set, we will want to\r\n    // trigger a render of the parent path.\r\n    let targetChangedSize = false;\r\n    const initialSize = getSize(target);\r\n    let newValue = value;\r\n    // Make sure the new value is deeply wrapped in proxies, if it's a target\r\n    if (isTarget(newValue)) {\r\n        newValue = updateDeep(value, (item, thisPropPath) => {\r\n            if (!isTarget(item))\r\n                return item;\r\n            const next = clone(item);\r\n            addProp(next, [...propPath, ...thisPropPath]);\r\n            return createShallow(next);\r\n        });\r\n    }\r\n    if (!targetPath.length) {\r\n        // If the target is the store root, it's mutated in place.\r\n        result = updater(state$1.store, newValue);\r\n        targetChangedSize = getSize(state$1.store) !== initialSize;\r\n    }\r\n    else {\r\n        targetPath.reduce((item, thisProp, i) => {\r\n            const thisValue = getValue(item, thisProp);\r\n            // Shallow clone this level\r\n            let clone$1 = clone(thisValue);\r\n            addProp(clone$1, get(thisValue));\r\n            // Wrap the clone in a proxy\r\n            clone$1 = createShallow(clone$1);\r\n            // Mutate this level (swap out the original for the clone)\r\n            setValue(item, thisProp, clone$1);\r\n            // If we're at the end of the path, then 'clone' is our target\r\n            if (i === targetPath.length - 1) {\r\n                result = updater(clone$1, newValue);\r\n                targetChangedSize = getSize(clone$1) !== initialSize;\r\n                // We keep a reference between the original target and the clone\r\n                // `target` may or may not be wrapped in a proxy (Maps and Sets are)\r\n                // So we check/get the unproxied version\r\n                state$1.nextVersionMap.set(target[ORIGINAL] || target, clone$1);\r\n            }\r\n            return clone$1;\r\n        }, state$1.store);\r\n    }\r\n    // If the 'size' of a target changes, it's reasonable to assume that\r\n    // users of the target are going to need to re-render, else use the prop\r\n    const notifyPath = notifyTarget || targetChangedSize ? targetPath : propPath;\r\n    notifyByPath(notifyPath);\r\n    return result;\r\n});\r\nonUpdateInNextStore(updateStore);\r\n/**\r\n * Executes the provided function, then updates appropriate components and calls\r\n * listeners registered with `afterChange()`. Guaranteed to only trigger one\r\n * update. The provided function must only contain synchronous code.\r\n */\r\nconst batch = (cb) => {\r\n    state$1.isBatchUpdating = true;\r\n    cb();\r\n    state$1.isBatchUpdating = false;\r\n    flushUpdates();\r\n};\r\n/**\r\n * Empty the Recollect store and replace it with new data.\r\n */\r\nconst initStore = (data) => {\r\n    batch(() => {\r\n        replaceObject(state$1.store, data);\r\n    });\r\n};\n\nexport { batch, initStore, updateStore };\n","import state$1 from './shared/state.js';\nimport { whileMuted } from './shared/utils.js';\nimport { debug as debug$1 } from './shared/debug.js';\nimport { createShallow } from './proxyManager.js';\nimport { removeListenersForComponent } from './updateManager.js';\nimport React$1 from 'react';\nimport hoistNonReactStatics$1 from 'hoist-non-react-statics';\n\n// As we render down into a tree of collected components, we will start/stop\r\n// recording\r\nconst componentStack = [];\r\nconst startRecordingGetsForComponent = (component) => {\r\n    if (!state$1.isInBrowser)\r\n        return;\r\n    debug$1(() => {\r\n        console.groupCollapsed(`RENDER: <${component._name}>`);\r\n    });\r\n    state$1.currentComponent = component;\r\n    componentStack.push(state$1.currentComponent);\r\n};\r\nconst stopRecordingGetsForComponent = () => {\r\n    if (!state$1.isInBrowser)\r\n        return;\r\n    debug$1(() => {\r\n        console.groupEnd();\r\n    });\r\n    componentStack.pop();\r\n    state$1.currentComponent = componentStack[componentStack.length - 1] || null;\r\n};\r\n/**\r\n * This shallow clones the store to pass as state to the collected\r\n * component.\r\n */\r\nconst getStoreClone = () => whileMuted(() => {\r\n    // We'll shallow clone the store so React knows it's new\r\n    const shallowClone = Object.assign({}, state$1.store);\r\n    // ... but redirect all reads to the real store\r\n    state$1.nextVersionMap.set(shallowClone, state$1.store);\r\n    return createShallow(shallowClone);\r\n});\r\nconst collect = (ComponentToWrap) => {\r\n    const componentName = ComponentToWrap.displayName || ComponentToWrap.name || 'NamelessComponent';\r\n    class WrappedComponent extends React$1.PureComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.state = {\r\n                // This might be called by React when a parent component has updated with a new store,\r\n                // we want this component (if it's a child) to have that next store as well.\r\n                store: getStoreClone(),\r\n            };\r\n            // TODO (davidg) 2020-02-28: use private #isMounted, waiting on\r\n            //  https://github.com/prettier/prettier/issues/7263\r\n            this._isMounted = false;\r\n            this._isMounting = true;\r\n            // <React.StrictMode> will trigger multiple renders,\r\n            // we must disregard these\r\n            this._isRendering = false;\r\n            this._name = componentName;\r\n        }\r\n        componentDidMount() {\r\n            this._isMounted = true;\r\n            this._isMounting = false;\r\n            // Stop recording. For first render()\r\n            stopRecordingGetsForComponent();\r\n            this._isRendering = false;\r\n        }\r\n        componentDidUpdate() {\r\n            // Stop recording. For not-first render()\r\n            stopRecordingGetsForComponent();\r\n            this._isRendering = false;\r\n        }\r\n        componentWillUnmount() {\r\n            removeListenersForComponent(this);\r\n            this._isMounted = false;\r\n        }\r\n        update() {\r\n            // 1. If the component has already unmounted, don't try and set the state\r\n            // 2. The component might not have mounted YET, but is in the middle of its first\r\n            //    render cycle.\r\n            //    For example, if a user sets store.loading to true in App.componentDidMount\r\n            if (this._isMounted || this._isMounting) {\r\n                this.setState({ store: getStoreClone() });\r\n            }\r\n        }\r\n        render() {\r\n            if (!this._isRendering) {\r\n                startRecordingGetsForComponent(this);\r\n                this._isRendering = true;\r\n            }\r\n            const props = Object.assign(Object.assign({}, this.props), { store: this.state.store });\r\n            return React$1.createElement(ComponentToWrap, Object.assign({}, props));\r\n        }\r\n    }\r\n    WrappedComponent.displayName = `Collected(${componentName})`;\r\n    // @ts-ignore - I can't work this out\r\n    return hoistNonReactStatics$1(WrappedComponent, ComponentToWrap);\r\n};\n\nexport default collect;\n","import * as OriginalPropTypes$1 from 'prop-types';\n\nlet EnvPropTypes;\r\n// In the dev build of Recollect, we wrap PropTypes in a proxy so we can\r\n// mute the store while the prop types library reads the props.\r\n{\r\n    // For prod builds, just use the normal PropTypes which is a no-op\r\n    EnvPropTypes = OriginalPropTypes$1;\r\n}\r\n// We do this so we're exporting a const (EnvPropTypes is a let)\r\nconst PropTypes = EnvPropTypes;\n\nexport default PropTypes;\n","import state$1 from './shared/state.js';\nexport { useProps } from './shared/utils.js';\nimport { debugOn, debugOff } from './shared/debug.js';\nexport { afterChange } from './shared/pubSub.js';\nexport { batch, initStore } from './store.js';\nexport { default as collect } from './collect.js';\nexport { default as PropTypes } from './shared/propTypes.js';\n\nconst { store } = state$1;\r\n// `internals` is not part of the Recollect API. It is used by tests.\r\nconst internals = state$1;\r\nif (typeof window !== 'undefined') {\r\n    if ('Proxy' in window) {\r\n        window.__RR__ = {\r\n            debugOn,\r\n            debugOff,\r\n            internals: state$1,\r\n        };\r\n    }\r\n    else {\r\n        console.warn(\"This browser doesn't support the Proxy object, which react-recollect needs. See https://caniuse.com/#search=proxy to find out which browsers do support it\");\r\n    }\r\n}\n\nexport { internals, store };\n","if (process.env.NODE_ENV === 'production') {\n  // eslint-disable-next-line global-require\n  module.exports = require('./dist/esm/production/index.js');\n} else {\n  // eslint-disable-next-line global-require\n  module.exports = require('./dist/esm/development/index.js');\n}\n","/*!\n * repeat-string <https://github.com/jonschlinkert/repeat-string>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\n/**\n * Results cache\n */\n\nvar res = '';\nvar cache;\n\n/**\n * Expose `repeat`\n */\n\nmodule.exports = repeat;\n\n/**\n * Repeat the given `string` the specified `number`\n * of times.\n *\n * **Example:**\n *\n * ```js\n * var repeat = require('repeat-string');\n * repeat('A', 5);\n * //=> AAAAA\n * ```\n *\n * @param {String} `string` The string to repeat\n * @param {Number} `number` The number of times to repeat the string\n * @return {String} Repeated string\n * @api public\n */\n\nfunction repeat(str, num) {\n  if (typeof str !== 'string') {\n    throw new TypeError('expected a string');\n  }\n\n  // cover common, quick use cases\n  if (num === 1) return str;\n  if (num === 2) return str + str;\n\n  var max = str.length * num;\n  if (cache !== str || typeof cache === 'undefined') {\n    cache = str;\n    res = '';\n  } else if (res.length >= max) {\n    return res.substr(0, max);\n  }\n\n  while (max > res.length && num > 1) {\n    if (num & 1) {\n      res += str;\n    }\n\n    num >>= 1;\n    str += str;\n  }\n\n  res += str;\n  res = res.substr(0, max);\n  return res;\n}\n","/* global window, exports, define */\n\n!function() {\n    'use strict'\n\n    var re = {\n        not_string: /[^s]/,\n        not_bool: /[^t]/,\n        not_type: /[^T]/,\n        not_primitive: /[^v]/,\n        number: /[diefg]/,\n        numeric_arg: /[bcdiefguxX]/,\n        json: /[j]/,\n        not_json: /[^j]/,\n        text: /^[^\\x25]+/,\n        modulo: /^\\x25{2}/,\n        placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,\n        key: /^([a-z_][a-z_\\d]*)/i,\n        key_access: /^\\.([a-z_][a-z_\\d]*)/i,\n        index_access: /^\\[(\\d+)\\]/,\n        sign: /^[+-]/\n    }\n\n    function sprintf(key) {\n        // `arguments` is not an array, but should be fine for this call\n        return sprintf_format(sprintf_parse(key), arguments)\n    }\n\n    function vsprintf(fmt, argv) {\n        return sprintf.apply(null, [fmt].concat(argv || []))\n    }\n\n    function sprintf_format(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, arg, output = '', i, k, ph, pad, pad_character, pad_length, is_positive, sign\n        for (i = 0; i < tree_length; i++) {\n            if (typeof parse_tree[i] === 'string') {\n                output += parse_tree[i]\n            }\n            else if (typeof parse_tree[i] === 'object') {\n                ph = parse_tree[i] // convenience purposes only\n                if (ph.keys) { // keyword argument\n                    arg = argv[cursor]\n                    for (k = 0; k < ph.keys.length; k++) {\n                        if (arg == undefined) {\n                            throw new Error(sprintf('[sprintf] Cannot access property \"%s\" of undefined value \"%s\"', ph.keys[k], ph.keys[k-1]))\n                        }\n                        arg = arg[ph.keys[k]]\n                    }\n                }\n                else if (ph.param_no) { // positional argument (explicit)\n                    arg = argv[ph.param_no]\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++]\n                }\n\n                if (re.not_type.test(ph.type) && re.not_primitive.test(ph.type) && arg instanceof Function) {\n                    arg = arg()\n                }\n\n                if (re.numeric_arg.test(ph.type) && (typeof arg !== 'number' && isNaN(arg))) {\n                    throw new TypeError(sprintf('[sprintf] expecting number but found %T', arg))\n                }\n\n                if (re.number.test(ph.type)) {\n                    is_positive = arg >= 0\n                }\n\n                switch (ph.type) {\n                    case 'b':\n                        arg = parseInt(arg, 10).toString(2)\n                        break\n                    case 'c':\n                        arg = String.fromCharCode(parseInt(arg, 10))\n                        break\n                    case 'd':\n                    case 'i':\n                        arg = parseInt(arg, 10)\n                        break\n                    case 'j':\n                        arg = JSON.stringify(arg, null, ph.width ? parseInt(ph.width) : 0)\n                        break\n                    case 'e':\n                        arg = ph.precision ? parseFloat(arg).toExponential(ph.precision) : parseFloat(arg).toExponential()\n                        break\n                    case 'f':\n                        arg = ph.precision ? parseFloat(arg).toFixed(ph.precision) : parseFloat(arg)\n                        break\n                    case 'g':\n                        arg = ph.precision ? String(Number(arg.toPrecision(ph.precision))) : parseFloat(arg)\n                        break\n                    case 'o':\n                        arg = (parseInt(arg, 10) >>> 0).toString(8)\n                        break\n                    case 's':\n                        arg = String(arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 't':\n                        arg = String(!!arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'T':\n                        arg = Object.prototype.toString.call(arg).slice(8, -1).toLowerCase()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'u':\n                        arg = parseInt(arg, 10) >>> 0\n                        break\n                    case 'v':\n                        arg = arg.valueOf()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'x':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16)\n                        break\n                    case 'X':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16).toUpperCase()\n                        break\n                }\n                if (re.json.test(ph.type)) {\n                    output += arg\n                }\n                else {\n                    if (re.number.test(ph.type) && (!is_positive || ph.sign)) {\n                        sign = is_positive ? '+' : '-'\n                        arg = arg.toString().replace(re.sign, '')\n                    }\n                    else {\n                        sign = ''\n                    }\n                    pad_character = ph.pad_char ? ph.pad_char === '0' ? '0' : ph.pad_char.charAt(1) : ' '\n                    pad_length = ph.width - (sign + arg).length\n                    pad = ph.width ? (pad_length > 0 ? pad_character.repeat(pad_length) : '') : ''\n                    output += ph.align ? sign + arg + pad : (pad_character === '0' ? sign + pad + arg : pad + sign + arg)\n                }\n            }\n        }\n        return output\n    }\n\n    var sprintf_cache = Object.create(null)\n\n    function sprintf_parse(fmt) {\n        if (sprintf_cache[fmt]) {\n            return sprintf_cache[fmt]\n        }\n\n        var _fmt = fmt, match, parse_tree = [], arg_names = 0\n        while (_fmt) {\n            if ((match = re.text.exec(_fmt)) !== null) {\n                parse_tree.push(match[0])\n            }\n            else if ((match = re.modulo.exec(_fmt)) !== null) {\n                parse_tree.push('%')\n            }\n            else if ((match = re.placeholder.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1\n                    var field_list = [], replacement_field = match[2], field_match = []\n                    if ((field_match = re.key.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1])\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = re.key_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else {\n                                throw new SyntaxError('[sprintf] failed to parse named argument key')\n                            }\n                        }\n                    }\n                    else {\n                        throw new SyntaxError('[sprintf] failed to parse named argument key')\n                    }\n                    match[2] = field_list\n                }\n                else {\n                    arg_names |= 2\n                }\n                if (arg_names === 3) {\n                    throw new Error('[sprintf] mixing positional and named placeholders is not (yet) supported')\n                }\n\n                parse_tree.push(\n                    {\n                        placeholder: match[0],\n                        param_no:    match[1],\n                        keys:        match[2],\n                        sign:        match[3],\n                        pad_char:    match[4],\n                        align:       match[5],\n                        width:       match[6],\n                        precision:   match[7],\n                        type:        match[8]\n                    }\n                )\n            }\n            else {\n                throw new SyntaxError('[sprintf] unexpected placeholder')\n            }\n            _fmt = _fmt.substring(match[0].length)\n        }\n        return sprintf_cache[fmt] = parse_tree\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    /* eslint-disable quote-props */\n    if (typeof exports !== 'undefined') {\n        exports['sprintf'] = sprintf\n        exports['vsprintf'] = vsprintf\n    }\n    if (typeof window !== 'undefined') {\n        window['sprintf'] = sprintf\n        window['vsprintf'] = vsprintf\n\n        if (typeof define === 'function' && define['amd']) {\n            define(function() {\n                return {\n                    'sprintf': sprintf,\n                    'vsprintf': vsprintf\n                }\n            })\n        }\n    }\n    /* eslint-enable quote-props */\n}(); // eslint-disable-line\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","var hiddenStore = require('./hidden-store.js');\n\nmodule.exports = createStore;\n\nfunction createStore() {\n    var key = {};\n\n    return function (obj) {\n        if ((typeof obj !== 'object' || obj === null) &&\n            typeof obj !== 'function'\n        ) {\n            throw new Error('Weakmap-shim: Key must be object')\n        }\n\n        var store = obj.valueOf(key);\n        return store && store.identity === key ?\n            store : hiddenStore(obj, key);\n    };\n}\n","module.exports = hiddenStore;\n\nfunction hiddenStore(obj, key) {\n    var store = { identity: key };\n    var valueOf = obj.valueOf;\n\n    Object.defineProperty(obj, \"valueOf\", {\n        value: function (value) {\n            return value !== key ?\n                valueOf.apply(this, arguments) : store;\n        },\n        writable: true\n    });\n\n    return store;\n}\n","// Original - @Gozola.\n// https://gist.github.com/Gozala/1269991\n// This is a reimplemented version (with a few bug fixes).\n\nvar createStore = require('./create-store.js');\n\nmodule.exports = weakMap;\n\nfunction weakMap() {\n    var privates = createStore();\n\n    return {\n        'get': function (key, fallback) {\n            var store = privates(key)\n            return store.hasOwnProperty('value') ?\n                store.value : fallback\n        },\n        'set': function (key, value) {\n            privates(key).value = value;\n            return this;\n        },\n        'has': function(key) {\n            return 'value' in privates(key);\n        },\n        'delete': function (key) {\n            return delete privates(key).value;\n        }\n    }\n}\n","var map = {\n\t\"./animate.jsx\": 5061,\n\t\"./changezone.jsx\": 1183,\n\t\"./chat.jsx\": 5317,\n\t\"./dance.jsx\": 8304,\n\t\"./dialogue.jsx\": 2282,\n\t\"./face.jsx\": 2813,\n\t\"./greeting.jsx\": 1162,\n\t\"./interact.jsx\": 5544,\n\t\"./move.jsx\": 2897,\n\t\"./patrol.jsx\": 2704,\n\t\"./prompt.jsx\": 3382,\n\t\"./script.jsx\": 5744\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 3333;","var map = {\n\t\"./camera.jsx\": 9469,\n\t\"./chat.jsx\": 5830,\n\t\"./menu.jsx\": 4726\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 4472;","'use strict';\nexports.__esModule = true;\nexports.version =\n  exports.deleteMeshBuffers =\n  exports.initMeshBuffers =\n  exports.downloadMeshes =\n  exports.downloadModels =\n  exports.TYPES =\n  exports.Mesh =\n  exports.MaterialLibrary =\n  exports.Material =\n  exports.Layout =\n  exports.DuplicateAttributeException =\n  exports.Attribute =\n  exports.OBJ =\n    void 0;\nvar mesh_1 = require('./mesh');\nexports.Mesh = mesh_1['default'];\nvar material_1 = require('./material');\nexports.Material = material_1.Material;\nexports.MaterialLibrary = material_1.MaterialLibrary;\nvar layout_1 = require('./layout');\nexports.Layout = layout_1.Layout;\nexports.TYPES = layout_1.TYPES;\nexports.DuplicateAttributeException = layout_1.DuplicateAttributeException;\nexports.Attribute = layout_1.Attribute;\nvar utils_1 = require('./utils');\nexports.downloadModelsFromZip = utils_1.downloadModelsFromZip;\nexports.downloadModels = utils_1.downloadModels;\nexports.downloadMeshes = utils_1.downloadMeshes;\nexports.initMeshBuffers = utils_1.initMeshBuffers;\nexports.deleteMeshBuffers = utils_1.deleteMeshBuffers;\nvar version = '2.0.3';\nexports.version = version;\nexports.OBJ = {\n  Attribute: layout_1.Attribute,\n  DuplicateAttributeException: layout_1.DuplicateAttributeException,\n  Layout: layout_1.Layout,\n  Material: material_1.Material,\n  MaterialLibrary: material_1.MaterialLibrary,\n  Mesh: mesh_1['default'],\n  TYPES: layout_1.TYPES,\n  downloadModelsFromZip: utils_1.downloadModelsFromZip,\n  downloadModels: utils_1.downloadModels,\n  downloadMeshes: utils_1.downloadMeshes,\n  initMeshBuffers: utils_1.initMeshBuffers,\n  deleteMeshBuffers: utils_1.deleteMeshBuffers,\n  version: version,\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexports.__esModule = true;\nexports.Layout = exports.Attribute = exports.DuplicateAttributeException = exports.TYPES = void 0;\nvar TYPES;\n(function (TYPES) {\n    TYPES[\"BYTE\"] = \"BYTE\";\n    TYPES[\"UNSIGNED_BYTE\"] = \"UNSIGNED_BYTE\";\n    TYPES[\"SHORT\"] = \"SHORT\";\n    TYPES[\"UNSIGNED_SHORT\"] = \"UNSIGNED_SHORT\";\n    TYPES[\"FLOAT\"] = \"FLOAT\";\n})(TYPES = exports.TYPES || (exports.TYPES = {}));\n/**\n * An exception for when two or more of the same attributes are found in the\n * same layout.\n * @private\n */\nvar DuplicateAttributeException = /** @class */ (function (_super) {\n    __extends(DuplicateAttributeException, _super);\n    /**\n     * Create a DuplicateAttributeException\n     * @param {Attribute} attribute - The attribute that was found more than\n     *        once in the {@link Layout}\n     */\n    function DuplicateAttributeException(attribute) {\n        return _super.call(this, \"found duplicate attribute: \".concat(attribute.key)) || this;\n    }\n    return DuplicateAttributeException;\n}(Error));\nexports.DuplicateAttributeException = DuplicateAttributeException;\n/**\n * Represents how a vertex attribute should be packed into an buffer.\n * @private\n */\nvar Attribute = /** @class */ (function () {\n    /**\n     * Create an attribute. Do not call this directly, use the predefined\n     * constants.\n     * @param {string} key - The name of this attribute as if it were a key in\n     *        an Object. Use the camel case version of the upper snake case\n     *        const name.\n     * @param {number} size - The number of components per vertex attribute.\n     *        Must be 1, 2, 3, or 4.\n     * @param {string} type - The data type of each component for this\n     *        attribute. Possible values:<br/>\n     *        \"BYTE\": signed 8-bit integer, with values in [-128, 127]<br/>\n     *        \"SHORT\": signed 16-bit integer, with values in\n     *            [-32768, 32767]<br/>\n     *        \"UNSIGNED_BYTE\": unsigned 8-bit integer, with values in\n     *            [0, 255]<br/>\n     *        \"UNSIGNED_SHORT\": unsigned 16-bit integer, with values in\n     *            [0, 65535]<br/>\n     *        \"FLOAT\": 32-bit floating point number\n     * @param {boolean} normalized - Whether integer data values should be\n     *        normalized when being casted to a float.<br/>\n     *        If true, signed integers are normalized to [-1, 1].<br/>\n     *        If true, unsigned integers are normalized to [0, 1].<br/>\n     *        For type \"FLOAT\", this parameter has no effect.\n     */\n    function Attribute(key, size, type, normalized) {\n        if (normalized === void 0) { normalized = false; }\n        this.key = key;\n        this.size = size;\n        this.type = type;\n        this.normalized = normalized;\n        switch (type) {\n            case \"BYTE\":\n            case \"UNSIGNED_BYTE\":\n                this.sizeOfType = 1;\n                break;\n            case \"SHORT\":\n            case \"UNSIGNED_SHORT\":\n                this.sizeOfType = 2;\n                break;\n            case \"FLOAT\":\n                this.sizeOfType = 4;\n                break;\n            default:\n                throw new Error(\"Unknown gl type: \".concat(type));\n        }\n        this.sizeInBytes = this.sizeOfType * size;\n    }\n    return Attribute;\n}());\nexports.Attribute = Attribute;\n/**\n * A class to represent the memory layout for a vertex attribute array. Used by\n * {@link Mesh}'s TBD(...) method to generate a packed array from mesh data.\n * <p>\n * Layout can sort of be thought of as a C-style struct declaration.\n * {@link Mesh}'s TBD(...) method will use the {@link Layout} instance to\n * pack an array in the given attribute order.\n * <p>\n * Layout also is very helpful when calling a WebGL context's\n * <code>vertexAttribPointer</code> method. If you've created a buffer using\n * a Layout instance, then the same Layout instance can be used to determine\n * the size, type, normalized, stride, and offset parameters for\n * <code>vertexAttribPointer</code>.\n * <p>\n * For example:\n * <pre><code>\n *\n * const index = glctx.getAttribLocation(shaderProgram, \"pos\");\n * glctx.vertexAttribPointer(\n *   layout.position.size,\n *   glctx[layout.position.type],\n *   layout.position.normalized,\n *   layout.position.stride,\n *   layout.position.offset);\n * </code></pre>\n * @see {@link Mesh}\n */\nvar Layout = /** @class */ (function () {\n    /**\n     * Create a Layout object. This constructor will throw if any duplicate\n     * attributes are given.\n     * @param {Array} ...attributes - An ordered list of attributes that\n     *        describe the desired memory layout for each vertex attribute.\n     *        <p>\n     *\n     * @see {@link Mesh}\n     */\n    function Layout() {\n        var e_1, _a, e_2, _b;\n        var attributes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            attributes[_i] = arguments[_i];\n        }\n        this.attributes = attributes;\n        this.attributeMap = {};\n        var offset = 0;\n        var maxStrideMultiple = 0;\n        try {\n            for (var attributes_1 = __values(attributes), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {\n                var attribute = attributes_1_1.value;\n                if (this.attributeMap[attribute.key]) {\n                    throw new DuplicateAttributeException(attribute);\n                }\n                // Add padding to satisfy WebGL's requirement that all\n                // vertexAttribPointer calls have an offset that is a multiple of\n                // the type size.\n                if (offset % attribute.sizeOfType !== 0) {\n                    offset += attribute.sizeOfType - (offset % attribute.sizeOfType);\n                    console.warn(\"Layout requires padding before \" + attribute.key + \" attribute\");\n                }\n                this.attributeMap[attribute.key] = {\n                    attribute: attribute,\n                    size: attribute.size,\n                    type: attribute.type,\n                    normalized: attribute.normalized,\n                    offset: offset\n                };\n                offset += attribute.sizeInBytes;\n                maxStrideMultiple = Math.max(maxStrideMultiple, attribute.sizeOfType);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (attributes_1_1 && !attributes_1_1.done && (_a = attributes_1[\"return\"])) _a.call(attributes_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // Add padding to the end to satisfy WebGL's requirement that all\n        // vertexAttribPointer calls have a stride that is a multiple of the\n        // type size. Because we're putting differently sized attributes into\n        // the same buffer, it must be padded to a multiple of the largest\n        // type size.\n        if (offset % maxStrideMultiple !== 0) {\n            offset += maxStrideMultiple - (offset % maxStrideMultiple);\n            console.warn(\"Layout requires padding at the back\");\n        }\n        this.stride = offset;\n        try {\n            for (var attributes_2 = __values(attributes), attributes_2_1 = attributes_2.next(); !attributes_2_1.done; attributes_2_1 = attributes_2.next()) {\n                var attribute = attributes_2_1.value;\n                this.attributeMap[attribute.key].stride = this.stride;\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (attributes_2_1 && !attributes_2_1.done && (_b = attributes_2[\"return\"])) _b.call(attributes_2);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    }\n    // Geometry attributes\n    /**\n     * Attribute layout to pack a vertex's x, y, & z as floats\n     *\n     * @see {@link Layout}\n     */\n    Layout.POSITION = new Attribute(\"position\", 3, TYPES.FLOAT);\n    /**\n     * Attribute layout to pack a vertex's normal's x, y, & z as floats\n     *\n     * @see {@link Layout}\n     */\n    Layout.NORMAL = new Attribute(\"normal\", 3, TYPES.FLOAT);\n    /**\n     * Attribute layout to pack a vertex's normal's x, y, & z as floats.\n     * <p>\n     * This value will be computed on-the-fly based on the texture coordinates.\n     * If no texture coordinates are available, the generated value will default to\n     * 0, 0, 0.\n     *\n     * @see {@link Layout}\n     */\n    Layout.TANGENT = new Attribute(\"tangent\", 3, TYPES.FLOAT);\n    /**\n     * Attribute layout to pack a vertex's normal's bitangent x, y, & z as floats.\n     * <p>\n     * This value will be computed on-the-fly based on the texture coordinates.\n     * If no texture coordinates are available, the generated value will default to\n     * 0, 0, 0.\n     * @see {@link Layout}\n     */\n    Layout.BITANGENT = new Attribute(\"bitangent\", 3, TYPES.FLOAT);\n    /**\n     * Attribute layout to pack a vertex's texture coordinates' u & v as floats\n     *\n     * @see {@link Layout}\n     */\n    Layout.UV = new Attribute(\"uv\", 2, TYPES.FLOAT);\n    // Material attributes\n    /**\n     * Attribute layout to pack an unsigned short to be interpreted as a the index\n     * into a {@link Mesh}'s materials list.\n     * <p>\n     * The intention of this value is to send all of the {@link Mesh}'s materials\n     * into multiple shader uniforms and then reference the current one by this\n     * vertex attribute.\n     * <p>\n     * example glsl code:\n     *\n     * <pre><code>\n     *  // this is bound using MATERIAL_INDEX\n     *  attribute int materialIndex;\n     *\n     *  struct Material {\n     *    vec3 diffuse;\n     *    vec3 specular;\n     *    vec3 specularExponent;\n     *  };\n     *\n     *  uniform Material materials[MAX_MATERIALS];\n     *\n     *  // ...\n     *\n     *  vec3 diffuse = materials[materialIndex];\n     *\n     * </code></pre>\n     * TODO: More description & test to make sure subscripting by attributes even\n     * works for webgl\n     *\n     * @see {@link Layout}\n     */\n    Layout.MATERIAL_INDEX = new Attribute(\"materialIndex\", 1, TYPES.SHORT);\n    Layout.MATERIAL_ENABLED = new Attribute(\"materialEnabled\", 1, TYPES.UNSIGNED_SHORT);\n    Layout.AMBIENT = new Attribute(\"ambient\", 3, TYPES.FLOAT);\n    Layout.DIFFUSE = new Attribute(\"diffuse\", 3, TYPES.FLOAT);\n    Layout.SPECULAR = new Attribute(\"specular\", 3, TYPES.FLOAT);\n    Layout.SPECULAR_EXPONENT = new Attribute(\"specularExponent\", 3, TYPES.FLOAT);\n    Layout.EMISSIVE = new Attribute(\"emissive\", 3, TYPES.FLOAT);\n    Layout.TRANSMISSION_FILTER = new Attribute(\"transmissionFilter\", 3, TYPES.FLOAT);\n    Layout.DISSOLVE = new Attribute(\"dissolve\", 1, TYPES.FLOAT);\n    Layout.ILLUMINATION = new Attribute(\"illumination\", 1, TYPES.UNSIGNED_SHORT);\n    Layout.REFRACTION_INDEX = new Attribute(\"refractionIndex\", 1, TYPES.FLOAT);\n    Layout.SHARPNESS = new Attribute(\"sharpness\", 1, TYPES.FLOAT);\n    Layout.MAP_DIFFUSE = new Attribute(\"mapDiffuse\", 1, TYPES.SHORT);\n    Layout.MAP_AMBIENT = new Attribute(\"mapAmbient\", 1, TYPES.SHORT);\n    Layout.MAP_SPECULAR = new Attribute(\"mapSpecular\", 1, TYPES.SHORT);\n    Layout.MAP_SPECULAR_EXPONENT = new Attribute(\"mapSpecularExponent\", 1, TYPES.SHORT);\n    Layout.MAP_DISSOLVE = new Attribute(\"mapDissolve\", 1, TYPES.SHORT);\n    Layout.ANTI_ALIASING = new Attribute(\"antiAliasing\", 1, TYPES.UNSIGNED_SHORT);\n    Layout.MAP_BUMP = new Attribute(\"mapBump\", 1, TYPES.SHORT);\n    Layout.MAP_DISPLACEMENT = new Attribute(\"mapDisplacement\", 1, TYPES.SHORT);\n    Layout.MAP_DECAL = new Attribute(\"mapDecal\", 1, TYPES.SHORT);\n    Layout.MAP_EMISSIVE = new Attribute(\"mapEmissive\", 1, TYPES.SHORT);\n    return Layout;\n}());\nexports.Layout = Layout;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexports.__esModule = true;\nexports.MaterialLibrary = exports.Material = void 0;\n/**\n * The Material class.\n */\nvar Material = /** @class */ (function () {\n    function Material(name) {\n        this.name = name;\n        /**\n         * Constructor\n         * @param {String} name the unique name of the material\n         */\n        // The values for the following attibutes\n        // are an array of R, G, B normalized values.\n        // Ka - Ambient Reflectivity\n        this.ambient = [0, 0, 0];\n        // Kd - Defuse Reflectivity\n        this.diffuse = [0, 0, 0];\n        // Ks\n        this.specular = [0, 0, 0];\n        // Ke\n        this.emissive = [0, 0, 0];\n        // Tf\n        this.transmissionFilter = [0, 0, 0];\n        // d\n        this.dissolve = 0;\n        // valid range is between 0 and 1000\n        this.specularExponent = 0;\n        // either d or Tr; valid values are normalized\n        this.transparency = 0;\n        // illum - the enum of the illumination model to use\n        this.illumination = 0;\n        // Ni - Set to \"normal\" (air).\n        this.refractionIndex = 1;\n        // sharpness\n        this.sharpness = 0;\n        // map_Kd\n        this.mapDiffuse = emptyTextureOptions();\n        // map_Ka\n        this.mapAmbient = emptyTextureOptions();\n        // map_Ks\n        this.mapSpecular = emptyTextureOptions();\n        // map_Ns\n        this.mapSpecularExponent = emptyTextureOptions();\n        // map_d\n        this.mapDissolve = emptyTextureOptions();\n        // map_aat\n        this.antiAliasing = false;\n        // map_bump or bump\n        this.mapBump = emptyTextureOptions();\n        // disp\n        this.mapDisplacement = emptyTextureOptions();\n        // decal\n        this.mapDecal = emptyTextureOptions();\n        // map_Ke\n        this.mapEmissive = emptyTextureOptions();\n        // refl - when the reflection type is a cube, there will be multiple refl\n        //        statements for each side of the cube. If it's a spherical\n        //        reflection, there should only ever be one.\n        this.mapReflections = [];\n    }\n    return Material;\n}());\nexports.Material = Material;\nvar SENTINEL_MATERIAL = new Material(\"sentinel\");\n/**\n * https://en.wikipedia.org/wiki/Wavefront_.obj_file\n * http://paulbourke.net/dataformats/mtl/\n */\nvar MaterialLibrary = /** @class */ (function () {\n    function MaterialLibrary(data) {\n        this.data = data;\n        /**\n         * Constructs the Material Parser\n         * @param mtlData the MTL file contents\n         */\n        this.currentMaterial = SENTINEL_MATERIAL;\n        this.materials = {};\n        this.parse();\n    }\n    /* eslint-disable camelcase */\n    /* the function names here disobey camelCase conventions\n       to make parsing/routing easier. see the parse function\n       documentation for more information. */\n    /**\n     * Creates a new Material object and adds to the registry.\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_newmtl = function (tokens) {\n        var name = tokens[0];\n        // console.info('Parsing new Material:', name);\n        this.currentMaterial = new Material(name);\n        this.materials[name] = this.currentMaterial;\n    };\n    /**\n     * See the documenation for parse_Ka below for a better understanding.\n     *\n     * Given a list of possible color tokens, returns an array of R, G, and B\n     * color values.\n     *\n     * @param tokens the tokens associated with the directive\n     * @return {*} a 3 element array containing the R, G, and B values\n     * of the color.\n     */\n    MaterialLibrary.prototype.parseColor = function (tokens) {\n        if (tokens[0] == \"spectral\") {\n            throw new Error(\"The MTL parser does not support spectral curve files. You will \" +\n                \"need to convert the MTL colors to either RGB or CIEXYZ.\");\n        }\n        if (tokens[0] == \"xyz\") {\n            throw new Error(\"The MTL parser does not currently support XYZ colors. Either convert the \" +\n                \"XYZ values to RGB or create an issue to add support for XYZ\");\n        }\n        // from my understanding of the spec, RGB values at this point\n        // will either be 3 floats or exactly 1 float, so that's the check\n        // that i'm going to perform here\n        if (tokens.length == 3) {\n            var _a = __read(tokens, 3), x = _a[0], y = _a[1], z = _a[2];\n            return [parseFloat(x), parseFloat(y), parseFloat(z)];\n        }\n        // Since tokens at this point has a length of 3, we're going to assume\n        // it's exactly 1, skipping the check for 2.\n        var value = parseFloat(tokens[0]);\n        // in this case, all values are equivalent\n        return [value, value, value];\n    };\n    /**\n     * Parse the ambient reflectivity\n     *\n     * A Ka directive can take one of three forms:\n     *   - Ka r g b\n     *   - Ka spectral file.rfl\n     *   - Ka xyz x y z\n     * These three forms are mutually exclusive in that only one\n     * declaration can exist per material. It is considered a syntax\n     * error otherwise.\n     *\n     * The \"Ka\" form specifies the ambient reflectivity using RGB values.\n     * The \"g\" and \"b\" values are optional. If only the \"r\" value is\n     * specified, then the \"g\" and \"b\" values are assigned the value of\n     * \"r\". Values are normally in the range 0.0 to 1.0. Values outside\n     * of this range increase or decrease the reflectivity accordingly.\n     *\n     * The \"Ka spectral\" form specifies the ambient reflectivity using a\n     * spectral curve. \"file.rfl\" is the name of the \".rfl\" file containing\n     * the curve data. \"factor\" is an optional argument which is a multiplier\n     * for the values in the .rfl file and defaults to 1.0 if not specified.\n     *\n     * The \"Ka xyz\" form specifies the ambient reflectivity using CIEXYZ values.\n     * \"x y z\" are the values of the CIEXYZ color space. The \"y\" and \"z\" arguments\n     * are optional and take on the value of the \"x\" component if only \"x\" is\n     * specified. The \"x y z\" values are normally in the range of 0.0 to 1.0 and\n     * increase or decrease ambient reflectivity accordingly outside of that\n     * range.\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_Ka = function (tokens) {\n        this.currentMaterial.ambient = this.parseColor(tokens);\n    };\n    /**\n     * Diffuse Reflectivity\n     *\n     * Similar to the Ka directive. Simply replace \"Ka\" with \"Kd\" and the rules\n     * are the same\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_Kd = function (tokens) {\n        this.currentMaterial.diffuse = this.parseColor(tokens);\n    };\n    /**\n     * Spectral Reflectivity\n     *\n     * Similar to the Ka directive. Simply replace \"Ks\" with \"Kd\" and the rules\n     * are the same\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_Ks = function (tokens) {\n        this.currentMaterial.specular = this.parseColor(tokens);\n    };\n    /**\n     * Emissive\n     *\n     * The amount and color of light emitted by the object.\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_Ke = function (tokens) {\n        this.currentMaterial.emissive = this.parseColor(tokens);\n    };\n    /**\n     * Transmission Filter\n     *\n     * Any light passing through the object is filtered by the transmission\n     * filter, which only allows specific colors to pass through. For example, Tf\n     * 0 1 0 allows all of the green to pass through and filters out all of the\n     * red and blue.\n     *\n     * Similar to the Ka directive. Simply replace \"Ks\" with \"Tf\" and the rules\n     * are the same\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_Tf = function (tokens) {\n        this.currentMaterial.transmissionFilter = this.parseColor(tokens);\n    };\n    /**\n     * Specifies the dissolve for the current material.\n     *\n     * Statement: d [-halo] `factor`\n     *\n     * Example: \"d 0.5\"\n     *\n     * The factor is the amount this material dissolves into the background. A\n     * factor of 1.0 is fully opaque. This is the default when a new material is\n     * created. A factor of 0.0 is fully dissolved (completely transparent).\n     *\n     * Unlike a real transparent material, the dissolve does not depend upon\n     * material thickness nor does it have any spectral character. Dissolve works\n     * on all illumination models.\n     *\n     * The dissolve statement allows for an optional \"-halo\" flag which indicates\n     * that a dissolve is dependent on the surface orientation relative to the\n     * viewer. For example, a sphere with the following dissolve, \"d -halo 0.0\",\n     * will be fully dissolved at its center and will appear gradually more opaque\n     * toward its edge.\n     *\n     * \"factor\" is the minimum amount of dissolve applied to the material. The\n     * amount of dissolve will vary between 1.0 (fully opaque) and the specified\n     * \"factor\". The formula is:\n     *\n     *    dissolve = 1.0 - (N*v)(1.0-factor)\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_d = function (tokens) {\n        // this ignores the -halo option as I can't find any documentation on what\n        // it's supposed to be.\n        this.currentMaterial.dissolve = parseFloat(tokens.pop() || \"0\");\n    };\n    /**\n     * The \"illum\" statement specifies the illumination model to use in the\n     * material. Illumination models are mathematical equations that represent\n     * various material lighting and shading effects.\n     *\n     * The illumination number can be a number from 0 to 10. The following are\n     * the list of illumination enumerations and their summaries:\n     * 0. Color on and Ambient off\n     * 1. Color on and Ambient on\n     * 2. Highlight on\n     * 3. Reflection on and Ray trace on\n     * 4. Transparency: Glass on, Reflection: Ray trace on\n     * 5. Reflection: Fresnel on and Ray trace on\n     * 6. Transparency: Refraction on, Reflection: Fresnel off and Ray trace on\n     * 7. Transparency: Refraction on, Reflection: Fresnel on and Ray trace on\n     * 8. Reflection on and Ray trace off\n     * 9. Transparency: Glass on, Reflection: Ray trace off\n     * 10. Casts shadows onto invisible surfaces\n     *\n     * Example: \"illum 2\" to specify the \"Highlight on\" model\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_illum = function (tokens) {\n        this.currentMaterial.illumination = parseInt(tokens[0]);\n    };\n    /**\n     * Optical Density (AKA Index of Refraction)\n     *\n     * Statement: Ni `index`\n     *\n     * Example: Ni 1.0\n     *\n     * Specifies the optical density for the surface. `index` is the value\n     * for the optical density. The values can range from 0.001 to 10.  A value of\n     * 1.0 means that light does not bend as it passes through an object.\n     * Increasing the optical_density increases the amount of bending. Glass has\n     * an index of refraction of about 1.5. Values of less than 1.0 produce\n     * bizarre results and are not recommended\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_Ni = function (tokens) {\n        this.currentMaterial.refractionIndex = parseFloat(tokens[0]);\n    };\n    /**\n     * Specifies the specular exponent for the current material. This defines the\n     * focus of the specular highlight.\n     *\n     * Statement: Ns `exponent`\n     *\n     * Example: \"Ns 250\"\n     *\n     * `exponent` is the value for the specular exponent. A high exponent results\n     * in a tight, concentrated highlight. Ns Values normally range from 0 to\n     * 1000.\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_Ns = function (tokens) {\n        this.currentMaterial.specularExponent = parseInt(tokens[0]);\n    };\n    /**\n     * Specifies the sharpness of the reflections from the local reflection map.\n     *\n     * Statement: sharpness `value`\n     *\n     * Example: \"sharpness 100\"\n     *\n     * If a material does not have a local reflection map defined in its material\n     * defintions, sharpness will apply to the global reflection map defined in\n     * PreView.\n     *\n     * `value` can be a number from 0 to 1000. The default is 60. A high value\n     * results in a clear reflection of objects in the reflection map.\n     *\n     * Tip: sharpness values greater than 100 introduce aliasing effects in\n     * flat surfaces that are viewed at a sharp angle.\n     *\n     * @param tokens the tokens associated with the directive\n     */\n    MaterialLibrary.prototype.parse_sharpness = function (tokens) {\n        this.currentMaterial.sharpness = parseInt(tokens[0]);\n    };\n    /**\n     * Parses the -cc flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -cc flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_cc = function (values, options) {\n        options.colorCorrection = values[0] == \"on\";\n    };\n    /**\n     * Parses the -blendu flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -blendu flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_blendu = function (values, options) {\n        options.horizontalBlending = values[0] == \"on\";\n    };\n    /**\n     * Parses the -blendv flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -blendv flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_blendv = function (values, options) {\n        options.verticalBlending = values[0] == \"on\";\n    };\n    /**\n     * Parses the -boost flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -boost flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_boost = function (values, options) {\n        options.boostMipMapSharpness = parseFloat(values[0]);\n    };\n    /**\n     * Parses the -mm flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -mm flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_mm = function (values, options) {\n        options.modifyTextureMap.brightness = parseFloat(values[0]);\n        options.modifyTextureMap.contrast = parseFloat(values[1]);\n    };\n    /**\n     * Parses and sets the -o, -s, and -t  u, v, and w values\n     *\n     * @param values the values passed to the -o, -s, -t flag\n     * @param {Object} option the Object of either the -o, -s, -t option\n     * @param {Integer} defaultValue the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_ost = function (values, option, defaultValue) {\n        while (values.length < 3) {\n            values.push(defaultValue.toString());\n        }\n        option.u = parseFloat(values[0]);\n        option.v = parseFloat(values[1]);\n        option.w = parseFloat(values[2]);\n    };\n    /**\n     * Parses the -o flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -o flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_o = function (values, options) {\n        this.parse_ost(values, options.offset, 0);\n    };\n    /**\n     * Parses the -s flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -s flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_s = function (values, options) {\n        this.parse_ost(values, options.scale, 1);\n    };\n    /**\n     * Parses the -t flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -t flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_t = function (values, options) {\n        this.parse_ost(values, options.turbulence, 0);\n    };\n    /**\n     * Parses the -texres flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -texres flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_texres = function (values, options) {\n        options.textureResolution = parseFloat(values[0]);\n    };\n    /**\n     * Parses the -clamp flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -clamp flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_clamp = function (values, options) {\n        options.clamp = values[0] == \"on\";\n    };\n    /**\n     * Parses the -bm flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -bm flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_bm = function (values, options) {\n        options.bumpMultiplier = parseFloat(values[0]);\n    };\n    /**\n     * Parses the -imfchan flag and updates the options object with the values.\n     *\n     * @param values the values passed to the -imfchan flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_imfchan = function (values, options) {\n        options.imfChan = values[0];\n    };\n    /**\n     * This only exists for relection maps and denotes the type of reflection.\n     *\n     * @param values the values passed to the -type flag\n     * @param options the Object of all image options\n     */\n    MaterialLibrary.prototype.parse_type = function (values, options) {\n        options.reflectionType = values[0];\n    };\n    /**\n     * Parses the texture's options and returns an options object with the info\n     *\n     * @param tokens all of the option tokens to pass to the texture\n     * @return {Object} a complete object of objects to apply to the texture\n     */\n    MaterialLibrary.prototype.parseOptions = function (tokens) {\n        var options = emptyTextureOptions();\n        var option;\n        var values;\n        var optionsToValues = {};\n        tokens.reverse();\n        while (tokens.length) {\n            // token is guaranteed to exists here, hence the explicit \"as\"\n            var token = tokens.pop();\n            if (token.startsWith(\"-\")) {\n                option = token.substr(1);\n                optionsToValues[option] = [];\n            }\n            else if (option) {\n                optionsToValues[option].push(token);\n            }\n        }\n        for (option in optionsToValues) {\n            if (!optionsToValues.hasOwnProperty(option)) {\n                continue;\n            }\n            values = optionsToValues[option];\n            var optionMethod = this[\"parse_\".concat(option)];\n            if (optionMethod) {\n                optionMethod.bind(this)(values, options);\n            }\n        }\n        return options;\n    };\n    /**\n     * Parses the given texture map line.\n     *\n     * @param tokens all of the tokens representing the texture\n     * @return a complete object of objects to apply to the texture\n     */\n    MaterialLibrary.prototype.parseMap = function (tokens) {\n        var _a;\n        // according to wikipedia:\n        // (https://en.wikipedia.org/wiki/Wavefront_.obj_file#Vendor_specific_alterations)\n        // there is at least one vendor that places the filename before the options\n        // rather than after (which is to spec). All options start with a '-'\n        // so if the first token doesn't start with a '-', we're going to assume\n        // it's the name of the map file.\n        var optionsString;\n        var filename = \"\";\n        if (!tokens[0].startsWith(\"-\")) {\n            _a = __read(tokens), filename = _a[0], optionsString = _a.slice(1);\n        }\n        else {\n            filename = tokens.pop();\n            optionsString = tokens;\n        }\n        var options = this.parseOptions(optionsString);\n        options.filename = filename.replace(/\\\\/g, \"/\");\n        return options;\n    };\n    /**\n     * Parses the ambient map.\n     *\n     * @param tokens list of tokens for the map_Ka direcive\n     */\n    MaterialLibrary.prototype.parse_map_Ka = function (tokens) {\n        this.currentMaterial.mapAmbient = this.parseMap(tokens);\n    };\n    /**\n     * Parses the diffuse map.\n     *\n     * @param tokens list of tokens for the map_Kd direcive\n     */\n    MaterialLibrary.prototype.parse_map_Kd = function (tokens) {\n        this.currentMaterial.mapDiffuse = this.parseMap(tokens);\n    };\n    /**\n     * Parses the specular map.\n     *\n     * @param tokens list of tokens for the map_Ks direcive\n     */\n    MaterialLibrary.prototype.parse_map_Ks = function (tokens) {\n        this.currentMaterial.mapSpecular = this.parseMap(tokens);\n    };\n    /**\n     * Parses the emissive map.\n     *\n     * @param tokens list of tokens for the map_Ke direcive\n     */\n    MaterialLibrary.prototype.parse_map_Ke = function (tokens) {\n        this.currentMaterial.mapEmissive = this.parseMap(tokens);\n    };\n    /**\n     * Parses the specular exponent map.\n     *\n     * @param tokens list of tokens for the map_Ns direcive\n     */\n    MaterialLibrary.prototype.parse_map_Ns = function (tokens) {\n        this.currentMaterial.mapSpecularExponent = this.parseMap(tokens);\n    };\n    /**\n     * Parses the dissolve map.\n     *\n     * @param tokens list of tokens for the map_d direcive\n     */\n    MaterialLibrary.prototype.parse_map_d = function (tokens) {\n        this.currentMaterial.mapDissolve = this.parseMap(tokens);\n    };\n    /**\n     * Parses the anti-aliasing option.\n     *\n     * @param tokens list of tokens for the map_aat direcive\n     */\n    MaterialLibrary.prototype.parse_map_aat = function (tokens) {\n        this.currentMaterial.antiAliasing = tokens[0] == \"on\";\n    };\n    /**\n     * Parses the bump map.\n     *\n     * @param tokens list of tokens for the map_bump direcive\n     */\n    MaterialLibrary.prototype.parse_map_bump = function (tokens) {\n        this.currentMaterial.mapBump = this.parseMap(tokens);\n    };\n    /**\n     * Parses the bump map.\n     *\n     * @param tokens list of tokens for the bump direcive\n     */\n    MaterialLibrary.prototype.parse_bump = function (tokens) {\n        this.parse_map_bump(tokens);\n    };\n    /**\n     * Parses the disp map.\n     *\n     * @param tokens list of tokens for the disp direcive\n     */\n    MaterialLibrary.prototype.parse_disp = function (tokens) {\n        this.currentMaterial.mapDisplacement = this.parseMap(tokens);\n    };\n    /**\n     * Parses the decal map.\n     *\n     * @param tokens list of tokens for the map_decal direcive\n     */\n    MaterialLibrary.prototype.parse_decal = function (tokens) {\n        this.currentMaterial.mapDecal = this.parseMap(tokens);\n    };\n    /**\n     * Parses the refl map.\n     *\n     * @param tokens list of tokens for the refl direcive\n     */\n    MaterialLibrary.prototype.parse_refl = function (tokens) {\n        this.currentMaterial.mapReflections.push(this.parseMap(tokens));\n    };\n    /**\n     * Parses the MTL file.\n     *\n     * Iterates line by line parsing each MTL directive.\n     *\n     * This function expects the first token in the line\n     * to be a valid MTL directive. That token is then used\n     * to try and run a method on this class. parse_[directive]\n     * E.g., the `newmtl` directive would try to call the method\n     * parse_newmtl. Each parsing function takes in the remaining\n     * list of tokens and updates the currentMaterial class with\n     * the attributes provided.\n     */\n    MaterialLibrary.prototype.parse = function () {\n        var e_1, _a;\n        var lines = this.data.split(/\\r?\\n/);\n        try {\n            for (var lines_1 = __values(lines), lines_1_1 = lines_1.next(); !lines_1_1.done; lines_1_1 = lines_1.next()) {\n                var line = lines_1_1.value;\n                line = line.trim();\n                if (!line || line.startsWith(\"#\")) {\n                    continue;\n                }\n                var _b = __read(line.split(/\\s/)), directive = _b[0], tokens = _b.slice(1);\n                var parseMethod = this[\"parse_\".concat(directive)];\n                if (!parseMethod) {\n                    console.warn(\"Don't know how to parse the directive: \\\"\".concat(directive, \"\\\"\"));\n                    continue;\n                }\n                parseMethod.bind(this)(tokens);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (lines_1_1 && !lines_1_1.done && (_a = lines_1[\"return\"])) _a.call(lines_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // some cleanup. These don't need to be exposed as public data.\n        delete this.data;\n        this.currentMaterial = SENTINEL_MATERIAL;\n    };\n    return MaterialLibrary;\n}());\nexports.MaterialLibrary = MaterialLibrary;\nfunction emptyTextureOptions() {\n    return {\n        colorCorrection: false,\n        horizontalBlending: true,\n        verticalBlending: true,\n        boostMipMapSharpness: 0,\n        modifyTextureMap: {\n            brightness: 0,\n            contrast: 1\n        },\n        offset: { u: 0, v: 0, w: 0 },\n        scale: { u: 1, v: 1, w: 1 },\n        turbulence: { u: 0, v: 0, w: 0 },\n        clamp: false,\n        textureResolution: null,\n        bumpMultiplier: 1,\n        imfChan: null,\n        filename: \"\"\n    };\n}\n","\"use strict\";\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nexports.__esModule = true;\nvar layout_1 = require(\"./layout\");\n/**\n * The main Mesh class. The constructor will parse through the OBJ file data\n * and collect the vertex, vertex normal, texture, and face information. This\n * information can then be used later on when creating your VBOs. See\n * OBJ.initMeshBuffers for an example of how to use the newly created Mesh\n */\nvar Mesh = /** @class */ (function () {\n    /**\n     * Create a Mesh\n     * @param {String} objectData - a string representation of an OBJ file with\n     *     newlines preserved.\n     * @param {Object} options - a JS object containing valid options. See class\n     *     documentation for options.\n     * @param {bool} options.enableWTextureCoord - Texture coordinates can have\n     *     an optional \"w\" coordinate after the u and v coordinates. This extra\n     *     value can be used in order to perform fancy transformations on the\n     *     textures themselves. Default is to truncate to only the u an v\n     *     coordinates. Passing true will provide a default value of 0 in the\n     *     event that any or all texture coordinates don't provide a w value.\n     *     Always use the textureStride attribute in order to determine the\n     *     stride length of the texture coordinates when rendering the element\n     *     array.\n     * @param {bool} options.calcTangentsAndBitangents - Calculate the tangents\n     *     and bitangents when loading of the OBJ is completed. This adds two new\n     *     attributes to the Mesh instance: `tangents` and `bitangents`.\n     */\n    function Mesh(objectData, options) {\n        var e_1, _a, e_2, _b;\n        this.name = \"\";\n        this.indicesPerMaterial = [];\n        this.materialsByIndex = {};\n        this.tangents = [];\n        this.bitangents = [];\n        options = options || {};\n        options.materials = options.materials || {};\n        options.enableWTextureCoord = !!options.enableWTextureCoord;\n        // the list of unique vertex, normal, texture, attributes\n        this.vertexNormals = [];\n        this.textures = [];\n        // the indicies to draw the faces\n        this.indices = [];\n        this.textureStride = options.enableWTextureCoord ? 3 : 2;\n        /*\n            The OBJ file format does a sort of compression when saving a model in a\n            program like Blender. There are at least 3 sections (4 including textures)\n            within the file. Each line in a section begins with the same string:\n              * 'v': indicates vertex section\n              * 'vn': indicates vertex normal section\n              * 'f': indicates the faces section\n              * 'vt': indicates vertex texture section (if textures were used on the model)\n            Each of the above sections (except for the faces section) is a list/set of\n            unique vertices.\n    \n            Each line of the faces section contains a list of\n            (vertex, [texture], normal) groups.\n    \n            **Note:** The following documentation will use a capital \"V\" Vertex to\n            denote the above (vertex, [texture], normal) groups whereas a lowercase\n            \"v\" vertex is used to denote an X, Y, Z coordinate.\n    \n            Some examples:\n                // the texture index is optional, both formats are possible for models\n                // without a texture applied\n                f 1/25 18/46 12/31\n                f 1//25 18//46 12//31\n    \n                // A 3 vertex face with texture indices\n                f 16/92/11 14/101/22 1/69/1\n    \n                // A 4 vertex face\n                f 16/92/11 40/109/40 38/114/38 14/101/22\n    \n            The first two lines are examples of a 3 vertex face without a texture applied.\n            The second is an example of a 3 vertex face with a texture applied.\n            The third is an example of a 4 vertex face. Note: a face can contain N\n            number of vertices.\n    \n            Each number that appears in one of the groups is a 1-based index\n            corresponding to an item from the other sections (meaning that indexing\n            starts at one and *not* zero).\n    \n            For example:\n                `f 16/92/11` is saying to\n                  - take the 16th element from the [v] vertex array\n                  - take the 92nd element from the [vt] texture array\n                  - take the 11th element from the [vn] normal array\n                and together they make a unique vertex.\n            Using all 3+ unique Vertices from the face line will produce a polygon.\n    \n            Now, you could just go through the OBJ file and create a new vertex for\n            each face line and WebGL will draw what appears to be the same model.\n            However, vertices will be overlapped and duplicated all over the place.\n    \n            Consider a cube in 3D space centered about the origin and each side is\n            2 units long. The front face (with the positive Z-axis pointing towards\n            you) would have a Top Right vertex (looking orthogonal to its normal)\n            mapped at (1,1,1) The right face would have a Top Left vertex (looking\n            orthogonal to its normal) at (1,1,1) and the top face would have a Bottom\n            Right vertex (looking orthogonal to its normal) at (1,1,1). Each face\n            has a vertex at the same coordinates, however, three distinct vertices\n            will be drawn at the same spot.\n    \n            To solve the issue of duplicate Vertices (the `(vertex, [texture], normal)`\n            groups), while iterating through the face lines, when a group is encountered\n            the whole group string ('16/92/11') is checked to see if it exists in the\n            packed.hashindices object, and if it doesn't, the indices it specifies\n            are used to look up each attribute in the corresponding attribute arrays\n            already created. The values are then copied to the corresponding unpacked\n            array (flattened to play nice with WebGL's ELEMENT_ARRAY_BUFFER indexing),\n            the group string is added to the hashindices set and the current unpacked\n            index is used as this hashindices value so that the group of elements can\n            be reused. The unpacked index is incremented. If the group string already\n            exists in the hashindices object, its corresponding value is the index of\n            that group and is appended to the unpacked indices array.\n           */\n        var verts = [];\n        var vertNormals = [];\n        var textures = [];\n        var materialNamesByIndex = [];\n        var materialIndicesByName = {};\n        // keep track of what material we've seen last\n        var currentMaterialIndex = -1;\n        var currentObjectByMaterialIndex = 0;\n        // unpacking stuff\n        var unpacked = {\n            verts: [],\n            norms: [],\n            textures: [],\n            hashindices: {},\n            indices: [[]],\n            materialIndices: [],\n            index: 0\n        };\n        var VERTEX_RE = /^v\\s/;\n        var NORMAL_RE = /^vn\\s/;\n        var TEXTURE_RE = /^vt\\s/;\n        var FACE_RE = /^f\\s/;\n        var WHITESPACE_RE = /\\s+/;\n        var USE_MATERIAL_RE = /^usemtl/;\n        // array of lines separated by the newline\n        var lines = objectData.split(\"\\n\");\n        try {\n            for (var lines_1 = __values(lines), lines_1_1 = lines_1.next(); !lines_1_1.done; lines_1_1 = lines_1.next()) {\n                var line = lines_1_1.value;\n                line = line.trim();\n                if (!line || line.startsWith(\"#\")) {\n                    continue;\n                }\n                var elements = line.split(WHITESPACE_RE);\n                elements.shift();\n                if (VERTEX_RE.test(line)) {\n                    // if this is a vertex\n                    verts.push.apply(verts, __spreadArray([], __read(elements), false));\n                }\n                else if (NORMAL_RE.test(line)) {\n                    // if this is a vertex normal\n                    vertNormals.push.apply(vertNormals, __spreadArray([], __read(elements), false));\n                }\n                else if (TEXTURE_RE.test(line)) {\n                    var coords = elements;\n                    // by default, the loader will only look at the U and V\n                    // coordinates of the vt declaration. So, this truncates the\n                    // elements to only those 2 values. If W texture coordinate\n                    // support is enabled, then the texture coordinate is\n                    // expected to have three values in it.\n                    if (elements.length > 2 && !options.enableWTextureCoord) {\n                        coords = elements.slice(0, 2);\n                    }\n                    else if (elements.length === 2 && options.enableWTextureCoord) {\n                        // If for some reason W texture coordinate support is enabled\n                        // and only the U and V coordinates are given, then we supply\n                        // the default value of 0 so that the stride length is correct\n                        // when the textures are unpacked below.\n                        coords.push(\"0\");\n                    }\n                    textures.push.apply(textures, __spreadArray([], __read(coords), false));\n                }\n                else if (USE_MATERIAL_RE.test(line)) {\n                    var materialName = elements[0];\n                    // check to see if we've ever seen it before\n                    if (!(materialName in materialIndicesByName)) {\n                        // new material we've never seen\n                        materialNamesByIndex.push(materialName);\n                        materialIndicesByName[materialName] = materialNamesByIndex.length - 1;\n                        // push new array into indices\n                        // already contains an array at index zero, don't add\n                        if (materialIndicesByName[materialName] > 0) {\n                            unpacked.indices.push([]);\n                        }\n                    }\n                    // keep track of the current material index\n                    currentMaterialIndex = materialIndicesByName[materialName];\n                    // update current index array\n                    currentObjectByMaterialIndex = currentMaterialIndex;\n                }\n                else if (FACE_RE.test(line)) {\n                    // if this is a face\n                    /*\n                            split this face into an array of Vertex groups\n                            for example:\n                               f 16/92/11 14/101/22 1/69/1\n                            becomes:\n                              ['16/92/11', '14/101/22', '1/69/1'];\n                            */\n                    var triangles = triangulate(elements);\n                    try {\n                        for (var triangles_1 = (e_2 = void 0, __values(triangles)), triangles_1_1 = triangles_1.next(); !triangles_1_1.done; triangles_1_1 = triangles_1.next()) {\n                            var triangle = triangles_1_1.value;\n                            for (var j = 0, eleLen = triangle.length; j < eleLen; j++) {\n                                var hash = triangle[j] + \",\" + currentMaterialIndex;\n                                if (hash in unpacked.hashindices) {\n                                    unpacked.indices[currentObjectByMaterialIndex].push(unpacked.hashindices[hash]);\n                                }\n                                else {\n                                    /*\n                                              Each element of the face line array is a Vertex which has its\n                                              attributes delimited by a forward slash. This will separate\n                                              each attribute into another array:\n                                                  '19/92/11'\n                                              becomes:\n                                                  Vertex = ['19', '92', '11'];\n                                              where\n                                                  Vertex[0] is the vertex index\n                                                  Vertex[1] is the texture index\n                                                  Vertex[2] is the normal index\n                                               Think of faces having Vertices which are comprised of the\n                                               attributes location (v), texture (vt), and normal (vn).\n                                               */\n                                    var vertex = triangle[j].split(\"/\");\n                                    // it's possible for faces to only specify the vertex\n                                    // and the normal. In this case, vertex will only have\n                                    // a length of 2 and not 3 and the normal will be the\n                                    // second item in the list with an index of 1.\n                                    var normalIndex = vertex.length - 1;\n                                    /*\n                                               The verts, textures, and vertNormals arrays each contain a\n                                               flattend array of coordinates.\n                      \n                                               Because it gets confusing by referring to Vertex and then\n                                               vertex (both are different in my descriptions) I will explain\n                                               what's going on using the vertexNormals array:\n                      \n                                               vertex[2] will contain the one-based index of the vertexNormals\n                                               section (vn). One is subtracted from this index number to play\n                                               nice with javascript's zero-based array indexing.\n                      \n                                               Because vertexNormal is a flattened array of x, y, z values,\n                                               simple pointer arithmetic is used to skip to the start of the\n                                               vertexNormal, then the offset is added to get the correct\n                                               component: +0 is x, +1 is y, +2 is z.\n                      \n                                               This same process is repeated for verts and textures.\n                                               */\n                                    // Vertex position\n                                    unpacked.verts.push(+verts[(+vertex[0] - 1) * 3 + 0]);\n                                    unpacked.verts.push(+verts[(+vertex[0] - 1) * 3 + 1]);\n                                    unpacked.verts.push(+verts[(+vertex[0] - 1) * 3 + 2]);\n                                    // Vertex textures\n                                    if (textures.length) {\n                                        var stride = options.enableWTextureCoord ? 3 : 2;\n                                        unpacked.textures.push(+textures[(+vertex[1] - 1) * stride + 0]);\n                                        unpacked.textures.push(+textures[(+vertex[1] - 1) * stride + 1]);\n                                        if (options.enableWTextureCoord) {\n                                            unpacked.textures.push(+textures[(+vertex[1] - 1) * stride + 2]);\n                                        }\n                                    }\n                                    // Vertex normals\n                                    unpacked.norms.push(+vertNormals[(+vertex[normalIndex] - 1) * 3 + 0]);\n                                    unpacked.norms.push(+vertNormals[(+vertex[normalIndex] - 1) * 3 + 1]);\n                                    unpacked.norms.push(+vertNormals[(+vertex[normalIndex] - 1) * 3 + 2]);\n                                    // Vertex material indices\n                                    unpacked.materialIndices.push(currentMaterialIndex);\n                                    // add the newly created Vertex to the list of indices\n                                    unpacked.hashindices[hash] = unpacked.index;\n                                    unpacked.indices[currentObjectByMaterialIndex].push(unpacked.hashindices[hash]);\n                                    // increment the counter\n                                    unpacked.index += 1;\n                                }\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (triangles_1_1 && !triangles_1_1.done && (_b = triangles_1[\"return\"])) _b.call(triangles_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (lines_1_1 && !lines_1_1.done && (_a = lines_1[\"return\"])) _a.call(lines_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.vertices = unpacked.verts;\n        this.vertexNormals = unpacked.norms;\n        this.textures = unpacked.textures;\n        this.vertexMaterialIndices = unpacked.materialIndices;\n        this.indices = unpacked.indices[currentObjectByMaterialIndex];\n        this.indicesPerMaterial = unpacked.indices;\n        this.materialNames = materialNamesByIndex;\n        this.materialIndices = materialIndicesByName;\n        this.materialsByIndex = {};\n        if (options.calcTangentsAndBitangents) {\n            this.calculateTangentsAndBitangents();\n        }\n    }\n    /**\n     * Calculates the tangents and bitangents of the mesh that forms an orthogonal basis together with the\n     * normal in the direction of the texture coordinates. These are useful for setting up the TBN matrix\n     * when distorting the normals through normal maps.\n     * Method derived from: http://www.opengl-tutorial.org/intermediate-tutorials/tutorial-13-normal-mapping/\n     *\n     * This method requires the normals and texture coordinates to be parsed and set up correctly.\n     * Adds the tangents and bitangents as members of the class instance.\n     */\n    Mesh.prototype.calculateTangentsAndBitangents = function () {\n        console.assert(!!(this.vertices &&\n            this.vertices.length &&\n            this.vertexNormals &&\n            this.vertexNormals.length &&\n            this.textures &&\n            this.textures.length), \"Missing attributes for calculating tangents and bitangents\");\n        var unpacked = {\n            tangents: __spreadArray([], __read(new Array(this.vertices.length)), false).map(function (_) { return 0; }),\n            bitangents: __spreadArray([], __read(new Array(this.vertices.length)), false).map(function (_) { return 0; })\n        };\n        // Loop through all faces in the whole mesh\n        var indices = this.indices;\n        var vertices = this.vertices;\n        var normals = this.vertexNormals;\n        var uvs = this.textures;\n        for (var i = 0; i < indices.length; i += 3) {\n            var i0 = indices[i + 0];\n            var i1 = indices[i + 1];\n            var i2 = indices[i + 2];\n            var x_v0 = vertices[i0 * 3 + 0];\n            var y_v0 = vertices[i0 * 3 + 1];\n            var z_v0 = vertices[i0 * 3 + 2];\n            var x_uv0 = uvs[i0 * 2 + 0];\n            var y_uv0 = uvs[i0 * 2 + 1];\n            var x_v1 = vertices[i1 * 3 + 0];\n            var y_v1 = vertices[i1 * 3 + 1];\n            var z_v1 = vertices[i1 * 3 + 2];\n            var x_uv1 = uvs[i1 * 2 + 0];\n            var y_uv1 = uvs[i1 * 2 + 1];\n            var x_v2 = vertices[i2 * 3 + 0];\n            var y_v2 = vertices[i2 * 3 + 1];\n            var z_v2 = vertices[i2 * 3 + 2];\n            var x_uv2 = uvs[i2 * 2 + 0];\n            var y_uv2 = uvs[i2 * 2 + 1];\n            var x_deltaPos1 = x_v1 - x_v0;\n            var y_deltaPos1 = y_v1 - y_v0;\n            var z_deltaPos1 = z_v1 - z_v0;\n            var x_deltaPos2 = x_v2 - x_v0;\n            var y_deltaPos2 = y_v2 - y_v0;\n            var z_deltaPos2 = z_v2 - z_v0;\n            var x_uvDeltaPos1 = x_uv1 - x_uv0;\n            var y_uvDeltaPos1 = y_uv1 - y_uv0;\n            var x_uvDeltaPos2 = x_uv2 - x_uv0;\n            var y_uvDeltaPos2 = y_uv2 - y_uv0;\n            var rInv = x_uvDeltaPos1 * y_uvDeltaPos2 - y_uvDeltaPos1 * x_uvDeltaPos2;\n            var r = 1.0 / Math.abs(rInv < 0.0001 ? 1.0 : rInv);\n            // Tangent\n            var x_tangent = (x_deltaPos1 * y_uvDeltaPos2 - x_deltaPos2 * y_uvDeltaPos1) * r;\n            var y_tangent = (y_deltaPos1 * y_uvDeltaPos2 - y_deltaPos2 * y_uvDeltaPos1) * r;\n            var z_tangent = (z_deltaPos1 * y_uvDeltaPos2 - z_deltaPos2 * y_uvDeltaPos1) * r;\n            // Bitangent\n            var x_bitangent = (x_deltaPos2 * x_uvDeltaPos1 - x_deltaPos1 * x_uvDeltaPos2) * r;\n            var y_bitangent = (y_deltaPos2 * x_uvDeltaPos1 - y_deltaPos1 * x_uvDeltaPos2) * r;\n            var z_bitangent = (z_deltaPos2 * x_uvDeltaPos1 - z_deltaPos1 * x_uvDeltaPos2) * r;\n            // Gram-Schmidt orthogonalize\n            //t = glm::normalize(t - n * glm:: dot(n, t));\n            var x_n0 = normals[i0 * 3 + 0];\n            var y_n0 = normals[i0 * 3 + 1];\n            var z_n0 = normals[i0 * 3 + 2];\n            var x_n1 = normals[i1 * 3 + 0];\n            var y_n1 = normals[i1 * 3 + 1];\n            var z_n1 = normals[i1 * 3 + 2];\n            var x_n2 = normals[i2 * 3 + 0];\n            var y_n2 = normals[i2 * 3 + 1];\n            var z_n2 = normals[i2 * 3 + 2];\n            // Tangent\n            var n0_dot_t = x_tangent * x_n0 + y_tangent * y_n0 + z_tangent * z_n0;\n            var n1_dot_t = x_tangent * x_n1 + y_tangent * y_n1 + z_tangent * z_n1;\n            var n2_dot_t = x_tangent * x_n2 + y_tangent * y_n2 + z_tangent * z_n2;\n            var x_resTangent0 = x_tangent - x_n0 * n0_dot_t;\n            var y_resTangent0 = y_tangent - y_n0 * n0_dot_t;\n            var z_resTangent0 = z_tangent - z_n0 * n0_dot_t;\n            var x_resTangent1 = x_tangent - x_n1 * n1_dot_t;\n            var y_resTangent1 = y_tangent - y_n1 * n1_dot_t;\n            var z_resTangent1 = z_tangent - z_n1 * n1_dot_t;\n            var x_resTangent2 = x_tangent - x_n2 * n2_dot_t;\n            var y_resTangent2 = y_tangent - y_n2 * n2_dot_t;\n            var z_resTangent2 = z_tangent - z_n2 * n2_dot_t;\n            var magTangent0 = Math.sqrt(x_resTangent0 * x_resTangent0 + y_resTangent0 * y_resTangent0 + z_resTangent0 * z_resTangent0);\n            var magTangent1 = Math.sqrt(x_resTangent1 * x_resTangent1 + y_resTangent1 * y_resTangent1 + z_resTangent1 * z_resTangent1);\n            var magTangent2 = Math.sqrt(x_resTangent2 * x_resTangent2 + y_resTangent2 * y_resTangent2 + z_resTangent2 * z_resTangent2);\n            // Bitangent\n            var n0_dot_bt = x_bitangent * x_n0 + y_bitangent * y_n0 + z_bitangent * z_n0;\n            var n1_dot_bt = x_bitangent * x_n1 + y_bitangent * y_n1 + z_bitangent * z_n1;\n            var n2_dot_bt = x_bitangent * x_n2 + y_bitangent * y_n2 + z_bitangent * z_n2;\n            var x_resBitangent0 = x_bitangent - x_n0 * n0_dot_bt;\n            var y_resBitangent0 = y_bitangent - y_n0 * n0_dot_bt;\n            var z_resBitangent0 = z_bitangent - z_n0 * n0_dot_bt;\n            var x_resBitangent1 = x_bitangent - x_n1 * n1_dot_bt;\n            var y_resBitangent1 = y_bitangent - y_n1 * n1_dot_bt;\n            var z_resBitangent1 = z_bitangent - z_n1 * n1_dot_bt;\n            var x_resBitangent2 = x_bitangent - x_n2 * n2_dot_bt;\n            var y_resBitangent2 = y_bitangent - y_n2 * n2_dot_bt;\n            var z_resBitangent2 = z_bitangent - z_n2 * n2_dot_bt;\n            var magBitangent0 = Math.sqrt(x_resBitangent0 * x_resBitangent0 + y_resBitangent0 * y_resBitangent0 + z_resBitangent0 * z_resBitangent0);\n            var magBitangent1 = Math.sqrt(x_resBitangent1 * x_resBitangent1 + y_resBitangent1 * y_resBitangent1 + z_resBitangent1 * z_resBitangent1);\n            var magBitangent2 = Math.sqrt(x_resBitangent2 * x_resBitangent2 + y_resBitangent2 * y_resBitangent2 + z_resBitangent2 * z_resBitangent2);\n            unpacked.tangents[i0 * 3 + 0] += x_resTangent0 / magTangent0;\n            unpacked.tangents[i0 * 3 + 1] += y_resTangent0 / magTangent0;\n            unpacked.tangents[i0 * 3 + 2] += z_resTangent0 / magTangent0;\n            unpacked.tangents[i1 * 3 + 0] += x_resTangent1 / magTangent1;\n            unpacked.tangents[i1 * 3 + 1] += y_resTangent1 / magTangent1;\n            unpacked.tangents[i1 * 3 + 2] += z_resTangent1 / magTangent1;\n            unpacked.tangents[i2 * 3 + 0] += x_resTangent2 / magTangent2;\n            unpacked.tangents[i2 * 3 + 1] += y_resTangent2 / magTangent2;\n            unpacked.tangents[i2 * 3 + 2] += z_resTangent2 / magTangent2;\n            unpacked.bitangents[i0 * 3 + 0] += x_resBitangent0 / magBitangent0;\n            unpacked.bitangents[i0 * 3 + 1] += y_resBitangent0 / magBitangent0;\n            unpacked.bitangents[i0 * 3 + 2] += z_resBitangent0 / magBitangent0;\n            unpacked.bitangents[i1 * 3 + 0] += x_resBitangent1 / magBitangent1;\n            unpacked.bitangents[i1 * 3 + 1] += y_resBitangent1 / magBitangent1;\n            unpacked.bitangents[i1 * 3 + 2] += z_resBitangent1 / magBitangent1;\n            unpacked.bitangents[i2 * 3 + 0] += x_resBitangent2 / magBitangent2;\n            unpacked.bitangents[i2 * 3 + 1] += y_resBitangent2 / magBitangent2;\n            unpacked.bitangents[i2 * 3 + 2] += z_resBitangent2 / magBitangent2;\n            // TODO: check handedness\n        }\n        this.tangents = unpacked.tangents;\n        this.bitangents = unpacked.bitangents;\n    };\n    /**\n     * @param layout - A {@link Layout} object that describes the\n     * desired memory layout of the generated buffer\n     * @return The packed array in the ... TODO\n     */\n    Mesh.prototype.makeBufferData = function (layout) {\n        var e_3, _a;\n        var numItems = this.vertices.length / 3;\n        var buffer = new ArrayBuffer(layout.stride * numItems);\n        buffer.numItems = numItems;\n        var dataView = new DataView(buffer);\n        for (var i = 0, vertexOffset = 0; i < numItems; i++) {\n            vertexOffset = i * layout.stride;\n            try {\n                // copy in the vertex data in the order and format given by the\n                // layout param\n                for (var _b = (e_3 = void 0, __values(layout.attributes)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var attribute = _c.value;\n                    var offset = vertexOffset + layout.attributeMap[attribute.key].offset;\n                    switch (attribute.key) {\n                        case layout_1.Layout.POSITION.key:\n                            dataView.setFloat32(offset, this.vertices[i * 3], true);\n                            dataView.setFloat32(offset + 4, this.vertices[i * 3 + 1], true);\n                            dataView.setFloat32(offset + 8, this.vertices[i * 3 + 2], true);\n                            break;\n                        case layout_1.Layout.UV.key:\n                            dataView.setFloat32(offset, this.textures[i * 2], true);\n                            dataView.setFloat32(offset + 4, this.textures[i * 2 + 1], true);\n                            break;\n                        case layout_1.Layout.NORMAL.key:\n                            dataView.setFloat32(offset, this.vertexNormals[i * 3], true);\n                            dataView.setFloat32(offset + 4, this.vertexNormals[i * 3 + 1], true);\n                            dataView.setFloat32(offset + 8, this.vertexNormals[i * 3 + 2], true);\n                            break;\n                        case layout_1.Layout.MATERIAL_INDEX.key:\n                            dataView.setInt16(offset, this.vertexMaterialIndices[i], true);\n                            break;\n                        case layout_1.Layout.AMBIENT.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.ambient[0], true);\n                            dataView.setFloat32(offset + 4, material.ambient[1], true);\n                            dataView.setFloat32(offset + 8, material.ambient[2], true);\n                            break;\n                        }\n                        case layout_1.Layout.DIFFUSE.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.diffuse[0], true);\n                            dataView.setFloat32(offset + 4, material.diffuse[1], true);\n                            dataView.setFloat32(offset + 8, material.diffuse[2], true);\n                            break;\n                        }\n                        case layout_1.Layout.SPECULAR.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.specular[0], true);\n                            dataView.setFloat32(offset + 4, material.specular[1], true);\n                            dataView.setFloat32(offset + 8, material.specular[2], true);\n                            break;\n                        }\n                        case layout_1.Layout.SPECULAR_EXPONENT.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.specularExponent, true);\n                            break;\n                        }\n                        case layout_1.Layout.EMISSIVE.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.emissive[0], true);\n                            dataView.setFloat32(offset + 4, material.emissive[1], true);\n                            dataView.setFloat32(offset + 8, material.emissive[2], true);\n                            break;\n                        }\n                        case layout_1.Layout.TRANSMISSION_FILTER.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.transmissionFilter[0], true);\n                            dataView.setFloat32(offset + 4, material.transmissionFilter[1], true);\n                            dataView.setFloat32(offset + 8, material.transmissionFilter[2], true);\n                            break;\n                        }\n                        case layout_1.Layout.DISSOLVE.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.dissolve, true);\n                            break;\n                        }\n                        case layout_1.Layout.ILLUMINATION.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setInt16(offset, material.illumination, true);\n                            break;\n                        }\n                        case layout_1.Layout.REFRACTION_INDEX.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.refractionIndex, true);\n                            break;\n                        }\n                        case layout_1.Layout.SHARPNESS.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setFloat32(offset, material.sharpness, true);\n                            break;\n                        }\n                        case layout_1.Layout.ANTI_ALIASING.key: {\n                            var materialIndex = this.vertexMaterialIndices[i];\n                            var material = this.materialsByIndex[materialIndex];\n                            if (!material) {\n                                console.warn('Material \"' +\n                                    this.materialNames[materialIndex] +\n                                    '\" not found in mesh. Did you forget to call addMaterialLibrary(...)?\"');\n                                break;\n                            }\n                            dataView.setInt16(offset, material.antiAliasing ? 1 : 0, true);\n                            break;\n                        }\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b[\"return\"])) _a.call(_b);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n        }\n        return buffer;\n    };\n    Mesh.prototype.makeIndexBufferData = function () {\n        var buffer = new Uint16Array(this.indices);\n        buffer.numItems = this.indices.length;\n        return buffer;\n    };\n    Mesh.prototype.makeIndexBufferDataForMaterials = function () {\n        var _a;\n        var _this = this;\n        var materialIndices = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            materialIndices[_i] = arguments[_i];\n        }\n        var indices = (_a = new Array()).concat.apply(_a, __spreadArray([], __read(materialIndices.map(function (mtlIdx) { return _this.indicesPerMaterial[mtlIdx]; })), false));\n        var buffer = new Uint16Array(indices);\n        buffer.numItems = indices.length;\n        return buffer;\n    };\n    Mesh.prototype.addMaterialLibrary = function (mtl) {\n        for (var name_1 in mtl.materials) {\n            if (!(name_1 in this.materialIndices)) {\n                // This material is not referenced by the mesh\n                continue;\n            }\n            var material = mtl.materials[name_1];\n            // Find the material index for this material\n            var materialIndex = this.materialIndices[material.name];\n            // Put the material into the materialsByIndex object at the right\n            // spot as determined when the obj file was parsed\n            this.materialsByIndex[materialIndex] = material;\n        }\n    };\n    return Mesh;\n}());\nexports[\"default\"] = Mesh;\nfunction triangulate(elements) {\n    var i;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!(elements.length <= 3)) return [3 /*break*/, 2];\n                return [4 /*yield*/, elements];\n            case 1:\n                _a.sent();\n                return [3 /*break*/, 9];\n            case 2:\n                if (!(elements.length === 4)) return [3 /*break*/, 5];\n                return [4 /*yield*/, [elements[0], elements[1], elements[2]]];\n            case 3:\n                _a.sent();\n                return [4 /*yield*/, [elements[2], elements[3], elements[0]]];\n            case 4:\n                _a.sent();\n                return [3 /*break*/, 9];\n            case 5:\n                i = 1;\n                _a.label = 6;\n            case 6:\n                if (!(i < elements.length - 1)) return [3 /*break*/, 9];\n                return [4 /*yield*/, [elements[0], elements[i], elements[i + 1]]];\n            case 7:\n                _a.sent();\n                _a.label = 8;\n            case 8:\n                i++;\n                return [3 /*break*/, 6];\n            case 9: return [2 /*return*/];\n        }\n    });\n}\n","'use strict';\nvar __values =\n  (this && this.__values) ||\n  function (o) {\n    var s = typeof Symbol === 'function' && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === 'number')\n      return {\n        next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n        },\n      };\n    throw new TypeError(s ? 'Object is not iterable.' : 'Symbol.iterator is not defined.');\n  };\nvar __read =\n  (this && this.__read) ||\n  function (o, n) {\n    var m = typeof Symbol === 'function' && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o),\n      r,\n      ar = [],\n      e;\n    try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    } catch (error) {\n      e = { error: error };\n    } finally {\n      try {\n        if (r && !r.done && (m = i['return'])) m.call(i);\n      } finally {\n        if (e) throw e.error;\n      }\n    }\n    return ar;\n  };\nexports.__esModule = true;\nexports.deleteMeshBuffers =\n  exports.initMeshBuffers =\n  exports._buildBuffer =\n  exports.downloadMeshes =\n  exports.downloadModels =\n  exports.downloadModelsFromZip =\n    void 0;\nvar mesh_1 = require('./mesh');\nvar material_1 = require('./material');\nfunction create1PixelTexture(gl, pixel) {\n  var texture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, texture);\n  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(pixel));\n  return texture;\n}\nfunction downloadMtlTextures(gl, mtl, root) {\n  var e_1, _a;\n  var mapAttributes = ['mapDiffuse', 'mapAmbient', 'mapSpecular', 'mapDissolve', 'mapBump', 'mapDisplacement', 'mapDecal', 'mapEmissive'];\n  if (!root.endsWith('/')) {\n    root += '/';\n  }\n  var textures = [];\n  for (var materialName in mtl.materials) {\n    if (!mtl.materials.hasOwnProperty(materialName)) {\n      continue;\n    }\n    var material = mtl.materials[materialName];\n    var _loop_1 = function (attr) {\n      var mapData = material[attr];\n      if (!mapData || !mapData.filename) {\n        return 'continue';\n      }\n      var url = root + mapData.filename;\n      textures.push(\n        fetch(url)\n          .then(function (response) {\n            if (!response.ok) {\n              throw new Error();\n            }\n            return response.blob();\n          })\n          .then(function (data) {\n            var image = new Image();\n            image.src = URL.createObjectURL(data);\n            mapData.texture = image;\n            var texture = create1PixelTexture(gl, [128, 192, 86, 255]);\n            mapData.glTexture = texture;\n            // Set the parameters so we can render any size image.\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n            gl.bindTexture(gl.TEXTURE_2D, mapData.glTexture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, mapData.texture);\n            // Upload the image into the texture.\n            image.onload = function () {\n              gl.bindTexture(gl.TEXTURE_2D, mapData.glTexture);\n              gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, mapData.texture);\n            };\n            return new Promise(function (resolve) {\n              return (image.onload = function () {\n                return resolve(mapData);\n              });\n            });\n          })\n          ['catch'](function () {\n            console.error('Unable to download texture: '.concat(url));\n          })\n      );\n    };\n    try {\n      for (\n        var mapAttributes_1 = ((e_1 = void 0), __values(mapAttributes)), mapAttributes_1_1 = mapAttributes_1.next();\n        !mapAttributes_1_1.done;\n        mapAttributes_1_1 = mapAttributes_1.next()\n      ) {\n        var attr = mapAttributes_1_1.value;\n        _loop_1(attr);\n      }\n    } catch (e_1_1) {\n      e_1 = { error: e_1_1 };\n    } finally {\n      try {\n        if (mapAttributes_1_1 && !mapAttributes_1_1.done && (_a = mapAttributes_1['return'])) _a.call(mapAttributes_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  }\n  return Promise.all(textures);\n}\nfunction downloadMtlTexturesFromZip(gl, mtl, root, zip) {\n  var e_1, _a;\n  var mapAttributes = ['mapDiffuse', 'mapAmbient', 'mapSpecular', 'mapDissolve', 'mapBump', 'mapDisplacement', 'mapDecal', 'mapEmissive'];\n  if (!root.endsWith('/')) {\n    root += '/';\n  }\n  var textures = [];\n  for (var materialName in mtl.materials) {\n    if (!mtl.materials.hasOwnProperty(materialName)) {\n      continue;\n    }\n    var material = mtl.materials[materialName];\n    var _loop_1 = function (attr) {\n      var mapData = material[attr];\n      if (!mapData || !mapData.filename) {\n        return 'continue';\n      }\n      var url = root + mapData.filename;\n      textures.push(\n        zip\n          .file(url)\n          .async('arrayBuffer')\n          .then(function (imageData) {\n            let buffer = new Uint8Array(imageData);\n            return new Blob([buffer.buffer]);\n          })\n          .then(function (data) {\n            var image = new Image();\n            image.src = URL.createObjectURL(data);\n            mapData.texture = image;\n            var texture = create1PixelTexture(gl, [128, 192, 86, 255]);\n            mapData.glTexture = texture;\n            // Set the parameters so we can render any size image.\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n            gl.bindTexture(gl.TEXTURE_2D, mapData.glTexture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, mapData.texture);\n            // Upload the image into the texture.\n            image.onload = function () {\n              gl.bindTexture(gl.TEXTURE_2D, mapData.glTexture);\n              gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, mapData.texture);\n            };\n            return new Promise(function (resolve) {\n              return (image.onload = function () {\n                return resolve(mapData);\n              });\n            });\n          })\n          ['catch'](function () {\n            console.error('Unable to download texture from zip: '.concat(url));\n          })\n      );\n    };\n    try {\n      for (\n        var mapAttributes_1 = ((e_1 = void 0), __values(mapAttributes)), mapAttributes_1_1 = mapAttributes_1.next();\n        !mapAttributes_1_1.done;\n        mapAttributes_1_1 = mapAttributes_1.next()\n      ) {\n        var attr = mapAttributes_1_1.value;\n        _loop_1(attr);\n      }\n    } catch (e_1_1) {\n      e_1 = { error: e_1_1 };\n    } finally {\n      try {\n        if (mapAttributes_1_1 && !mapAttributes_1_1.done && (_a = mapAttributes_1['return'])) _a.call(mapAttributes_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  }\n  return Promise.all(textures);\n}\nfunction getMtl(modelOptions) {\n  if (!(typeof modelOptions.mtl === 'string')) {\n    return modelOptions.obj.replace(/\\.obj$/, '.mtl');\n  }\n  return modelOptions.mtl;\n}\n/**\n * Accepts a list of model request objects and returns a Promise that\n * resolves when all models have been downloaded and parsed.\n *\n * The list of model objects follow this interface:\n * {\n *  obj: 'path/to/model.obj',\n *  mtl: true | 'path/to/model.mtl',\n *  downloadMtlTextures: true | false\n *  mtlTextureRoot: '/models/suzanne/maps'\n *  name: 'suzanne'\n * }\n *\n * The `obj` attribute is required and should be the path to the\n * model's .obj file relative to the current repo (absolute URLs are\n * suggested).\n *\n * The `mtl` attribute is optional and can either be a boolean or\n * a path to the model's .mtl file relative to the current URL. If\n * the value is `true`, then the path and basename given for the `obj`\n * attribute is used replacing the .obj suffix for .mtl\n * E.g.: {obj: 'models/foo.obj', mtl: true} would search for 'models/foo.mtl'\n *\n * The `name` attribute is optional and is a human friendly name to be\n * included with the parsed OBJ and MTL files. If not given, the base .obj\n * filename will be used.\n *\n * The `downloadMtlTextures` attribute is a flag for automatically downloading\n * any images found in the MTL file and attaching them to each Material\n * created from that file. For example, if material.mapDiffuse is set (there\n * was data in the MTL file), then material.mapDiffuse.texture will contain\n * the downloaded image. This option defaults to `true`. By default, the MTL's\n * URL will be used to determine the location of the images.\n *\n * The `mtlTextureRoot` attribute is optional and should point to the location\n * on the server that this MTL's texture files are located. The default is to\n * use the MTL file's location.\n *\n * @returns {Promise} the result of downloading the given list of models. The\n * promise will resolve with an object whose keys are the names of the models\n * and the value is its Mesh object. Each Mesh object will automatically\n * have its addMaterialLibrary() method called to set the given MTL data (if given).\n */\nfunction downloadModels(gl, models) {\n  var e_2, _a;\n  var finished = [];\n  var _loop_2 = function (model) {\n    if (!model.obj) {\n      throw new Error('\"obj\" attribute of model object not set. The .obj file is required to be set ' + 'in order to use downloadModels()');\n    }\n    var options = {\n      indicesPerMaterial: !!model.indicesPerMaterial,\n      calcTangentsAndBitangents: !!model.calcTangentsAndBitangents,\n    };\n    // if the name is not provided, dervive it from the given OBJ\n    var name_1 = model.name;\n    if (!name_1) {\n      var parts = model.obj.split('/');\n      name_1 = parts[parts.length - 1].replace('.obj', '');\n    }\n    var namePromise = Promise.resolve(name_1);\n    var meshPromise = fetch(model.obj)\n      .then(function (response) {\n        return response.text();\n      })\n      .then(function (data) {\n        return new mesh_1['default'](data, options);\n      });\n    var mtlPromise = void 0;\n    // Download MaterialLibrary file?\n    if (model.mtl) {\n      var mtl_1 = getMtl(model);\n      mtlPromise = fetch(mtl_1)\n        .then(function (response) {\n          return response.text();\n        })\n        .then(function (data) {\n          var material = new material_1.MaterialLibrary(data);\n          if (model.downloadMtlTextures !== false) {\n            var root = model.mtlTextureRoot;\n            if (!root) {\n              // get the directory of the MTL file as default\n              root = mtl_1.substr(0, mtl_1.lastIndexOf('/'));\n            }\n            // downloadMtlTextures returns a Promise that\n            // is resolved once all of the images it\n            // contains are downloaded. These are then\n            // attached to the map data objects\n            return Promise.all([Promise.resolve(material), downloadMtlTextures(gl, material, root)]);\n          }\n          return Promise.all([Promise.resolve(material), undefined]);\n        })\n        .then(function (value) {\n          return value;\n        });\n    }\n    var parsed = [namePromise, meshPromise, mtlPromise];\n    finished.push(Promise.all(parsed));\n  };\n  try {\n    for (var models_1 = __values(models), models_1_1 = models_1.next(); !models_1_1.done; models_1_1 = models_1.next()) {\n      var model = models_1_1.value;\n      _loop_2(model);\n    }\n  } catch (e_2_1) {\n    e_2 = { error: e_2_1 };\n  } finally {\n    try {\n      if (models_1_1 && !models_1_1.done && (_a = models_1['return'])) _a.call(models_1);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n  return Promise.all(finished).then(function (ms) {\n    var e_3, _a;\n    // the \"finished\" promise is a list of name, Mesh instance,\n    // and MaterialLibary instance. This unpacks and returns an\n    // object mapping name to Mesh (Mesh points to MTL).\n    var models = {};\n    try {\n      for (var ms_1 = __values(ms), ms_1_1 = ms_1.next(); !ms_1_1.done; ms_1_1 = ms_1.next()) {\n        var model = ms_1_1.value;\n        var _b = __read(model, 3),\n          name_2 = _b[0],\n          mesh = _b[1],\n          mtl = _b[2];\n        mesh.name = name_2;\n        if (mtl) {\n          mesh.addMaterialLibrary(mtl[0]);\n        }\n        models[name_2] = mesh;\n      }\n    } catch (e_3_1) {\n      e_3 = { error: e_3_1 };\n    } finally {\n      try {\n        if (ms_1_1 && !ms_1_1.done && (_a = ms_1['return'])) _a.call(ms_1);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n    return models;\n  });\n}\nfunction downloadModelsFromZip(gl, models, zip) {\n  var e_2, _a;\n  var finished = [];\n  var _loop_2 = function (model) {\n    if (!model.obj) {\n      throw new Error('\"obj\" attribute of model object not set. The .obj file is required to be set ' + 'in order to use downloadModels()');\n    }\n    var options = {\n      indicesPerMaterial: !!model.indicesPerMaterial,\n      calcTangentsAndBitangents: !!model.calcTangentsAndBitangents,\n    };\n    // if the name is not provided, dervive it from the given OBJ\n    var parts = model.obj.split('/');\n    var name_1 = parts[parts.length - 1].replace('.obj', '');\n    var namePromise = Promise.resolve(name_1);\n    var meshPromise = zip\n      .file(`models/${name_1}.obj`)\n      .async('string')\n      .then(function (data) {\n        return new mesh_1['default'](data, options);\n      });\n    var mtlPromise = void 0;\n    // Download MaterialLibrary file?\n    if (model.mtl) {\n      var mtl_1 = getMtl(model);\n      mtlPromise = zip\n        .file(`models/${name_1}.mtl`)\n        .async('string')\n        .then(function (data) {\n          var material = new material_1.MaterialLibrary(data);\n          if (model.downloadMtlTextures !== false) {\n            var root = model.mtlTextureRoot;\n            if (!root) {\n              // get the directory of the MTL file as default\n              root = mtl_1.substr(0, mtl_1.lastIndexOf('/'));\n            }\n            // downloadMtlTextures returns a Promise that\n            // is resolved once all of the images it\n            // contains are downloaded. These are then\n            // attached to the map data objects\n            return Promise.all([Promise.resolve(material), downloadMtlTexturesFromZip(gl, material, root, zip)]);\n          }\n          return Promise.all([Promise.resolve(material), undefined]);\n        })\n        .then(function (value) {\n          return value;\n        });\n    }\n    var parsed = [namePromise, meshPromise, mtlPromise];\n    finished.push(Promise.all(parsed));\n  };\n  try {\n    for (var models_1 = __values(models), models_1_1 = models_1.next(); !models_1_1.done; models_1_1 = models_1.next()) {\n      var model = models_1_1.value;\n      _loop_2(model);\n    }\n  } catch (e_2_1) {\n    e_2 = { error: e_2_1 };\n  } finally {\n    try {\n      if (models_1_1 && !models_1_1.done && (_a = models_1['return'])) _a.call(models_1);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n  return Promise.all(finished).then(function (ms) {\n    var e_3, _a;\n    // the \"finished\" promise is a list of name, Mesh instance,\n    // and MaterialLibary instance. This unpacks and returns an\n    // object mapping name to Mesh (Mesh points to MTL).\n    var models = {};\n    try {\n      for (var ms_1 = __values(ms), ms_1_1 = ms_1.next(); !ms_1_1.done; ms_1_1 = ms_1.next()) {\n        var model = ms_1_1.value;\n        var _b = __read(model, 3),\n          name_2 = _b[0],\n          mesh = _b[1],\n          mtl = _b[2];\n        mesh.name = name_2;\n        if (mtl) {\n          mesh.addMaterialLibrary(mtl[0]);\n        }\n        models[name_2] = mesh;\n      }\n    } catch (e_3_1) {\n      e_3 = { error: e_3_1 };\n    } finally {\n      try {\n        if (ms_1_1 && !ms_1_1.done && (_a = ms_1['return'])) _a.call(ms_1);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n    return models;\n  });\n}\nexports.downloadModelsFromZip = downloadModelsFromZip;\nexports.downloadModels = downloadModels;\n/**\n * Takes in an object of `mesh_name`, `'/url/to/OBJ/file'` pairs and a callback\n * function. Each OBJ file will be ajaxed in and automatically converted to\n * an OBJ.Mesh. When all files have successfully downloaded the callback\n * function provided will be called and passed in an object containing\n * the newly created meshes.\n *\n * **Note:** In order to use this function as a way to download meshes, a\n * webserver of some sort must be used.\n *\n * @param {Object} nameAndAttrs an object where the key is the name of the mesh and the value is the url to that mesh's OBJ file\n *\n * @param {Function} completionCallback should contain a function that will take one parameter: an object array where the keys will be the unique object name and the value will be a Mesh object\n *\n * @param {Object} meshes In case other meshes are loaded separately or if a previously declared variable is desired to be used, pass in a (possibly empty) json object of the pattern: { '<mesh_name>': OBJ.Mesh }\n *\n */\nfunction downloadMeshes(nameAndURLs, completionCallback, meshes) {\n  if (meshes === undefined) {\n    meshes = {};\n  }\n  var completed = [];\n  var _loop_3 = function (mesh_name) {\n    if (!nameAndURLs.hasOwnProperty(mesh_name)) {\n      return 'continue';\n    }\n    var url = nameAndURLs[mesh_name];\n    completed.push(\n      fetch(url)\n        .then(function (response) {\n          return response.text();\n        })\n        .then(function (data) {\n          return [mesh_name, new mesh_1['default'](data)];\n        })\n    );\n  };\n  for (var mesh_name in nameAndURLs) {\n    _loop_3(mesh_name);\n  }\n  Promise.all(completed).then(function (ms) {\n    var e_4, _a;\n    try {\n      for (var ms_2 = __values(ms), ms_2_1 = ms_2.next(); !ms_2_1.done; ms_2_1 = ms_2.next()) {\n        var _b = __read(ms_2_1.value, 2),\n          name_3 = _b[0],\n          mesh = _b[1];\n        meshes[name_3] = mesh;\n      }\n    } catch (e_4_1) {\n      e_4 = { error: e_4_1 };\n    } finally {\n      try {\n        if (ms_2_1 && !ms_2_1.done && (_a = ms_2['return'])) _a.call(ms_2);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n    return completionCallback(meshes);\n  });\n}\nexports.downloadMeshes = downloadMeshes;\nfunction _buildBuffer(gl, type, data, itemSize) {\n  var buffer = gl.createBuffer();\n  var arrayView = type === gl.ARRAY_BUFFER ? Float32Array : Uint16Array;\n  gl.bindBuffer(type, buffer);\n  gl.bufferData(type, new arrayView(data), gl.STATIC_DRAW);\n  buffer.itemSize = itemSize;\n  buffer.numItems = data.length / itemSize;\n  return buffer;\n}\nexports._buildBuffer = _buildBuffer;\n/**\n * Takes in the WebGL context and a Mesh, then creates and appends the buffers\n * to the mesh object as attributes.\n *\n * @param {WebGLRenderingContext} gl the `canvas.getContext('webgl')` context instance\n * @param {Mesh} mesh a single `OBJ.Mesh` instance\n *\n * The newly created mesh attributes are:\n *\n * Attrbute | Description\n * :--- | ---\n * **normalBuffer**       |contains the model&#39;s Vertex Normals\n * normalBuffer.itemSize  |set to 3 items\n * normalBuffer.numItems  |the total number of vertex normals\n * |\n * **textureBuffer**      |contains the model&#39;s Texture Coordinates\n * textureBuffer.itemSize |set to 2 items\n * textureBuffer.numItems |the number of texture coordinates\n * |\n * **vertexBuffer**       |contains the model&#39;s Vertex Position Coordinates (does not include w)\n * vertexBuffer.itemSize  |set to 3 items\n * vertexBuffer.numItems  |the total number of vertices\n * |\n * **indexBuffer**        |contains the indices of the faces\n * indexBuffer.itemSize   |is set to 1\n * indexBuffer.numItems   |the total number of indices\n *\n * A simple example (a lot of steps are missing, so don't copy and paste):\n *\n *     const gl   = canvas.getContext('webgl'),\n *         mesh = OBJ.Mesh(obj_file_data);\n *     // compile the shaders and create a shader program\n *     const shaderProgram = gl.createProgram();\n *     // compilation stuff here\n *     ...\n *     // make sure you have vertex, vertex normal, and texture coordinate\n *     // attributes located in your shaders and attach them to the shader program\n *     shaderProgram.aVertexPosition = gl.getAttribLocation(shaderProgram, \"aVertexPosition\");\n *     gl.enableVertexAttribArray(shaderProgram.aVertexPosition);\n *\n *     shaderProgram.aVertexNormal = gl.getAttribLocation(shaderProgram, \"aVertexNormal\");\n *     gl.enableVertexAttribArray(shaderProgram.aVertexNormal);\n *\n *     shaderProgram.aTextureCoord = gl.getAttribLocation(shaderProgram, \"aTextureCoord\");\n *     gl.enableVertexAttribArray(shaderProgram.aTextureCoord);\n *\n *     // create and initialize the vertex, vertex normal, and texture coordinate buffers\n *     // and save on to the mesh object\n *     OBJ.initMeshBuffers(gl, mesh);\n *\n *     // now to render the mesh\n *     gl.bindBuffer(gl.ARRAY_BUFFER, mesh.vertexBuffer);\n *     gl.vertexAttribPointer(shaderProgram.aVertexPosition, mesh.vertexBuffer.itemSize, gl.FLOAT, false, 0, 0);\n *     // it's possible that the mesh doesn't contain\n *     // any texture coordinates (e.g. suzanne.obj in the development branch).\n *     // in this case, the texture vertexAttribArray will need to be disabled\n *     // before the call to drawElements\n *     if(!mesh.textures.length){\n *       gl.disableVertexAttribArray(shaderProgram.aTextureCoord);\n *     }\n *     else{\n *       // if the texture vertexAttribArray has been previously\n *       // disabled, then it needs to be re-enabled\n *       gl.enableVertexAttribArray(shaderProgram.aTextureCoord);\n *       gl.bindBuffer(gl.ARRAY_BUFFER, mesh.textureBuffer);\n *       gl.vertexAttribPointer(shaderProgram.aTextureCoord, mesh.textureBuffer.itemSize, gl.FLOAT, false, 0, 0);\n *     }\n *\n *     gl.bindBuffer(gl.ARRAY_BUFFER, mesh.normalBuffer);\n *     gl.vertexAttribPointer(shaderProgram.aVertexNormal, mesh.normalBuffer.itemSize, gl.FLOAT, false, 0, 0);\n *\n *     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, model.mesh.indexBuffer);\n *     gl.drawElements(gl.TRIANGLES, model.mesh.indexBuffer.numItems, gl.UNSIGNED_SHORT, 0);\n */\nfunction initMeshBuffers(gl, mesh) {\n  mesh.normalBuffer = _buildBuffer(gl, gl.ARRAY_BUFFER, mesh.vertexNormals, 3);\n  mesh.textureBuffer = _buildBuffer(gl, gl.ARRAY_BUFFER, mesh.textures, mesh.textureStride);\n  mesh.vertexBuffer = _buildBuffer(gl, gl.ARRAY_BUFFER, mesh.vertices, 3);\n  mesh.indexBuffer = _buildBuffer(gl, gl.ELEMENT_ARRAY_BUFFER, mesh.indices, 1);\n  return mesh;\n}\nexports.initMeshBuffers = initMeshBuffers;\nfunction deleteMeshBuffers(gl, mesh) {\n  gl.deleteBuffer(mesh.normalBuffer);\n  gl.deleteBuffer(mesh.textureBuffer);\n  gl.deleteBuffer(mesh.vertexBuffer);\n  gl.deleteBuffer(mesh.indexBuffer);\n}\nexports.deleteMeshBuffers = deleteMeshBuffers;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 7640;\nmodule.exports = webpackEmptyContext;","module.exports = require(\"react\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.nc = undefined;","import { Vector, Vector4 } from './math/vector.jsx';\n\nexport default {\n  Vector,\n  Vector4,\n};\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\n// Controller Joystick Manager\nexport class ControllerStick {\n  constructor(ctx, layout, touches, colours, radius, gamepad) {\n    this.ctx = ctx;\n    this.gamepad = gamepad;\n    this.width = ctx.canvas.width;\n    this.height = ctx.canvas.height;\n    this.layout = layout;\n    this.touches = touches;\n    this.radius = radius;\n    this.x = 0;\n    this.y = 0;\n    this.dx = 0;\n    this.dy = 0;\n    this.gamepad.map['x-dir'] = 0;\n    this.gamepad.map['y-dir'] = 0;\n    this.gamepad.map['x-axis'] = 0;\n    this.gamepad.map['y-axis'] = 0;\n    this.colours = colours;\n    this.init = this.init.bind(this);\n    this.draw = this.draw.bind(this);\n  }\n  // Initialize\n  init() {\n    let { layout, width } = this;\n    this.x = width - layout.x;\n    this.y = layout.y + (3 * this.radius) / 8;\n    this.dx = this.x;\n    this.dy = this.y;\n    this.gamepad.map['x-dir'] = 0;\n    this.gamepad.map['y-dir'] = 0;\n    this.gamepad.map['x-axis'] = 0;\n    this.gamepad.map['y-axis'] = 0;\n  }\n  // draw joystick\n  draw() {\n    let { ctx } = this;\n    ctx.fillStyle = this.colours.joystick.base;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);\n    ctx.fill();\n    ctx.closePath();\n\n    ctx.fillStyle = this.colours.joystick.dust;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius - 5, 0, 2 * Math.PI, false);\n    ctx.fill();\n    ctx.closePath();\n\n    ctx.fillStyle = this.colours.joystick.stick;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, 10, 0, 2 * Math.PI, false);\n    ctx.fill();\n    ctx.closePath();\n\n    ctx.fillStyle = this.colours.joystick.ball;\n    ctx.beginPath();\n    ctx.arc(this.dx, this.dy, this.radius - 10, 0, 2 * Math.PI, false);\n    ctx.fill();\n    ctx.closePath();\n  }\n  // manage event state\n  state(id, type) {\n    let { gamepad } = this;\n    let { touches, map, checkInput } = gamepad;\n    var touch = {\n      x: touches[id].x,\n      y: touches[id].y,\n    };\n    var dx = parseInt(touch.x - this.x);\n    var dy = parseInt(touch.y - this.y);\n    var dist = parseInt(Math.sqrt(dx * dx + dy * dy));\n    // Start\n    if (dist < this.radius * 1.2) {\n      if (!type) {\n        touches[id].id = 'stick';\n      } else {\n        switch (type) {\n          case 'mousedown':\n            touches[id].id = 'stick';\n            break;\n        }\n      }\n    }\n    // Stop\n    if (dist < this.radius * 2.5) {\n      if (!type) {\n        touches[id].id = 'stick';\n      } else {\n        if (touches[id].id == 'stick')\n          switch (type) {\n            case 'mouseup':\n              delete touches[id].id;\n              this.reset();\n              break;\n          }\n      }\n    }\n    // Move\n    if (touches[id].id == 'stick') {\n      if (Math.abs(parseInt(dx)) < this.radius / 2) {\n        this.dx = this.x + dx;\n      }\n      if (Math.abs(parseInt(dy)) < this.radius / 2) {\n        this.dy = this.y + dy;\n      }\n      map['x-axis'] = (this.dx - this.x) / (this.radius / 2);\n      map['y-axis'] = (this.dy - this.y) / (this.radius / 2);\n      map['x-dir'] = Math.round(map['x-axis']);\n      map['y-dir'] = Math.round(map['y-axis']);\n\n      if (dist > this.radius * 2.5) {\n        this.reset();\n        delete touches[id].id;\n      }\n      if (typeof checkInput === 'function') {\n        this.gamepad.checkInput();\n      }\n    }\n  }\n  // reset state\n  reset() {\n    let { map } = this.gamepad;\n    this.dx = this.x;\n    this.dy = this.y;\n    map['x-dir'] = 0;\n    map['y-dir'] = 0;\n    map['x-axis'] = 0;\n    map['y-axis'] = 0;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\n// Mobile Gamepad Controller\nCanvasRenderingContext2D.prototype.roundRect = function (x, y, w, h, r) {\n  if (w < 2 * r) r = w / 2;\n  if (h < 2 * r) r = h / 2;\n  this.beginPath();\n  this.moveTo(x + r, y);\n  this.arcTo(x + w, y, x + w, y + h, r);\n  this.arcTo(x + w, y + h, x, y + h, r);\n  this.arcTo(x, y + h, x, y, r);\n  this.arcTo(x, y, x + w, y, r);\n  this.closePath();\n  return this;\n};\n\n// Controller Button Manager\nexport class ControllerButtons {\n  constructor(ctx, layout, touches, start, select, colours, radius, gamepad) {\n    this.ctx = ctx;\n    this.gamepad = gamepad;\n    this.layout = layout;\n    this.radius = radius;\n    this.touches = touches;\n    this.start = start;\n    this.select = select;\n    this.colours = colours;\n  }\n  // Initialize\n  init() {\n    let { layout, ctx } = this;\n    let { buttons_layout } = this.gamepad;\n    let width = ctx.canvas.width;\n    for (var n = 0; n < buttons_layout.length; n++) {\n      var button = buttons_layout[n];\n      var x = layout.x - button.x;\n      var y = layout.y - button.y;\n      if (button.r) {\n        var r = button.r;\n        buttons_layout[n]['hit'] = { x: [x - r, x + r * 2], y: [y - r, y + r * 2], active: false };\n      } else {\n        button.x = width / 3 - button.w;\n        if (this.start && this.select) {\n          switch (button.name) {\n            case 'select':\n              button.x = width / 2 - button.w - button.h * 2;\n              break;\n            case 'start':\n              button.x = width / 2;\n              break;\n          }\n        }\n        var x = button.x;\n        var y = layout.y - button.y;\n        buttons_layout[n]['hit'] = { x: [x, x + button.w], y: [y, y + button.h], active: false };\n      }\n      this.gamepad.map[button.name] = 0;\n    }\n  }\n  // render Button\n  draw() {\n    let { ctx, layout } = this;\n    for (var n = 0; n < this.gamepad.buttons_layout.length; n++) {\n      var button = this.gamepad.buttons_layout[n];\n      var color = button.color;\n      var x = layout.x - button.x;\n      var y = layout.y - button.y;\n      button.dx = x;\n      button.dy = y;\n\n      if (button.r) {\n        var r = button.r;\n\n        if (button.hit) {\n          if (button.hit.active) {\n            ctx.fillStyle = color;\n            ctx.beginPath();\n            ctx.arc(x, y, r + 5, 0, 2 * Math.PI, false);\n            ctx.fill();\n            ctx.closePath();\n          }\n        }\n\n        ctx.fillStyle = color;\n        ctx.beginPath();\n        ctx.arc(x, y, r, 0, 2 * Math.PI, false);\n        ctx.fill();\n        ctx.closePath();\n        ctx.strokeStyle = color;\n        ctx.lineWidth = 2;\n        ctx.stroke();\n\n        ctx.fillStyle = 'rgba(255,255,255,1)';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.font = 'minecraftia 12px';\n        ctx.fillText(button.name, x, y);\n      } else {\n        var w = button.w;\n        var h = button.h;\n        var x = isNaN(button.x) ? ctx.canvas.width / 2 : button.x;\n        var r = 10;\n        ctx.fillStyle = color;\n        if (button.hit) {\n          if (button.hit.active) {\n            ctx.roundRect(x - 5, y - 5, w + 10, h + 10, r * 2).fill();\n          }\n        }\n        ctx.roundRect(x, y, w, h, r).fill();\n\n        ctx.strokeStyle = color;\n        ctx.lineWidth = 2;\n        ctx.stroke();\n        ctx.fillStyle = 'rgba(0,0,0,0.5)';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.font = 'minecraftia 12px';\n        ctx.fillText(button.name, x + w / 2, y + h * 2);\n      }\n\n      if (button.key) {\n        ctx.fillStyle = 'rgba(0,0,0,0.25)';\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.font = 'minecraftia 12px';\n        if (button.name == 'start' || button.name == 'select') {\n          x += w / 2;\n        }\n        ctx.fillText(button.key, x, y - r * 1.5);\n      }\n    }\n  }\n  // State of Buttons\n  state(id, n, type) {\n    let { gamepad } = this;\n    let { touches, checkInput, width } = gamepad;\n    if (touches[id].id != 'stick') {\n      var touch = {\n        x: touches[id].x,\n        y: touches[id].y,\n      };\n      var button = this.gamepad.buttons_layout[n];\n      var name = button.name;\n\n      var dx = parseInt(touch.x - button.dx);\n      var dy = parseInt(touch.y - button.dy);\n      var dist = width;\n      if (button.r) {\n        dist = parseInt(Math.sqrt(dx * dx + dy * dy));\n      } else {\n        if (touch.x > button.hit.x[0] && touch.x < button.hit.x[1] && touch.y > button.hit.y[0] && touch.y < button.hit.y[1]) {\n          dist = 0;\n        }\n      }\n      if (dist < this.radius && touches[id].id != 'stick') {\n        if (!type) {\n          touches[id].id = name;\n        } else {\n          switch (type) {\n            case 'mousedown':\n              touches[id].id = name;\n              break;\n            case 'mouseup':\n              delete touches[id].id;\n              this.reset(n);\n              break;\n          }\n        }\n      }\n      if (touches[id].id == name) {\n        this.gamepad.map[name] = 1;\n        button.hit.active = true;\n        if (dist > this.radius) {\n          button.hit.active = false;\n          this.gamepad.map[name] = 0;\n          delete touches[id].id;\n        }\n        if (typeof checkInput === 'function') {\n          this.gamepad.checkInput();\n        }\n      }\n    }\n  }\n  // Reset State\n  reset(n) {\n    this.gamepad.buttons_layout[n].hit.active = false;\n    this.gamepad.map[this.gamepad.buttons_layout[n].name] = 0;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { ControllerStick } from '@Engine/utils/gamepad/ControllerStick.jsx';\nimport { ControllerButtons } from '@Engine/utils/gamepad/ControllerButtons.jsx';\n// Controller Manager for Gamepad\nexport class Controller {\n  constructor(ctx, button_offset, touches, start, select, colours, gamepad) {\n    this.ctx = ctx;\n    this.gamepad = gamepad;\n    this.width = ctx.canvas.width;\n    this.height = ctx.canvas.height;\n    this.radius = ctx.canvas.width / 10;\n    this.touches = touches;\n    this.start = start;\n    this.select = select;\n    this.button_offset = button_offset;\n    this.colours = colours;\n    this.layout = { x: this.width - this.button_offset.x, y: this.height - this.button_offset.y };\n    this.stick = new ControllerStick(this.ctx, this.layout, this.touches, this.colours, this.radius, this.gamepad);\n    this.buttons = new ControllerButtons(this.ctx, this.layout, this.touches, this.start, this.select, this.colours, this.radius, this.gamepad);\n  }\n  // Initialize\n  init() {\n    this.stick.init();\n    this.buttons.init();\n  }\n  // draw\n  draw() {\n    this.stick.draw();\n    this.buttons.draw();\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport GLEngine from '@Engine/core/index.jsx';\n\nimport { Controller } from '@Engine/utils/gamepad/Controller.jsx';\nexport class GamePad {\n  /** Game Pad\n   * inspired by https://stackoverflow.com/questions/44488996/create-a-scrollable-text-inside-canvas\n   *\n   * @param {GLEngine} engine\n   * @returns\n   */\n  constructor(engine) {\n    if (!GamePad._instance) {\n      this.engine = engine;\n      this.dirty = true;\n      this.showTrace = true;\n      this.showDebug = true;\n      this.opacity = 0.4;\n      this.font = 'minecraftia';\n\n      // Start & Select Buttons\n      this.start = false;\n      this.select = false;\n      this.touches = {};\n      this.lastKey = new Date().getTime();\n      this.listeners = [];\n      this.map = {};\n      this.x = 0;\n      this.y = 0;\n\n      // Button Colours\n      this.colours = {\n        red: `rgba(255,0,0,${this.opacity})`,\n        green: `rgba(5,220,30,${this.opacity})`,\n        blue: `rgba(5,30,220,${this.opacity})`,\n        purple: `rgba(240,5,240,${this.opacity})`,\n        yellow: `rgba(240,240,5,${this.opacity})`,\n        cyan: `rgba(5,240,240,${this.opacity})`,\n        black: `rgba(5,5,5,${this.opacity})`,\n        white: `rgba(250,250,250,${this.opacity})`,\n        joystick: {\n          base: `rgba(0,0,0,${this.opacity})`,\n          dust: `rgba(0,0,0,${this.opacity})`,\n          stick: `rgba(214,214,214,1)`,\n          ball: `rgba(245,245,245,1)`,\n        },\n      };\n      GamePad._instance = this;\n    }\n    return GamePad._instance;\n  }\n\n  /**\n   *\n   */\n  init() {\n    // Font\n    this.fontSize = this.engine.gp.canvas.width / 12;\n\n    // Joystick Radius\n    this.radius = this.engine.gp.canvas.width / 12;\n\n    // Button placement\n    this.button_offset = { x: this.radius * 2.5, y: 105 };\n\n    // Button Layouts\n    let buttons_layout = [\n      {\n        x: -this.radius - this.radius / 2 + this.radius / 4,\n        y: -this.radius / 4,\n        r: (3 / 4) * this.radius,\n        color: this.colours.red,\n        name: 'b',\n      },\n      {\n        x: this.radius - this.radius / 2,\n        y: -(this.radius + this.radius / 2),\n        r: (3 / 4) * this.radius,\n        color: this.colours.green,\n        name: 'a',\n      },\n      {\n        x: this.radius - this.radius / 2,\n        y: this.radius,\n        r: (3 / 4) * this.radius,\n        color: this.colours.blue,\n        name: 'x',\n      },\n      {\n        x: this.radius * 3 - this.radius / 2 - this.radius / 4,\n        y: 0 - this.radius / 4,\n        r: (3 / 4) * this.radius,\n        color: this.colours.yellow,\n        name: 'y',\n      },\n    ];\n    if (this.start) {\n      buttons_layout.push({\n        color: this.colours.black,\n        y: -55,\n        w: 50,\n        h: 15,\n        name: 'start',\n      });\n    }\n    if (this.select) {\n      buttons_layout.push({\n        y: -55,\n        w: 50,\n        h: 15,\n        color: this.colours.black,\n        name: 'select',\n      });\n    }\n\n    // setup controller\n    this.buttons_layout = buttons_layout;\n    this.controller = new Controller(this.engine.gp, this.button_offset, this.touches, this.start, this.select, this.colours, this);\n    this.initOptions();\n  }\n\n  // initialize widget\n  initOptions(options = {}) {\n    this.setOptions(options);\n    this.resize();\n    this.loadCanvas();\n  }\n\n  // attach external event listener (spliced into)\n  attachListener(listener) {\n    return this.listeners.push(listener);\n  }\n\n  // removed an attached external event listener\n  removeListener(id) {\n    this.listeners.splice(id - 1, 1);\n  }\n\n  // check input status\n  checkInput() {\n    return this.map;\n  }\n\n  // Handle resize (TODO - needs work)\n  resize() {\n    this.width = this.engine.gp.canvas.width;\n    this.height = this.engine.gp.canvas.height;\n    this.controller.init();\n  }\n\n  // setup canvas\n  loadCanvas() {\n    let { controller, width, height } = this;\n    this.engine.gp.fillStyle = 'rgba(70,70,70,0.5)';\n    this.engine.gp.textAlign = 'center';\n    this.engine.gp.textBaseline = 'middle';\n    this.engine.gp.font = 'minecraftia 14px';\n    this.engine.gp.fillText('loading', width / 2, height / 2);\n    controller.stick.draw();\n    controller.buttons.draw();\n    window.addEventListener('resize', () => this.resize());\n    setTimeout(function () {\n      this.ready = true;\n    }, 250);\n  }\n\n  // Apply options\n  setOptions(options) {\n    Object.keys(this).forEach((key) => {\n      if (options[key] !== undefined) {\n        this[key] = options[key];\n        this.dirty = true;\n      }\n    });\n  }\n\n  // debounce\n  debounce() {\n    let { controller, buttons_layout } = this;\n    let t = this.lastKey;\n    this.lastKey = new Date().getTime() + 100;\n    // todo - clear key\n    for (var n = 0; n < buttons_layout.length; n++) {\n      controller.buttons.reset(n);\n    }\n    return t < this.lastKey;\n  }\n\n  // debounce and check key\n  keyPressed(key) {\n    return this.map[key] === 1 && this.debounce();\n  }\n\n  // Event Listener\n  listen(e) {\n    let { touches, controller, buttons_layout } = this;\n    if (e.type) {\n      var type = e.type;\n      if (e.type.indexOf('mouse') != -1) {\n        e.identifier = 'desktop';\n        e = { touches: [e] };\n      }\n      let offset = this.getPosition(this.engine.gp.canvas);\n      // run against attached listeners\n      this.listeners.map((l) => {\n        if (l[type]) {\n          return l[type](e);\n        }\n      });\n      this.x = (e.touches[0]?.pageX - offset.x) || 0;\n      this.y = (e.touches[0]?.pageY - offset.y) || 0;\n\n      for (var n = 0; n < (e.touches.length > 5 ? 5 : e.touches.length); n++) {\n        var id = e.touches[n].identifier;\n        if (!touches[id]) {\n          touches[id] = {\n            x: e.touches[n].pageX - offset.x,\n            y: e.touches[n].pageY - offset.y,\n            leftClick: false,\n            rightClick: false,\n          };\n        } else {\n          touches[id].x = e.touches[n].pageX - offset.x;\n          touches[id].y = e.touches[n].pageY - offset.y;\n        }\n      }\n\n      for (var id in touches) {\n        // handle controller\n        switch (type) {\n          case 'touchstart':\n          case 'touchmove':\n            this.disableScroll();\n            controller.stick.state(id);\n            if (new Date().getTime() > this.lastKey + 150) {\n              for (var n = 0; n < buttons_layout.length; n++) {\n                controller.buttons.state(id, n);\n              }\n              this.lastKey = new Date().getTime();\n            }\n            break;\n          case 'touchend':\n            for (var n = 0; n < buttons_layout.length; n++) {\n              controller.buttons.reset(n);\n            }\n            break;\n          case 'mousemove':\n            if (touches[id].leftClick) { // camera move - needs work - not aligned with camera\n              let rotateSpeed = 0.01;\n              let angleChange = [touches[id].y * rotateSpeed, -touches[id].x * rotateSpeed + touches[id].y * rotateSpeed, -touches[id].x * rotateSpeed - touches[id].y * rotateSpeed,];\n              this.engine.renderManager.camera.changeAngle(angleChange);\n            }\n          case 'mousedown':\n            if (e.touches && e.touches[0]?.which) {\n              // Gecko (Firefox), WebKit (Safari/Chrome) & Opera\n              touches[id].leftClick = e.touches[0].which === 1;\n              touches[id].rightClick = e.touches[0].which === 3;\n            } else if ('button' in e) {\n              // IE, Opera\n              touches[id].leftClick = e.button == 1;\n              touches[id].rightClick = e.button == 2;\n            }\n            controller.stick.state(id, type);\n            for (var n = 0; n < buttons_layout.length; n++) {\n              controller.buttons.state(id, n, type);\n            }\n            break;\n          case 'mouseup':\n            controller.stick.state(id, type);\n            for (var n = 0; n < buttons_layout.length; n++) {\n              controller.buttons.state(id, n, type);\n            }\n            touches[id].leftClick = 0;\n            touches[id].rightClick = 0;\n            break;\n        }\n      }\n\n      if (e.type == 'touchend') {\n        var id = e.changedTouches[0].identifier;\n        if (touches[id].id == 'stick') {\n          controller.stick.reset();\n        }\n        for (var n = 0; n < buttons_layout.length; n++) {\n          if (touches[id].id == buttons_layout[n].name) {\n            controller.buttons.reset(n);\n          }\n        }\n        if (touches[id]) {\n          delete touches[id];\n        }\n\n        if (e.changedTouches.length > e.touches.length) {\n          var length = 0;\n          var delta = e.changedTouches.length - e.touches.length;\n          for (var id in touches) {\n            if (length >= delta) {\n              delete touches[id];\n            }\n            length++;\n          }\n        }\n        if (e.touches.length == 0) {\n          touches = {};\n          for (var n = 0; n < buttons_layout.length; n++) {\n            controller.buttons.reset(n);\n          }\n          controller.stick.reset();\n        }\n\n        // Enable Scroll Again\n        this.enableScroll();\n      }\n    } else {\n      var keys = e;\n      var dir = 0;\n      for (var prop in keys) {\n        switch (prop) {\n          case '%': //left\n            if (keys[prop]) {\n              dir += 1;\n            }\n            break;\n          case '&': //up\n            if (keys[prop]) {\n              dir += 2;\n            }\n            break;\n          case \"'\": //right\n            if (keys[prop]) {\n              dir += 4;\n            }\n            break;\n          case '(': //down\n            if (keys[prop]) {\n              dir += 8;\n            }\n            break;\n          default:\n            if (keys[prop]) {\n              for (var n = 0; n < buttons_layout.length; n++) {\n                if (buttons_layout[n].key) {\n                  if (buttons_layout[n].key == prop) {\n                    touches[buttons_layout[n].name] = {\n                      id: buttons_layout[n].name,\n                      x: buttons_layout[n]['hit'].x[0] + buttons_layout[n].w / 2,\n                      y: buttons_layout[n]['hit'].y[0] + buttons_layout[n].h / 2,\n                    };\n                    controller.buttons.state(buttons_layout[n].name, n, 'mousedown');\n                  }\n                }\n              }\n            } else {\n              if (!keys[prop]) {\n                for (var n = 0; n < buttons_layout.length; n++) {\n                  if (buttons_layout[n].key) {\n                    if (buttons_layout[n].key == prop) {\n                      controller.buttons.reset(n);\n                      delete touches[buttons_layout[n].name];\n                    }\n                  }\n                }\n                delete keys[prop];\n              }\n            }\n            break;\n        }\n        controller.stick.dx = controller.stick.x;\n        controller.stick.dy = controller.stick.y;\n        switch (dir) {\n          case 1: //left\n            controller.stick.dx = controller.stick.x - controller.stick.radius / 2;\n            break;\n          case 2: //up\n            controller.stick.dy = controller.stick.y - controller.stick.radius / 2;\n            break;\n          case 3: //left up\n            controller.stick.dx = controller.stick.x - controller.stick.radius / 2;\n            controller.stick.dy = controller.stick.y - controller.stick.radius / 2;\n            break;\n          case 4: //right\n            controller.stick.dx = controller.stick.x + controller.stick.radius / 2;\n            break;\n          case 6: //right up\n            controller.stick.dx = controller.stick.x + controller.stick.radius / 2;\n            controller.stick.dy = controller.stick.y - controller.stick.radius / 2;\n            break;\n          case 8: //down\n            controller.stick.dy = controller.stick.y + controller.stick.radius / 2;\n            break;\n          case 9: //left down\n            controller.stick.dx = controller.stick.x - controller.stick.radius / 2;\n            controller.stick.dy = controller.stick.y + controller.stick.radius / 2;\n            break;\n          case 12: //right down\n            controller.stick.dx = controller.stick.x + controller.stick.radius / 2;\n            controller.stick.dy = controller.stick.y + controller.stick.radius / 2;\n            break;\n          default:\n            controller.stick.dx = controller.stick.x;\n            controller.stick.dy = controller.stick.y;\n            break;\n        }\n        if (dir != 0) {\n          touches['stick'] = { id: 'stick' };\n          controller.stick.state('stick', 'mousemove');\n        } else {\n          controller.stick.reset();\n          delete touches['stick'];\n        }\n      }\n    }\n\n    return this.map;\n  }\n\n  // Draw\n  render() {\n    this.engine.gp.clearRect(0, 0, this.engine.gp.canvas.width, this.engine.gp.canvas.height);\n    if (this.showDebug) {\n      this.debug();\n    }\n    if (this.showTrace) {\n      this.trace();\n    }\n    this.controller.stick.draw();\n    this.controller.buttons.draw();\n  }\n\n  // debug information\n  debug() {\n    let { gp, map, touches } = this;\n    this.dy = 30;\n    this.engine.gp.fillStyle = 'rgba(70,70,70,0.5)';\n    this.engine.gp.textAlign = 'left';\n    this.engine.gp.textBaseline = 'middle';\n    this.engine.gp.font = 'minecraftia 20px';\n    this.engine.gp.fillText('debug', 10, this.dy);\n    this.engine.gp.font = 'minecraftia 14px';\n    this.dy += 5;\n    for (var prop in touches) {\n      this.dy += 10;\n      let text = prop + ' : ' + JSON.stringify(touches[prop]).slice(1, -1);\n      this.engine.gp.fillText(text, 10, this.dy);\n    }\n  }\n\n  // map trace output\n  trace() {\n    let { map } = this;\n    this.dy = 30;\n    this.engine.gp.fillStyle = 'rgba(70,70,70,0.5)';\n    this.engine.gp.textAlign = 'right';\n    this.engine.gp.textBaseline = 'middle';\n    this.engine.gp.font = 'minecraftia 20px';\n    this.engine.gp.fillText('trace', this.width - 10, this.dy);\n    this.engine.gp.font = 'minecraftia 14px';\n    this.dy += 5;\n    for (var prop in map) {\n      this.dy += 10;\n      let text = prop + ' : ' + map[prop];\n      this.engine.gp.fillText(text, this.width - 10, this.dy);\n    }\n  }\n\n  // get position with correct offset\n  getPosition(element) {\n    var xPosition = 0;\n    var yPosition = 0;\n\n    while (element) {\n      xPosition += element.offsetLeft - element.scrollLeft + element.clientLeft;\n      yPosition += element.offsetTop - element.scrollTop + element.clientTop;\n      element = element.offsetParent;\n    }\n    return { x: xPosition, y: yPosition };\n  }\n\n  // disable scroll while touching canvas\n  enableScroll() {\n    document.body.removeEventListener('touchmove', this.preventDefault);\n  }\n\n  // reenable once done\n  disableScroll() {\n    document.body.addEventListener('touchmove', this.preventDefault, { passive: false });\n  }\n\n  // stop event\n  preventDefault(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport GLEngine from '@Engine/core/index.jsx';\n\nexport default class Keyboard {\n  /**\n   *\n   * @param {GLEngine} engine\n   * @returns\n   */\n  constructor(engine) {\n    // Instance\n    if (!Keyboard._instance) {\n      this.activeKeys = [];\n      this.activeCodes = [];\n      this.shift = false;\n      this.engine = engine;\n      Keyboard._instance = this;\n    }\n    return Keyboard._instance;\n  }\n\n  init() {\n    // setup initial event listeners\n  }\n\n  onKeyDown(e) {\n    e.preventDefault();\n    let c = String.fromCharCode(e.keyCode).toLowerCase();\n    if (Keyboard._instance.activeKeys.indexOf(c) < 0) Keyboard._instance.activeKeys.push(c);\n    if (Keyboard._instance.activeCodes.indexOf(e.key) < 0) Keyboard._instance.activeCodes.push(e.key);\n    Keyboard._instance.shift = e.shiftKey;\n  }\n\n  onKeyUp(e) {\n    let c = String.fromCharCode(e.keyCode).toLowerCase();\n    let index = Keyboard._instance.activeKeys.indexOf(c);\n    Keyboard._instance.activeKeys.splice(index, 1);\n    Keyboard._instance.activeCodes.splice(index, 1);\n  }\n\n  // Return the last pressed key from provided keys\n  lastPressed(keys) {\n    let lower = keys.toLowerCase();\n    let max = null;\n    let maxI = -1;\n    for (let i = 0; i < keys.length; i++) {\n      let k = lower[i];\n      let index = Keyboard._instance.activeKeys.indexOf(k);\n      if (index > maxI) {\n        max = k;\n        maxI = index;\n      }\n    }\n    return max;\n  }\n\n  // Return the last pressed key in keys\n  lastPressedCode(ignore = '') {\n    let last = Keyboard._instance.activeCodes.pop();\n    let lower = ignore.toLowerCase();\n    for (let i = 0; i < lower.length; i++) {\n      let index = Keyboard._instance.activeKeys.indexOf(last);\n      if (index < 0) {\n        last = Keyboard._instance.activeCodes.pop();\n      }\n    }\n    return last;\n  }\n\n  // Return the last pressed key in keys\n  lastPressedKey() {\n    return Keyboard._instance.activeKeys[Keyboard._instance.activeKeys.length - 1];\n  }\n}\n","/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 3.2.0, Thu Nov 18 2021\n *\n * http://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \nconst _global = typeof globalThis !== 'undefined' ? globalThis :\n    typeof self !== 'undefined' ? self :\n        typeof window !== 'undefined' ? window :\n            global;\n\nconst keys = Object.keys;\nconst isArray = Array.isArray;\nif (typeof Promise !== 'undefined' && !_global.Promise) {\n    _global.Promise = Promise;\n}\nfunction extend(obj, extension) {\n    if (typeof extension !== 'object')\n        return obj;\n    keys(extension).forEach(function (key) {\n        obj[key] = extension[key];\n    });\n    return obj;\n}\nconst getProto = Object.getPrototypeOf;\nconst _hasOwn = {}.hasOwnProperty;\nfunction hasOwn(obj, prop) {\n    return _hasOwn.call(obj, prop);\n}\nfunction props(proto, extension) {\n    if (typeof extension === 'function')\n        extension = extension(getProto(proto));\n    (typeof Reflect === \"undefined\" ? keys : Reflect.ownKeys)(extension).forEach(key => {\n        setProp(proto, key, extension[key]);\n    });\n}\nconst defineProperty = Object.defineProperty;\nfunction setProp(obj, prop, functionOrGetSet, options) {\n    defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n        { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n        { value: functionOrGetSet, configurable: true, writable: true }, options));\n}\nfunction derive(Child) {\n    return {\n        from: function (Parent) {\n            Child.prototype = Object.create(Parent.prototype);\n            setProp(Child.prototype, \"constructor\", Child);\n            return {\n                extend: props.bind(null, Child.prototype)\n            };\n        }\n    };\n}\nconst getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nfunction getPropertyDescriptor(obj, prop) {\n    const pd = getOwnPropertyDescriptor(obj, prop);\n    let proto;\n    return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n}\nconst _slice = [].slice;\nfunction slice(args, start, end) {\n    return _slice.call(args, start, end);\n}\nfunction override(origFunc, overridedFactory) {\n    return overridedFactory(origFunc);\n}\nfunction assert(b) {\n    if (!b)\n        throw new Error(\"Assertion Failed\");\n}\nfunction asap$1(fn) {\n    if (_global.setImmediate)\n        setImmediate(fn);\n    else\n        setTimeout(fn, 0);\n}\nfunction arrayToObject(array, extractor) {\n    return array.reduce((result, item, i) => {\n        var nameAndValue = extractor(item, i);\n        if (nameAndValue)\n            result[nameAndValue[0]] = nameAndValue[1];\n        return result;\n    }, {});\n}\nfunction tryCatch(fn, onerror, args) {\n    try {\n        fn.apply(null, args);\n    }\n    catch (ex) {\n        onerror && onerror(ex);\n    }\n}\nfunction getByKeyPath(obj, keyPath) {\n    if (hasOwn(obj, keyPath))\n        return obj[keyPath];\n    if (!keyPath)\n        return obj;\n    if (typeof keyPath !== 'string') {\n        var rv = [];\n        for (var i = 0, l = keyPath.length; i < l; ++i) {\n            var val = getByKeyPath(obj, keyPath[i]);\n            rv.push(val);\n        }\n        return rv;\n    }\n    var period = keyPath.indexOf('.');\n    if (period !== -1) {\n        var innerObj = obj[keyPath.substr(0, period)];\n        return innerObj === undefined ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n    }\n    return undefined;\n}\nfunction setByKeyPath(obj, keyPath, value) {\n    if (!obj || keyPath === undefined)\n        return;\n    if ('isFrozen' in Object && Object.isFrozen(obj))\n        return;\n    if (typeof keyPath !== 'string' && 'length' in keyPath) {\n        assert(typeof value !== 'string' && 'length' in value);\n        for (var i = 0, l = keyPath.length; i < l; ++i) {\n            setByKeyPath(obj, keyPath[i], value[i]);\n        }\n    }\n    else {\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var currentKeyPath = keyPath.substr(0, period);\n            var remainingKeyPath = keyPath.substr(period + 1);\n            if (remainingKeyPath === \"\")\n                if (value === undefined) {\n                    if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))\n                        obj.splice(currentKeyPath, 1);\n                    else\n                        delete obj[currentKeyPath];\n                }\n                else\n                    obj[currentKeyPath] = value;\n            else {\n                var innerObj = obj[currentKeyPath];\n                if (!innerObj)\n                    innerObj = (obj[currentKeyPath] = {});\n                setByKeyPath(innerObj, remainingKeyPath, value);\n            }\n        }\n        else {\n            if (value === undefined) {\n                if (isArray(obj) && !isNaN(parseInt(keyPath)))\n                    obj.splice(keyPath, 1);\n                else\n                    delete obj[keyPath];\n            }\n            else\n                obj[keyPath] = value;\n        }\n    }\n}\nfunction delByKeyPath(obj, keyPath) {\n    if (typeof keyPath === 'string')\n        setByKeyPath(obj, keyPath, undefined);\n    else if ('length' in keyPath)\n        [].map.call(keyPath, function (kp) {\n            setByKeyPath(obj, kp, undefined);\n        });\n}\nfunction shallowClone(obj) {\n    var rv = {};\n    for (var m in obj) {\n        if (hasOwn(obj, m))\n            rv[m] = obj[m];\n    }\n    return rv;\n}\nconst concat = [].concat;\nfunction flatten(a) {\n    return concat.apply([], a);\n}\nconst intrinsicTypeNames = \"Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\"\n    .split(',').concat(flatten([8, 16, 32, 64].map(num => [\"Int\", \"Uint\", \"Float\"].map(t => t + num + \"Array\")))).filter(t => _global[t]);\nconst intrinsicTypes = intrinsicTypeNames.map(t => _global[t]);\narrayToObject(intrinsicTypeNames, x => [x, true]);\nlet circularRefs = null;\nfunction deepClone(any) {\n    circularRefs = typeof WeakMap !== 'undefined' && new WeakMap();\n    const rv = innerDeepClone(any);\n    circularRefs = null;\n    return rv;\n}\nfunction innerDeepClone(any) {\n    if (!any || typeof any !== 'object')\n        return any;\n    let rv = circularRefs && circularRefs.get(any);\n    if (rv)\n        return rv;\n    if (isArray(any)) {\n        rv = [];\n        circularRefs && circularRefs.set(any, rv);\n        for (var i = 0, l = any.length; i < l; ++i) {\n            rv.push(innerDeepClone(any[i]));\n        }\n    }\n    else if (intrinsicTypes.indexOf(any.constructor) >= 0) {\n        rv = any;\n    }\n    else {\n        const proto = getProto(any);\n        rv = proto === Object.prototype ? {} : Object.create(proto);\n        circularRefs && circularRefs.set(any, rv);\n        for (var prop in any) {\n            if (hasOwn(any, prop)) {\n                rv[prop] = innerDeepClone(any[prop]);\n            }\n        }\n    }\n    return rv;\n}\nconst { toString } = {};\nfunction toStringTag(o) {\n    return toString.call(o).slice(8, -1);\n}\nconst iteratorSymbol = typeof Symbol !== 'undefined' ?\n    Symbol.iterator :\n    '@@iterator';\nconst getIteratorOf = typeof iteratorSymbol === \"symbol\" ? function (x) {\n    var i;\n    return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n} : function () { return null; };\nconst NO_CHAR_ARRAY = {};\nfunction getArrayOf(arrayLike) {\n    var i, a, x, it;\n    if (arguments.length === 1) {\n        if (isArray(arrayLike))\n            return arrayLike.slice();\n        if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n            return [arrayLike];\n        if ((it = getIteratorOf(arrayLike))) {\n            a = [];\n            while ((x = it.next()), !x.done)\n                a.push(x.value);\n            return a;\n        }\n        if (arrayLike == null)\n            return [arrayLike];\n        i = arrayLike.length;\n        if (typeof i === 'number') {\n            a = new Array(i);\n            while (i--)\n                a[i] = arrayLike[i];\n            return a;\n        }\n        return [arrayLike];\n    }\n    i = arguments.length;\n    a = new Array(i);\n    while (i--)\n        a[i] = arguments[i];\n    return a;\n}\nconst isAsyncFunction = typeof Symbol !== 'undefined'\n    ? (fn) => fn[Symbol.toStringTag] === 'AsyncFunction'\n    : () => false;\n\nvar debug = typeof location !== 'undefined' &&\n    /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\nfunction setDebug(value, filter) {\n    debug = value;\n    libraryFilter = filter;\n}\nvar libraryFilter = () => true;\nconst NEEDS_THROW_FOR_STACK = !new Error(\"\").stack;\nfunction getErrorWithStack() {\n    if (NEEDS_THROW_FOR_STACK)\n        try {\n            getErrorWithStack.arguments;\n            throw new Error();\n        }\n        catch (e) {\n            return e;\n        }\n    return new Error();\n}\nfunction prettyStack(exception, numIgnoredFrames) {\n    var stack = exception.stack;\n    if (!stack)\n        return \"\";\n    numIgnoredFrames = (numIgnoredFrames || 0);\n    if (stack.indexOf(exception.name) === 0)\n        numIgnoredFrames += (exception.name + exception.message).split('\\n').length;\n    return stack.split('\\n')\n        .slice(numIgnoredFrames)\n        .filter(libraryFilter)\n        .map(frame => \"\\n\" + frame)\n        .join('');\n}\n\nvar dexieErrorNames = [\n    'Modify',\n    'Bulk',\n    'OpenFailed',\n    'VersionChange',\n    'Schema',\n    'Upgrade',\n    'InvalidTable',\n    'MissingAPI',\n    'NoSuchDatabase',\n    'InvalidArgument',\n    'SubTransaction',\n    'Unsupported',\n    'Internal',\n    'DatabaseClosed',\n    'PrematureCommit',\n    'ForeignAwait'\n];\nvar idbDomErrorNames = [\n    'Unknown',\n    'Constraint',\n    'Data',\n    'TransactionInactive',\n    'ReadOnly',\n    'Version',\n    'NotFound',\n    'InvalidState',\n    'InvalidAccess',\n    'Abort',\n    'Timeout',\n    'QuotaExceeded',\n    'Syntax',\n    'DataClone'\n];\nvar errorList = dexieErrorNames.concat(idbDomErrorNames);\nvar defaultTexts = {\n    VersionChanged: \"Database version changed by other database connection\",\n    DatabaseClosed: \"Database has been closed\",\n    Abort: \"Transaction aborted\",\n    TransactionInactive: \"Transaction has already completed or failed\",\n    MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n};\nfunction DexieError(name, msg) {\n    this._e = getErrorWithStack();\n    this.name = name;\n    this.message = msg;\n}\nderive(DexieError).from(Error).extend({\n    stack: {\n        get: function () {\n            return this._stack ||\n                (this._stack = this.name + \": \" + this.message + prettyStack(this._e, 2));\n        }\n    },\n    toString: function () { return this.name + \": \" + this.message; }\n});\nfunction getMultiErrorMessage(msg, failures) {\n    return msg + \". Errors: \" + Object.keys(failures)\n        .map(key => failures[key].toString())\n        .filter((v, i, s) => s.indexOf(v) === i)\n        .join('\\n');\n}\nfunction ModifyError(msg, failures, successCount, failedKeys) {\n    this._e = getErrorWithStack();\n    this.failures = failures;\n    this.failedKeys = failedKeys;\n    this.successCount = successCount;\n    this.message = getMultiErrorMessage(msg, failures);\n}\nderive(ModifyError).from(DexieError);\nfunction BulkError(msg, failures) {\n    this._e = getErrorWithStack();\n    this.name = \"BulkError\";\n    this.failures = Object.keys(failures).map(pos => failures[pos]);\n    this.failuresByPos = failures;\n    this.message = getMultiErrorMessage(msg, failures);\n}\nderive(BulkError).from(DexieError);\nvar errnames = errorList.reduce((obj, name) => (obj[name] = name + \"Error\", obj), {});\nconst BaseException = DexieError;\nvar exceptions = errorList.reduce((obj, name) => {\n    var fullName = name + \"Error\";\n    function DexieError(msgOrInner, inner) {\n        this._e = getErrorWithStack();\n        this.name = fullName;\n        if (!msgOrInner) {\n            this.message = defaultTexts[name] || fullName;\n            this.inner = null;\n        }\n        else if (typeof msgOrInner === 'string') {\n            this.message = `${msgOrInner}${!inner ? '' : '\\n ' + inner}`;\n            this.inner = inner || null;\n        }\n        else if (typeof msgOrInner === 'object') {\n            this.message = `${msgOrInner.name} ${msgOrInner.message}`;\n            this.inner = msgOrInner;\n        }\n    }\n    derive(DexieError).from(BaseException);\n    obj[name] = DexieError;\n    return obj;\n}, {});\nexceptions.Syntax = SyntaxError;\nexceptions.Type = TypeError;\nexceptions.Range = RangeError;\nvar exceptionMap = idbDomErrorNames.reduce((obj, name) => {\n    obj[name + \"Error\"] = exceptions[name];\n    return obj;\n}, {});\nfunction mapError(domError, message) {\n    if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n        return domError;\n    var rv = new exceptionMap[domError.name](message || domError.message, domError);\n    if (\"stack\" in domError) {\n        setProp(rv, \"stack\", { get: function () {\n                return this.inner.stack;\n            } });\n    }\n    return rv;\n}\nvar fullNameExceptions = errorList.reduce((obj, name) => {\n    if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n        obj[name + \"Error\"] = exceptions[name];\n    return obj;\n}, {});\nfullNameExceptions.ModifyError = ModifyError;\nfullNameExceptions.DexieError = DexieError;\nfullNameExceptions.BulkError = BulkError;\n\nfunction nop() { }\nfunction mirror(val) { return val; }\nfunction pureFunctionChain(f1, f2) {\n    if (f1 == null || f1 === mirror)\n        return f2;\n    return function (val) {\n        return f2(f1(val));\n    };\n}\nfunction callBoth(on1, on2) {\n    return function () {\n        on1.apply(this, arguments);\n        on2.apply(this, arguments);\n    };\n}\nfunction hookCreatingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        var res = f1.apply(this, arguments);\n        if (res !== undefined)\n            arguments[0] = res;\n        var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n        this.onsuccess = null;\n        this.onerror = null;\n        var res2 = f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        return res2 !== undefined ? res2 : res;\n    };\n}\nfunction hookDeletingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        f1.apply(this, arguments);\n        var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n        this.onsuccess = this.onerror = null;\n        f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n    };\n}\nfunction hookUpdatingChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function (modifications) {\n        var res = f1.apply(this, arguments);\n        extend(modifications, res);\n        var onsuccess = this.onsuccess,\n        onerror = this.onerror;\n        this.onsuccess = null;\n        this.onerror = null;\n        var res2 = f2.apply(this, arguments);\n        if (onsuccess)\n            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n        if (onerror)\n            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        return res === undefined ?\n            (res2 === undefined ? undefined : res2) :\n            (extend(res, res2));\n    };\n}\nfunction reverseStoppableEventChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        if (f2.apply(this, arguments) === false)\n            return false;\n        return f1.apply(this, arguments);\n    };\n}\nfunction promisableChain(f1, f2) {\n    if (f1 === nop)\n        return f2;\n    return function () {\n        var res = f1.apply(this, arguments);\n        if (res && typeof res.then === 'function') {\n            var thiz = this, i = arguments.length, args = new Array(i);\n            while (i--)\n                args[i] = arguments[i];\n            return res.then(function () {\n                return f2.apply(thiz, args);\n            });\n        }\n        return f2.apply(this, arguments);\n    };\n}\n\nvar INTERNAL = {};\nconst LONG_STACKS_CLIP_LIMIT = 100,\nMAX_LONG_STACKS = 20, ZONE_ECHO_LIMIT = 100, [resolvedNativePromise, nativePromiseProto, resolvedGlobalPromise] = typeof Promise === 'undefined' ?\n    [] :\n    (() => {\n        let globalP = Promise.resolve();\n        if (typeof crypto === 'undefined' || !crypto.subtle)\n            return [globalP, getProto(globalP), globalP];\n        const nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n        return [\n            nativeP,\n            getProto(nativeP),\n            globalP\n        ];\n    })(), nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\nconst NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\nconst patchGlobalPromise = !!resolvedGlobalPromise;\nvar stack_being_generated = false;\nvar schedulePhysicalTick = resolvedGlobalPromise ?\n    () => { resolvedGlobalPromise.then(physicalTick); }\n    :\n        _global.setImmediate ?\n            setImmediate.bind(null, physicalTick) :\n            _global.MutationObserver ?\n                () => {\n                    var hiddenDiv = document.createElement(\"div\");\n                    (new MutationObserver(() => {\n                        physicalTick();\n                        hiddenDiv = null;\n                    })).observe(hiddenDiv, { attributes: true });\n                    hiddenDiv.setAttribute('i', '1');\n                } :\n                () => { setTimeout(physicalTick, 0); };\nvar asap = function (callback, args) {\n    microtickQueue.push([callback, args]);\n    if (needsNewPhysicalTick) {\n        schedulePhysicalTick();\n        needsNewPhysicalTick = false;\n    }\n};\nvar isOutsideMicroTick = true,\nneedsNewPhysicalTick = true,\nunhandledErrors = [],\nrejectingErrors = [],\ncurrentFulfiller = null, rejectionMapper = mirror;\nvar globalPSD = {\n    id: 'global',\n    global: true,\n    ref: 0,\n    unhandleds: [],\n    onunhandled: globalError,\n    pgp: false,\n    env: {},\n    finalize: function () {\n        this.unhandleds.forEach(uh => {\n            try {\n                globalError(uh[0], uh[1]);\n            }\n            catch (e) { }\n        });\n    }\n};\nvar PSD = globalPSD;\nvar microtickQueue = [];\nvar numScheduledCalls = 0;\nvar tickFinalizers = [];\nfunction DexiePromise(fn) {\n    if (typeof this !== 'object')\n        throw new TypeError('Promises must be constructed via new');\n    this._listeners = [];\n    this.onuncatched = nop;\n    this._lib = false;\n    var psd = (this._PSD = PSD);\n    if (debug) {\n        this._stackHolder = getErrorWithStack();\n        this._prev = null;\n        this._numPrev = 0;\n    }\n    if (typeof fn !== 'function') {\n        if (fn !== INTERNAL)\n            throw new TypeError('Not a function');\n        this._state = arguments[1];\n        this._value = arguments[2];\n        if (this._state === false)\n            handleRejection(this, this._value);\n        return;\n    }\n    this._state = null;\n    this._value = null;\n    ++psd.ref;\n    executePromiseTask(this, fn);\n}\nconst thenProp = {\n    get: function () {\n        var psd = PSD, microTaskId = totalEchoes;\n        function then(onFulfilled, onRejected) {\n            var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n            const cleanup = possibleAwait && !decrementExpectedAwaits();\n            var rv = new DexiePromise((resolve, reject) => {\n                propagateToListener(this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n            });\n            debug && linkToPreviousPromise(rv, this);\n            return rv;\n        }\n        then.prototype = INTERNAL;\n        return then;\n    },\n    set: function (value) {\n        setProp(this, 'then', value && value.prototype === INTERNAL ?\n            thenProp :\n            {\n                get: function () {\n                    return value;\n                },\n                set: thenProp.set\n            });\n    }\n};\nprops(DexiePromise.prototype, {\n    then: thenProp,\n    _then: function (onFulfilled, onRejected) {\n        propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n    },\n    catch: function (onRejected) {\n        if (arguments.length === 1)\n            return this.then(null, onRejected);\n        var type = arguments[0], handler = arguments[1];\n        return typeof type === 'function' ? this.then(null, err =>\n        err instanceof type ? handler(err) : PromiseReject(err))\n            : this.then(null, err =>\n            err && err.name === type ? handler(err) : PromiseReject(err));\n    },\n    finally: function (onFinally) {\n        return this.then(value => {\n            onFinally();\n            return value;\n        }, err => {\n            onFinally();\n            return PromiseReject(err);\n        });\n    },\n    stack: {\n        get: function () {\n            if (this._stack)\n                return this._stack;\n            try {\n                stack_being_generated = true;\n                var stacks = getStack(this, [], MAX_LONG_STACKS);\n                var stack = stacks.join(\"\\nFrom previous: \");\n                if (this._state !== null)\n                    this._stack = stack;\n                return stack;\n            }\n            finally {\n                stack_being_generated = false;\n            }\n        }\n    },\n    timeout: function (ms, msg) {\n        return ms < Infinity ?\n            new DexiePromise((resolve, reject) => {\n                var handle = setTimeout(() => reject(new exceptions.Timeout(msg)), ms);\n                this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n            }) : this;\n    }\n});\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n    setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\nglobalPSD.env = snapShot();\nfunction Listener(onFulfilled, onRejected, resolve, reject, zone) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.resolve = resolve;\n    this.reject = reject;\n    this.psd = zone;\n}\nprops(DexiePromise, {\n    all: function () {\n        var values = getArrayOf.apply(null, arguments)\n            .map(onPossibleParallellAsync);\n        return new DexiePromise(function (resolve, reject) {\n            if (values.length === 0)\n                resolve([]);\n            var remaining = values.length;\n            values.forEach((a, i) => DexiePromise.resolve(a).then(x => {\n                values[i] = x;\n                if (!--remaining)\n                    resolve(values);\n            }, reject));\n        });\n    },\n    resolve: value => {\n        if (value instanceof DexiePromise)\n            return value;\n        if (value && typeof value.then === 'function')\n            return new DexiePromise((resolve, reject) => {\n                value.then(resolve, reject);\n            });\n        var rv = new DexiePromise(INTERNAL, true, value);\n        linkToPreviousPromise(rv, currentFulfiller);\n        return rv;\n    },\n    reject: PromiseReject,\n    race: function () {\n        var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n        return new DexiePromise((resolve, reject) => {\n            values.map(value => DexiePromise.resolve(value).then(resolve, reject));\n        });\n    },\n    PSD: {\n        get: () => PSD,\n        set: value => PSD = value\n    },\n    totalEchoes: { get: () => totalEchoes },\n    newPSD: newScope,\n    usePSD: usePSD,\n    scheduler: {\n        get: () => asap,\n        set: value => { asap = value; }\n    },\n    rejectionMapper: {\n        get: () => rejectionMapper,\n        set: value => { rejectionMapper = value; }\n    },\n    follow: (fn, zoneProps) => {\n        return new DexiePromise((resolve, reject) => {\n            return newScope((resolve, reject) => {\n                var psd = PSD;\n                psd.unhandleds = [];\n                psd.onunhandled = reject;\n                psd.finalize = callBoth(function () {\n                    run_at_end_of_this_or_next_physical_tick(() => {\n                        this.unhandleds.length === 0 ? resolve() : reject(this.unhandleds[0]);\n                    });\n                }, psd.finalize);\n                fn();\n            }, zoneProps, resolve, reject);\n        });\n    }\n});\nif (NativePromise) {\n    if (NativePromise.allSettled)\n        setProp(DexiePromise, \"allSettled\", function () {\n            const possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(resolve => {\n                if (possiblePromises.length === 0)\n                    resolve([]);\n                let remaining = possiblePromises.length;\n                const results = new Array(remaining);\n                possiblePromises.forEach((p, i) => DexiePromise.resolve(p).then(value => results[i] = { status: \"fulfilled\", value }, reason => results[i] = { status: \"rejected\", reason })\n                    .then(() => --remaining || resolve(results)));\n            });\n        });\n    if (NativePromise.any && typeof AggregateError !== 'undefined')\n        setProp(DexiePromise, \"any\", function () {\n            const possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise((resolve, reject) => {\n                if (possiblePromises.length === 0)\n                    reject(new AggregateError([]));\n                let remaining = possiblePromises.length;\n                const failures = new Array(remaining);\n                possiblePromises.forEach((p, i) => DexiePromise.resolve(p).then(value => resolve(value), failure => {\n                    failures[i] = failure;\n                    if (!--remaining)\n                        reject(new AggregateError(failures));\n                }));\n            });\n        });\n}\nfunction executePromiseTask(promise, fn) {\n    try {\n        fn(value => {\n            if (promise._state !== null)\n                return;\n            if (value === promise)\n                throw new TypeError('A promise cannot be resolved with itself.');\n            var shouldExecuteTick = promise._lib && beginMicroTickScope();\n            if (value && typeof value.then === 'function') {\n                executePromiseTask(promise, (resolve, reject) => {\n                    value instanceof DexiePromise ?\n                        value._then(resolve, reject) :\n                        value.then(resolve, reject);\n                });\n            }\n            else {\n                promise._state = true;\n                promise._value = value;\n                propagateAllListeners(promise);\n            }\n            if (shouldExecuteTick)\n                endMicroTickScope();\n        }, handleRejection.bind(null, promise));\n    }\n    catch (ex) {\n        handleRejection(promise, ex);\n    }\n}\nfunction handleRejection(promise, reason) {\n    rejectingErrors.push(reason);\n    if (promise._state !== null)\n        return;\n    var shouldExecuteTick = promise._lib && beginMicroTickScope();\n    reason = rejectionMapper(reason);\n    promise._state = false;\n    promise._value = reason;\n    debug && reason !== null && typeof reason === 'object' && !reason._promise && tryCatch(() => {\n        var origProp = getPropertyDescriptor(reason, \"stack\");\n        reason._promise = promise;\n        setProp(reason, \"stack\", {\n            get: () => stack_being_generated ?\n                origProp && (origProp.get ?\n                    origProp.get.apply(reason) :\n                    origProp.value) :\n                promise.stack\n        });\n    });\n    addPossiblyUnhandledError(promise);\n    propagateAllListeners(promise);\n    if (shouldExecuteTick)\n        endMicroTickScope();\n}\nfunction propagateAllListeners(promise) {\n    var listeners = promise._listeners;\n    promise._listeners = [];\n    for (var i = 0, len = listeners.length; i < len; ++i) {\n        propagateToListener(promise, listeners[i]);\n    }\n    var psd = promise._PSD;\n    --psd.ref || psd.finalize();\n    if (numScheduledCalls === 0) {\n        ++numScheduledCalls;\n        asap(() => {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n        }, []);\n    }\n}\nfunction propagateToListener(promise, listener) {\n    if (promise._state === null) {\n        promise._listeners.push(listener);\n        return;\n    }\n    var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n    if (cb === null) {\n        return (promise._state ? listener.resolve : listener.reject)(promise._value);\n    }\n    ++listener.psd.ref;\n    ++numScheduledCalls;\n    asap(callListener, [cb, promise, listener]);\n}\nfunction callListener(cb, promise, listener) {\n    try {\n        currentFulfiller = promise;\n        var ret, value = promise._value;\n        if (promise._state) {\n            ret = cb(value);\n        }\n        else {\n            if (rejectingErrors.length)\n                rejectingErrors = [];\n            ret = cb(value);\n            if (rejectingErrors.indexOf(value) === -1)\n                markErrorAsHandled(promise);\n        }\n        listener.resolve(ret);\n    }\n    catch (e) {\n        listener.reject(e);\n    }\n    finally {\n        currentFulfiller = null;\n        if (--numScheduledCalls === 0)\n            finalizePhysicalTick();\n        --listener.psd.ref || listener.psd.finalize();\n    }\n}\nfunction getStack(promise, stacks, limit) {\n    if (stacks.length === limit)\n        return stacks;\n    var stack = \"\";\n    if (promise._state === false) {\n        var failure = promise._value, errorName, message;\n        if (failure != null) {\n            errorName = failure.name || \"Error\";\n            message = failure.message || failure;\n            stack = prettyStack(failure, 0);\n        }\n        else {\n            errorName = failure;\n            message = \"\";\n        }\n        stacks.push(errorName + (message ? \": \" + message : \"\") + stack);\n    }\n    if (debug) {\n        stack = prettyStack(promise._stackHolder, 2);\n        if (stack && stacks.indexOf(stack) === -1)\n            stacks.push(stack);\n        if (promise._prev)\n            getStack(promise._prev, stacks, limit);\n    }\n    return stacks;\n}\nfunction linkToPreviousPromise(promise, prev) {\n    var numPrev = prev ? prev._numPrev + 1 : 0;\n    if (numPrev < LONG_STACKS_CLIP_LIMIT) {\n        promise._prev = prev;\n        promise._numPrev = numPrev;\n    }\n}\nfunction physicalTick() {\n    beginMicroTickScope() && endMicroTickScope();\n}\nfunction beginMicroTickScope() {\n    var wasRootExec = isOutsideMicroTick;\n    isOutsideMicroTick = false;\n    needsNewPhysicalTick = false;\n    return wasRootExec;\n}\nfunction endMicroTickScope() {\n    var callbacks, i, l;\n    do {\n        while (microtickQueue.length > 0) {\n            callbacks = microtickQueue;\n            microtickQueue = [];\n            l = callbacks.length;\n            for (i = 0; i < l; ++i) {\n                var item = callbacks[i];\n                item[0].apply(null, item[1]);\n            }\n        }\n    } while (microtickQueue.length > 0);\n    isOutsideMicroTick = true;\n    needsNewPhysicalTick = true;\n}\nfunction finalizePhysicalTick() {\n    var unhandledErrs = unhandledErrors;\n    unhandledErrors = [];\n    unhandledErrs.forEach(p => {\n        p._PSD.onunhandled.call(null, p._value, p);\n    });\n    var finalizers = tickFinalizers.slice(0);\n    var i = finalizers.length;\n    while (i)\n        finalizers[--i]();\n}\nfunction run_at_end_of_this_or_next_physical_tick(fn) {\n    function finalizer() {\n        fn();\n        tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n    }\n    tickFinalizers.push(finalizer);\n    ++numScheduledCalls;\n    asap(() => {\n        if (--numScheduledCalls === 0)\n            finalizePhysicalTick();\n    }, []);\n}\nfunction addPossiblyUnhandledError(promise) {\n    if (!unhandledErrors.some(p => p._value === promise._value))\n        unhandledErrors.push(promise);\n}\nfunction markErrorAsHandled(promise) {\n    var i = unhandledErrors.length;\n    while (i)\n        if (unhandledErrors[--i]._value === promise._value) {\n            unhandledErrors.splice(i, 1);\n            return;\n        }\n}\nfunction PromiseReject(reason) {\n    return new DexiePromise(INTERNAL, false, reason);\n}\nfunction wrap(fn, errorCatcher) {\n    var psd = PSD;\n    return function () {\n        var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn.apply(this, arguments);\n        }\n        catch (e) {\n            errorCatcher && errorCatcher(e);\n        }\n        finally {\n            switchToZone(outerScope, false);\n            if (wasRootExec)\n                endMicroTickScope();\n        }\n    };\n}\nconst task = { awaits: 0, echoes: 0, id: 0 };\nvar taskCounter = 0;\nvar zoneStack = [];\nvar zoneEchoes = 0;\nvar totalEchoes = 0;\nvar zone_id_counter = 0;\nfunction newScope(fn, props, a1, a2) {\n    var parent = PSD, psd = Object.create(parent);\n    psd.parent = parent;\n    psd.ref = 0;\n    psd.global = false;\n    psd.id = ++zone_id_counter;\n    var globalEnv = globalPSD.env;\n    psd.env = patchGlobalPromise ? {\n        Promise: DexiePromise,\n        PromiseProp: { value: DexiePromise, configurable: true, writable: true },\n        all: DexiePromise.all,\n        race: DexiePromise.race,\n        allSettled: DexiePromise.allSettled,\n        any: DexiePromise.any,\n        resolve: DexiePromise.resolve,\n        reject: DexiePromise.reject,\n        nthen: getPatchedPromiseThen(globalEnv.nthen, psd),\n        gthen: getPatchedPromiseThen(globalEnv.gthen, psd)\n    } : {};\n    if (props)\n        extend(psd, props);\n    ++parent.ref;\n    psd.finalize = function () {\n        --this.parent.ref || this.parent.finalize();\n    };\n    var rv = usePSD(psd, fn, a1, a2);\n    if (psd.ref === 0)\n        psd.finalize();\n    return rv;\n}\nfunction incrementExpectedAwaits() {\n    if (!task.id)\n        task.id = ++taskCounter;\n    ++task.awaits;\n    task.echoes += ZONE_ECHO_LIMIT;\n    return task.id;\n}\nfunction decrementExpectedAwaits() {\n    if (!task.awaits)\n        return false;\n    if (--task.awaits === 0)\n        task.id = 0;\n    task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n    return true;\n}\nif (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n    incrementExpectedAwaits = decrementExpectedAwaits = nop;\n}\nfunction onPossibleParallellAsync(possiblePromise) {\n    if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n        incrementExpectedAwaits();\n        return possiblePromise.then(x => {\n            decrementExpectedAwaits();\n            return x;\n        }, e => {\n            decrementExpectedAwaits();\n            return rejection(e);\n        });\n    }\n    return possiblePromise;\n}\nfunction zoneEnterEcho(targetZone) {\n    ++totalEchoes;\n    if (!task.echoes || --task.echoes === 0) {\n        task.echoes = task.id = 0;\n    }\n    zoneStack.push(PSD);\n    switchToZone(targetZone, true);\n}\nfunction zoneLeaveEcho() {\n    var zone = zoneStack[zoneStack.length - 1];\n    zoneStack.pop();\n    switchToZone(zone, false);\n}\nfunction switchToZone(targetZone, bEnteringZone) {\n    var currentZone = PSD;\n    if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n        enqueueNativeMicroTask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n    }\n    if (targetZone === PSD)\n        return;\n    PSD = targetZone;\n    if (currentZone === globalPSD)\n        globalPSD.env = snapShot();\n    if (patchGlobalPromise) {\n        var GlobalPromise = globalPSD.env.Promise;\n        var targetEnv = targetZone.env;\n        nativePromiseProto.then = targetEnv.nthen;\n        GlobalPromise.prototype.then = targetEnv.gthen;\n        if (currentZone.global || targetZone.global) {\n            Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n            GlobalPromise.all = targetEnv.all;\n            GlobalPromise.race = targetEnv.race;\n            GlobalPromise.resolve = targetEnv.resolve;\n            GlobalPromise.reject = targetEnv.reject;\n            if (targetEnv.allSettled)\n                GlobalPromise.allSettled = targetEnv.allSettled;\n            if (targetEnv.any)\n                GlobalPromise.any = targetEnv.any;\n        }\n    }\n}\nfunction snapShot() {\n    var GlobalPromise = _global.Promise;\n    return patchGlobalPromise ? {\n        Promise: GlobalPromise,\n        PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n        all: GlobalPromise.all,\n        race: GlobalPromise.race,\n        allSettled: GlobalPromise.allSettled,\n        any: GlobalPromise.any,\n        resolve: GlobalPromise.resolve,\n        reject: GlobalPromise.reject,\n        nthen: nativePromiseProto.then,\n        gthen: GlobalPromise.prototype.then\n    } : {};\n}\nfunction usePSD(psd, fn, a1, a2, a3) {\n    var outerScope = PSD;\n    try {\n        switchToZone(psd, true);\n        return fn(a1, a2, a3);\n    }\n    finally {\n        switchToZone(outerScope, false);\n    }\n}\nfunction enqueueNativeMicroTask(job) {\n    nativePromiseThen.call(resolvedNativePromise, job);\n}\nfunction nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n    return typeof fn !== 'function' ? fn : function () {\n        var outerZone = PSD;\n        if (possibleAwait)\n            incrementExpectedAwaits();\n        switchToZone(zone, true);\n        try {\n            return fn.apply(this, arguments);\n        }\n        finally {\n            switchToZone(outerZone, false);\n            if (cleanup)\n                enqueueNativeMicroTask(decrementExpectedAwaits);\n        }\n    };\n}\nfunction getPatchedPromiseThen(origThen, zone) {\n    return function (onResolved, onRejected) {\n        return origThen.call(this, nativeAwaitCompatibleWrap(onResolved, zone), nativeAwaitCompatibleWrap(onRejected, zone));\n    };\n}\nconst UNHANDLEDREJECTION = \"unhandledrejection\";\nfunction globalError(err, promise) {\n    var rv;\n    try {\n        rv = promise.onuncatched(err);\n    }\n    catch (e) { }\n    if (rv !== false)\n        try {\n            var event, eventData = { promise: promise, reason: err };\n            if (_global.document && document.createEvent) {\n                event = document.createEvent('Event');\n                event.initEvent(UNHANDLEDREJECTION, true, true);\n                extend(event, eventData);\n            }\n            else if (_global.CustomEvent) {\n                event = new CustomEvent(UNHANDLEDREJECTION, { detail: eventData });\n                extend(event, eventData);\n            }\n            if (event && _global.dispatchEvent) {\n                dispatchEvent(event);\n                if (!_global.PromiseRejectionEvent && _global.onunhandledrejection)\n                    try {\n                        _global.onunhandledrejection(event);\n                    }\n                    catch (_) { }\n            }\n            if (debug && event && !event.defaultPrevented) {\n                console.warn(`Unhandled rejection: ${err.stack || err}`);\n            }\n        }\n        catch (e) { }\n}\nvar rejection = DexiePromise.reject;\n\nfunction tempTransaction(db, mode, storeNames, fn) {\n    if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {\n        if (db._state.openComplete) {\n            return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));\n        }\n        if (!db._state.isBeingOpened) {\n            if (!db._options.autoOpen)\n                return rejection(new exceptions.DatabaseClosed());\n            db.open().catch(nop);\n        }\n        return db._state.dbReadyPromise.then(() => tempTransaction(db, mode, storeNames, fn));\n    }\n    else {\n        var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n        try {\n            trans.create();\n        }\n        catch (ex) {\n            return rejection(ex);\n        }\n        return trans._promise(mode, (resolve, reject) => {\n            return newScope(() => {\n                PSD.trans = trans;\n                return fn(resolve, reject, trans);\n            });\n        }).then(result => {\n            return trans._completion.then(() => result);\n        });\n    }\n}\n\nconst DEXIE_VERSION = '3.2.0';\nconst maxString = String.fromCharCode(65535);\nconst minKey = -Infinity;\nconst INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\nconst STRING_EXPECTED = \"String expected.\";\nconst connections = [];\nconst isIEOrEdge = typeof navigator !== 'undefined' && /(MSIE|Trident|Edge)/.test(navigator.userAgent);\nconst hasIEDeleteObjectStoreBug = isIEOrEdge;\nconst hangsOnDeleteLargeKeyRange = isIEOrEdge;\nconst dexieStackFrameFilter = frame => !/(dexie\\.js|dexie\\.min\\.js)/.test(frame);\nconst DBNAMES_DB = '__dbnames';\nconst READONLY = 'readonly';\nconst READWRITE = 'readwrite';\n\nfunction combine(filter1, filter2) {\n    return filter1 ?\n        filter2 ?\n            function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n            filter1 :\n        filter2;\n}\n\nconst AnyRange = {\n    type: 3 ,\n    lower: -Infinity,\n    lowerOpen: false,\n    upper: [[]],\n    upperOpen: false\n};\n\nfunction workaroundForUndefinedPrimKey(keyPath) {\n    return typeof keyPath === \"string\" && !/\\./.test(keyPath)\n        ? (obj) => {\n            if (obj[keyPath] === undefined && (keyPath in obj)) {\n                obj = deepClone(obj);\n                delete obj[keyPath];\n            }\n            return obj;\n        }\n        : (obj) => obj;\n}\n\nclass Table {\n    _trans(mode, fn, writeLocked) {\n        const trans = this._tx || PSD.trans;\n        const tableName = this.name;\n        function checkTableInTransaction(resolve, reject, trans) {\n            if (!trans.schema[tableName])\n                throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n            return fn(trans.idbtrans, trans);\n        }\n        const wasRootExec = beginMicroTickScope();\n        try {\n            return trans && trans.db === this.db ?\n                trans === PSD.trans ?\n                    trans._promise(mode, checkTableInTransaction, writeLocked) :\n                    newScope(() => trans._promise(mode, checkTableInTransaction, writeLocked), { trans: trans, transless: PSD.transless || PSD }) :\n                tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n        }\n        finally {\n            if (wasRootExec)\n                endMicroTickScope();\n        }\n    }\n    get(keyOrCrit, cb) {\n        if (keyOrCrit && keyOrCrit.constructor === Object)\n            return this.where(keyOrCrit).first(cb);\n        return this._trans('readonly', (trans) => {\n            return this.core.get({ trans, key: keyOrCrit })\n                .then(res => this.hook.reading.fire(res));\n        }).then(cb);\n    }\n    where(indexOrCrit) {\n        if (typeof indexOrCrit === 'string')\n            return new this.db.WhereClause(this, indexOrCrit);\n        if (isArray(indexOrCrit))\n            return new this.db.WhereClause(this, `[${indexOrCrit.join('+')}]`);\n        const keyPaths = keys(indexOrCrit);\n        if (keyPaths.length === 1)\n            return this\n                .where(keyPaths[0])\n                .equals(indexOrCrit[keyPaths[0]]);\n        const compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(ix => ix.compound &&\n            keyPaths.every(keyPath => ix.keyPath.indexOf(keyPath) >= 0) &&\n            ix.keyPath.every(keyPath => keyPaths.indexOf(keyPath) >= 0))[0];\n        if (compoundIndex && this.db._maxKey !== maxString)\n            return this\n                .where(compoundIndex.name)\n                .equals(compoundIndex.keyPath.map(kp => indexOrCrit[kp]));\n        if (!compoundIndex && debug)\n            console.warn(`The query ${JSON.stringify(indexOrCrit)} on ${this.name} would benefit of a ` +\n                `compound index [${keyPaths.join('+')}]`);\n        const { idxByName } = this.schema;\n        const idb = this.db._deps.indexedDB;\n        function equals(a, b) {\n            try {\n                return idb.cmp(a, b) === 0;\n            }\n            catch (e) {\n                return false;\n            }\n        }\n        const [idx, filterFunction] = keyPaths.reduce(([prevIndex, prevFilterFn], keyPath) => {\n            const index = idxByName[keyPath];\n            const value = indexOrCrit[keyPath];\n            return [\n                prevIndex || index,\n                prevIndex || !index ?\n                    combine(prevFilterFn, index && index.multi ?\n                        x => {\n                            const prop = getByKeyPath(x, keyPath);\n                            return isArray(prop) && prop.some(item => equals(value, item));\n                        } : x => equals(value, getByKeyPath(x, keyPath)))\n                    : prevFilterFn\n            ];\n        }, [null, null]);\n        return idx ?\n            this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                .filter(filterFunction) :\n            compoundIndex ?\n                this.filter(filterFunction) :\n                this.where(keyPaths).equals('');\n    }\n    filter(filterFunction) {\n        return this.toCollection().and(filterFunction);\n    }\n    count(thenShortcut) {\n        return this.toCollection().count(thenShortcut);\n    }\n    offset(offset) {\n        return this.toCollection().offset(offset);\n    }\n    limit(numRows) {\n        return this.toCollection().limit(numRows);\n    }\n    each(callback) {\n        return this.toCollection().each(callback);\n    }\n    toArray(thenShortcut) {\n        return this.toCollection().toArray(thenShortcut);\n    }\n    toCollection() {\n        return new this.db.Collection(new this.db.WhereClause(this));\n    }\n    orderBy(index) {\n        return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?\n            `[${index.join('+')}]` :\n            index));\n    }\n    reverse() {\n        return this.toCollection().reverse();\n    }\n    mapToClass(constructor) {\n        this.schema.mappedClass = constructor;\n        const readHook = obj => {\n            if (!obj)\n                return obj;\n            const res = Object.create(constructor.prototype);\n            for (var m in obj)\n                if (hasOwn(obj, m))\n                    try {\n                        res[m] = obj[m];\n                    }\n                    catch (_) { }\n            return res;\n        };\n        if (this.schema.readHook) {\n            this.hook.reading.unsubscribe(this.schema.readHook);\n        }\n        this.schema.readHook = readHook;\n        this.hook(\"reading\", readHook);\n        return constructor;\n    }\n    defineClass() {\n        function Class(content) {\n            extend(this, content);\n        }\n        return this.mapToClass(Class);\n    }\n    add(obj, key) {\n        const { auto, keyPath } = this.schema.primKey;\n        let objToAdd = obj;\n        if (keyPath && auto) {\n            objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n        }\n        return this._trans('readwrite', trans => {\n            return this.core.mutate({ trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });\n        }).then(res => res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult)\n            .then(lastResult => {\n            if (keyPath) {\n                try {\n                    setByKeyPath(obj, keyPath, lastResult);\n                }\n                catch (_) { }\n            }\n            return lastResult;\n        });\n    }\n    update(keyOrObject, modifications) {\n        if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n            const key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n            if (key === undefined)\n                return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n            try {\n                if (typeof modifications !== \"function\") {\n                    keys(modifications).forEach(keyPath => {\n                        setByKeyPath(keyOrObject, keyPath, modifications[keyPath]);\n                    });\n                }\n                else {\n                    modifications(keyOrObject, { value: keyOrObject, primKey: key });\n                }\n            }\n            catch (_a) {\n            }\n            return this.where(\":id\").equals(key).modify(modifications);\n        }\n        else {\n            return this.where(\":id\").equals(keyOrObject).modify(modifications);\n        }\n    }\n    put(obj, key) {\n        const { auto, keyPath } = this.schema.primKey;\n        let objToAdd = obj;\n        if (keyPath && auto) {\n            objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n        }\n        return this._trans('readwrite', trans => this.core.mutate({ trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }))\n            .then(res => res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult)\n            .then(lastResult => {\n            if (keyPath) {\n                try {\n                    setByKeyPath(obj, keyPath, lastResult);\n                }\n                catch (_) { }\n            }\n            return lastResult;\n        });\n    }\n    delete(key) {\n        return this._trans('readwrite', trans => this.core.mutate({ trans, type: 'delete', keys: [key] }))\n            .then(res => res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined);\n    }\n    clear() {\n        return this._trans('readwrite', trans => this.core.mutate({ trans, type: 'deleteRange', range: AnyRange }))\n            .then(res => res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined);\n    }\n    bulkGet(keys) {\n        return this._trans('readonly', trans => {\n            return this.core.getMany({\n                keys,\n                trans\n            }).then(result => result.map(res => this.hook.reading.fire(res)));\n        });\n    }\n    bulkAdd(objects, keysOrOptions, options) {\n        const keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n        options = options || (keys ? undefined : keysOrOptions);\n        const wantResults = options ? options.allKeys : undefined;\n        return this._trans('readwrite', trans => {\n            const { auto, keyPath } = this.schema.primKey;\n            if (keyPath && keys)\n                throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n            if (keys && keys.length !== objects.length)\n                throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n            const numObjects = objects.length;\n            let objectsToAdd = keyPath && auto ?\n                objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                objects;\n            return this.core.mutate({ trans, type: 'add', keys: keys, values: objectsToAdd, wantResults })\n                .then(({ numFailures, results, lastResult, failures }) => {\n                const result = wantResults ? results : lastResult;\n                if (numFailures === 0)\n                    return result;\n                throw new BulkError(`${this.name}.bulkAdd(): ${numFailures} of ${numObjects} operations failed`, failures);\n            });\n        });\n    }\n    bulkPut(objects, keysOrOptions, options) {\n        const keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n        options = options || (keys ? undefined : keysOrOptions);\n        const wantResults = options ? options.allKeys : undefined;\n        return this._trans('readwrite', trans => {\n            const { auto, keyPath } = this.schema.primKey;\n            if (keyPath && keys)\n                throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n            if (keys && keys.length !== objects.length)\n                throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n            const numObjects = objects.length;\n            let objectsToPut = keyPath && auto ?\n                objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                objects;\n            return this.core.mutate({ trans, type: 'put', keys: keys, values: objectsToPut, wantResults })\n                .then(({ numFailures, results, lastResult, failures }) => {\n                const result = wantResults ? results : lastResult;\n                if (numFailures === 0)\n                    return result;\n                throw new BulkError(`${this.name}.bulkPut(): ${numFailures} of ${numObjects} operations failed`, failures);\n            });\n        });\n    }\n    bulkDelete(keys) {\n        const numKeys = keys.length;\n        return this._trans('readwrite', trans => {\n            return this.core.mutate({ trans, type: 'delete', keys: keys });\n        }).then(({ numFailures, lastResult, failures }) => {\n            if (numFailures === 0)\n                return lastResult;\n            throw new BulkError(`${this.name}.bulkDelete(): ${numFailures} of ${numKeys} operations failed`, failures);\n        });\n    }\n}\n\nfunction Events(ctx) {\n    var evs = {};\n    var rv = function (eventName, subscriber) {\n        if (subscriber) {\n            var i = arguments.length, args = new Array(i - 1);\n            while (--i)\n                args[i - 1] = arguments[i];\n            evs[eventName].subscribe.apply(null, args);\n            return ctx;\n        }\n        else if (typeof (eventName) === 'string') {\n            return evs[eventName];\n        }\n    };\n    rv.addEventType = add;\n    for (var i = 1, l = arguments.length; i < l; ++i) {\n        add(arguments[i]);\n    }\n    return rv;\n    function add(eventName, chainFunction, defaultFunction) {\n        if (typeof eventName === 'object')\n            return addConfiguredEvents(eventName);\n        if (!chainFunction)\n            chainFunction = reverseStoppableEventChain;\n        if (!defaultFunction)\n            defaultFunction = nop;\n        var context = {\n            subscribers: [],\n            fire: defaultFunction,\n            subscribe: function (cb) {\n                if (context.subscribers.indexOf(cb) === -1) {\n                    context.subscribers.push(cb);\n                    context.fire = chainFunction(context.fire, cb);\n                }\n            },\n            unsubscribe: function (cb) {\n                context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n            }\n        };\n        evs[eventName] = rv[eventName] = context;\n        return context;\n    }\n    function addConfiguredEvents(cfg) {\n        keys(cfg).forEach(function (eventName) {\n            var args = cfg[eventName];\n            if (isArray(args)) {\n                add(eventName, cfg[eventName][0], cfg[eventName][1]);\n            }\n            else if (args === 'asap') {\n                var context = add(eventName, mirror, function fire() {\n                    var i = arguments.length, args = new Array(i);\n                    while (i--)\n                        args[i] = arguments[i];\n                    context.subscribers.forEach(function (fn) {\n                        asap$1(function fireEvent() {\n                            fn.apply(null, args);\n                        });\n                    });\n                });\n            }\n            else\n                throw new exceptions.InvalidArgument(\"Invalid event config\");\n        });\n    }\n}\n\nfunction makeClassConstructor(prototype, constructor) {\n    derive(constructor).from({ prototype });\n    return constructor;\n}\n\nfunction createTableConstructor(db) {\n    return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {\n        this.db = db;\n        this._tx = trans;\n        this.name = name;\n        this.schema = tableSchema;\n        this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n            \"creating\": [hookCreatingChain, nop],\n            \"reading\": [pureFunctionChain, mirror],\n            \"updating\": [hookUpdatingChain, nop],\n            \"deleting\": [hookDeletingChain, nop]\n        });\n    });\n}\n\nfunction isPlainKeyRange(ctx, ignoreLimitFilter) {\n    return !(ctx.filter || ctx.algorithm || ctx.or) &&\n        (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n}\nfunction addFilter(ctx, fn) {\n    ctx.filter = combine(ctx.filter, fn);\n}\nfunction addReplayFilter(ctx, factory, isLimitFilter) {\n    var curr = ctx.replayFilter;\n    ctx.replayFilter = curr ? () => combine(curr(), factory()) : factory;\n    ctx.justLimit = isLimitFilter && !curr;\n}\nfunction addMatchFilter(ctx, fn) {\n    ctx.isMatch = combine(ctx.isMatch, fn);\n}\nfunction getIndexOrStore(ctx, coreSchema) {\n    if (ctx.isPrimKey)\n        return coreSchema.primaryKey;\n    const index = coreSchema.getIndexByKeyPath(ctx.index);\n    if (!index)\n        throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n    return index;\n}\nfunction openCursor(ctx, coreTable, trans) {\n    const index = getIndexOrStore(ctx, coreTable.schema);\n    return coreTable.openCursor({\n        trans,\n        values: !ctx.keysOnly,\n        reverse: ctx.dir === 'prev',\n        unique: !!ctx.unique,\n        query: {\n            index,\n            range: ctx.range\n        }\n    });\n}\nfunction iter(ctx, fn, coreTrans, coreTable) {\n    const filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n    if (!ctx.or) {\n        return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n    }\n    else {\n        const set = {};\n        const union = (item, cursor, advance) => {\n            if (!filter || filter(cursor, advance, result => cursor.stop(result), err => cursor.fail(err))) {\n                var primaryKey = cursor.primaryKey;\n                var key = '' + primaryKey;\n                if (key === '[object ArrayBuffer]')\n                    key = '' + new Uint8Array(primaryKey);\n                if (!hasOwn(set, key)) {\n                    set[key] = true;\n                    fn(item, cursor, advance);\n                }\n            }\n        };\n        return Promise.all([\n            ctx.or._iterate(union, coreTrans),\n            iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)\n        ]);\n    }\n}\nfunction iterate(cursorPromise, filter, fn, valueMapper) {\n    var mappedFn = valueMapper ? (x, c, a) => fn(valueMapper(x), c, a) : fn;\n    var wrappedFn = wrap(mappedFn);\n    return cursorPromise.then(cursor => {\n        if (cursor) {\n            return cursor.start(() => {\n                var c = () => cursor.continue();\n                if (!filter || filter(cursor, advancer => c = advancer, val => { cursor.stop(val); c = nop; }, e => { cursor.fail(e); c = nop; }))\n                    wrappedFn(cursor.value, cursor, advancer => c = advancer);\n                c();\n            });\n        }\n    });\n}\n\nfunction cmp(a, b) {\n    try {\n        const ta = type(a);\n        const tb = type(b);\n        if (ta !== tb) {\n            if (ta === 'Array')\n                return 1;\n            if (tb === 'Array')\n                return -1;\n            if (ta === 'binary')\n                return 1;\n            if (tb === 'binary')\n                return -1;\n            if (ta === 'string')\n                return 1;\n            if (tb === 'string')\n                return -1;\n            if (ta === 'Date')\n                return 1;\n            if (tb !== 'Date')\n                return NaN;\n            return -1;\n        }\n        switch (ta) {\n            case 'number':\n            case 'Date':\n            case 'string':\n                return a > b ? 1 : a < b ? -1 : 0;\n            case 'binary': {\n                return compareUint8Arrays(getUint8Array(a), getUint8Array(b));\n            }\n            case 'Array':\n                return compareArrays(a, b);\n        }\n    }\n    catch (_a) { }\n    return NaN;\n}\nfunction compareArrays(a, b) {\n    const al = a.length;\n    const bl = b.length;\n    const l = al < bl ? al : bl;\n    for (let i = 0; i < l; ++i) {\n        const res = cmp(a[i], b[i]);\n        if (res !== 0)\n            return res;\n    }\n    return al === bl ? 0 : al < bl ? -1 : 1;\n}\nfunction compareUint8Arrays(a, b) {\n    const al = a.length;\n    const bl = b.length;\n    const l = al < bl ? al : bl;\n    for (let i = 0; i < l; ++i) {\n        if (a[i] !== b[i])\n            return a[i] < b[i] ? -1 : 1;\n    }\n    return al === bl ? 0 : al < bl ? -1 : 1;\n}\nfunction type(x) {\n    const t = typeof x;\n    if (t !== 'object')\n        return t;\n    if (ArrayBuffer.isView(x))\n        return 'binary';\n    const tsTag = toStringTag(x);\n    return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;\n}\nfunction getUint8Array(a) {\n    if (a instanceof Uint8Array)\n        return a;\n    if (ArrayBuffer.isView(a))\n        return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n    return new Uint8Array(a);\n}\n\nclass Collection {\n    _read(fn, cb) {\n        var ctx = this._ctx;\n        return ctx.error ?\n            ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n            ctx.table._trans('readonly', fn).then(cb);\n    }\n    _write(fn) {\n        var ctx = this._ctx;\n        return ctx.error ?\n            ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n            ctx.table._trans('readwrite', fn, \"locked\");\n    }\n    _addAlgorithm(fn) {\n        var ctx = this._ctx;\n        ctx.algorithm = combine(ctx.algorithm, fn);\n    }\n    _iterate(fn, coreTrans) {\n        return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n    }\n    clone(props) {\n        var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n        if (props)\n            extend(ctx, props);\n        rv._ctx = ctx;\n        return rv;\n    }\n    raw() {\n        this._ctx.valueMapper = null;\n        return this;\n    }\n    each(fn) {\n        var ctx = this._ctx;\n        return this._read(trans => iter(ctx, fn, trans, ctx.table.core));\n    }\n    count(cb) {\n        return this._read(trans => {\n            const ctx = this._ctx;\n            const coreTable = ctx.table.core;\n            if (isPlainKeyRange(ctx, true)) {\n                return coreTable.count({\n                    trans,\n                    query: {\n                        index: getIndexOrStore(ctx, coreTable.schema),\n                        range: ctx.range\n                    }\n                }).then(count => Math.min(count, ctx.limit));\n            }\n            else {\n                var count = 0;\n                return iter(ctx, () => { ++count; return false; }, trans, coreTable)\n                    .then(() => count);\n            }\n        }).then(cb);\n    }\n    sortBy(keyPath, cb) {\n        const parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n        function getval(obj, i) {\n            if (i)\n                return getval(obj[parts[i]], i - 1);\n            return obj[lastPart];\n        }\n        var order = this._ctx.dir === \"next\" ? 1 : -1;\n        function sorter(a, b) {\n            var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n            return aVal < bVal ? -order : aVal > bVal ? order : 0;\n        }\n        return this.toArray(function (a) {\n            return a.sort(sorter);\n        }).then(cb);\n    }\n    toArray(cb) {\n        return this._read(trans => {\n            var ctx = this._ctx;\n            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                const { valueMapper } = ctx;\n                const index = getIndexOrStore(ctx, ctx.table.core.schema);\n                return ctx.table.core.query({\n                    trans,\n                    limit: ctx.limit,\n                    values: true,\n                    query: {\n                        index,\n                        range: ctx.range\n                    }\n                }).then(({ result }) => valueMapper ? result.map(valueMapper) : result);\n            }\n            else {\n                const a = [];\n                return iter(ctx, item => a.push(item), trans, ctx.table.core).then(() => a);\n            }\n        }, cb);\n    }\n    offset(offset) {\n        var ctx = this._ctx;\n        if (offset <= 0)\n            return this;\n        ctx.offset += offset;\n        if (isPlainKeyRange(ctx)) {\n            addReplayFilter(ctx, () => {\n                var offsetLeft = offset;\n                return (cursor, advance) => {\n                    if (offsetLeft === 0)\n                        return true;\n                    if (offsetLeft === 1) {\n                        --offsetLeft;\n                        return false;\n                    }\n                    advance(() => {\n                        cursor.advance(offsetLeft);\n                        offsetLeft = 0;\n                    });\n                    return false;\n                };\n            });\n        }\n        else {\n            addReplayFilter(ctx, () => {\n                var offsetLeft = offset;\n                return () => (--offsetLeft < 0);\n            });\n        }\n        return this;\n    }\n    limit(numRows) {\n        this._ctx.limit = Math.min(this._ctx.limit, numRows);\n        addReplayFilter(this._ctx, () => {\n            var rowsLeft = numRows;\n            return function (cursor, advance, resolve) {\n                if (--rowsLeft <= 0)\n                    advance(resolve);\n                return rowsLeft >= 0;\n            };\n        }, true);\n        return this;\n    }\n    until(filterFunction, bIncludeStopEntry) {\n        addFilter(this._ctx, function (cursor, advance, resolve) {\n            if (filterFunction(cursor.value)) {\n                advance(resolve);\n                return bIncludeStopEntry;\n            }\n            else {\n                return true;\n            }\n        });\n        return this;\n    }\n    first(cb) {\n        return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n    }\n    last(cb) {\n        return this.reverse().first(cb);\n    }\n    filter(filterFunction) {\n        addFilter(this._ctx, function (cursor) {\n            return filterFunction(cursor.value);\n        });\n        addMatchFilter(this._ctx, filterFunction);\n        return this;\n    }\n    and(filter) {\n        return this.filter(filter);\n    }\n    or(indexName) {\n        return new this.db.WhereClause(this._ctx.table, indexName, this);\n    }\n    reverse() {\n        this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n        if (this._ondirectionchange)\n            this._ondirectionchange(this._ctx.dir);\n        return this;\n    }\n    desc() {\n        return this.reverse();\n    }\n    eachKey(cb) {\n        var ctx = this._ctx;\n        ctx.keysOnly = !ctx.isMatch;\n        return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n    }\n    eachUniqueKey(cb) {\n        this._ctx.unique = \"unique\";\n        return this.eachKey(cb);\n    }\n    eachPrimaryKey(cb) {\n        var ctx = this._ctx;\n        ctx.keysOnly = !ctx.isMatch;\n        return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n    }\n    keys(cb) {\n        var ctx = this._ctx;\n        ctx.keysOnly = !ctx.isMatch;\n        var a = [];\n        return this.each(function (item, cursor) {\n            a.push(cursor.key);\n        }).then(function () {\n            return a;\n        }).then(cb);\n    }\n    primaryKeys(cb) {\n        var ctx = this._ctx;\n        if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n            return this._read(trans => {\n                var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                return ctx.table.core.query({\n                    trans,\n                    values: false,\n                    limit: ctx.limit,\n                    query: {\n                        index,\n                        range: ctx.range\n                    }\n                });\n            }).then(({ result }) => result).then(cb);\n        }\n        ctx.keysOnly = !ctx.isMatch;\n        var a = [];\n        return this.each(function (item, cursor) {\n            a.push(cursor.primaryKey);\n        }).then(function () {\n            return a;\n        }).then(cb);\n    }\n    uniqueKeys(cb) {\n        this._ctx.unique = \"unique\";\n        return this.keys(cb);\n    }\n    firstKey(cb) {\n        return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n    }\n    lastKey(cb) {\n        return this.reverse().firstKey(cb);\n    }\n    distinct() {\n        var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n        if (!idx || !idx.multi)\n            return this;\n        var set = {};\n        addFilter(this._ctx, function (cursor) {\n            var strKey = cursor.primaryKey.toString();\n            var found = hasOwn(set, strKey);\n            set[strKey] = true;\n            return !found;\n        });\n        return this;\n    }\n    modify(changes) {\n        var ctx = this._ctx;\n        return this._write(trans => {\n            var modifyer;\n            if (typeof changes === 'function') {\n                modifyer = changes;\n            }\n            else {\n                var keyPaths = keys(changes);\n                var numKeys = keyPaths.length;\n                modifyer = function (item) {\n                    var anythingModified = false;\n                    for (var i = 0; i < numKeys; ++i) {\n                        var keyPath = keyPaths[i], val = changes[keyPath];\n                        if (getByKeyPath(item, keyPath) !== val) {\n                            setByKeyPath(item, keyPath, val);\n                            anythingModified = true;\n                        }\n                    }\n                    return anythingModified;\n                };\n            }\n            const coreTable = ctx.table.core;\n            const { outbound, extractKey } = coreTable.schema.primaryKey;\n            const limit = this.db._options.modifyChunkSize || 200;\n            const totalFailures = [];\n            let successCount = 0;\n            const failedKeys = [];\n            const applyMutateResult = (expectedCount, res) => {\n                const { failures, numFailures } = res;\n                successCount += expectedCount - numFailures;\n                for (let pos of keys(failures)) {\n                    totalFailures.push(failures[pos]);\n                }\n            };\n            return this.clone().primaryKeys().then(keys => {\n                const nextChunk = (offset) => {\n                    const count = Math.min(limit, keys.length - offset);\n                    return coreTable.getMany({\n                        trans,\n                        keys: keys.slice(offset, offset + count),\n                        cache: \"immutable\"\n                    }).then(values => {\n                        const addValues = [];\n                        const putValues = [];\n                        const putKeys = outbound ? [] : null;\n                        const deleteKeys = [];\n                        for (let i = 0; i < count; ++i) {\n                            const origValue = values[i];\n                            const ctx = {\n                                value: deepClone(origValue),\n                                primKey: keys[offset + i]\n                            };\n                            if (modifyer.call(ctx, ctx.value, ctx) !== false) {\n                                if (ctx.value == null) {\n                                    deleteKeys.push(keys[offset + i]);\n                                }\n                                else if (!outbound && cmp(extractKey(origValue), extractKey(ctx.value)) !== 0) {\n                                    deleteKeys.push(keys[offset + i]);\n                                    addValues.push(ctx.value);\n                                }\n                                else {\n                                    putValues.push(ctx.value);\n                                    if (outbound)\n                                        putKeys.push(keys[offset + i]);\n                                }\n                            }\n                        }\n                        const criteria = isPlainKeyRange(ctx) &&\n                            ctx.limit === Infinity &&\n                            (typeof changes !== 'function' || changes === deleteCallback) && {\n                            index: ctx.index,\n                            range: ctx.range\n                        };\n                        return Promise.resolve(addValues.length > 0 &&\n                            coreTable.mutate({ trans, type: 'add', values: addValues })\n                                .then(res => {\n                                for (let pos in res.failures) {\n                                    deleteKeys.splice(parseInt(pos), 1);\n                                }\n                                applyMutateResult(addValues.length, res);\n                            })).then(() => (putValues.length > 0 || (criteria && typeof changes === 'object')) &&\n                            coreTable.mutate({\n                                trans,\n                                type: 'put',\n                                keys: putKeys,\n                                values: putValues,\n                                criteria,\n                                changeSpec: typeof changes !== 'function'\n                                    && changes\n                            }).then(res => applyMutateResult(putValues.length, res))).then(() => (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&\n                            coreTable.mutate({\n                                trans,\n                                type: 'delete',\n                                keys: deleteKeys,\n                                criteria\n                            }).then(res => applyMutateResult(deleteKeys.length, res))).then(() => {\n                            return keys.length > offset + count && nextChunk(offset + limit);\n                        });\n                    });\n                };\n                return nextChunk(0).then(() => {\n                    if (totalFailures.length > 0)\n                        throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n                    return keys.length;\n                });\n            });\n        });\n    }\n    delete() {\n        var ctx = this._ctx, range = ctx.range;\n        if (isPlainKeyRange(ctx) &&\n            ((ctx.isPrimKey && !hangsOnDeleteLargeKeyRange) || range.type === 3 ))\n         {\n            return this._write(trans => {\n                const { primaryKey } = ctx.table.core.schema;\n                const coreRange = range;\n                return ctx.table.core.count({ trans, query: { index: primaryKey, range: coreRange } }).then(count => {\n                    return ctx.table.core.mutate({ trans, type: 'deleteRange', range: coreRange })\n                        .then(({ failures, lastResult, results, numFailures }) => {\n                        if (numFailures)\n                            throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(pos => failures[pos]), count - numFailures);\n                        return count - numFailures;\n                    });\n                });\n            });\n        }\n        return this.modify(deleteCallback);\n    }\n}\nconst deleteCallback = (value, ctx) => ctx.value = null;\n\nfunction createCollectionConstructor(db) {\n    return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {\n        this.db = db;\n        let keyRange = AnyRange, error = null;\n        if (keyRangeGenerator)\n            try {\n                keyRange = keyRangeGenerator();\n            }\n            catch (ex) {\n                error = ex;\n            }\n        const whereCtx = whereClause._ctx;\n        const table = whereCtx.table;\n        const readingHook = table.hook.reading.fire;\n        this._ctx = {\n            table: table,\n            index: whereCtx.index,\n            isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n            range: keyRange,\n            keysOnly: false,\n            dir: \"next\",\n            unique: \"\",\n            algorithm: null,\n            filter: null,\n            replayFilter: null,\n            justLimit: true,\n            isMatch: null,\n            offset: 0,\n            limit: Infinity,\n            error: error,\n            or: whereCtx.or,\n            valueMapper: readingHook !== mirror ? readingHook : null\n        };\n    });\n}\n\nfunction simpleCompare(a, b) {\n    return a < b ? -1 : a === b ? 0 : 1;\n}\nfunction simpleCompareReverse(a, b) {\n    return a > b ? -1 : a === b ? 0 : 1;\n}\n\nfunction fail(collectionOrWhereClause, err, T) {\n    var collection = collectionOrWhereClause instanceof WhereClause ?\n        new collectionOrWhereClause.Collection(collectionOrWhereClause) :\n        collectionOrWhereClause;\n    collection._ctx.error = T ? new T(err) : new TypeError(err);\n    return collection;\n}\nfunction emptyCollection(whereClause) {\n    return new whereClause.Collection(whereClause, () => rangeEqual(\"\")).limit(0);\n}\nfunction upperFactory(dir) {\n    return dir === \"next\" ?\n        (s) => s.toUpperCase() :\n        (s) => s.toLowerCase();\n}\nfunction lowerFactory(dir) {\n    return dir === \"next\" ?\n        (s) => s.toLowerCase() :\n        (s) => s.toUpperCase();\n}\nfunction nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n    var length = Math.min(key.length, lowerNeedle.length);\n    var llp = -1;\n    for (var i = 0; i < length; ++i) {\n        var lwrKeyChar = lowerKey[i];\n        if (lwrKeyChar !== lowerNeedle[i]) {\n            if (cmp(key[i], upperNeedle[i]) < 0)\n                return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n            if (cmp(key[i], lowerNeedle[i]) < 0)\n                return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n            if (llp >= 0)\n                return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n            return null;\n        }\n        if (cmp(key[i], lwrKeyChar) < 0)\n            llp = i;\n    }\n    if (length < lowerNeedle.length && dir === \"next\")\n        return key + upperNeedle.substr(key.length);\n    if (length < key.length && dir === \"prev\")\n        return key.substr(0, upperNeedle.length);\n    return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n}\nfunction addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n    var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n    if (!needles.every(s => typeof s === 'string')) {\n        return fail(whereClause, STRING_EXPECTED);\n    }\n    function initDirection(dir) {\n        upper = upperFactory(dir);\n        lower = lowerFactory(dir);\n        compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n        var needleBounds = needles.map(function (needle) {\n            return { lower: lower(needle), upper: upper(needle) };\n        }).sort(function (a, b) {\n            return compare(a.lower, b.lower);\n        });\n        upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n        lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n        direction = dir;\n        nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n    }\n    initDirection(\"next\");\n    var c = new whereClause.Collection(whereClause, () => createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix));\n    c._ondirectionchange = function (direction) {\n        initDirection(direction);\n    };\n    var firstPossibleNeedle = 0;\n    c._addAlgorithm(function (cursor, advance, resolve) {\n        var key = cursor.key;\n        if (typeof key !== 'string')\n            return false;\n        var lowerKey = lower(key);\n        if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n            return true;\n        }\n        else {\n            var lowestPossibleCasing = null;\n            for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                if (casing === null && lowestPossibleCasing === null)\n                    firstPossibleNeedle = i + 1;\n                else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                    lowestPossibleCasing = casing;\n                }\n            }\n            if (lowestPossibleCasing !== null) {\n                advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n            }\n            else {\n                advance(resolve);\n            }\n            return false;\n        }\n    });\n    return c;\n}\nfunction createRange(lower, upper, lowerOpen, upperOpen) {\n    return {\n        type: 2 ,\n        lower,\n        upper,\n        lowerOpen,\n        upperOpen\n    };\n}\nfunction rangeEqual(value) {\n    return {\n        type: 1 ,\n        lower: value,\n        upper: value\n    };\n}\n\nclass WhereClause {\n    get Collection() {\n        return this._ctx.table.db.Collection;\n    }\n    between(lower, upper, includeLower, includeUpper) {\n        includeLower = includeLower !== false;\n        includeUpper = includeUpper === true;\n        try {\n            if ((this._cmp(lower, upper) > 0) ||\n                (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                return emptyCollection(this);\n            return new this.Collection(this, () => createRange(lower, upper, !includeLower, !includeUpper));\n        }\n        catch (e) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n    }\n    equals(value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, () => rangeEqual(value));\n    }\n    above(value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, () => createRange(value, undefined, true));\n    }\n    aboveOrEqual(value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, () => createRange(value, undefined, false));\n    }\n    below(value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, () => createRange(undefined, value, false, true));\n    }\n    belowOrEqual(value) {\n        if (value == null)\n            return fail(this, INVALID_KEY_ARGUMENT);\n        return new this.Collection(this, () => createRange(undefined, value));\n    }\n    startsWith(str) {\n        if (typeof str !== 'string')\n            return fail(this, STRING_EXPECTED);\n        return this.between(str, str + maxString, true, true);\n    }\n    startsWithIgnoreCase(str) {\n        if (str === \"\")\n            return this.startsWith(str);\n        return addIgnoreCaseAlgorithm(this, (x, a) => x.indexOf(a[0]) === 0, [str], maxString);\n    }\n    equalsIgnoreCase(str) {\n        return addIgnoreCaseAlgorithm(this, (x, a) => x === a[0], [str], \"\");\n    }\n    anyOfIgnoreCase() {\n        var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (set.length === 0)\n            return emptyCollection(this);\n        return addIgnoreCaseAlgorithm(this, (x, a) => a.indexOf(x) !== -1, set, \"\");\n    }\n    startsWithAnyOfIgnoreCase() {\n        var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (set.length === 0)\n            return emptyCollection(this);\n        return addIgnoreCaseAlgorithm(this, (x, a) => a.some(n => x.indexOf(n) === 0), set, maxString);\n    }\n    anyOf() {\n        const set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        let compare = this._cmp;\n        try {\n            set.sort(compare);\n        }\n        catch (e) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n        if (set.length === 0)\n            return emptyCollection(this);\n        const c = new this.Collection(this, () => createRange(set[0], set[set.length - 1]));\n        c._ondirectionchange = direction => {\n            compare = (direction === \"next\" ?\n                this._ascending :\n                this._descending);\n            set.sort(compare);\n        };\n        let i = 0;\n        c._addAlgorithm((cursor, advance, resolve) => {\n            const key = cursor.key;\n            while (compare(key, set[i]) > 0) {\n                ++i;\n                if (i === set.length) {\n                    advance(resolve);\n                    return false;\n                }\n            }\n            if (compare(key, set[i]) === 0) {\n                return true;\n            }\n            else {\n                advance(() => { cursor.continue(set[i]); });\n                return false;\n            }\n        });\n        return c;\n    }\n    notEqual(value) {\n        return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });\n    }\n    noneOf() {\n        const set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (set.length === 0)\n            return new this.Collection(this);\n        try {\n            set.sort(this._ascending);\n        }\n        catch (e) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n        const ranges = set.reduce((res, val) => res ?\n            res.concat([[res[res.length - 1][1], val]]) :\n            [[minKey, val]], null);\n        ranges.push([set[set.length - 1], this.db._maxKey]);\n        return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n    }\n    inAnyRange(ranges, options) {\n        const cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;\n        if (ranges.length === 0)\n            return emptyCollection(this);\n        if (!ranges.every(range => range[0] !== undefined &&\n            range[1] !== undefined &&\n            ascending(range[0], range[1]) <= 0)) {\n            return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n        }\n        const includeLowers = !options || options.includeLowers !== false;\n        const includeUppers = options && options.includeUppers === true;\n        function addRange(ranges, newRange) {\n            let i = 0, l = ranges.length;\n            for (; i < l; ++i) {\n                const range = ranges[i];\n                if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                    range[0] = min(range[0], newRange[0]);\n                    range[1] = max(range[1], newRange[1]);\n                    break;\n                }\n            }\n            if (i === l)\n                ranges.push(newRange);\n            return ranges;\n        }\n        let sortDirection = ascending;\n        function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n        let set;\n        try {\n            set = ranges.reduce(addRange, []);\n            set.sort(rangeSorter);\n        }\n        catch (ex) {\n            return fail(this, INVALID_KEY_ARGUMENT);\n        }\n        let rangePos = 0;\n        const keyIsBeyondCurrentEntry = includeUppers ?\n            key => ascending(key, set[rangePos][1]) > 0 :\n            key => ascending(key, set[rangePos][1]) >= 0;\n        const keyIsBeforeCurrentEntry = includeLowers ?\n            key => descending(key, set[rangePos][0]) > 0 :\n            key => descending(key, set[rangePos][0]) >= 0;\n        function keyWithinCurrentRange(key) {\n            return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n        }\n        let checkKey = keyIsBeyondCurrentEntry;\n        const c = new this.Collection(this, () => createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers));\n        c._ondirectionchange = direction => {\n            if (direction === \"next\") {\n                checkKey = keyIsBeyondCurrentEntry;\n                sortDirection = ascending;\n            }\n            else {\n                checkKey = keyIsBeforeCurrentEntry;\n                sortDirection = descending;\n            }\n            set.sort(rangeSorter);\n        };\n        c._addAlgorithm((cursor, advance, resolve) => {\n            var key = cursor.key;\n            while (checkKey(key)) {\n                ++rangePos;\n                if (rangePos === set.length) {\n                    advance(resolve);\n                    return false;\n                }\n            }\n            if (keyWithinCurrentRange(key)) {\n                return true;\n            }\n            else if (this._cmp(key, set[rangePos][1]) === 0 || this._cmp(key, set[rangePos][0]) === 0) {\n                return false;\n            }\n            else {\n                advance(() => {\n                    if (sortDirection === ascending)\n                        cursor.continue(set[rangePos][0]);\n                    else\n                        cursor.continue(set[rangePos][1]);\n                });\n                return false;\n            }\n        });\n        return c;\n    }\n    startsWithAnyOf() {\n        const set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n        if (!set.every(s => typeof s === 'string')) {\n            return fail(this, \"startsWithAnyOf() only works with strings\");\n        }\n        if (set.length === 0)\n            return emptyCollection(this);\n        return this.inAnyRange(set.map((str) => [str, str + maxString]));\n    }\n}\n\nfunction createWhereClauseConstructor(db) {\n    return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {\n        this.db = db;\n        this._ctx = {\n            table: table,\n            index: index === \":id\" ? null : index,\n            or: orCollection\n        };\n        const indexedDB = db._deps.indexedDB;\n        if (!indexedDB)\n            throw new exceptions.MissingAPI();\n        this._cmp = this._ascending = indexedDB.cmp.bind(indexedDB);\n        this._descending = (a, b) => indexedDB.cmp(b, a);\n        this._max = (a, b) => indexedDB.cmp(a, b) > 0 ? a : b;\n        this._min = (a, b) => indexedDB.cmp(a, b) < 0 ? a : b;\n        this._IDBKeyRange = db._deps.IDBKeyRange;\n    });\n}\n\nfunction eventRejectHandler(reject) {\n    return wrap(function (event) {\n        preventDefault(event);\n        reject(event.target.error);\n        return false;\n    });\n}\nfunction preventDefault(event) {\n    if (event.stopPropagation)\n        event.stopPropagation();\n    if (event.preventDefault)\n        event.preventDefault();\n}\n\nconst DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';\nconst STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';\nconst globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);\n\nclass Transaction {\n    _lock() {\n        assert(!PSD.global);\n        ++this._reculock;\n        if (this._reculock === 1 && !PSD.global)\n            PSD.lockOwnerFor = this;\n        return this;\n    }\n    _unlock() {\n        assert(!PSD.global);\n        if (--this._reculock === 0) {\n            if (!PSD.global)\n                PSD.lockOwnerFor = null;\n            while (this._blockedFuncs.length > 0 && !this._locked()) {\n                var fnAndPSD = this._blockedFuncs.shift();\n                try {\n                    usePSD(fnAndPSD[1], fnAndPSD[0]);\n                }\n                catch (e) { }\n            }\n        }\n        return this;\n    }\n    _locked() {\n        return this._reculock && PSD.lockOwnerFor !== this;\n    }\n    create(idbtrans) {\n        if (!this.mode)\n            return this;\n        const idbdb = this.db.idbdb;\n        const dbOpenError = this.db._state.dbOpenError;\n        assert(!this.idbtrans);\n        if (!idbtrans && !idbdb) {\n            switch (dbOpenError && dbOpenError.name) {\n                case \"DatabaseClosedError\":\n                    throw new exceptions.DatabaseClosed(dbOpenError);\n                case \"MissingAPIError\":\n                    throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                default:\n                    throw new exceptions.OpenFailed(dbOpenError);\n            }\n        }\n        if (!this.active)\n            throw new exceptions.TransactionInactive();\n        assert(this._completion._state === null);\n        idbtrans = this.idbtrans = idbtrans ||\n            (this.db.core\n                ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })\n                : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));\n        idbtrans.onerror = wrap(ev => {\n            preventDefault(ev);\n            this._reject(idbtrans.error);\n        });\n        idbtrans.onabort = wrap(ev => {\n            preventDefault(ev);\n            this.active && this._reject(new exceptions.Abort(idbtrans.error));\n            this.active = false;\n            this.on(\"abort\").fire(ev);\n        });\n        idbtrans.oncomplete = wrap(() => {\n            this.active = false;\n            this._resolve();\n            if ('mutatedParts' in idbtrans) {\n                globalEvents.storagemutated.fire(idbtrans[\"mutatedParts\"]);\n            }\n        });\n        return this;\n    }\n    _promise(mode, fn, bWriteLock) {\n        if (mode === 'readwrite' && this.mode !== 'readwrite')\n            return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n        if (!this.active)\n            return rejection(new exceptions.TransactionInactive());\n        if (this._locked()) {\n            return new DexiePromise((resolve, reject) => {\n                this._blockedFuncs.push([() => {\n                        this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                    }, PSD]);\n            });\n        }\n        else if (bWriteLock) {\n            return newScope(() => {\n                var p = new DexiePromise((resolve, reject) => {\n                    this._lock();\n                    const rv = fn(resolve, reject, this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p.finally(() => this._unlock());\n                p._lib = true;\n                return p;\n            });\n        }\n        else {\n            var p = new DexiePromise((resolve, reject) => {\n                var rv = fn(resolve, reject, this);\n                if (rv && rv.then)\n                    rv.then(resolve, reject);\n            });\n            p._lib = true;\n            return p;\n        }\n    }\n    _root() {\n        return this.parent ? this.parent._root() : this;\n    }\n    waitFor(promiseLike) {\n        var root = this._root();\n        const promise = DexiePromise.resolve(promiseLike);\n        if (root._waitingFor) {\n            root._waitingFor = root._waitingFor.then(() => promise);\n        }\n        else {\n            root._waitingFor = promise;\n            root._waitingQueue = [];\n            var store = root.idbtrans.objectStore(root.storeNames[0]);\n            (function spin() {\n                ++root._spinCount;\n                while (root._waitingQueue.length)\n                    (root._waitingQueue.shift())();\n                if (root._waitingFor)\n                    store.get(-Infinity).onsuccess = spin;\n            }());\n        }\n        var currentWaitPromise = root._waitingFor;\n        return new DexiePromise((resolve, reject) => {\n            promise.then(res => root._waitingQueue.push(wrap(resolve.bind(null, res))), err => root._waitingQueue.push(wrap(reject.bind(null, err)))).finally(() => {\n                if (root._waitingFor === currentWaitPromise) {\n                    root._waitingFor = null;\n                }\n            });\n        });\n    }\n    abort() {\n        if (this.active) {\n            this.active = false;\n            if (this.idbtrans)\n                this.idbtrans.abort();\n            this._reject(new exceptions.Abort());\n        }\n    }\n    table(tableName) {\n        const memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));\n        if (hasOwn(memoizedTables, tableName))\n            return memoizedTables[tableName];\n        const tableSchema = this.schema[tableName];\n        if (!tableSchema) {\n            throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n        }\n        const transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n        transactionBoundTable.core = this.db.core.table(tableName);\n        memoizedTables[tableName] = transactionBoundTable;\n        return transactionBoundTable;\n    }\n}\n\nfunction createTransactionConstructor(db) {\n    return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {\n        this.db = db;\n        this.mode = mode;\n        this.storeNames = storeNames;\n        this.schema = dbschema;\n        this.chromeTransactionDurability = chromeTransactionDurability;\n        this.idbtrans = null;\n        this.on = Events(this, \"complete\", \"error\", \"abort\");\n        this.parent = parent || null;\n        this.active = true;\n        this._reculock = 0;\n        this._blockedFuncs = [];\n        this._resolve = null;\n        this._reject = null;\n        this._waitingFor = null;\n        this._waitingQueue = null;\n        this._spinCount = 0;\n        this._completion = new DexiePromise((resolve, reject) => {\n            this._resolve = resolve;\n            this._reject = reject;\n        });\n        this._completion.then(() => {\n            this.active = false;\n            this.on.complete.fire();\n        }, e => {\n            var wasActive = this.active;\n            this.active = false;\n            this.on.error.fire(e);\n            this.parent ?\n                this.parent._reject(e) :\n                wasActive && this.idbtrans && this.idbtrans.abort();\n            return rejection(e);\n        });\n    });\n}\n\nfunction createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n    return {\n        name,\n        keyPath,\n        unique,\n        multi,\n        auto,\n        compound,\n        src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n    };\n}\nfunction nameFromKeyPath(keyPath) {\n    return typeof keyPath === 'string' ?\n        keyPath :\n        keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : \"\";\n}\n\nfunction createTableSchema(name, primKey, indexes) {\n    return {\n        name,\n        primKey,\n        indexes,\n        mappedClass: null,\n        idxByName: arrayToObject(indexes, index => [index.name, index])\n    };\n}\n\nfunction safariMultiStoreFix(storeNames) {\n    return storeNames.length === 1 ? storeNames[0] : storeNames;\n}\nlet getMaxKey = (IdbKeyRange) => {\n    try {\n        IdbKeyRange.only([[]]);\n        getMaxKey = () => [[]];\n        return [[]];\n    }\n    catch (e) {\n        getMaxKey = () => maxString;\n        return maxString;\n    }\n};\n\nfunction getKeyExtractor(keyPath) {\n    if (keyPath == null) {\n        return () => undefined;\n    }\n    else if (typeof keyPath === 'string') {\n        return getSinglePathKeyExtractor(keyPath);\n    }\n    else {\n        return obj => getByKeyPath(obj, keyPath);\n    }\n}\nfunction getSinglePathKeyExtractor(keyPath) {\n    const split = keyPath.split('.');\n    if (split.length === 1) {\n        return obj => obj[keyPath];\n    }\n    else {\n        return obj => getByKeyPath(obj, keyPath);\n    }\n}\n\nfunction arrayify(arrayLike) {\n    return [].slice.call(arrayLike);\n}\nlet _id_counter = 0;\nfunction getKeyPathAlias(keyPath) {\n    return keyPath == null ?\n        \":id\" :\n        typeof keyPath === 'string' ?\n            keyPath :\n            `[${keyPath.join('+')}]`;\n}\nfunction createDBCore(db, IdbKeyRange, tmpTrans) {\n    function extractSchema(db, trans) {\n        const tables = arrayify(db.objectStoreNames);\n        return {\n            schema: {\n                name: db.name,\n                tables: tables.map(table => trans.objectStore(table)).map(store => {\n                    const { keyPath, autoIncrement } = store;\n                    const compound = isArray(keyPath);\n                    const outbound = keyPath == null;\n                    const indexByKeyPath = {};\n                    const result = {\n                        name: store.name,\n                        primaryKey: {\n                            name: null,\n                            isPrimaryKey: true,\n                            outbound,\n                            compound,\n                            keyPath,\n                            autoIncrement,\n                            unique: true,\n                            extractKey: getKeyExtractor(keyPath)\n                        },\n                        indexes: arrayify(store.indexNames).map(indexName => store.index(indexName))\n                            .map(index => {\n                            const { name, unique, multiEntry, keyPath } = index;\n                            const compound = isArray(keyPath);\n                            const result = {\n                                name,\n                                compound,\n                                keyPath,\n                                unique,\n                                multiEntry,\n                                extractKey: getKeyExtractor(keyPath)\n                            };\n                            indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                            return result;\n                        }),\n                        getIndexByKeyPath: (keyPath) => indexByKeyPath[getKeyPathAlias(keyPath)]\n                    };\n                    indexByKeyPath[\":id\"] = result.primaryKey;\n                    if (keyPath != null) {\n                        indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n                    }\n                    return result;\n                })\n            },\n            hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&\n                !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n                    !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n                    [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n        };\n    }\n    function makeIDBKeyRange(range) {\n        if (range.type === 3 )\n            return null;\n        if (range.type === 4 )\n            throw new Error(\"Cannot convert never type to IDBKeyRange\");\n        const { lower, upper, lowerOpen, upperOpen } = range;\n        const idbRange = lower === undefined ?\n            upper === undefined ?\n                null :\n                IdbKeyRange.upperBound(upper, !!upperOpen) :\n            upper === undefined ?\n                IdbKeyRange.lowerBound(lower, !!lowerOpen) :\n                IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n        return idbRange;\n    }\n    function createDbCoreTable(tableSchema) {\n        const tableName = tableSchema.name;\n        function mutate({ trans, type, keys, values, range }) {\n            return new Promise((resolve, reject) => {\n                resolve = wrap(resolve);\n                const store = trans.objectStore(tableName);\n                const outbound = store.keyPath == null;\n                const isAddOrPut = type === \"put\" || type === \"add\";\n                if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')\n                    throw new Error(\"Invalid operation type: \" + type);\n                const { length } = keys || values || { length: 1 };\n                if (keys && values && keys.length !== values.length) {\n                    throw new Error(\"Given keys array must have same length as given values array.\");\n                }\n                if (length === 0)\n                    return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });\n                let req;\n                const reqs = [];\n                const failures = [];\n                let numFailures = 0;\n                const errorHandler = event => {\n                    ++numFailures;\n                    preventDefault(event);\n                };\n                if (type === 'deleteRange') {\n                    if (range.type === 4 )\n                        return resolve({ numFailures, failures, results: [], lastResult: undefined });\n                    if (range.type === 3 )\n                        reqs.push(req = store.clear());\n                    else\n                        reqs.push(req = store.delete(makeIDBKeyRange(range)));\n                }\n                else {\n                    const [args1, args2] = isAddOrPut ?\n                        outbound ?\n                            [values, keys] :\n                            [values, null] :\n                        [keys, null];\n                    if (isAddOrPut) {\n                        for (let i = 0; i < length; ++i) {\n                            reqs.push(req = (args2 && args2[i] !== undefined ?\n                                store[type](args1[i], args2[i]) :\n                                store[type](args1[i])));\n                            req.onerror = errorHandler;\n                        }\n                    }\n                    else {\n                        for (let i = 0; i < length; ++i) {\n                            reqs.push(req = store[type](args1[i]));\n                            req.onerror = errorHandler;\n                        }\n                    }\n                }\n                const done = event => {\n                    const lastResult = event.target.result;\n                    reqs.forEach((req, i) => req.error != null && (failures[i] = req.error));\n                    resolve({\n                        numFailures,\n                        failures,\n                        results: type === \"delete\" ? keys : reqs.map(req => req.result),\n                        lastResult\n                    });\n                };\n                req.onerror = event => {\n                    errorHandler(event);\n                    done(event);\n                };\n                req.onsuccess = done;\n            });\n        }\n        function openCursor({ trans, values, query, reverse, unique }) {\n            return new Promise((resolve, reject) => {\n                resolve = wrap(resolve);\n                const { index, range } = query;\n                const store = trans.objectStore(tableName);\n                const source = index.isPrimaryKey ?\n                    store :\n                    store.index(index.name);\n                const direction = reverse ?\n                    unique ?\n                        \"prevunique\" :\n                        \"prev\" :\n                    unique ?\n                        \"nextunique\" :\n                        \"next\";\n                const req = values || !('openKeyCursor' in source) ?\n                    source.openCursor(makeIDBKeyRange(range), direction) :\n                    source.openKeyCursor(makeIDBKeyRange(range), direction);\n                req.onerror = eventRejectHandler(reject);\n                req.onsuccess = wrap(ev => {\n                    const cursor = req.result;\n                    if (!cursor) {\n                        resolve(null);\n                        return;\n                    }\n                    cursor.___id = ++_id_counter;\n                    cursor.done = false;\n                    const _cursorContinue = cursor.continue.bind(cursor);\n                    let _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n                    if (_cursorContinuePrimaryKey)\n                        _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n                    const _cursorAdvance = cursor.advance.bind(cursor);\n                    const doThrowCursorIsNotStarted = () => { throw new Error(\"Cursor not started\"); };\n                    const doThrowCursorIsStopped = () => { throw new Error(\"Cursor not stopped\"); };\n                    cursor.trans = trans;\n                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n                    cursor.fail = wrap(reject);\n                    cursor.next = function () {\n                        let gotOne = 1;\n                        return this.start(() => gotOne-- ? this.continue() : this.stop()).then(() => this);\n                    };\n                    cursor.start = (callback) => {\n                        const iterationPromise = new Promise((resolveIteration, rejectIteration) => {\n                            resolveIteration = wrap(resolveIteration);\n                            req.onerror = eventRejectHandler(rejectIteration);\n                            cursor.fail = rejectIteration;\n                            cursor.stop = value => {\n                                cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                                resolveIteration(value);\n                            };\n                        });\n                        const guardedCallback = () => {\n                            if (req.result) {\n                                try {\n                                    callback();\n                                }\n                                catch (err) {\n                                    cursor.fail(err);\n                                }\n                            }\n                            else {\n                                cursor.done = true;\n                                cursor.start = () => { throw new Error(\"Cursor behind last entry\"); };\n                                cursor.stop();\n                            }\n                        };\n                        req.onsuccess = wrap(ev => {\n                            req.onsuccess = guardedCallback;\n                            guardedCallback();\n                        });\n                        cursor.continue = _cursorContinue;\n                        cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n                        cursor.advance = _cursorAdvance;\n                        guardedCallback();\n                        return iterationPromise;\n                    };\n                    resolve(cursor);\n                }, reject);\n            });\n        }\n        function query(hasGetAll) {\n            return (request) => {\n                return new Promise((resolve, reject) => {\n                    resolve = wrap(resolve);\n                    const { trans, values, limit, query } = request;\n                    const nonInfinitLimit = limit === Infinity ? undefined : limit;\n                    const { index, range } = query;\n                    const store = trans.objectStore(tableName);\n                    const source = index.isPrimaryKey ? store : store.index(index.name);\n                    const idbKeyRange = makeIDBKeyRange(range);\n                    if (limit === 0)\n                        return resolve({ result: [] });\n                    if (hasGetAll) {\n                        const req = values ?\n                            source.getAll(idbKeyRange, nonInfinitLimit) :\n                            source.getAllKeys(idbKeyRange, nonInfinitLimit);\n                        req.onsuccess = event => resolve({ result: event.target.result });\n                        req.onerror = eventRejectHandler(reject);\n                    }\n                    else {\n                        let count = 0;\n                        const req = values || !('openKeyCursor' in source) ?\n                            source.openCursor(idbKeyRange) :\n                            source.openKeyCursor(idbKeyRange);\n                        const result = [];\n                        req.onsuccess = event => {\n                            const cursor = req.result;\n                            if (!cursor)\n                                return resolve({ result });\n                            result.push(values ? cursor.value : cursor.primaryKey);\n                            if (++count === limit)\n                                return resolve({ result });\n                            cursor.continue();\n                        };\n                        req.onerror = eventRejectHandler(reject);\n                    }\n                });\n            };\n        }\n        return {\n            name: tableName,\n            schema: tableSchema,\n            mutate,\n            getMany({ trans, keys }) {\n                return new Promise((resolve, reject) => {\n                    resolve = wrap(resolve);\n                    const store = trans.objectStore(tableName);\n                    const length = keys.length;\n                    const result = new Array(length);\n                    let keyCount = 0;\n                    let callbackCount = 0;\n                    let req;\n                    const successHandler = event => {\n                        const req = event.target;\n                        if ((result[req._pos] = req.result) != null)\n                            ;\n                        if (++callbackCount === keyCount)\n                            resolve(result);\n                    };\n                    const errorHandler = eventRejectHandler(reject);\n                    for (let i = 0; i < length; ++i) {\n                        const key = keys[i];\n                        if (key != null) {\n                            req = store.get(keys[i]);\n                            req._pos = i;\n                            req.onsuccess = successHandler;\n                            req.onerror = errorHandler;\n                            ++keyCount;\n                        }\n                    }\n                    if (keyCount === 0)\n                        resolve(result);\n                });\n            },\n            get({ trans, key }) {\n                return new Promise((resolve, reject) => {\n                    resolve = wrap(resolve);\n                    const store = trans.objectStore(tableName);\n                    const req = store.get(key);\n                    req.onsuccess = event => resolve(event.target.result);\n                    req.onerror = eventRejectHandler(reject);\n                });\n            },\n            query: query(hasGetAll),\n            openCursor,\n            count({ query, trans }) {\n                const { index, range } = query;\n                return new Promise((resolve, reject) => {\n                    const store = trans.objectStore(tableName);\n                    const source = index.isPrimaryKey ? store : store.index(index.name);\n                    const idbKeyRange = makeIDBKeyRange(range);\n                    const req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n                    req.onsuccess = wrap(ev => resolve(ev.target.result));\n                    req.onerror = eventRejectHandler(reject);\n                });\n            }\n        };\n    }\n    const { schema, hasGetAll } = extractSchema(db, tmpTrans);\n    const tables = schema.tables.map(tableSchema => createDbCoreTable(tableSchema));\n    const tableMap = {};\n    tables.forEach(table => tableMap[table.name] = table);\n    return {\n        stack: \"dbcore\",\n        transaction: db.transaction.bind(db),\n        table(name) {\n            const result = tableMap[name];\n            if (!result)\n                throw new Error(`Table '${name}' not found`);\n            return tableMap[name];\n        },\n        MIN_KEY: -Infinity,\n        MAX_KEY: getMaxKey(IdbKeyRange),\n        schema\n    };\n}\n\nfunction createMiddlewareStack(stackImpl, middlewares) {\n    return middlewares.reduce((down, { create }) => ({ ...down, ...create(down) }), stackImpl);\n}\nfunction createMiddlewareStacks(middlewares, idbdb, { IDBKeyRange, indexedDB }, tmpTrans) {\n    const dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);\n    return {\n        dbcore\n    };\n}\nfunction generateMiddlewareStacks({ _novip: db }, tmpTrans) {\n    const idbdb = tmpTrans.db;\n    const stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n    db.core = stacks.dbcore;\n    db.tables.forEach(table => {\n        const tableName = table.name;\n        if (db.core.schema.tables.some(tbl => tbl.name === tableName)) {\n            table.core = db.core.table(tableName);\n            if (db[tableName] instanceof db.Table) {\n                db[tableName].core = table.core;\n            }\n        }\n    });\n}\n\nfunction setApiOnPlace({ _novip: db }, objs, tableNames, dbschema) {\n    tableNames.forEach(tableName => {\n        const schema = dbschema[tableName];\n        objs.forEach(obj => {\n            const propDesc = getPropertyDescriptor(obj, tableName);\n            if (!propDesc || (\"value\" in propDesc && propDesc.value === undefined)) {\n                if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n                    setProp(obj, tableName, {\n                        get() { return this.table(tableName); },\n                        set(value) {\n                            defineProperty(this, tableName, { value, writable: true, configurable: true, enumerable: true });\n                        }\n                    });\n                }\n                else {\n                    obj[tableName] = new db.Table(tableName, schema);\n                }\n            }\n        });\n    });\n}\nfunction removeTablesApi({ _novip: db }, objs) {\n    objs.forEach(obj => {\n        for (let key in obj) {\n            if (obj[key] instanceof db.Table)\n                delete obj[key];\n        }\n    });\n}\nfunction lowerVersionFirst(a, b) {\n    return a._cfg.version - b._cfg.version;\n}\nfunction runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n    const globalSchema = db._dbSchema;\n    const trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n    trans.create(idbUpgradeTrans);\n    trans._completion.catch(reject);\n    const rejectTransaction = trans._reject.bind(trans);\n    const transless = PSD.transless || PSD;\n    newScope(() => {\n        PSD.trans = trans;\n        PSD.transless = transless;\n        if (oldVersion === 0) {\n            keys(globalSchema).forEach(tableName => {\n                createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n            });\n            generateMiddlewareStacks(db, idbUpgradeTrans);\n            DexiePromise.follow(() => db.on.populate.fire(trans)).catch(rejectTransaction);\n        }\n        else\n            updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans).catch(rejectTransaction);\n    });\n}\nfunction updateTablesAndIndexes({ _novip: db }, oldVersion, trans, idbUpgradeTrans) {\n    const queue = [];\n    const versions = db._versions;\n    let globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n    let anyContentUpgraderHasRun = false;\n    const versToRun = versions.filter(v => v._cfg.version >= oldVersion);\n    versToRun.forEach(version => {\n        queue.push(() => {\n            const oldSchema = globalSchema;\n            const newSchema = version._cfg.dbschema;\n            adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n            adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n            globalSchema = db._dbSchema = newSchema;\n            const diff = getSchemaDiff(oldSchema, newSchema);\n            diff.add.forEach(tuple => {\n                createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n            });\n            diff.change.forEach(change => {\n                if (change.recreate) {\n                    throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                }\n                else {\n                    const store = idbUpgradeTrans.objectStore(change.name);\n                    change.add.forEach(idx => addIndex(store, idx));\n                    change.change.forEach(idx => {\n                        store.deleteIndex(idx.name);\n                        addIndex(store, idx);\n                    });\n                    change.del.forEach(idxName => store.deleteIndex(idxName));\n                }\n            });\n            const contentUpgrade = version._cfg.contentUpgrade;\n            if (contentUpgrade && version._cfg.version > oldVersion) {\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                trans._memoizedTables = {};\n                anyContentUpgraderHasRun = true;\n                let upgradeSchema = shallowClone(newSchema);\n                diff.del.forEach(table => {\n                    upgradeSchema[table] = oldSchema[table];\n                });\n                removeTablesApi(db, [db.Transaction.prototype]);\n                setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema), upgradeSchema);\n                trans.schema = upgradeSchema;\n                const contentUpgradeIsAsync = isAsyncFunction(contentUpgrade);\n                if (contentUpgradeIsAsync) {\n                    incrementExpectedAwaits();\n                }\n                let returnValue;\n                const promiseFollowed = DexiePromise.follow(() => {\n                    returnValue = contentUpgrade(trans);\n                    if (returnValue) {\n                        if (contentUpgradeIsAsync) {\n                            var decrementor = decrementExpectedAwaits.bind(null, null);\n                            returnValue.then(decrementor, decrementor);\n                        }\n                    }\n                });\n                return (returnValue && typeof returnValue.then === 'function' ?\n                    DexiePromise.resolve(returnValue) : promiseFollowed.then(() => returnValue));\n            }\n        });\n        queue.push(idbtrans => {\n            if (!anyContentUpgraderHasRun || !hasIEDeleteObjectStoreBug) {\n                const newSchema = version._cfg.dbschema;\n                deleteRemovedTables(newSchema, idbtrans);\n            }\n            removeTablesApi(db, [db.Transaction.prototype]);\n            setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n            trans.schema = db._dbSchema;\n        });\n    });\n    function runQueue() {\n        return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n            DexiePromise.resolve();\n    }\n    return runQueue().then(() => {\n        createMissingTables(globalSchema, idbUpgradeTrans);\n    });\n}\nfunction getSchemaDiff(oldSchema, newSchema) {\n    const diff = {\n        del: [],\n        add: [],\n        change: []\n    };\n    let table;\n    for (table in oldSchema) {\n        if (!newSchema[table])\n            diff.del.push(table);\n    }\n    for (table in newSchema) {\n        const oldDef = oldSchema[table], newDef = newSchema[table];\n        if (!oldDef) {\n            diff.add.push([table, newDef]);\n        }\n        else {\n            const change = {\n                name: table,\n                def: newDef,\n                recreate: false,\n                del: [],\n                add: [],\n                change: []\n            };\n            if ((\n            '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||\n                (oldDef.primKey.auto !== newDef.primKey.auto && !isIEOrEdge))\n             {\n                change.recreate = true;\n                diff.change.push(change);\n            }\n            else {\n                const oldIndexes = oldDef.idxByName;\n                const newIndexes = newDef.idxByName;\n                let idxName;\n                for (idxName in oldIndexes) {\n                    if (!newIndexes[idxName])\n                        change.del.push(idxName);\n                }\n                for (idxName in newIndexes) {\n                    const oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                    if (!oldIdx)\n                        change.add.push(newIdx);\n                    else if (oldIdx.src !== newIdx.src)\n                        change.change.push(newIdx);\n                }\n                if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                    diff.change.push(change);\n                }\n            }\n        }\n    }\n    return diff;\n}\nfunction createTable(idbtrans, tableName, primKey, indexes) {\n    const store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?\n        { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :\n        { autoIncrement: primKey.auto });\n    indexes.forEach(idx => addIndex(store, idx));\n    return store;\n}\nfunction createMissingTables(newSchema, idbtrans) {\n    keys(newSchema).forEach(tableName => {\n        if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n            createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n        }\n    });\n}\nfunction deleteRemovedTables(newSchema, idbtrans) {\n    [].slice.call(idbtrans.db.objectStoreNames).forEach(storeName => newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName));\n}\nfunction addIndex(store, idx) {\n    store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n}\nfunction buildGlobalSchema(db, idbdb, tmpTrans) {\n    const globalSchema = {};\n    const dbStoreNames = slice(idbdb.objectStoreNames, 0);\n    dbStoreNames.forEach(storeName => {\n        const store = tmpTrans.objectStore(storeName);\n        let keyPath = store.keyPath;\n        const primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", false, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n        const indexes = [];\n        for (let j = 0; j < store.indexNames.length; ++j) {\n            const idbindex = store.index(store.indexNames[j]);\n            keyPath = idbindex.keyPath;\n            var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n            indexes.push(index);\n        }\n        globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n    });\n    return globalSchema;\n}\nfunction readGlobalSchema({ _novip: db }, idbdb, tmpTrans) {\n    db.verno = idbdb.version / 10;\n    const globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n    db._storeNames = slice(idbdb.objectStoreNames, 0);\n    setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n}\nfunction verifyInstalledSchema(db, tmpTrans) {\n    const installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n    const diff = getSchemaDiff(installedSchema, db._dbSchema);\n    return !(diff.add.length || diff.change.some(ch => ch.add.length || ch.change.length));\n}\nfunction adjustToExistingIndexNames({ _novip: db }, schema, idbtrans) {\n    const storeNames = idbtrans.db.objectStoreNames;\n    for (let i = 0; i < storeNames.length; ++i) {\n        const storeName = storeNames[i];\n        const store = idbtrans.objectStore(storeName);\n        db._hasGetAll = 'getAll' in store;\n        for (let j = 0; j < store.indexNames.length; ++j) {\n            const indexName = store.indexNames[j];\n            const keyPath = store.index(indexName).keyPath;\n            const dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n            if (schema[storeName]) {\n                const indexSpec = schema[storeName].idxByName[dexieName];\n                if (indexSpec) {\n                    indexSpec.name = indexName;\n                    delete schema[storeName].idxByName[dexieName];\n                    schema[storeName].idxByName[indexName] = indexSpec;\n                }\n            }\n        }\n    }\n    if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n        !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n        _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n        [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n        db._hasGetAll = false;\n    }\n}\nfunction parseIndexSyntax(primKeyAndIndexes) {\n    return primKeyAndIndexes.split(',').map((index, indexNum) => {\n        index = index.trim();\n        const name = index.replace(/([&*]|\\+\\+)/g, \"\");\n        const keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n        return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n    });\n}\n\nclass Version {\n    _parseStoresSpec(stores, outSchema) {\n        keys(stores).forEach(tableName => {\n            if (stores[tableName] !== null) {\n                var indexes = parseIndexSyntax(stores[tableName]);\n                var primKey = indexes.shift();\n                if (primKey.multi)\n                    throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n                indexes.forEach(idx => {\n                    if (idx.auto)\n                        throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n                    if (!idx.keyPath)\n                        throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n                });\n                outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n            }\n        });\n    }\n    stores(stores) {\n        const db = this.db;\n        this._cfg.storesSource = this._cfg.storesSource ?\n            extend(this._cfg.storesSource, stores) :\n            stores;\n        const versions = db._versions;\n        const storesSpec = {};\n        let dbschema = {};\n        versions.forEach(version => {\n            extend(storesSpec, version._cfg.storesSource);\n            dbschema = (version._cfg.dbschema = {});\n            version._parseStoresSpec(storesSpec, dbschema);\n        });\n        db._dbSchema = dbschema;\n        removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n        setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n        db._storeNames = keys(dbschema);\n        return this;\n    }\n    upgrade(upgradeFunction) {\n        this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);\n        return this;\n    }\n}\n\nfunction createVersionConstructor(db) {\n    return makeClassConstructor(Version.prototype, function Version(versionNumber) {\n        this.db = db;\n        this._cfg = {\n            version: versionNumber,\n            storesSource: null,\n            dbschema: {},\n            tables: {},\n            contentUpgrade: null\n        };\n    });\n}\n\nfunction getDbNamesTable(indexedDB, IDBKeyRange) {\n    let dbNamesDB = indexedDB[\"_dbNamesDB\"];\n    if (!dbNamesDB) {\n        dbNamesDB = indexedDB[\"_dbNamesDB\"] = new Dexie$1(DBNAMES_DB, {\n            addons: [],\n            indexedDB,\n            IDBKeyRange,\n        });\n        dbNamesDB.version(1).stores({ dbnames: \"name\" });\n    }\n    return dbNamesDB.table(\"dbnames\");\n}\nfunction hasDatabasesNative(indexedDB) {\n    return indexedDB && typeof indexedDB.databases === \"function\";\n}\nfunction getDatabaseNames({ indexedDB, IDBKeyRange, }) {\n    return hasDatabasesNative(indexedDB)\n        ? Promise.resolve(indexedDB.databases()).then((infos) => infos\n            .map((info) => info.name)\n            .filter((name) => name !== DBNAMES_DB))\n        : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();\n}\nfunction _onDatabaseCreated({ indexedDB, IDBKeyRange }, name) {\n    !hasDatabasesNative(indexedDB) &&\n        name !== DBNAMES_DB &&\n        getDbNamesTable(indexedDB, IDBKeyRange).put({ name }).catch(nop);\n}\nfunction _onDatabaseDeleted({ indexedDB, IDBKeyRange }, name) {\n    !hasDatabasesNative(indexedDB) &&\n        name !== DBNAMES_DB &&\n        getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);\n}\n\nfunction vip(fn) {\n    return newScope(function () {\n        PSD.letThrough = true;\n        return fn();\n    });\n}\n\nfunction idbReady() {\n    var isSafari = !navigator.userAgentData &&\n        /Safari\\//.test(navigator.userAgent) &&\n        !/Chrom(e|ium)\\//.test(navigator.userAgent);\n    if (!isSafari || !indexedDB.databases)\n        return Promise.resolve();\n    var intervalId;\n    return new Promise(function (resolve) {\n        var tryIdb = function () { return indexedDB.databases().finally(resolve); };\n        intervalId = setInterval(tryIdb, 100);\n        tryIdb();\n    }).finally(function () { return clearInterval(intervalId); });\n}\n\nfunction dexieOpen(db) {\n    const state = db._state;\n    const { indexedDB } = db._deps;\n    if (state.isBeingOpened || db.idbdb)\n        return state.dbReadyPromise.then(() => state.dbOpenError ?\n            rejection(state.dbOpenError) :\n            db);\n    debug && (state.openCanceller._stackHolder = getErrorWithStack());\n    state.isBeingOpened = true;\n    state.dbOpenError = null;\n    state.openComplete = false;\n    const openCanceller = state.openCanceller;\n    function throwIfCancelled() {\n        if (state.openCanceller !== openCanceller)\n            throw new exceptions.DatabaseClosed('db.open() was cancelled');\n    }\n    let resolveDbReady = state.dbReadyResolve,\n    upgradeTransaction = null, wasCreated = false;\n    return DexiePromise.race([openCanceller, (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(() => new DexiePromise((resolve, reject) => {\n            throwIfCancelled();\n            if (!indexedDB)\n                throw new exceptions.MissingAPI();\n            const dbName = db.name;\n            const req = state.autoSchema ?\n                indexedDB.open(dbName) :\n                indexedDB.open(dbName, Math.round(db.verno * 10));\n            if (!req)\n                throw new exceptions.MissingAPI();\n            req.onerror = eventRejectHandler(reject);\n            req.onblocked = wrap(db._fireOnBlocked);\n            req.onupgradeneeded = wrap(e => {\n                upgradeTransaction = req.transaction;\n                if (state.autoSchema && !db._options.allowEmptyDB) {\n                    req.onerror = preventDefault;\n                    upgradeTransaction.abort();\n                    req.result.close();\n                    const delreq = indexedDB.deleteDatabase(dbName);\n                    delreq.onsuccess = delreq.onerror = wrap(() => {\n                        reject(new exceptions.NoSuchDatabase(`Database ${dbName} doesnt exist`));\n                    });\n                }\n                else {\n                    upgradeTransaction.onerror = eventRejectHandler(reject);\n                    var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n                    wasCreated = oldVer < 1;\n                    db._novip.idbdb = req.result;\n                    runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n                }\n            }, reject);\n            req.onsuccess = wrap(() => {\n                upgradeTransaction = null;\n                const idbdb = db._novip.idbdb = req.result;\n                const objectStoreNames = slice(idbdb.objectStoreNames);\n                if (objectStoreNames.length > 0)\n                    try {\n                        const tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n                        if (state.autoSchema)\n                            readGlobalSchema(db, idbdb, tmpTrans);\n                        else {\n                            adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n                            if (!verifyInstalledSchema(db, tmpTrans)) {\n                                console.warn(`Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.`);\n                            }\n                        }\n                        generateMiddlewareStacks(db, tmpTrans);\n                    }\n                    catch (e) {\n                    }\n                connections.push(db);\n                idbdb.onversionchange = wrap(ev => {\n                    state.vcFired = true;\n                    db.on(\"versionchange\").fire(ev);\n                });\n                idbdb.onclose = wrap(ev => {\n                    db.on(\"close\").fire(ev);\n                });\n                if (wasCreated)\n                    _onDatabaseCreated(db._deps, dbName);\n                resolve();\n            }, reject);\n        }))]).then(() => {\n        throwIfCancelled();\n        state.onReadyBeingFired = [];\n        return DexiePromise.resolve(vip(() => db.on.ready.fire(db.vip))).then(function fireRemainders() {\n            if (state.onReadyBeingFired.length > 0) {\n                let remainders = state.onReadyBeingFired.reduce(promisableChain, nop);\n                state.onReadyBeingFired = [];\n                return DexiePromise.resolve(vip(() => remainders(db.vip))).then(fireRemainders);\n            }\n        });\n    }).finally(() => {\n        state.onReadyBeingFired = null;\n        state.isBeingOpened = false;\n    }).then(() => {\n        return db;\n    }).catch(err => {\n        state.dbOpenError = err;\n        try {\n            upgradeTransaction && upgradeTransaction.abort();\n        }\n        catch (_a) { }\n        if (openCanceller === state.openCanceller) {\n            db._close();\n        }\n        return rejection(err);\n    }).finally(() => {\n        state.openComplete = true;\n        resolveDbReady();\n    });\n}\n\nfunction awaitIterator(iterator) {\n    var callNext = result => iterator.next(result), doThrow = error => iterator.throw(error), onSuccess = step(callNext), onError = step(doThrow);\n    function step(getNext) {\n        return (val) => {\n            var next = getNext(val), value = next.value;\n            return next.done ? value :\n                (!value || typeof value.then !== 'function' ?\n                    isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                    value.then(onSuccess, onError));\n        };\n    }\n    return step(callNext)();\n}\n\nfunction extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n    var i = arguments.length;\n    if (i < 2)\n        throw new exceptions.InvalidArgument(\"Too few arguments\");\n    var args = new Array(i - 1);\n    while (--i)\n        args[i - 1] = arguments[i];\n    scopeFunc = args.pop();\n    var tables = flatten(args);\n    return [mode, tables, scopeFunc];\n}\nfunction enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n    return DexiePromise.resolve().then(() => {\n        const transless = PSD.transless || PSD;\n        const trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n        const zoneProps = {\n            trans: trans,\n            transless: transless\n        };\n        if (parentTransaction) {\n            trans.idbtrans = parentTransaction.idbtrans;\n        }\n        else {\n            trans.create();\n        }\n        const scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n        if (scopeFuncIsAsync) {\n            incrementExpectedAwaits();\n        }\n        let returnValue;\n        const promiseFollowed = DexiePromise.follow(() => {\n            returnValue = scopeFunc.call(trans, trans);\n            if (returnValue) {\n                if (scopeFuncIsAsync) {\n                    var decrementor = decrementExpectedAwaits.bind(null, null);\n                    returnValue.then(decrementor, decrementor);\n                }\n                else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                    returnValue = awaitIterator(returnValue);\n                }\n            }\n        }, zoneProps);\n        return (returnValue && typeof returnValue.then === 'function' ?\n            DexiePromise.resolve(returnValue).then(x => trans.active ?\n                x\n                : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")))\n            : promiseFollowed.then(() => returnValue)).then(x => {\n            if (parentTransaction)\n                trans._resolve();\n            return trans._completion.then(() => x);\n        }).catch(e => {\n            trans._reject(e);\n            return rejection(e);\n        });\n    });\n}\n\nfunction pad(a, value, count) {\n    const result = isArray(a) ? a.slice() : [a];\n    for (let i = 0; i < count; ++i)\n        result.push(value);\n    return result;\n}\nfunction createVirtualIndexMiddleware(down) {\n    return {\n        ...down,\n        table(tableName) {\n            const table = down.table(tableName);\n            const { schema } = table;\n            const indexLookup = {};\n            const allVirtualIndexes = [];\n            function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n                const keyPathAlias = getKeyPathAlias(keyPath);\n                const indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);\n                const keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n                const isVirtual = keyTail > 0;\n                const virtualIndex = {\n                    ...lowLevelIndex,\n                    isVirtual,\n                    keyTail,\n                    keyLength,\n                    extractKey: getKeyExtractor(keyPath),\n                    unique: !isVirtual && lowLevelIndex.unique\n                };\n                indexList.push(virtualIndex);\n                if (!virtualIndex.isPrimaryKey) {\n                    allVirtualIndexes.push(virtualIndex);\n                }\n                if (keyLength > 1) {\n                    const virtualKeyPath = keyLength === 2 ?\n                        keyPath[0] :\n                        keyPath.slice(0, keyLength - 1);\n                    addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n                }\n                indexList.sort((a, b) => a.keyTail - b.keyTail);\n                return virtualIndex;\n            }\n            const primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n            indexLookup[\":id\"] = [primaryKey];\n            for (const index of schema.indexes) {\n                addVirtualIndexes(index.keyPath, 0, index);\n            }\n            function findBestIndex(keyPath) {\n                const result = indexLookup[getKeyPathAlias(keyPath)];\n                return result && result[0];\n            }\n            function translateRange(range, keyTail) {\n                return {\n                    type: range.type === 1  ?\n                        2  :\n                        range.type,\n                    lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n                    lowerOpen: true,\n                    upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n                    upperOpen: true\n                };\n            }\n            function translateRequest(req) {\n                const index = req.query.index;\n                return index.isVirtual ? {\n                    ...req,\n                    query: {\n                        index,\n                        range: translateRange(req.query.range, index.keyTail)\n                    }\n                } : req;\n            }\n            const result = {\n                ...table,\n                schema: {\n                    ...schema,\n                    primaryKey,\n                    indexes: allVirtualIndexes,\n                    getIndexByKeyPath: findBestIndex\n                },\n                count(req) {\n                    return table.count(translateRequest(req));\n                },\n                query(req) {\n                    return table.query(translateRequest(req));\n                },\n                openCursor(req) {\n                    const { keyTail, isVirtual, keyLength } = req.query.index;\n                    if (!isVirtual)\n                        return table.openCursor(req);\n                    function createVirtualCursor(cursor) {\n                        function _continue(key) {\n                            key != null ?\n                                cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :\n                                req.unique ?\n                                    cursor.continue(cursor.key.slice(0, keyLength)\n                                        .concat(req.reverse\n                                        ? down.MIN_KEY\n                                        : down.MAX_KEY, keyTail)) :\n                                    cursor.continue();\n                        }\n                        const virtualCursor = Object.create(cursor, {\n                            continue: { value: _continue },\n                            continuePrimaryKey: {\n                                value(key, primaryKey) {\n                                    cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                                }\n                            },\n                            primaryKey: {\n                                get() {\n                                    return cursor.primaryKey;\n                                }\n                            },\n                            key: {\n                                get() {\n                                    const key = cursor.key;\n                                    return keyLength === 1 ?\n                                        key[0] :\n                                        key.slice(0, keyLength);\n                                }\n                            },\n                            value: {\n                                get() {\n                                    return cursor.value;\n                                }\n                            }\n                        });\n                        return virtualCursor;\n                    }\n                    return table.openCursor(translateRequest(req))\n                        .then(cursor => cursor && createVirtualCursor(cursor));\n                }\n            };\n            return result;\n        }\n    };\n}\nconst virtualIndexMiddleware = {\n    stack: \"dbcore\",\n    name: \"VirtualIndexMiddleware\",\n    level: 1,\n    create: createVirtualIndexMiddleware\n};\n\nfunction getObjectDiff(a, b, rv, prfx) {\n    rv = rv || {};\n    prfx = prfx || '';\n    keys(a).forEach((prop) => {\n        if (!hasOwn(b, prop)) {\n            rv[prfx + prop] = undefined;\n        }\n        else {\n            var ap = a[prop], bp = b[prop];\n            if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n                const apTypeName = toStringTag(ap);\n                const bpTypeName = toStringTag(bp);\n                if (apTypeName !== bpTypeName) {\n                    rv[prfx + prop] = b[prop];\n                }\n                else if (apTypeName === 'Object') {\n                    getObjectDiff(ap, bp, rv, prfx + prop + '.');\n                }\n                else if (ap !== bp) {\n                    rv[prfx + prop] = b[prop];\n                }\n            }\n            else if (ap !== bp)\n                rv[prfx + prop] = b[prop];\n        }\n    });\n    keys(b).forEach((prop) => {\n        if (!hasOwn(a, prop)) {\n            rv[prfx + prop] = b[prop];\n        }\n    });\n    return rv;\n}\n\nfunction getEffectiveKeys(primaryKey, req) {\n    if (req.type === 'delete')\n        return req.keys;\n    return req.keys || req.values.map(primaryKey.extractKey);\n}\n\nconst hooksMiddleware = {\n    stack: \"dbcore\",\n    name: \"HooksMiddleware\",\n    level: 2,\n    create: (downCore) => ({\n        ...downCore,\n        table(tableName) {\n            const downTable = downCore.table(tableName);\n            const { primaryKey } = downTable.schema;\n            const tableMiddleware = {\n                ...downTable,\n                mutate(req) {\n                    const dxTrans = PSD.trans;\n                    const { deleting, creating, updating } = dxTrans.table(tableName).hook;\n                    switch (req.type) {\n                        case 'add':\n                            if (creating.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', () => addPutOrDelete(req), true);\n                        case 'put':\n                            if (creating.fire === nop && updating.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', () => addPutOrDelete(req), true);\n                        case 'delete':\n                            if (deleting.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', () => addPutOrDelete(req), true);\n                        case 'deleteRange':\n                            if (deleting.fire === nop)\n                                break;\n                            return dxTrans._promise('readwrite', () => deleteRange(req), true);\n                    }\n                    return downTable.mutate(req);\n                    function addPutOrDelete(req) {\n                        const dxTrans = PSD.trans;\n                        const keys = req.keys || getEffectiveKeys(primaryKey, req);\n                        if (!keys)\n                            throw new Error(\"Keys missing\");\n                        req = req.type === 'add' || req.type === 'put' ?\n                            { ...req, keys } :\n                            { ...req };\n                        if (req.type !== 'delete')\n                            req.values = [...req.values];\n                        if (req.keys)\n                            req.keys = [...req.keys];\n                        return getExistingValues(downTable, req, keys).then(existingValues => {\n                            const contexts = keys.map((key, i) => {\n                                const existingValue = existingValues[i];\n                                const ctx = { onerror: null, onsuccess: null };\n                                if (req.type === 'delete') {\n                                    deleting.fire.call(ctx, key, existingValue, dxTrans);\n                                }\n                                else if (req.type === 'add' || existingValue === undefined) {\n                                    const generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                                    if (key == null && generatedPrimaryKey != null) {\n                                        key = generatedPrimaryKey;\n                                        req.keys[i] = key;\n                                        if (!primaryKey.outbound) {\n                                            setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                                        }\n                                    }\n                                }\n                                else {\n                                    const objectDiff = getObjectDiff(existingValue, req.values[i]);\n                                    const additionalChanges = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                                    if (additionalChanges) {\n                                        const requestedValue = req.values[i];\n                                        Object.keys(additionalChanges).forEach(keyPath => {\n                                            if (hasOwn(requestedValue, keyPath)) {\n                                                requestedValue[keyPath] = additionalChanges[keyPath];\n                                            }\n                                            else {\n                                                setByKeyPath(requestedValue, keyPath, additionalChanges[keyPath]);\n                                            }\n                                        });\n                                    }\n                                }\n                                return ctx;\n                            });\n                            return downTable.mutate(req).then(({ failures, results, numFailures, lastResult }) => {\n                                for (let i = 0; i < keys.length; ++i) {\n                                    const primKey = results ? results[i] : keys[i];\n                                    const ctx = contexts[i];\n                                    if (primKey == null) {\n                                        ctx.onerror && ctx.onerror(failures[i]);\n                                    }\n                                    else {\n                                        ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?\n                                            req.values[i] :\n                                            primKey\n                                        );\n                                    }\n                                }\n                                return { failures, results, numFailures, lastResult };\n                            }).catch(error => {\n                                contexts.forEach(ctx => ctx.onerror && ctx.onerror(error));\n                                return Promise.reject(error);\n                            });\n                        });\n                    }\n                    function deleteRange(req) {\n                        return deleteNextChunk(req.trans, req.range, 10000);\n                    }\n                    function deleteNextChunk(trans, range, limit) {\n                        return downTable.query({ trans, values: false, query: { index: primaryKey, range }, limit })\n                            .then(({ result }) => {\n                            return addPutOrDelete({ type: 'delete', keys: result, trans }).then(res => {\n                                if (res.numFailures > 0)\n                                    return Promise.reject(res.failures[0]);\n                                if (result.length < limit) {\n                                    return { failures: [], numFailures: 0, lastResult: undefined };\n                                }\n                                else {\n                                    return deleteNextChunk(trans, { ...range, lower: result[result.length - 1], lowerOpen: true }, limit);\n                                }\n                            });\n                        });\n                    }\n                }\n            };\n            return tableMiddleware;\n        },\n    })\n};\nfunction getExistingValues(table, req, effectiveKeys) {\n    return req.type === \"add\"\n        ? Promise.resolve([])\n        : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: \"immutable\" });\n}\n\nfunction getFromTransactionCache(keys, cache, clone) {\n    try {\n        if (!cache)\n            return null;\n        if (cache.keys.length < keys.length)\n            return null;\n        const result = [];\n        for (let i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {\n            if (cmp(cache.keys[i], keys[j]) !== 0)\n                continue;\n            result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);\n            ++j;\n        }\n        return result.length === keys.length ? result : null;\n    }\n    catch (_a) {\n        return null;\n    }\n}\nconst cacheExistingValuesMiddleware = {\n    stack: \"dbcore\",\n    level: -1,\n    create: (core) => {\n        return {\n            table: (tableName) => {\n                const table = core.table(tableName);\n                return {\n                    ...table,\n                    getMany: (req) => {\n                        if (!req.cache) {\n                            return table.getMany(req);\n                        }\n                        const cachedResult = getFromTransactionCache(req.keys, req.trans[\"_cache\"], req.cache === \"clone\");\n                        if (cachedResult) {\n                            return DexiePromise.resolve(cachedResult);\n                        }\n                        return table.getMany(req).then((res) => {\n                            req.trans[\"_cache\"] = {\n                                keys: req.keys,\n                                values: req.cache === \"clone\" ? deepClone(res) : res,\n                            };\n                            return res;\n                        });\n                    },\n                    mutate: (req) => {\n                        if (req.type !== \"add\")\n                            req.trans[\"_cache\"] = null;\n                        return table.mutate(req);\n                    },\n                };\n            },\n        };\n    },\n};\n\nfunction isEmptyRange(node) {\n    return !(\"from\" in node);\n}\nconst RangeSet = function (fromOrTree, to) {\n    if (this) {\n        extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });\n    }\n    else {\n        const rv = new RangeSet();\n        if (fromOrTree && (\"d\" in fromOrTree)) {\n            extend(rv, fromOrTree);\n        }\n        return rv;\n    }\n};\nprops(RangeSet.prototype, {\n    add(rangeSet) {\n        mergeRanges(this, rangeSet);\n        return this;\n    },\n    addKey(key) {\n        addRange(this, key, key);\n        return this;\n    },\n    addKeys(keys) {\n        keys.forEach(key => addRange(this, key, key));\n        return this;\n    },\n    [iteratorSymbol]() {\n        return getRangeSetIterator(this);\n    }\n});\nfunction addRange(target, from, to) {\n    const diff = cmp(from, to);\n    if (isNaN(diff))\n        return;\n    if (diff > 0)\n        throw RangeError();\n    if (isEmptyRange(target))\n        return extend(target, { from, to, d: 1 });\n    const left = target.l;\n    const right = target.r;\n    if (cmp(to, target.from) < 0) {\n        left\n            ? addRange(left, from, to)\n            : (target.l = { from, to, d: 1, l: null, r: null });\n        return rebalance(target);\n    }\n    if (cmp(from, target.to) > 0) {\n        right\n            ? addRange(right, from, to)\n            : (target.r = { from, to, d: 1, l: null, r: null });\n        return rebalance(target);\n    }\n    if (cmp(from, target.from) < 0) {\n        target.from = from;\n        target.l = null;\n        target.d = right ? right.d + 1 : 1;\n    }\n    if (cmp(to, target.to) > 0) {\n        target.to = to;\n        target.r = null;\n        target.d = target.l ? target.l.d + 1 : 1;\n    }\n    const rightWasCutOff = !target.r;\n    if (left && !target.l) {\n        mergeRanges(target, left);\n    }\n    if (right && rightWasCutOff) {\n        mergeRanges(target, right);\n    }\n}\nfunction mergeRanges(target, newSet) {\n    function _addRangeSet(target, { from, to, l, r }) {\n        addRange(target, from, to);\n        if (l)\n            _addRangeSet(target, l);\n        if (r)\n            _addRangeSet(target, r);\n    }\n    if (!isEmptyRange(newSet))\n        _addRangeSet(target, newSet);\n}\nfunction rangesOverlap(rangeSet1, rangeSet2) {\n    const i1 = getRangeSetIterator(rangeSet2);\n    let nextResult1 = i1.next();\n    if (nextResult1.done)\n        return false;\n    let a = nextResult1.value;\n    const i2 = getRangeSetIterator(rangeSet1);\n    let nextResult2 = i2.next(a.from);\n    let b = nextResult2.value;\n    while (!nextResult1.done && !nextResult2.done) {\n        if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)\n            return true;\n        cmp(a.from, b.from) < 0\n            ? (a = (nextResult1 = i1.next(b.from)).value)\n            : (b = (nextResult2 = i2.next(a.from)).value);\n    }\n    return false;\n}\nfunction getRangeSetIterator(node) {\n    let state = isEmptyRange(node) ? null : { s: 0, n: node };\n    return {\n        next(key) {\n            const keyProvided = arguments.length > 0;\n            while (state) {\n                switch (state.s) {\n                    case 0:\n                        state.s = 1;\n                        if (keyProvided) {\n                            while (state.n.l && cmp(key, state.n.from) < 0)\n                                state = { up: state, n: state.n.l, s: 1 };\n                        }\n                        else {\n                            while (state.n.l)\n                                state = { up: state, n: state.n.l, s: 1 };\n                        }\n                    case 1:\n                        state.s = 2;\n                        if (!keyProvided || cmp(key, state.n.to) <= 0)\n                            return { value: state.n, done: false };\n                    case 2:\n                        if (state.n.r) {\n                            state.s = 3;\n                            state = { up: state, n: state.n.r, s: 0 };\n                            continue;\n                        }\n                    case 3:\n                        state = state.up;\n                }\n            }\n            return { done: true };\n        },\n    };\n}\nfunction rebalance(target) {\n    var _a, _b;\n    const diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);\n    const r = diff > 1 ? \"r\" : diff < -1 ? \"l\" : \"\";\n    if (r) {\n        const l = r === \"r\" ? \"l\" : \"r\";\n        const rootClone = { ...target };\n        const oldRootRight = target[r];\n        target.from = oldRootRight.from;\n        target.to = oldRootRight.to;\n        target[r] = oldRootRight[r];\n        rootClone[r] = oldRootRight[l];\n        target[l] = rootClone;\n        rootClone.d = computeDepth(rootClone);\n    }\n    target.d = computeDepth(target);\n}\nfunction computeDepth({ r, l }) {\n    return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;\n}\n\nconst observabilityMiddleware = {\n    stack: \"dbcore\",\n    level: 0,\n    create: (core) => {\n        const dbName = core.schema.name;\n        const FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);\n        return {\n            ...core,\n            table: (tableName) => {\n                const table = core.table(tableName);\n                const { schema } = table;\n                const { primaryKey } = schema;\n                const { extractKey, outbound } = primaryKey;\n                const tableClone = {\n                    ...table,\n                    mutate: (req) => {\n                        const trans = req.trans;\n                        const mutatedParts = trans.mutatedParts || (trans.mutatedParts = {});\n                        const getRangeSet = (indexName) => {\n                            const part = `idb://${dbName}/${tableName}/${indexName}`;\n                            return (mutatedParts[part] ||\n                                (mutatedParts[part] = new RangeSet()));\n                        };\n                        const pkRangeSet = getRangeSet(\"\");\n                        const delsRangeSet = getRangeSet(\":dels\");\n                        const { type } = req;\n                        let [keys, newObjs] = req.type === \"deleteRange\"\n                            ? [req.range]\n                            : req.type === \"delete\"\n                                ? [req.keys]\n                                : req.values.length < 50\n                                    ? [[], req.values]\n                                    : [];\n                        const oldCache = req.trans[\"_cache\"];\n                        return table.mutate(req).then((res) => {\n                            if (isArray(keys)) {\n                                if (type !== \"delete\")\n                                    keys = res.results;\n                                pkRangeSet.addKeys(keys);\n                                const oldObjs = getFromTransactionCache(keys, oldCache);\n                                if (!oldObjs && type !== \"add\") {\n                                    delsRangeSet.addKeys(keys);\n                                }\n                                if (oldObjs || newObjs) {\n                                    trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);\n                                }\n                            }\n                            else if (keys) {\n                                const range = { from: keys.lower, to: keys.upper };\n                                delsRangeSet.add(range);\n                                pkRangeSet.add(range);\n                            }\n                            else {\n                                pkRangeSet.add(FULL_RANGE);\n                                delsRangeSet.add(FULL_RANGE);\n                                schema.indexes.forEach(idx => getRangeSet(idx.name).add(FULL_RANGE));\n                            }\n                            return res;\n                        });\n                    },\n                };\n                const getRange = ({ query: { index, range }, }) => {\n                    var _a, _b;\n                    return [\n                        index,\n                        new RangeSet((_a = range.lower) !== null && _a !== void 0 ? _a : core.MIN_KEY, (_b = range.upper) !== null && _b !== void 0 ? _b : core.MAX_KEY),\n                    ];\n                };\n                const readSubscribers = {\n                    get: (req) => [primaryKey, new RangeSet(req.key)],\n                    getMany: (req) => [primaryKey, new RangeSet().addKeys(req.keys)],\n                    count: getRange,\n                    query: getRange,\n                    openCursor: getRange,\n                };\n                keys(readSubscribers).forEach(method => {\n                    tableClone[method] = function (req) {\n                        const { subscr } = PSD;\n                        if (subscr) {\n                            const getRangeSet = (indexName) => {\n                                const part = `idb://${dbName}/${tableName}/${indexName}`;\n                                return (subscr[part] ||\n                                    (subscr[part] = new RangeSet()));\n                            };\n                            const pkRangeSet = getRangeSet(\"\");\n                            const delsRangeSet = getRangeSet(\":dels\");\n                            const [queriedIndex, queriedRanges] = readSubscribers[method](req);\n                            getRangeSet(queriedIndex.name || \"\").add(queriedRanges);\n                            if (!queriedIndex.isPrimaryKey) {\n                                if (method === \"count\") {\n                                    delsRangeSet.add(FULL_RANGE);\n                                }\n                                else {\n                                    const keysPromise = method === \"query\" &&\n                                        outbound &&\n                                        req.values &&\n                                        table.query({\n                                            ...req,\n                                            values: false,\n                                        });\n                                    return table[method].apply(this, arguments).then((res) => {\n                                        if (method === \"query\") {\n                                            if (outbound && req.values) {\n                                                return keysPromise.then(({ result: resultingKeys }) => {\n                                                    pkRangeSet.addKeys(resultingKeys);\n                                                    return res;\n                                                });\n                                            }\n                                            const pKeys = req.values\n                                                ? res.result.map(extractKey)\n                                                : res.result;\n                                            if (req.values) {\n                                                pkRangeSet.addKeys(pKeys);\n                                            }\n                                            else {\n                                                delsRangeSet.addKeys(pKeys);\n                                            }\n                                        }\n                                        else if (method === \"openCursor\") {\n                                            const cursor = res;\n                                            const wantValues = req.values;\n                                            return (cursor &&\n                                                Object.create(cursor, {\n                                                    key: {\n                                                        get() {\n                                                            delsRangeSet.addKey(cursor.primaryKey);\n                                                            return cursor.key;\n                                                        },\n                                                    },\n                                                    primaryKey: {\n                                                        get() {\n                                                            const pkey = cursor.primaryKey;\n                                                            delsRangeSet.addKey(pkey);\n                                                            return pkey;\n                                                        },\n                                                    },\n                                                    value: {\n                                                        get() {\n                                                            wantValues && pkRangeSet.addKey(cursor.primaryKey);\n                                                            return cursor.value;\n                                                        },\n                                                    },\n                                                }));\n                                        }\n                                        return res;\n                                    });\n                                }\n                            }\n                        }\n                        return table[method].apply(this, arguments);\n                    };\n                });\n                return tableClone;\n            },\n        };\n    },\n};\nfunction trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {\n    function addAffectedIndex(ix) {\n        const rangeSet = getRangeSet(ix.name || \"\");\n        function extractKey(obj) {\n            return obj != null ? ix.extractKey(obj) : null;\n        }\n        const addKeyOrKeys = (key) => ix.multiEntry && isArray(key)\n            ? key.forEach(key => rangeSet.addKey(key))\n            : rangeSet.addKey(key);\n        (oldObjs || newObjs).forEach((_, i) => {\n            const oldKey = oldObjs && extractKey(oldObjs[i]);\n            const newKey = newObjs && extractKey(newObjs[i]);\n            if (cmp(oldKey, newKey) !== 0) {\n                if (oldKey != null)\n                    addKeyOrKeys(oldKey);\n                if (newKey != null)\n                    addKeyOrKeys(newKey);\n            }\n        });\n    }\n    schema.indexes.forEach(addAffectedIndex);\n}\n\nclass Dexie$1 {\n    constructor(name, options) {\n        this._middlewares = {};\n        this.verno = 0;\n        const deps = Dexie$1.dependencies;\n        this._options = options = {\n            addons: Dexie$1.addons,\n            autoOpen: true,\n            indexedDB: deps.indexedDB,\n            IDBKeyRange: deps.IDBKeyRange,\n            ...options\n        };\n        this._deps = {\n            indexedDB: options.indexedDB,\n            IDBKeyRange: options.IDBKeyRange\n        };\n        const { addons, } = options;\n        this._dbSchema = {};\n        this._versions = [];\n        this._storeNames = [];\n        this._allTables = {};\n        this.idbdb = null;\n        this._novip = this;\n        const state = {\n            dbOpenError: null,\n            isBeingOpened: false,\n            onReadyBeingFired: null,\n            openComplete: false,\n            dbReadyResolve: nop,\n            dbReadyPromise: null,\n            cancelOpen: nop,\n            openCanceller: null,\n            autoSchema: true\n        };\n        state.dbReadyPromise = new DexiePromise(resolve => {\n            state.dbReadyResolve = resolve;\n        });\n        state.openCanceller = new DexiePromise((_, reject) => {\n            state.cancelOpen = reject;\n        });\n        this._state = state;\n        this.name = name;\n        this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", \"close\", { ready: [promisableChain, nop] });\n        this.on.ready.subscribe = override(this.on.ready.subscribe, subscribe => {\n            return (subscriber, bSticky) => {\n                Dexie$1.vip(() => {\n                    const state = this._state;\n                    if (state.openComplete) {\n                        if (!state.dbOpenError)\n                            DexiePromise.resolve().then(subscriber);\n                        if (bSticky)\n                            subscribe(subscriber);\n                    }\n                    else if (state.onReadyBeingFired) {\n                        state.onReadyBeingFired.push(subscriber);\n                        if (bSticky)\n                            subscribe(subscriber);\n                    }\n                    else {\n                        subscribe(subscriber);\n                        const db = this;\n                        if (!bSticky)\n                            subscribe(function unsubscribe() {\n                                db.on.ready.unsubscribe(subscriber);\n                                db.on.ready.unsubscribe(unsubscribe);\n                            });\n                    }\n                });\n            };\n        });\n        this.Collection = createCollectionConstructor(this);\n        this.Table = createTableConstructor(this);\n        this.Transaction = createTransactionConstructor(this);\n        this.Version = createVersionConstructor(this);\n        this.WhereClause = createWhereClauseConstructor(this);\n        this.on(\"versionchange\", ev => {\n            if (ev.newVersion > 0)\n                console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`);\n            else\n                console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`);\n            this.close();\n        });\n        this.on(\"blocked\", ev => {\n            if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                console.warn(`Dexie.delete('${this.name}') was blocked`);\n            else\n                console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${ev.oldVersion / 10}`);\n        });\n        this._maxKey = getMaxKey(options.IDBKeyRange);\n        this._createTransaction = (mode, storeNames, dbschema, parentTransaction) => new this.Transaction(mode, storeNames, dbschema, this._options.chromeTransactionDurability, parentTransaction);\n        this._fireOnBlocked = ev => {\n            this.on(\"blocked\").fire(ev);\n            connections\n                .filter(c => c.name === this.name && c !== this && !c._state.vcFired)\n                .map(c => c.on(\"versionchange\").fire(ev));\n        };\n        this.use(virtualIndexMiddleware);\n        this.use(hooksMiddleware);\n        this.use(observabilityMiddleware);\n        this.use(cacheExistingValuesMiddleware);\n        this.vip = Object.create(this, { _vip: { value: true } });\n        addons.forEach(addon => addon(this));\n    }\n    version(versionNumber) {\n        if (isNaN(versionNumber) || versionNumber < 0.1)\n            throw new exceptions.Type(`Given version is not a positive number`);\n        versionNumber = Math.round(versionNumber * 10) / 10;\n        if (this.idbdb || this._state.isBeingOpened)\n            throw new exceptions.Schema(\"Cannot add version when database is open\");\n        this.verno = Math.max(this.verno, versionNumber);\n        const versions = this._versions;\n        var versionInstance = versions.filter(v => v._cfg.version === versionNumber)[0];\n        if (versionInstance)\n            return versionInstance;\n        versionInstance = new this.Version(versionNumber);\n        versions.push(versionInstance);\n        versions.sort(lowerVersionFirst);\n        versionInstance.stores({});\n        this._state.autoSchema = false;\n        return versionInstance;\n    }\n    _whenReady(fn) {\n        return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise((resolve, reject) => {\n            if (this._state.openComplete) {\n                return reject(new exceptions.DatabaseClosed(this._state.dbOpenError));\n            }\n            if (!this._state.isBeingOpened) {\n                if (!this._options.autoOpen) {\n                    reject(new exceptions.DatabaseClosed());\n                    return;\n                }\n                this.open().catch(nop);\n            }\n            this._state.dbReadyPromise.then(resolve, reject);\n        }).then(fn);\n    }\n    use({ stack, create, level, name }) {\n        if (name)\n            this.unuse({ stack, name });\n        const middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n        middlewares.push({ stack, create, level: level == null ? 10 : level, name });\n        middlewares.sort((a, b) => a.level - b.level);\n        return this;\n    }\n    unuse({ stack, name, create }) {\n        if (stack && this._middlewares[stack]) {\n            this._middlewares[stack] = this._middlewares[stack].filter(mw => create ? mw.create !== create :\n                name ? mw.name !== name :\n                    false);\n        }\n        return this;\n    }\n    open() {\n        return dexieOpen(this);\n    }\n    _close() {\n        const state = this._state;\n        const idx = connections.indexOf(this);\n        if (idx >= 0)\n            connections.splice(idx, 1);\n        if (this.idbdb) {\n            try {\n                this.idbdb.close();\n            }\n            catch (e) { }\n            this._novip.idbdb = null;\n        }\n        state.dbReadyPromise = new DexiePromise(resolve => {\n            state.dbReadyResolve = resolve;\n        });\n        state.openCanceller = new DexiePromise((_, reject) => {\n            state.cancelOpen = reject;\n        });\n    }\n    close() {\n        this._close();\n        const state = this._state;\n        this._options.autoOpen = false;\n        state.dbOpenError = new exceptions.DatabaseClosed();\n        if (state.isBeingOpened)\n            state.cancelOpen(state.dbOpenError);\n    }\n    delete() {\n        const hasArguments = arguments.length > 0;\n        const state = this._state;\n        return new DexiePromise((resolve, reject) => {\n            const doDelete = () => {\n                this.close();\n                var req = this._deps.indexedDB.deleteDatabase(this.name);\n                req.onsuccess = wrap(() => {\n                    _onDatabaseDeleted(this._deps, this.name);\n                    resolve();\n                });\n                req.onerror = eventRejectHandler(reject);\n                req.onblocked = this._fireOnBlocked;\n            };\n            if (hasArguments)\n                throw new exceptions.InvalidArgument(\"Arguments not allowed in db.delete()\");\n            if (state.isBeingOpened) {\n                state.dbReadyPromise.then(doDelete);\n            }\n            else {\n                doDelete();\n            }\n        });\n    }\n    backendDB() {\n        return this.idbdb;\n    }\n    isOpen() {\n        return this.idbdb !== null;\n    }\n    hasBeenClosed() {\n        const dbOpenError = this._state.dbOpenError;\n        return dbOpenError && (dbOpenError.name === 'DatabaseClosed');\n    }\n    hasFailed() {\n        return this._state.dbOpenError !== null;\n    }\n    dynamicallyOpened() {\n        return this._state.autoSchema;\n    }\n    get tables() {\n        return keys(this._allTables).map(name => this._allTables[name]);\n    }\n    transaction() {\n        const args = extractTransactionArgs.apply(this, arguments);\n        return this._transaction.apply(this, args);\n    }\n    _transaction(mode, tables, scopeFunc) {\n        let parentTransaction = PSD.trans;\n        if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)\n            parentTransaction = null;\n        const onlyIfCompatible = mode.indexOf('?') !== -1;\n        mode = mode.replace('!', '').replace('?', '');\n        let idbMode, storeNames;\n        try {\n            storeNames = tables.map(table => {\n                var storeName = table instanceof this.Table ? table.name : table;\n                if (typeof storeName !== 'string')\n                    throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                return storeName;\n            });\n            if (mode == \"r\" || mode === READONLY)\n                idbMode = READONLY;\n            else if (mode == \"rw\" || mode == READWRITE)\n                idbMode = READWRITE;\n            else\n                throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n            if (parentTransaction) {\n                if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n                    if (onlyIfCompatible) {\n                        parentTransaction = null;\n                    }\n                    else\n                        throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                }\n                if (parentTransaction) {\n                    storeNames.forEach(storeName => {\n                        if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                            if (onlyIfCompatible) {\n                                parentTransaction = null;\n                            }\n                            else\n                                throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                    \" not included in parent transaction.\");\n                        }\n                    });\n                }\n                if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                    parentTransaction = null;\n                }\n            }\n        }\n        catch (e) {\n            return parentTransaction ?\n                parentTransaction._promise(null, (_, reject) => { reject(e); }) :\n                rejection(e);\n        }\n        const enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n        return (parentTransaction ?\n            parentTransaction._promise(idbMode, enterTransaction, \"lock\") :\n            PSD.trans ?\n                usePSD(PSD.transless, () => this._whenReady(enterTransaction)) :\n                this._whenReady(enterTransaction));\n    }\n    table(tableName) {\n        if (!hasOwn(this._allTables, tableName)) {\n            throw new exceptions.InvalidTable(`Table ${tableName} does not exist`);\n        }\n        return this._allTables[tableName];\n    }\n}\n\nconst symbolObservable = typeof Symbol !== \"undefined\" && \"observable\" in Symbol\n    ? Symbol.observable\n    : \"@@observable\";\nclass Observable {\n    constructor(subscribe) {\n        this._subscribe = subscribe;\n    }\n    subscribe(x, error, complete) {\n        return this._subscribe(!x || typeof x === \"function\" ? { next: x, error, complete } : x);\n    }\n    [symbolObservable]() {\n        return this;\n    }\n}\n\nfunction extendObservabilitySet(target, newSet) {\n    keys(newSet).forEach(part => {\n        const rangeSet = target[part] || (target[part] = new RangeSet());\n        mergeRanges(rangeSet, newSet[part]);\n    });\n    return target;\n}\n\nfunction liveQuery(querier) {\n    return new Observable((observer) => {\n        const scopeFuncIsAsync = isAsyncFunction(querier);\n        function execute(subscr) {\n            if (scopeFuncIsAsync) {\n                incrementExpectedAwaits();\n            }\n            const exec = () => newScope(querier, { subscr, trans: null });\n            const rv = PSD.trans\n                ?\n                    usePSD(PSD.transless, exec)\n                : exec();\n            if (scopeFuncIsAsync) {\n                rv.then(decrementExpectedAwaits, decrementExpectedAwaits);\n            }\n            return rv;\n        }\n        let closed = false;\n        let accumMuts = {};\n        let currentObs = {};\n        const subscription = {\n            get closed() {\n                return closed;\n            },\n            unsubscribe: () => {\n                closed = true;\n                globalEvents.storagemutated.unsubscribe(mutationListener);\n            },\n        };\n        observer.start && observer.start(subscription);\n        let querying = false, startedListening = false;\n        function shouldNotify() {\n            return keys(currentObs).some((key) => accumMuts[key] && rangesOverlap(accumMuts[key], currentObs[key]));\n        }\n        const mutationListener = (parts) => {\n            extendObservabilitySet(accumMuts, parts);\n            if (shouldNotify()) {\n                doQuery();\n            }\n        };\n        const doQuery = () => {\n            if (querying || closed)\n                return;\n            accumMuts = {};\n            const subscr = {};\n            const ret = execute(subscr);\n            if (!startedListening) {\n                globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);\n                startedListening = true;\n            }\n            querying = true;\n            Promise.resolve(ret).then((result) => {\n                querying = false;\n                if (closed)\n                    return;\n                if (shouldNotify()) {\n                    doQuery();\n                }\n                else {\n                    accumMuts = {};\n                    currentObs = subscr;\n                    observer.next && observer.next(result);\n                }\n            }, (err) => {\n                querying = false;\n                observer.error && observer.error(err);\n                subscription.unsubscribe();\n            });\n        };\n        doQuery();\n        return subscription;\n    });\n}\n\nlet domDeps;\ntry {\n    domDeps = {\n        indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n        IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n    };\n}\ncatch (e) {\n    domDeps = { indexedDB: null, IDBKeyRange: null };\n}\n\nconst Dexie = Dexie$1;\nprops(Dexie, {\n    ...fullNameExceptions,\n    delete(databaseName) {\n        const db = new Dexie(databaseName, { addons: [] });\n        return db.delete();\n    },\n    exists(name) {\n        return new Dexie(name, { addons: [] }).open().then(db => {\n            db.close();\n            return true;\n        }).catch('NoSuchDatabaseError', () => false);\n    },\n    getDatabaseNames(cb) {\n        try {\n            return getDatabaseNames(Dexie.dependencies).then(cb);\n        }\n        catch (_a) {\n            return rejection(new exceptions.MissingAPI());\n        }\n    },\n    defineClass() {\n        function Class(content) {\n            extend(this, content);\n        }\n        return Class;\n    },\n    ignoreTransaction(scopeFunc) {\n        return PSD.trans ?\n            usePSD(PSD.transless, scopeFunc) :\n            scopeFunc();\n    },\n    vip,\n    async: function (generatorFn) {\n        return function () {\n            try {\n                var rv = awaitIterator(generatorFn.apply(this, arguments));\n                if (!rv || typeof rv.then !== 'function')\n                    return DexiePromise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        };\n    },\n    spawn: function (generatorFn, args, thiz) {\n        try {\n            var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n            if (!rv || typeof rv.then !== 'function')\n                return DexiePromise.resolve(rv);\n            return rv;\n        }\n        catch (e) {\n            return rejection(e);\n        }\n    },\n    currentTransaction: {\n        get: () => PSD.trans || null\n    },\n    waitFor: function (promiseOrFunction, optionalTimeout) {\n        const promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?\n            Dexie.ignoreTransaction(promiseOrFunction) :\n            promiseOrFunction)\n            .timeout(optionalTimeout || 60000);\n        return PSD.trans ?\n            PSD.trans.waitFor(promise) :\n            promise;\n    },\n    Promise: DexiePromise,\n    debug: {\n        get: () => debug,\n        set: value => {\n            setDebug(value, value === 'dexie' ? () => true : dexieStackFrameFilter);\n        }\n    },\n    derive: derive,\n    extend: extend,\n    props: props,\n    override: override,\n    Events: Events,\n    on: globalEvents,\n    liveQuery,\n    extendObservabilitySet,\n    getByKeyPath: getByKeyPath,\n    setByKeyPath: setByKeyPath,\n    delByKeyPath: delByKeyPath,\n    shallowClone: shallowClone,\n    deepClone: deepClone,\n    getObjectDiff: getObjectDiff,\n    cmp,\n    asap: asap$1,\n    minKey: minKey,\n    addons: [],\n    connections: connections,\n    errnames: errnames,\n    dependencies: domDeps,\n    semVer: DEXIE_VERSION,\n    version: DEXIE_VERSION.split('.')\n        .map(n => parseInt(n))\n        .reduce((p, c, i) => p + (c / Math.pow(10, i * 2))),\n});\nDexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);\n\nif (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {\n    globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, updatedParts => {\n        if (!propagatingLocally) {\n            let event;\n            if (isIEOrEdge) {\n                event = document.createEvent('CustomEvent');\n                event.initCustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, true, true, updatedParts);\n            }\n            else {\n                event = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {\n                    detail: updatedParts\n                });\n            }\n            propagatingLocally = true;\n            dispatchEvent(event);\n            propagatingLocally = false;\n        }\n    });\n    addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, ({ detail }) => {\n        if (!propagatingLocally) {\n            propagateLocally(detail);\n        }\n    });\n}\nfunction propagateLocally(updateParts) {\n    let wasMe = propagatingLocally;\n    try {\n        propagatingLocally = true;\n        globalEvents.storagemutated.fire(updateParts);\n    }\n    finally {\n        propagatingLocally = wasMe;\n    }\n}\nlet propagatingLocally = false;\n\nif (typeof BroadcastChannel !== 'undefined') {\n    const bc = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);\n    globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, (changedParts) => {\n        if (!propagatingLocally) {\n            bc.postMessage(changedParts);\n        }\n    });\n    bc.onmessage = (ev) => {\n        if (ev.data)\n            propagateLocally(ev.data);\n    };\n}\nelse if (typeof self !== 'undefined' && typeof navigator !== 'undefined') {\n    globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, (changedParts) => {\n        try {\n            if (!propagatingLocally) {\n                if (typeof localStorage !== 'undefined') {\n                    localStorage.setItem(STORAGE_MUTATED_DOM_EVENT_NAME, JSON.stringify({\n                        trig: Math.random(),\n                        changedParts,\n                    }));\n                }\n                if (typeof self['clients'] === 'object') {\n                    [...self['clients'].matchAll({ includeUncontrolled: true })].forEach((client) => client.postMessage({\n                        type: STORAGE_MUTATED_DOM_EVENT_NAME,\n                        changedParts,\n                    }));\n                }\n            }\n        }\n        catch (_a) { }\n    });\n    addEventListener('storage', (ev) => {\n        if (ev.key === STORAGE_MUTATED_DOM_EVENT_NAME) {\n            const data = JSON.parse(ev.newValue);\n            if (data)\n                propagateLocally(data.changedParts);\n        }\n    });\n    const swContainer = self.document && navigator.serviceWorker;\n    if (swContainer) {\n        swContainer.addEventListener('message', propagateMessageLocally);\n    }\n}\nfunction propagateMessageLocally({ data }) {\n    if (data && data.type === STORAGE_MUTATED_DOM_EVENT_NAME) {\n        propagateLocally(data.changedParts);\n    }\n}\n\nDexiePromise.rejectionMapper = mapError;\nsetDebug(debug, dexieStackFrameFilter);\n\nexport { Dexie$1 as Dexie, RangeSet, Dexie$1 as default, liveQuery, mergeRanges, rangesOverlap };\n//# sourceMappingURL=dexie.mjs.map\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport Dexie from 'dexie';\n\nexport default class Database {\n  /**\n   * Database\n   */\n  constructor() {\n    this.db = new Dexie('hyperspace');\n    this.db.version(1).stores({\n      tileset: '++id, name, creator, type, checksum, signature, timestamp', // Primary key and indexed props\n      inventory: '++id, name, creator, type, checksum, signature, timestamp', // Primary key and indexed props\n      spirits: '++id, name, creator, type, checksum, signature, timestamp', // Primary key and indexed props\n      abilities: '++id, name, creator, type checksum, signature, timestamp', // Primary key and indexed props\n      models: '++id, name, creator, type, checksum, signature, timestamp', // Primary key and indexed props\n      accounts: '++id, name, type, checksum, signature, timestamp', // Primary key and indexed props\n      dht: '++id, name, type, ip, checksum, signature, timestamp', // Primary key and indexed props\n      msg: '++id, name, type, ip, checksum, signature, timestamp', // Primary key and indexed props\n      tmp: '++id, key, value, timestamp', // key-store\n    });\n    this.dbAdd = this.dbAdd.bind(this);\n    this.dbGet = this.dbGet.bind(this);\n    this.dbRemove = this.dbRemove.bind(this);\n    this.dbUpdate = this.dbUpdate.bind(this);\n  }\n\n  /**\n   * fetch value\n   * @param {*} store\n   * @param {*} key\n   * @returns\n   */\n  async dbGet(store, key) {\n    return await this.db[store].get(key);\n  }\n\n  /**\n   * add key to db store and returns id\n   * @param {*} store\n   * @param {*} value\n   * @returns\n   */\n  async dbAdd(store, value) {\n    return await this.db[store].add({ ...value });\n  }\n\n  /**\n   * update key to db store returns number of rows\n   * @param {*} store\n   * @param {*} id\n   * @param {*} changes\n   * @returns\n   */\n  async dbUpdate(store, id, changes) {\n    return await this.db[store].update(id, { ...changes });\n  }\n\n  /**\n   * update key to db store returns number of rows\n   * @param {*} store\n   * @param {*} id\n   * @returns\n   */\n  async dbRemove(store, id) {\n    return await this.db[store].delete(id);\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { store } from 'react-recollect';\n\nexport default class Store {\n  /**\n   * Store\n   */\n  constructor() {\n       // Store setup - session based\n       store.pixos = {};\n       this.store = store.pixos;\n       this.fetchStore = this.fetchStore.bind(this);\n       this.addStore = this.addStore.bind(this);\n       this.delStore = this.delStore.bind(this);\n       this.updateStore = this.updateStore.bind(this);\n  }\n\n    /**\n   * fetch value from store\n   * @param {*} key\n   * @returns\n   */\n    fetchStore(key) {\n      return this.store[key];\n    }\n  \n    /**\n     * add key to store and returns id\n     * @param {*} key\n     * @param {*} value\n     * @returns\n     */\n    addStore(key, value) {\n      return (this.store[key] = { ...value });\n    }\n  \n    /**\n     * update key in store returns number of rows\n     * @param {*} key\n     * @param {*} changes\n     * @returns\n     */\n    updateStore(key, changes) {\n      return (this.store[key] = { ...changes });\n    }\n  \n    /**\n     * delete key from store returns number of rows\n     * @param {*} key\n     * @returns\n     */\n    delStore(key) {\n      return (this.store[key] = null);\n    }\n}\n","import GLEngine from './index.jsx';\n\nexport const minecraftia = new FontFace('minecraftia', 'url(/pixos/font/minecraftia.ttf)');\n\nexport default class Hud {\n  /**\n   *\n   * @param {GLEngine} engine\n   * @returns\n   */\n  constructor(engine) {\n    if (!Hud._instance) {\n      this.engine = engine;\n      Hud._instance = this;\n    }\n    return Hud._instance;\n  }\n\n  init() {\n    // setup anything needed at the start (run once)\n    this.ctx = this.engine.ctx;\n  }\n\n  /**\n   * Draws a button\n   * @param {string} text\n   * @param {number} x\n   * @param {number} y\n   * @param {number} w\n   * @param {number} h\n   * @param {*} colours\n   */\n  drawButton(text, x, y, w, h, colours) {\n    const { ctx } = this;\n\n    let halfHeight = h / 2;\n\n    this.engine.ctx.save();\n\n    // draw the button\n    this.engine.ctx.fillStyle = colours.background;\n\n    this.engine.ctx.beginPath();\n    this.engine.ctx.rect(x, y, w, h);\n    this.engine.ctx.rect(x, y, w, h);\n    this.engine.ctx.fill();\n    this.engine.ctx.clip();\n\n    // light gradient\n    var grad = this.engine.ctx.createLinearGradient(x, y, x, y + halfHeight);\n    grad.addColorStop(0, 'rgb(221,181,155)');\n    grad.addColorStop(1, 'rgb(22,13,8)');\n    this.engine.ctx.fillStyle = grad;\n    this.engine.ctx.globalAlpha = 0.5;\n    this.engine.ctx.fillRect(x, y, w, h);\n\n    // draw the top half of the button\n    this.engine.ctx.fillStyle = colours.top;\n\n    // draw the top and bottom particles\n    for (var i = 0; i < h; i += halfHeight) {\n      this.engine.ctx.fillStyle = i === 0 ? colours.top : colours.bottom;\n\n      for (var j = 0; j < 50; j++) {\n        // get random values for particle\n        var partX = x + Math.random() * w;\n        var partY = y + i + Math.random() * halfHeight;\n        var width = Math.random() * 10;\n        var height = Math.random() * 10;\n        var rotation = Math.random() * 360;\n        var alpha = Math.random();\n\n        this.engine.ctx.save();\n\n        // rotate the canvas by 'rotation'\n        this.engine.ctx.translate(partX, partY);\n        this.engine.ctx.rotate((rotation * Math.PI) / 180);\n        this.engine.ctx.translate(-partX, -partY);\n\n        // set alpha transparency to 'alpha'\n        this.engine.ctx.globalAlpha = alpha;\n\n        this.engine.ctx.fillRect(partX, partY, width, height);\n\n        this.engine.ctx.restore();\n      }\n    }\n\n    this.engine.ctx.font = '20px invasion2000';\n    this.engine.ctx.textAlign = 'center';\n    this.engine.ctx.textBaseline = 'middle';\n    this.engine.ctx.fillStyle = 'white';\n    this.engine.ctx.fillText(text, x + w / 2, y + h / 2, w);\n\n    this.engine.ctx.restore();\n  }\n\n  /**\n   * clear HUD overlay\n   */\n  clearHud() {\n    this.engine.ctx.clearRect(0, 0, this.engine.ctx.canvas.width, this.engine.ctx.canvas.height);\n  }\n\n  /**\n   * Write Text to HUD\n   * @param {string} text\n   * @param {number} x\n   * @param {number} y\n   * @param {string} src\n   */\n  writeText(text, x, y, src = null) {\n    this.engine.ctx.save();\n    this.engine.ctx.font = '20px invasion2000';\n    this.engine.ctx.textAlign = 'center';\n    this.engine.ctx.textBaseline = 'middle';\n    this.engine.ctx.fillStyle = 'white';\n    if (src) {\n      // draw portrait if set\n      this.engine.ctx.fillText(text, x ?? this.engine.ctx.canvas.clientWidth / 2 + 76, y ?? this.engine.ctx.canvas.clientHeight / 2);\n      this.engine.ctx.drawImage(src, x ?? this.engine.ctx.canvas.clientWidth / 2, y ?? this.engine.ctx.canvas.clientHeight / 2, 76, 76);\n    } else {\n      this.engine.ctx.fillText(text, x ?? this.engine.ctx.canvas.clientWidth / 2, y ?? this.engine.ctx.canvas.clientHeight / 2);\n    }\n    this.engine.ctx.restore();\n  }\n\n  /**\n   * Scrolling Textbox\n   * @param {string} text\n   * @param {booleanq} scrolling\n   * @param {*} options\n   * @returns\n   */\n  scrollText(text, scrolling = false, options = {}) {\n    let txt = new textScrollBox(this.engine.ctx);\n    txt.init(text, 10, (2 * this.engine.ctx.canvas.height) / 3, this.engine.ctx.canvas.width - 20, this.engine.ctx.canvas.height / 3 - 20, options);\n    txt.setOptions(options);\n    if (scrolling) {\n      txt.scroll((Math.sin(new Date().getTime() / 3000) + 1) * txt.maxScroll * 0.5); // default oscillate\n    }\n    txt.render();\n    return txt;\n  }\n}\n\nexport class textScrollBox {\n  /**\n   * Scrolling Text Box UI (For Dialogue)\n   * --> courtesy of https://stackoverflow.com/questions/44488996/create-a-scrollable-text-inside-canvas\n   * @param {*} ctx\n   */\n  constructor(ctx) {\n    this.ctx = ctx;\n    this.dirty = true; // indicates that variouse setting need update\n    this.scrollY = 0;\n    this.fontSize = 24;\n    this.font = 'minecraftia';\n    this.align = 'left';\n    this.background = '#999';\n    this.border = {\n      lineWidth: 4,\n      style: 'white',\n      corner: 'round',\n    };\n    this.scrollBox = {\n      width: 5,\n      background: '#568',\n      color: '#78a',\n    };\n    this.fontStyle = 'white';\n    this.lines = [];\n    this.x = 0;\n    this.y = 0;\n  }\n\n  /**\n   * initialize textbox\n   * @param {string} text\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   * @param {*} options\n   */\n  init(text, x, y, width, height, options = {}) {\n    this.text = text;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.portrait = options.portrait ?? null;\n    this.setOptions(options);\n    this.cleanit();\n  }\n\n  /**\n   * Clean & format text\n   * @param {boolean} dontFitText\n   */\n  cleanit(dontFitText) {\n    if (this.dirty) {\n      this.setFont();\n      this.getTextPos();\n      this.dirty = false;\n      if (!dontFitText) {\n        this.fitText();\n      }\n    }\n  }\n\n  /**\n   * Apply options\n   * @param {*} options\n   */\n  setOptions(options) {\n    Object.keys(this).forEach((key) => {\n      if (options[key] !== undefined) {\n        this[key] = options[key];\n        this.dirty = true;\n      }\n    });\n  }\n\n  /**\n   * Apply font\n   */\n  setFont() {\n    this.fontStr = this.fontSize + 'px ' + this.font;\n    this.textHeight = this.fontSize + Math.ceil(this.fontSize * 0.05);\n  }\n\n  /**\n   * Get Text Position\n   */\n  getTextPos() {\n    if (this.align === 'left') {\n      this.textPos = 2;\n    } else if (this.align === 'right') {\n      this.textPos = Math.floor(this.width - this.scrollBox.width - this.fontSize / 4);\n    } else {\n      this.textPos = Math.floor((this.width - -this.scrollBox.width) / 2);\n    }\n  }\n\n  /**\n   * Fit to Text box\n   */\n  fitText() {\n    let { ctx } = this;\n    this.cleanit(true); // MUST PASS TRUE or will recurse to call stack overflow\n    ctx.font = this.fontStr;\n    ctx.textAlign = this.align;\n    ctx.textBaseline = 'top';\n    let words = this.text.split(' ');\n    this.lines.length = 0;\n    let line = '';\n    let space = '';\n    while (words.length > 0) {\n      let word = words.shift();\n      let width = ctx.measureText(line + space + word).width;\n      if (width < this.width - this.scrollBox.width - this.scrollBox.width - (this.portrait ? 84 : 0)) {\n        line += space + word;\n        space = ' ';\n      } else {\n        if (space === '') {\n          // if one word too big put it in anyways\n          line += word;\n        } else {\n          words.unshift(word);\n        }\n        this.lines.push(line);\n        space = '';\n        line = '';\n      }\n    }\n    if (line !== '') {\n      this.lines.push(line);\n    }\n    this.maxScroll = (this.lines.length + 0.5) * this.textHeight - this.height;\n  }\n\n  /**\n   * Draw Textbox border\n   * @param {boolean} portrait\n   */\n  drawBorder(portrait = false) {\n    let { ctx } = this;\n    let bw = this.border.lineWidth / 2;\n    ctx.lineJoin = this.border.corner;\n    ctx.lineWidth = this.border.lineWidth;\n    ctx.strokeStyle = this.border.style;\n    if (portrait) {\n      ctx.strokeRect(this.x - bw + 84, this.y - bw, this.width + 2 * bw - 84, this.height + 2 * bw);\n    } else {\n      ctx.strokeRect(this.x - bw, this.y - bw, this.width + 2 * bw, this.height + 2 * bw);\n    }\n  }\n\n  /**\n   * Draw Scrollbar on the side\n   */\n  drawScrollBox() {\n    let { ctx } = this;\n    let scale = this.height / (this.lines.length * this.textHeight);\n    ctx.fillStyle = this.scrollBox.background;\n    ctx.fillRect(this.x + this.width - this.scrollBox.width, this.y, this.scrollBox.width, this.height);\n    ctx.fillStyle = this.scrollBox.color;\n    let barsize = this.height * scale;\n    if (barsize > this.height) {\n      barsize = this.height;\n    }\n    ctx.fillRect(this.x + this.width - this.scrollBox.width, this.y - this.scrollY * scale, this.scrollBox.width, barsize);\n  }\n\n  /**\n   * Draw Scrollbar on the side\n   */\n  drawPortrait() {\n    let { ctx } = this;\n    ctx.drawImage(this.portrait.image, this.x, this.y + 38, 76, 76);\n  }\n\n  /**\n   * Scroll to position\n   * @param {number} pos\n   */\n  scroll(pos) {\n    this.cleanit();\n    this.scrollY = -pos;\n    if (this.scrollY > 0) {\n      this.scrollY = 0;\n    } else if (this.scrollY < -this.maxScroll) {\n      this.scrollY = -this.maxScroll;\n    }\n  }\n\n  /**\n   * Scroll to position\n   * @param {number} x\n   */\n  scrollLines(x) {\n    this.cleanit();\n    this.scrollY = -this.textHeight * x;\n    if (this.scrollY > 0) {\n      this.scrollY = 0;\n    } else if (this.scrollY < -this.maxScroll) {\n      this.scrollY = -this.maxScroll;\n    }\n  }\n\n  /**\n   * Draw\n   */\n  render() {\n    let { ctx } = this;\n    this.cleanit();\n    ctx.font = this.fontStr;\n    ctx.textAlign = this.align;\n    if (this.portrait) {\n      this.drawBorder(true);\n      this.drawPortrait();\n      ctx.save(); // need this to reset the clip area\n      ctx.fillStyle = this.background;\n      ctx.fillRect(this.x + 84, this.y, this.width - 84, this.height);\n    } else {\n      this.drawBorder();\n      ctx.save(); // need this to reset the clip area\n      ctx.fillStyle = this.background;\n      ctx.fillRect(this.x, this.y, this.width, this.height);\n    }\n    this.drawScrollBox();\n\n    // Important text does not like being place at fractions of a pixel\n    if (this.portrait) {\n      ctx.beginPath();\n      ctx.rect(this.x + 84, this.y, this.width - this.scrollBox.width - 84, this.height);\n      ctx.clip();\n      ctx.setTransform(1, 0, 0, 1, this.x + 84, Math.floor(this.y + this.scrollY));\n    } else {\n      ctx.beginPath();\n      ctx.rect(this.x, this.y, this.width - this.scrollBox.width, this.height);\n      ctx.clip();\n      ctx.setTransform(1, 0, 0, 1, this.x, Math.floor(this.y + this.scrollY));\n    }\n    ctx.fillStyle = this.fontStyle;\n    for (let i = 0; i < this.lines.length; i++) {\n      // Important text does not like being place at fractions of a pixel\n      ctx.fillText(this.lines[i], this.textPos, Math.floor(i * this.textHeight) + 2);\n    }\n    ctx.restore(); // remove the clipping\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { create, normalize, rotate, translate, set } from '@Engine/utils/math/matrix4.jsx';\nimport { Vector, negate, degToRad } from '@Engine/utils/math/vector.jsx';\nimport RenderManager from './manager.jsx';\nimport { subtractVectors } from '../../utils/math/matrix4.jsx';\n\nexport class Camera {\n  /**\n   *\n   * @param {RenderManager} renderingManager\n   */\n  constructor(renderingManager) {\n    // add support -- todo - move into utils\n    Number.prototype.clamp = function (min, max) {\n      return this < min ? min : this > max ? max : this;\n    };\n\n    this.renderingManager = renderingManager;\n    this.uViewMat = create();\n    this.fov = 45;\n    this.thetaLimits = new Vector(...[1.5 * Math.PI, 1.8 * Math.PI, 0]);\n    this.cameraAngle = 45;\n    this.cameraVector = new Vector(...[1, 0, 0]);\n    this.cameraDir = 'N';\n    this.cameraPosition = new Vector(8, 8, -1);\n    this.cameraOffset = new Vector(0, 0, 0);\n    this.setCamera = this.setCamera.bind(this);\n    this.lookAt = this.lookAt.bind(this);\n    this.panCCW = this.panCCW.bind(this);\n    this.panCW = this.panCW.bind(this);\n    this.tiltCCW = this.tiltCCW.bind(this);\n    this.tiltCW = this.tiltCW.bind(this);\n    this.pitchCCW = this.pitchCCW.bind(this);\n    this.pitchCW = this.pitchCW.bind(this);\n    this.changeAngle = this.changeAngle.bind(this);\n  }\n\n  /**\n   * Set Camera Pos & Angle to default\n   */\n  setCamera() {\n    translate(this.uViewMat, this.uViewMat, [0.0, 0.0, -15.0]);\n    rotate(this.uViewMat, this.uViewMat, degToRad(this.cameraAngle * this.cameraVector.x), [1, 0, 0]);\n    rotate(this.uViewMat, this.uViewMat, degToRad(this.cameraAngle * this.cameraVector.y), [0, 1, 0]);\n    rotate(this.uViewMat, this.uViewMat, degToRad(this.cameraAngle * this.cameraVector.z), [0, 0, 1]);\n    negate(this.cameraPosition, this.cameraOffset);\n    translate(this.uViewMat, this.uViewMat, this.cameraOffset.toArray());\n  }\n\n  /** Change Camera Angle\n   *\n   * @param {*} dTheta\n   */\n  changeAngle(dTheta) {\n    this.lookAt(this.cameraPosition.toArray(), this.cameraOffset.toArray(), dTheta);\n  }\n\n  /** Manually Position Camera and look at target\n   *\n   * @param {vec3} pos\n   * @param {vec3} target\n   * @param {vec3} up\n   */\n  lookAt(pos, target, up) {\n    const { uViewMat } = this;\n    // set camera properties\n    this.cameraPosition = new Vector(...pos);\n    this.cameraOffset = new Vector(...target);\n    this.cameraVector = new Vector(...up);\n\n    // calculate new view matrix\n    const zAxis = new Vector(...normalize(subtractVectors(pos, target)));\n    const xAxis = new Vector(...up).cross(zAxis);\n    const yAxis = zAxis.cross(xAxis);\n    const newViewMat = [\n      ...[xAxis.x, xAxis.y, xAxis.z, 0],\n      ...[yAxis.x, yAxis.y, yAxis.z, 0],\n      ...[zAxis.x, zAxis.y, zAxis.z, 0],\n      ...[pos.x, pos.y, pos.z, 1],\n    ];\n\n    this.uViewMat = set(newViewMat, uViewMat);\n  }\n\n  /** Pan Camera Clockwise\n   *\n   * @param {float} radians\n   */\n  panCW(radians = Math.PI / 4) {\n    this.cameraVector.z -= Math.cos(radians);\n  }\n\n  /** Pan Camera Counter Clockwise\n   *\n   * @param {float} radians\n   */\n  panCCW(radians = Math.PI / 4) {\n    // different angles for facings\n    // [1. 0, 4] - S (Reversed) (up/down)\n    // [1. 0, 3] - SW (Iso)\n    // [1. 0, 2] - W (left/right)\n    // [1, 0, 1] - NW (Iso)\n    // [1, 0, 0] - N (Normal) (up/down)\n    // [1. 0, -1] - NE (Iso)\n    // [1. 0, -2] - E (left/right)\n    // [1. 0, -3] - SE (Iso)\n    this.cameraVector.z += Math.cos(radians);\n  }\n\n  /** Pitch Camera Counter Clockwise\n   *\n   * @param {float} radians\n   */\n  pitchCW(radians = Math.PI / 4) {\n    this.cameraVector.x -= Math.cos(radians);\n  }\n\n  /** Pitch Camera Counter Clockwise\n   *\n   * @param {float} radians\n   */\n  pitchCCW(radians = Math.PI / 4) {\n    this.cameraVector.x += Math.sin(radians);\n  }\n\n  /** Tilt Camera Counter Clockwise\n   *\n   * @param {float} radians\n   */\n  tiltCW(radians = Math.PI / 4) {\n    this.cameraVector.y -= Math.cos(radians);\n  }\n\n  /** Tilt Camera Counter Clockwise\n   *\n   * @param {float} radians\n   */\n  tiltCCW(radians = Math.PI / 4) {\n    this.cameraVector.z += Math.sin(radians);\n  }\n}\n\n// Singleton Factory for Camera Manager\nexport default class CameraManager {\n  constructor() {\n    this.camera = null;\n  }\n\n  /**\n   * Get the instance of the Camera Manager\n   * @returns {CameraManager} The Camera Manager instance\n   */\n  static getInstance() {\n    if (!CameraManager.instance) {\n      CameraManager.instance = new CameraManager();\n    }\n    return CameraManager.instance;\n  }\n\n  /**\n   * Create a new camera instance\n   * @param {RenderManager} renderingManager The rendering manager\n   * @returns {Camera} The camera instance\n   */\n  createCamera(renderingManager) {\n    if (!this.camera) {\n      this.camera = new Camera(renderingManager);\n    }\n    return this.camera;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport GLEngine from '../index.jsx';\nimport RenderManager from './manager.jsx';\n\nexport default class LightManager {\n  /** Light Manager for Scene\n   *\n   * @param {GLEngine} engine\n   */\n  constructor() {\n    this.lights = {};\n    // methods\n    this.addLight = this.addLight.bind(this);\n    this.removeLight = this.removeLight.bind(this);\n    this.tick = this.tick.bind(this);\n    this.render = this.render.bind(this);\n    this.setMatrixUniforms = this.setMatrixUniforms.bind(this);\n  }\n\n  /**\n   * Get the instance of the Camera Manager\n   * @returns {CameraManager} The Camera Manager instance\n   */\n  static getInstance() {\n    if (!LightManager.instance) {\n      LightManager.instance = new LightManager();\n    }\n    return LightManager.instance;\n  }\n\n  /**\n   * Create a new camera instance\n   * @param {RenderManager} renderManager The rendering manager\n   * @returns {LightManager} The camera instance\n   */\n  createLightManager(renderManager) {\n    if (!this.renderManager) {\n      this.renderManager = renderManager;\n      this.engine = renderManager.engine;\n    }\n    return LightManager.instance;\n  }\n\n  /**\n   * add a light source to the renderer\n   * @param {*} id\n   * @param {*} pos\n   * @param {*} color\n   * @param {*} attentuation\n   * @param {*} direction\n   * @param {*} density\n   * @param {*} scatteringCoefficients\n   * @param {*} enabled\n   * @returns id\n   */\n  addLight(id, pos, color, attentuation = [0.8, 0.8, 0.8], direction = [1, 1, 1], density = 1.0, scatteringCoefficients = [1, 1, 1], enabled = true) {\n    const { shaderProgram } = this.renderManager;\n    let index = this.lights.length;\n    if (index >= shaderProgram.maxLights) return;\n    let light = new PointLight(this.renderManager.engine, id, color, pos, attentuation, direction, density, scatteringCoefficients, enabled);\n    this.lights[id] = light;\n    return id;\n  }\n\n  /**\n   *\n   * @param {*} id\n   * @param {*} pos\n   * @param {*} color\n   * @param {*} attentuation\n   * @param {*} direction\n   * @param {*} density\n   * @param {*} scatteringCoefficients\n   * @param {*} enabled\n   */\n  updateLight(id, pos, color, attentuation, direction, density, scatteringCoefficients, enabled) {\n    let light = this.lights[id];\n    if (!light) return;\n    if (pos) light.pos = pos;\n    if (color) light.color = color;\n    if (attentuation) light.attenuation = attentuation;\n    if (direction) light.direction = direction;\n    if (density) light.density = density;\n    if (scatteringCoefficients) light.scatteringCoefficients = scatteringCoefficients;\n    if (enabled) light.enabled = enabled;\n    this.lights[id] = light;\n  }\n\n  /**\n   * add a light source to the renderer\n   * @param {*} id\n   */\n  removeLight(id) {\n    delete this.lights[id];\n  }\n\n  /**\n   * Update Point lighting\n   * @returns\n   */\n  tick() {\n    let keys = Object.keys(this.lights);\n    for (let i = 0; i < keys.length; i++) {\n      this.lights[keys[i]].tick();\n    }\n  }\n\n  // Draw Lights to scene\n  render() {\n    const { shaderProgram } = this.renderManager;\n    let lightUniforms = shaderProgram.uLights;\n\n    if (!lightUniforms) return;\n\n    for (let i = 0; i < shaderProgram.maxLights; i++) {\n      let keys = Object.keys(this.lights);\n\n      if (!this.lights[keys[i]]) continue;\n      if (!this.lights[keys[i]].enabled) continue;\n\n      this.lights[keys[i]].draw(lightUniforms[i]);\n    }\n  }\n\n  /** draw to frame\n   */\n  setMatrixUniforms() {\n    // update lights\n    this.tick();\n\n    // render point lights to scene\n    this.render();\n  }\n}\n\nexport class PointLight {\n  /**\n   * Point Light\n   */\n  constructor(engine, id, color, position, attenuation, direction, density, scatteringCoefficients, enabled) {\n    this.engine = engine;\n    this.id = id ?? 'light';\n    this.color = color ?? [1.0, 1.0, 1.0];\n    this.pos = position ?? [0.0, 0.0, 0.0];\n    this.attenuation = attenuation ?? [0.5, 0.1, 0.0];\n    this.density = density ?? 0.8;\n    this.scatteringCoefficients = scatteringCoefficients ?? [0.5, 0.5, 0.5];\n    this.direction = direction ?? [1.0, 1.0, 1.0];\n    this.enabled = enabled ?? true;\n    this.frame = 0;\n    // methods\n    this.draw = this.draw.bind(this);\n    this.tick = this.tick.bind(this);\n  }\n\n  // update light (ex. for flicker)\n  tick() {\n    // for (var i = 0; i < 3; i++) this.color[i] += Math.sin((0.0005 * this.frame * 180) / Math.PI) * 0.002;\n    this.frame++;\n  }\n\n  // draw light\n  draw(lightUniforms) {\n    const { gl } = this.engine;\n    gl.uniform1f(lightUniforms.enabled, this.enabled);\n    gl.uniform3fv(lightUniforms.position, this.pos);\n    gl.uniform3fv(lightUniforms.color, this.color);\n    gl.uniform3fv(lightUniforms.attenuation, this.attenuation);\n\n    // Set new uniforms for volumetric lighting\n    gl.uniform3fv(lightUniforms.direction, this.direction);\n    gl.uniform3fv(lightUniforms.scatteringCoefficients, this.scatteringCoefficients);\n    gl.uniform1f(lightUniforms.density, this.density);\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport createTransition from 'gl-transition';\n\n// Absolute imports\nimport { create, create3, normalFromMat4, rotate, translate, perspective, set } from '../../utils/math/matrix4.jsx';\nimport { Vector, negate, degToRad } from '../../utils/math/vector.jsx';\nimport { OBJ } from '../../utils/obj/index.js';\n\nimport CameraManager from './camera.jsx';\nimport LightManager from './light.jsx';\nimport GLEngine from '../index.jsx';\n\nexport default class RenderManager {\n  /** Rendering Manager for Engine\n   *\n   * @param {GLEngine} engine\n   */\n  constructor(engine) {\n    if (!RenderManager._instance) {\n      this.engine = engine;\n      this.fullscreen = engine.fullscreen;\n      // Matrices\n      this.uProjMat = create();\n      this.uModelMat = create();\n      this.normalMat = create3();\n      this.modelViewMatrixStack = [];\n\n      // Properties\n      this.scale = new Vector(1, 1, 1);\n      this.initializedWebGl = false;\n\n      // Effects\n      this.effects = [];\n      this.effectPrograms = {};\n\n      // Transitions\n      this.isTransitioning = false;\n      this.transition = null;\n      this.transitionParams = {};\n      this.transitionTexture = null;\n      this.transitionDuration = 0;\n      this.transitionTime = new Date().getMilliseconds();\n\n      // Camera\n      this.camera = CameraManager.getInstance().createCamera(this);\n\n      // Lights\n      this.lightManager = LightManager.getInstance().createLightManager(this);\n\n      // Methods\n      this.initShaderProgram = this.initShaderProgram.bind(this);\n      this.initShaderEffects = this.initShaderEffects.bind(this);\n      this.activateShaderProgram = this.activateShaderProgram.bind(this);\n      this.activateShaderEffectProgram = this.activateShaderEffectProgram.bind(this);\n    }\n    return RenderManager._instance;\n  }\n\n  /**\n   *\n   */\n  init() {\n    const { spritz, gl } = this.engine;\n\n    // Configure GL\n    gl.clearColor(0, 1.0, 0, 1.0);\n    gl.clearDepth(1.0);\n    gl.enable(gl.DEPTH_TEST);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n    gl.enable(gl.BLEND);\n\n    // Initialize Shader Programs\n    this.initShaderProgram(spritz.shaders);\n\n    // intiialize picker shader (special shader which allows for picking objects on screen)\n   this.initShaderEffects({\n      id: 'picker',\n      vs: require('../../shaders/picker/vs.jsx').default(),\n      fs: require('../../shaders/picker/fs.jsx').default(),\n      init: require('../../shaders/picker/init.jsx').default,\n    });\n\n    // Initialize Effects\n    if (spritz.effects) {\n      for (let i in spritz.effects) {\n        // todo --- needs work --> Doesn't apply filter correctly\n        // spritz.effectPrograms[i] = this.initShaderEffects(gl, spritz.effects[i]);\n      }\n    }\n\n    // Initialize Project Matrix\n    this.initProjection();\n\n    this.initializedWebGl = true;\n  }\n\n  /**\n   * Load and Compile Shader Source\n   * @param {*} type\n   * @param {*} source\n   * @returns\n   */\n  loadShader(type, source) {\n    const { gl } = this.engine;\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    // if error clear\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      const log = gl.getShaderInfoLog(shader);\n      gl.deleteShader(shader);\n      throw new Error(`An error occurred compiling the shaders: ${log}`);\n    }\n    return shader;\n  }\n\n  /**\n   * Initialize Shader Program\n   * @param {*} param1\n   * @returns\n   */\n  initShaderProgram = ({ vs: vsSource, fs: fsSource }) => {\n    const { gl } = this.engine;\n    const self = this;\n    const vertexShader = this.loadShader(gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = this.loadShader(gl.FRAGMENT_SHADER, fsSource);\n\n    // generate shader\n    let shaderProgram = gl.createProgram();\n    gl.attachShader(shaderProgram, vertexShader);\n    gl.attachShader(shaderProgram, fragmentShader);\n    gl.linkProgram(shaderProgram);\n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n      throw new Error(`WebGL unable to initialize the shader program: ${shaderProgram}`);\n    }\n\n    // Configure Shader\n    gl.useProgram(shaderProgram);\n\n    // Normals (needs work)\n    shaderProgram.aVertexNormal = gl.getAttribLocation(shaderProgram, 'aVertexNormal');\n    gl.enableVertexAttribArray(shaderProgram.aVertexNormal);\n\n    // Vertices\n    shaderProgram.aVertexPosition = gl.getAttribLocation(shaderProgram, 'aVertexPosition');\n    gl.enableVertexAttribArray(shaderProgram.aVertexPosition);\n\n    // Texture Coord\n    shaderProgram.aTextureCoord = gl.getAttribLocation(shaderProgram, 'aTextureCoord');\n    gl.enableVertexAttribArray(shaderProgram.aTextureCoord);\n\n    // Uniform Locations\n    shaderProgram.uDiffuse = gl.getUniformLocation(shaderProgram, 'uDiffuse');\n    shaderProgram.uSpecular = gl.getUniformLocation(shaderProgram, 'uSpecular');\n    shaderProgram.uSpecularExponent = gl.getUniformLocation(shaderProgram, 'uSpecularExponent');\n    shaderProgram.pMatrixUniform = gl.getUniformLocation(shaderProgram, 'uProjectionMatrix');\n    shaderProgram.mMatrixUniform = gl.getUniformLocation(shaderProgram, 'uModelMatrix');\n    shaderProgram.vMatrixUniform = gl.getUniformLocation(shaderProgram, 'uViewMatrix');\n    shaderProgram.nMatrixUniform = gl.getUniformLocation(shaderProgram, 'uNormalMatrix');\n    shaderProgram.samplerUniform = gl.getUniformLocation(shaderProgram, 'uSampler');\n    shaderProgram.diffuseMapUniform = gl.getUniformLocation(shaderProgram, 'uDiffuseMap');\n\n    shaderProgram.cameraPosition = gl.getUniformLocation(shaderProgram, `uCameraPosition`);\n\n    shaderProgram.runTransition = gl.getUniformLocation(shaderProgram, 'runTransition');\n    shaderProgram.useSampler = gl.getUniformLocation(shaderProgram, 'useSampler');\n    shaderProgram.useDiffuse = gl.getUniformLocation(shaderProgram, 'useDiffuse');\n    shaderProgram.scale = gl.getUniformLocation(shaderProgram, 'u_scale');\n\n    // light uniforms\n    shaderProgram.maxLights = 32;\n    shaderProgram.uLights = [];\n    for (let i = 0; i < shaderProgram.maxLights; i++) {\n      shaderProgram.uLights[i] = {\n        enabled: gl.getUniformLocation(shaderProgram, `uLights[${i}].enabled`),\n        color: gl.getUniformLocation(shaderProgram, `uLights[${i}].color`),\n        position: gl.getUniformLocation(shaderProgram, `uLights[${i}].position`),\n        attenuation: gl.getUniformLocation(shaderProgram, `uLights[${i}].attenuation`),\n        direction: gl.getUniformLocation(shaderProgram, `uLights[${i}].direction`),\n        scatteringCoefficients: gl.getUniformLocation(shaderProgram, `uLights[${i}].scatteringCoefficients`),\n        density: gl.getUniformLocation(shaderProgram, `uLights[${i}].density`),\n      };\n    }\n\n    // Uniform apply\n    shaderProgram.setMatrixUniforms = function ({scale = null, sampler = 1.0}) {\n      gl.uniformMatrix4fv(this.pMatrixUniform, false, self.uProjMat);\n      gl.uniformMatrix4fv(this.mMatrixUniform, false, self.uModelMat);\n      gl.uniformMatrix4fv(this.vMatrixUniform, false, self.camera.uViewMat);\n\n      // normal\n      self.normalMat = create3();\n      normalFromMat4(self.normalMat, self.uModelMat);\n      gl.uniformMatrix3fv(this.nMatrixUniform, false, self.normalMat);\n\n      // scale\n      gl.uniform3fv(this.scale, scale ? scale.toArray() : self.scale.toArray());\n\n      // use sampler or materials?\n      gl.uniform1f(this.useSampler, sampler);\n\n      // transitiion\n      gl.uniform1f(this.runTransition, self.isTransitioning ? 1.0 : 0.0);\n\n      // camera position\n      gl.uniform3fv(this.cameraPosition, self.camera.cameraPosition.toArray());\n\n      // point lights\n      self.lightManager.setMatrixUniforms();\n    };\n\n    const attrs = {\n      aVertexPosition: OBJ.Layout.POSITION.key,\n      aVertexNormal: OBJ.Layout.NORMAL.key,\n      aTextureCoord: OBJ.Layout.UV.key,\n    };\n    shaderProgram.applyAttributePointers = function (mesh) {\n      const layout = mesh.vertexBuffer.layout;\n      for (const attrName in attrs) {\n        if (!attrs.hasOwnProperty(attrName) || shaderProgram[attrName] == -1) {\n          continue;\n        }\n        const layoutKey = attrs[attrName];\n        if (shaderProgram[attrName] != -1) {\n          const attr = layout.attributeMap[layoutKey];\n          gl.vertexAttribPointer(shaderProgram[attrName], attr.size, gl[attr.type], attr.normalized, attr.stride, attr.offset);\n        }\n      }\n    };\n    gl.disableVertexAttribArray(shaderProgram.aVertexNormal);\n    // return\n    this.shaderProgram = shaderProgram;\n    return shaderProgram;\n  };\n\n  /**\n   * Initialize Shader Effect (blur, depth of field, etc)\n   * @returns\n   */\n  activateShaderProgram = () => {\n    const { gl } = this.engine;\n    gl.useProgram(this.shaderProgram);\n  };\n\n  /**\n   * Initialize Shader Picker for selection of objects\n   * @returns\n   */\n  activatePickerShaderProgram = () => {\n    const { gl } = this.engine;\n    gl.useProgram(this.effectPrograms['picker']);\n  };\n\n  /**\n   * Initialize Shader Effect (blur, depth of field, etc)\n   * @param {*} id\n   * @returns\n   */\n  activateShaderEffectProgram = (id) => {\n    const { gl } = this.engine;\n    gl.useProgram(this.effectPrograms[id]);\n  };\n\n  /**\n   * Initialize Shader Effect (blur, depth of field, etc)\n   * @param {*} param1\n   * @returns\n   */\n  initShaderEffects = ({ vs: vsSource, fs: fsSource, id: id, init: init }) => {\n    const { gl } = this.engine;\n    const self = this;\n    const vertexShader = this.loadShader(gl.VERTEX_SHADER, vsSource);\n    const fragmentShader = this.loadShader(gl.FRAGMENT_SHADER, fsSource);\n\n    // generate shader\n    let effectProgram = gl.createProgram();\n    gl.attachShader(effectProgram, vertexShader);\n    gl.attachShader(effectProgram, fragmentShader);\n    gl.linkProgram(effectProgram);\n    if (!gl.getProgramParameter(effectProgram, gl.LINK_STATUS)) {\n      throw new Error(`WebGL unable to initialize the shader effect program: ${effectProgram}`);\n    }\n\n    // apply calLback\n    this.effectPrograms[id] = init.call(self, effectProgram);\n    this.effects.push(id);\n\n    return this.effectPrograms[id];\n  };\n\n  /**\n   * Set FOV and Perspective\n   */\n  initProjection() {\n    const { gl } = this.engine;\n    const fieldOfView = degToRad(this.camera.fov);\n    const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\n    const zNear = 0.1;\n    const zFar = 100.0;\n    this.uProjMat = perspective(fieldOfView, aspect, zNear, zFar);\n    this.camera.uViewMat = create();\n    this.uProjMat[5] *= -1;\n  }\n\n  /**\n   * Clear Screen with Color (RGBA)\n   */\n  clearScreen() {\n    const { gl } = this.engine;\n    gl.viewport(0, 0, gl.canvas.clientWidth, gl.canvas.clientHeight);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    perspective(degToRad(this.camera.fov), gl.canvas.clientWidth / gl.canvas.clientHeight, 0.1, 100.0, this.uProjMat);\n    this.camera.uViewMat = create();\n  }\n\n  /**\n   * Go Fullscreen\n   */\n  toggleFullscreen() {\n    if (!this.fullscreen) {\n      try {\n        this.engine.gamepadcanvas.parentElement.requestFullscreen();\n        this.fullscreen = true;\n      } catch (e) {\n        //\n      }\n    } else {\n      try {\n        document.exitFullscreen();\n      } catch (e) {\n        //\n      }\n      this.fullscreen = false;\n    }\n  }\n\n  /**\n   * push new matrix to model stack\n   */\n  mvPushMatrix() {\n    let copy = create();\n    set(this.uModelMat, copy);\n    let m = create();\n    set(this.camera.uViewMat, m);\n    this.modelViewMatrixStack.push([copy, m]);\n  }\n\n  /**\n   * pop model stack and apply view\n   */\n  mvPopMatrix() {\n    if (this.modelViewMatrixStack.length == 0) {\n      throw 'Invalid popMatrix!';\n    }\n    [this.uModelMat, this.camera.uViewMat] = this.modelViewMatrixStack.pop();\n  }\n\n  /**\n   * Render Frame\n   */\n  transition() {\n    let now = new Date().getMilliseconds();\n    this.transition.draw(\n      ((this.transitionTime - now) / this.transitionDuration) % 1,\n      this.transitionTexture,\n      this.transitionTexture,\n      this.engine.gl.canvas.width,\n      this.engine.gl.canvas.height,\n      this.transitionParams\n    );\n    if (now >= this.transitionTime) {\n      this.isTransitioning = false;\n    }\n  }\n\n  /**\n   * individual buffer\n   * @param {*} contents\n   * @param {*} type\n   * @param {*} itemSize\n   * @returns\n   */\n  createBuffer(contents, type, itemSize) {\n    let { gl } = this.engine;\n    let buf = gl.createBuffer();\n    buf.itemSize = itemSize;\n    buf.numItems = contents.length / itemSize;\n    gl.bindBuffer(gl.ARRAY_BUFFER, buf);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(contents), type);\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    return buf;\n  }\n\n  /**\n   * update buffer\n   * @param {*} buffer\n   * @param {*} contents\n   */\n  updateBuffer(buffer, contents) {\n    let { gl } = this.engine;\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferSubData(gl.ARRAY_BUFFER, 0, new Float32Array(contents));\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\n  }\n\n  /**\n   * bind buffer\n   * @param {*} buffer\n   * @param {*} attribute\n   */\n  bindBuffer(buffer, attribute) {\n    let { gl } = this.engine;\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.vertexAttribPointer(attribute, buffer.itemSize, gl.FLOAT, false, 0, 0);\n  }\n\n  // transition (fade, swipe, etc)\n  startTransition(params) {\n    let duration = params.duration || 1000;\n    let time = new Date().getMilliseconds();\n    this.isTransitioning = true;\n    while (time + duration > new Date().getMilliseconds()) {\n      // do nothig\n    }\n    this.isTransitioning = false;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport ActionQueue from '@Engine/core/queue/index.jsx';\nimport Loadable from '@Engine/core/queue/loadable.jsx';\nexport class Texture extends Loadable {\n  /**\n   * Texture objects for use with the pixos engine\n   * @param {string} src\n   * @param {} engine\n   */\n  constructor(src, engine) {\n    super();\n    this.engine = engine;\n    this.src = src;\n    this.glTexture = engine.gl.createTexture();\n    this.image = new Image();\n    this.image.onload = this.onImageLoaded.bind(this);\n    this.image.src = src;\n    this.loaded = false;\n    this.onLoadActions = new ActionQueue();\n  }\n\n  /**\n   * Load Texture from Image\n   */\n  onImageLoaded() {\n    let { gl } = this.engine;\n    gl.bindTexture(gl.TEXTURE_2D, this.glTexture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.image);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    this.loaded = true;\n    this.onLoadActions.run();\n  }\n\n  /**\n   * Bind texture to Uniform\n   */\n  attach() {\n    let { gl } = this.engine;\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, this.glTexture);\n    gl.uniform1i(this.engine.renderManager.shaderProgram.samplerUniform, 0);\n  }\n}\n\nexport class ColorTexture extends Loadable {\n  /**\n   * Solid colour texture to use in engine\n   * @param {number[]} color\n   * @param {*} engine\n   */\n  constructor(color, engine) {\n    this.engine = engine;\n    this.color = color;\n    this.glTexture = engine.gl.createTexture();\n    this.loaded = false;\n    this.onLoadActions = new ActionQueue();\n    this.loadTexture();\n  }\n\n  /**\n   * Load Texture from Image\n   */\n  loadTexture() {\n    let { gl } = this.engine;\n    const level = 0;\n    const internalFormat = gl.RGBA;\n    const width = 1;\n    const height = 1;\n    const border = 0;\n    const srcFormat = gl.RGBA;\n    const srcType = gl.UNSIGNED_BYTE;\n    const pixel = new Uint8Array([...this.color]);\n\n    gl.bindTexture(gl.TEXTURE_2D, this.glTexture);\n    gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border, srcFormat, srcType, pixel);\n    this.loaded = true;\n    this.onLoadActions.run();\n  }\n\n  /**\n   * Bind texture to Uniform\n   */\n  attach() {\n    let { gl } = this.engine;\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, this.glTexture);\n    gl.uniform1i(this.engine.renderManager.shaderProgram.samplerUniform, 0);\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport ActionQueue from '@Engine/core/queue/index.jsx';\nimport { textScrollBox } from '@Engine/core/hud.jsx';\n\nexport default class Speech {\n  /**\n   * Speech Bubble and positioned text\n   * @param {*} canvas \n   * @param {*} engine \n   * @param {string} id \n   */\n  constructor(canvas, engine, id) {\n    this.id = id;\n    this.engine = engine;\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n    this.glTexture = engine.gl.createTexture();\n    this.loaded = false;\n    this.onLoadActions = new ActionQueue();\n    this.loadImage();\n  }\n\n  /**\n   * Run action if loaded or add to queue\n   * @param {*} action\n   */\n  runWhenLoaded(action) {\n    if (this.loaded) action();\n    else this.onLoadActions.add(action);\n  }\n\n  /**\n   * Load Texture from Image\n   */\n  loadImage() {\n    let { gl } = this.engine;\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\n    gl.bindTexture(gl.TEXTURE_2D, this.glTexture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.canvas); // This is the important line!\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);\n    gl.generateMipmap(gl.TEXTURE_2D);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n    this.loaded = true;\n    this.onLoadActions.run();\n  }\n\n  /**\n   * Bind texture to Uniform\n   */\n  attach() {\n    let { gl } = this.engine;\n    gl.activeTexture(gl.TEXTURE0);\n    gl.bindTexture(gl.TEXTURE_2D, this.glTexture);\n    gl.uniform1i(this.engine.renderManager.shaderProgram.samplerUniform, 0);\n  }\n\n  /**\n   * clear HUD overlay\n   */\n  clearHud() {\n    const { ctx } = this;\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    this.loadImage();\n  }\n\n  /**\n   * Write Text to HUD\n   * @param {string} text\n   * @param {number} x\n   * @param {number} y\n   */\n  writeText(text, x, y) {\n    const { ctx } = this;\n    ctx.save();\n    ctx.font = '32px minecraftia';\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.fillStyle = 'white';\n    ctx.fillText(text, x ?? ctx.canvas.width / 2, y ?? ctx.canvas.height / 2);\n    ctx.restore();\n  }\n\n  /**\n   * Scrolling Textbox\n   * @param {string} text\n   * @param {boolean} scrolling\n   * @param {*} options\n   * @returns\n   */\n  scrollText(text, scrolling = false, options = {}) {\n    let txt = new textScrollBox(this.ctx);\n    if (options.portrait) {\n      txt.init(text, 10, 10, this.canvas.width - 20 - 84, (2 * this.canvas.height) / 3 - 20, options);\n    } else {\n      txt.init(text, 10, 10, this.canvas.width - 20, (2 * this.canvas.height) / 3 - 20, options);\n    }\n    txt.setOptions(options);\n    if (scrolling) {\n      txt.scroll((Math.sin(new Date().getTime() / 3000) + 1) * txt.maxScroll * 0.5); // default oscillate\n    }\n    txt.render();\n    return txt;\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\n// Absolute imports\nimport { AudioLoader } from '../../utils/loaders/AudioLoader.jsx';\n\n// Relative imports\nimport { Texture, ColorTexture } from './texture.jsx';\nimport Speech from '../scene/speech.jsx';\n\n// Absolute imports\nimport { OBJ } from '../../utils/obj/index.js';\nimport GLEngine from '../index.jsx';\n\nexport default class ResourceManager {\n  /** Rendering Manager for Engine\n   *\n   * @param {GLEngine} engine\n   */\n  constructor(engine) {\n    if (!ResourceManager._instance) {\n      this.engine = engine;\n\n      this.objLoader = OBJ;\n      this.audioLoader = new AudioLoader(this);\n\n      // todo - need to move all resources into this class\n      // --> tilesets\n      // --> textures\n      // --> audio\n      // --> models\n      // --> fonts\n      // --> possibly shaders....\n\n      // ASSETS\n      this.textures = [];\n      this.speeches = [];\n\n      this.loadSpeech = this.loadSpeech.bind(this);\n      this.loadTexture = this.loadTexture.bind(this);\n      this.loadTextureFromZip = this.loadTextureFromZip.bind(this);\n    }\n    return ResourceManager._instance;\n  }\n\n  /**\n   * load texture\n   * @param {*} src\n   * @returns\n   */\n  loadTexture(src) {\n    if (this.textures[src]) return this.textures[src];\n    this.textures[src] = new Texture(src, this.engine);\n    return this.textures[src];\n  }\n\n  /**\n   * load texture from zip\n   * @param {*} src\n   * @param {*} zip\n   * @returns\n   */\n  async loadTextureFromZip(src, zip) {\n    if (this.textures[src]) return this.textures[src];\n    let imageData = await zip.file(`textures/${src}`).async('arrayBuffer');\n    let buffer = new Uint8Array(imageData);\n    let blob = new Blob([buffer.buffer]);\n    let dataUrl = URL.createObjectURL(blob);\n    this.textures[src] = new Texture(dataUrl, this.engine);\n    return this.textures[src];\n  }\n\n  /**\n   * load speech\n   * @param {*} src\n   * @param {*} canvas\n   * @returns\n   */\n  loadSpeech(src, canvas) {\n    if (this.speeches[src]) return this.speeches[src];\n    this.speeches[src] = new Speech(canvas, this.engine, src);\n    return this.speeches[src];\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport Utils from '../utils/index.jsx';\nimport { GamePad } from '../utils/gamepad/index.jsx';\nimport Keyboard from '../utils/keyboard.jsx';\nimport Database from './database.jsx';\nimport Store from './store.jsx';\nimport Hud from './hud.jsx';\nimport RenderManager from './render/manager.jsx';\nimport ResourceManager from './resource/manager.jsx';\n\nexport default class GLEngine {\n  /**\n   * Core Pixos Graphics & Game Engine\n   * @param {*} canvas\n   * @param {*} hudcanvas\n   * @param {*} mipmap\n   * @param {*} gamepadcanvas\n   * @param {*} fileUpload\n   * @param {*} width\n   * @param {*} height\n   */\n  constructor(canvas, hudcanvas, mipmap, gamepadcanvas, fileUpload, width, height) {\n    // CANVASES\n    this.canvas = canvas;\n    this.hudcanvas = hudcanvas;\n    this.gamepadcanvas = gamepadcanvas;\n    this.mipmap = mipmap;\n\n    // INPUTS\n    this.fileUpload = fileUpload;\n\n    // SCREEN\n    this.width = width;\n    this.height = height;\n\n    // UTILITIES\n    this.utils = Utils;\n\n    // RESOURCES\n    this.resourceManager = new ResourceManager(this);\n\n    // RENDERING (Graphics, Lights, Camera)\n    this.renderManager = new RenderManager(this);\n\n    //HUD\n    this.hud = new Hud(this);\n\n    // KEYBOARD\n    this.keyboard = new Keyboard(this);\n\n    // GAMEPAD\n    this.gamepad = new GamePad(this);\n\n    // AUDIO & VOICE\n    this.voice = new SpeechSynthesisUtterance();\n\n    // DATABASE\n    this.database = new Database();\n\n    // MEMORY STORE\n    this.store = new Store();\n\n    // bind\n    this.screenSize = this.screenSize.bind(this);\n    this.render = this.render.bind(this);\n    this.init = this.init.bind(this);\n    this.close = this.close.bind(this);\n  }\n\n  /**\n   * Initialize a Spritz object\n   * @param {*} spritz\n   */\n  async init(spritz) {\n    const ctx = this.hudcanvas.getContext('2d');\n    const gl = this.canvas.getContext('webgl2');\n    const gp = this.gamepadcanvas.getContext('2d');\n\n    if (!gl) {\n      throw new Error('WebGL : unable to initialize');\n    }\n    if (!ctx) {\n      throw new Error('Canvas : unable to initialize HUD');\n    }\n    if (!gp) {\n      throw new Error('Gamepad : unable to initialize Mobile Canvas');\n    }\n\n    // make HUD same size as canvas\n    ctx.canvas.width = gl.canvas.clientWidth;\n    ctx.canvas.height = gl.canvas.clientHeight;\n\n    this.gl = gl;\n    this.ctx = ctx;\n    this.gp = gp;\n\n    this.spritz = spritz;\n    this.fullscreen = false;\n\n    // initial time\n    this.time = new Date().getTime();\n\n    // init keyboard\n    this.keyboard.init();\n\n    // initialize hud\n    this.hud.init();\n\n    // initialize render manager\n    this.renderManager.init();\n\n    // Configure Gamepad & touch\n    this.gamepad.init();\n    this.touch = this.gamepad.listen.bind(this.gamepad);\n\n    // Initialize Spritz\n    await spritz.init(this);\n  }\n\n  /**\n   * Render Frame\n   */\n  render() {\n    this.requestId = requestAnimationFrame(this.render);\n\n    // clear canvases\n    this.hud.clearHud();\n    this.renderManager.clearScreen(); // todo - move into view\n\n    const timestamp = new Date().getTime();\n\n    // todo --- not working\n    // enable picker shader\n    this.renderManager.activatePickerShaderProgram();\n\n    const selectedObj = this.getSelectedObject();\n    if(selectedObj?.sprites.length > 0){\n      console.log({ selectedObj });\n    }\n  \n    // default shader program\n    this.renderManager.activateShaderProgram();\n\n    // core render loop\n    this.gamepad.render();\n    this.spritz.render(this, timestamp);\n\n    // transitions - todo - not working\n    if (this.isTransitioning) {\n      this.renderManager.transition();\n    }\n  }\n\n  /**\n   * Clear Render Loop\n   */\n  close() {\n    cancelAnimationFrame(this.requestId);\n  }\n\n  /**\n   * Get Selected Object on screen\n   */\n  getSelectedObject() {\n    if(this.spritz.world.spriteList.length <= 0){return;}\n    const gl = this.gl;\n    const data = new Uint8Array(4);\n    const mouseX = this.gamepad.x || 0;\n    const mouseY = this.gamepad.y || 0;\n    const pixelX = mouseX * gl.canvas.width / gl.canvas.clientWidth;\n    const pixelY = gl.canvas.height - mouseY * gl.canvas.height / gl.canvas.clientHeight - 1;\n    \n    gl.readPixels(\n      pixelX, // x\n      pixelY, // y\n      1, // width\n      1, // height\n      gl.RGBA, // format\n      gl.UNSIGNED_BYTE, // type\n      data\n    ); // typed array to hold result\n\n    const id = data[0] / 0xff + (data[1] << 8 / 0xff) + (data[2] << 16 / 0xff) + (data[3] << 24 / 0xff);\n    \n    const sprites = this.spritz.world.spriteList.filter((sprite)=>{\n      return sprite.objId === id;\n    });\n    const objects = this.spritz.world.objectList.filter((object)=>{\n      return object.objId === id;\n    });\n    \n    return {sprites, objects};\n\n    // restore the object's color\n    // if (oldPickNdx >= 0) {\n    // const object = objects[oldPickNdx];\n    // object.uniforms.u_colorMult = oldPickColor;\n    // oldPickNdx = -1;\n    // }\n\n    // highlight object under mouse\n    // if (id > 0) {\n    // const pickNdx = id - 1;\n    // oldPickNdx = pickNdx;\n    // const object = objects[pickNdx];\n    // oldPickColor = object.uniforms.u_colorMult;\n    // object.uniforms.u_colorMult = (frameCount & 0x8) ? [1, 0, 0, 1] : [1, 1, 0, 1];\n    // }\n  }\n\n  /**\n   * Greeting Text\n   * @param {string} text\n   */\n  setGreeting(text) {\n    console.log('setting GREETING');\n    this.globalStore.greeting = text;\n  }\n\n  /**\n   * Text to Speech output\n   * @param {string} text\n   * @param {SpeechSynthesisVoice} voice\n   * @param {string} lang\n   * @param {number} rate\n   * @param {number} volume\n   * @param {number} pitch\n   */\n  speechSynthesis(text, voice = null, lang = 'en', rate = null, volume = null, pitch = null) {\n    let speech = this.voice;\n    let voices = window.speechSynthesis.getVoices() ?? [];\n    // set voice\n    speech.voice = voices[0];\n    if (rate) speech.rate = rate;\n    if (volume) speech.volume = volume;\n    if (pitch) speech.pitch = pitch;\n    speech.text = text;\n    speech.lang = lang;\n    // speak\n    window.speechSynthesis.speak(speech);\n  }\n\n  /**\n   * convert a stream to a video\n   * @param {*} stream\n   * @param {*} ref\n   * @returns\n   */\n  streamToVideo(stream, ref) {\n    let video = document.createElement('video');\n    if (ref) {\n      video = ref.current;\n    }\n    video.srcObject = stream;\n    video.style.width = stream.width;\n    video.style.height = stream.height;\n    video.play();\n    return video;\n  }\n\n  /**\n   * convert a stream to an image\n   * @param {*} stream\n   * @param {*} ref\n   * @returns\n   */\n  streamToImage(stream, ref) {\n    let video = document.createElement('video');\n    if (ref) {\n      video = ref.current;\n    }\n    video.srcObject = stream;\n    video.style.width = stream.width;\n    video.style.height = stream.height;\n    video.play();\n    return video;\n  }\n\n  /**\n   * convert a stream to a texture\n   * @param {*} stream\n   * @param {*} ref\n   * @returns\n   */\n  streamToTexture(stream, ref) {\n    let video = document.createElement('video');\n    if (ref) {\n      video = ref.current;\n    }\n    video.srcObject = stream;\n    video.style.width = stream.width;\n    video.style.height = stream.height;\n    video.play();\n    return video;\n  }\n\n  /**\n   * Screensize\n   * @returns\n   */\n  screenSize() {\n    return {\n      width: this.canvas.clientWidth,\n      height: this.canvas.clientHeight,\n    };\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport glEngine from '@Engine/core/index.jsx';\nimport { minecraftia } from '@Engine/core/hud.jsx';\n//\nconst WebGLView = ({ width, height, SpritzProvider, class: string, zipData }) => {\n  // Canvas\n  const ref = useRef();\n  const hudRef = useRef();\n  const gamepadRef = useRef();\n  const fileRef = useRef();\n  const mmRef = useRef();\n  const recordBtnRef = useRef();\n  const previewBtnRef = useRef();\n  const recordingRef = useRef();\n  const mergeCanvasRef = useRef();\n  const previewRef = useRef();\n  const previewBoxRef = useRef();\n\n  // keyboard & touch\n  let onKeyEvent = SpritzProvider.onKeyEvent;\n  let onTouchEvent = SpritzProvider.onTouchEvent;\n  let engine = null;\n\n  // recording stream & media tracks\n  let chunks = []; // recording\n  let [isRecording, setRecording] = useState(false);\n  let [showRecording, setPreview] = useState(false);\n  let [recorder, setRecorder] = useState();\n  let [cStream, setStream] = useState();\n\n  // Resize\n  const [screenSize, getDimension] = useState({\n    dynamicWidth: window.innerWidth,\n    dynamicHeight: window.innerHeight,\n  });\n\n  // window dimensions\n  const setDimension = () => {\n    getDimension({\n      dynamicWidth: window.innerWidth,\n      dynamicHeight: window.innerHeight,\n    });\n  };\n\n  // load fonts\n  async function loadFonts() {\n    await minecraftia.load();\n    document.fonts.add(minecraftia);\n  }\n\n  function stopRecording(recorder) {\n    recordingRef.current.pause();\n    recorder?.stop();\n  }\n  function stopTouchScrolling(canvas) {\n    // Prevent scrolling when touching the canvas\n    document.body.addEventListener(\n      'touchstart',\n      function (e) {\n        if (e.target == canvas) {\n          e.preventDefault();\n        }\n      },\n      { passive: false }\n    );\n    document.body.addEventListener(\n      'touchend',\n      function (e) {\n        if (e.target == canvas) {\n          e.preventDefault();\n        }\n      },\n      { passive: false }\n    );\n    document.body.addEventListener(\n      'touchmove',\n      function (e) {\n        if (e.target == canvas) {\n          e.preventDefault();\n        }\n      },\n      { passive: false }\n    );\n  }\n  function startRecording(cStream, recorder) {\n    setRecorder(recorder);\n    setStream(cStream);\n\n    // start\n    recorder.start();\n    recorder.onstart = () => {\n      setRecording(true);\n    };\n\n    // capture output from merge & preview\n    recorder.ondataavailable = (e) => {\n      e.data.size && chunks.push(e.data);\n    };\n\n    // handle export and display video\n    recorder.onstop = function exportStream(e) {\n      if (chunks.length) {\n        setRecording(false);\n        // generate blob\n        let blob = new Blob(chunks);\n        let vidURL = URL.createObjectURL(blob);\n        // output recording video\n        let vid = recordingRef.current;\n        vid.controls = true;\n        vid.src = vidURL;\n        vid.onend = function () {\n          URL.revokeObjectURL(vidURL);\n        };\n        // clear buffer\n        chunks = [];\n      }\n    };\n  }\n  function hidePreview() {\n    setPreview(false);\n  }\n  function showPreview() {\n    setPreview(true);\n  }\n\n  // Provide Draggable Preview to move window around\n  function dragElement(ref) {\n    try {\n      let pos1 = 0,\n        pos2 = 0,\n        pos3 = 0,\n        pos4 = 0;\n\n      ref.current.onmousedown = dragMouseDown;\n\n      function dragMouseDown(e) {\n        e.preventDefault();\n        pos3 = e.clientX;\n        pos4 = e.clientY;\n        ref.current.onmouseup = closeDragElement;\n        ref.current.onmousemove = elementDrag;\n      }\n\n      function elementDrag(e) {\n        e.preventDefault();\n        pos1 = pos3 - e.clientX;\n        pos2 = pos4 - e.clientY;\n        pos3 = e.clientX;\n        pos4 = e.clientY;\n        ref.current.style.top = ref.current.offsetTop - pos2 + 'px';\n        ref.current.style.left = ref.current.offsetLeft - pos1 + 'px';\n      }\n\n      function closeDragElement() {\n        ref.current.onmouseup = null;\n        ref.current.onmousemove = null;\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  // Screen capture from spritz and hud\n  function captureVideoStreams(canvas, hud, recorder, cStream, mergeCanvas, mergeContext) {\n    // stream video output (single canvas element?)\n    cStream = mergeCanvas.captureStream();\n    engine.streamToVideo(cStream, previewRef);\n\n    // setup recorder (todo -- move into the engine to access audio streams)\n    recorder = new MediaRecorder(cStream);\n\n    // capture streams\n    let gameVideo = engine.streamToVideo(canvas.captureStream());\n    let hudVideo = engine.streamToVideo(hud.captureStream());\n\n    // merge hud + canvas into preview (for recording / screen capture)\n    (function mergeStreams() {\n      mergeContext.drawImage(gameVideo, 0, 0, mergeCanvas.width, mergeCanvas.height); // game\n      mergeContext.drawImage(hudVideo, 0, 0, mergeCanvas.width, mergeCanvas.height); // hud\n      requestAnimationFrame(mergeStreams);\n    })();\n  }\n\n  useEffect(async () => {\n    // handle resize\n    window.addEventListener('resize', setDimension);\n    // setup canvases\n    const canvas = ref.current;\n    const hud = hudRef.current;\n    const mipmap = mmRef.current;\n    const gamepad = gamepadRef.current;\n    const fileUpload = fileRef.current;\n\n    // merge streams canvas\n    const mergeCanvas = mergeCanvasRef.current;\n    let mergeContext = mergeCanvas.getContext('2d');\n\n    // Webgl Engine\n    engine = new glEngine(canvas, hud, mipmap, gamepad, fileUpload, width, height);\n\n    // screen capture\n    // dragElement(previewBoxRef);\n    captureVideoStreams(canvas, hud, recorder, cStream, mergeCanvas, mergeContext);\n\n    // load fonts\n    await loadFonts();\n\n    // Initialize Spritz\n    await engine.init(SpritzProvider);\n\n    // render loop\n    engine.render();\n\n    // cleanup\n    return () => {\n      stopTouchScrolling(canvas);\n      stopTouchScrolling(gamepad);\n      stopTouchScrolling(hud);\n      window.removeEventListener('resize', setDimension);\n      engine.close();\n    };\n  }, [SpritzProvider]);\n\n  let wrapperHeight = (screenSize.dynamicWidth * 3) / 4 > 1080 ? 1080 : screenSize.dynamicHeight;\n  let canvasHeight = (screenSize.dynamicWidth * 3) / 4 > 1080 ? wrapperHeight : wrapperHeight - 200;\n  let canvasWidth = screenSize.dynamicWidth > 1920 ? 1920 : screenSize.dynamicWidth;\n  let showGamepad = screenSize.dynamicWidth <= 900;\n  let recordBtnStyle = {\n    display: isRecording ? 'none' : 'block',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: 100,\n    height: '2.5rem',\n    padding: '0.5rem',\n    opacity: 0.8,\n  };\n  let showRecordBtnStyle = {\n    display: showRecording ? 'none' : 'block',\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    zIndex: 100,\n    height: '2.5rem',\n    padding: '0.5rem',\n    opacity: 0.8,\n  };\n\n  return (\n    <div style={{ marginLeft: 'auto', marginRight: 'auto' }}>\n      <div\n        style={{\n          position: 'relative',\n          padding: 'none',\n          background: 'slategrey',\n          height: canvasHeight + 'px',\n          width: canvasWidth + 'px',\n        }}\n        onKeyDownCapture={(e) => onKeyEvent(e.nativeEvent)}\n        onKeyUpCapture={(e) => onKeyEvent(e.nativeEvent)}\n        tabIndex={0}\n      >\n        {/* Preview & Recording */}\n        <div style={{ display: !showRecording ? 'none' : 'block' }} ref={previewBoxRef}>\n          <video style={{ display: isRecording ? 'block' : 'none' }} width={canvasWidth / 2} height={canvasHeight / 2} ref={previewRef}></video>\n          <video style={{ display: isRecording ? 'none' : 'block' }} width={canvasWidth / 2} height={canvasHeight / 2} ref={recordingRef}></video>\n        </div>\n        {/* Game */}\n        <div style={{ display: showRecording ? 'none' : 'block' }}>\n          {/* // WEBGL - For 3D Rendering */}\n          <canvas\n            style={{\n              position: 'absolute',\n              zIndex: 1,\n              top: 0,\n              left: 0,\n              maxHeight: '100vh',\n            }}\n            ref={ref}\n            width={canvasWidth}\n            height={canvasHeight}\n            className={string}\n          />\n          {/* HUD - For Dialogue / Menus / Overlays */}\n          <canvas\n            style={{\n              position: 'absolute',\n              zIndex: 2,\n              top: 0,\n              left: 0,\n              background: 'none',\n              maxHeight: '100vh',\n            }}\n            ref={hudRef}\n            width={canvasWidth}\n            height={canvasHeight}\n            className={string}\n            onMouseUp={!showGamepad ? (e) => onTouchEvent(e.nativeEvent) : null}\n            onMouseDown={!showGamepad ? (e) => onTouchEvent(e.nativeEvent) : null}\n            onMouseMove={!showGamepad ? (e) => onTouchEvent(e.nativeEvent) : null}\n          />\n          {/* Gamepad - For controls on Mobile Only*/}\n          <canvas\n            style={{\n              position: 'relative',\n              zIndex: 5,\n              top: 0,\n              left: 0,\n              background: 'none',\n              display: showGamepad ? 'block' : 'none',\n              maxHeight: '100vh',\n            }}\n            ref={gamepadRef}\n            hidden={!showGamepad}\n            width={canvasWidth}\n            height={wrapperHeight}\n            className={string}\n            onMouseUp={(e) => onTouchEvent(e.nativeEvent)}\n            onMouseDown={(e) => onTouchEvent(e.nativeEvent)}\n            onMouseMove={(e) => onTouchEvent(e.nativeEvent)}\n            onTouchMoveCapture={(e) => onTouchEvent(e.nativeEvent)}\n            onTouchCancelCapture={(e) => onTouchEvent(e.nativeEvent)}\n            onTouchStartCapture={(e) => onTouchEvent(e.nativeEvent)}\n            onTouchEndCapture={(e) => onTouchEvent(e.nativeEvent)}\n          />\n          {/* MIPMAP - For Sprite Text / Speech / Titles */}\n          <canvas style={{ display: 'none' }} ref={mmRef} width={256} height={256} />\n          {/* Merged Preview Canvas / Recording Source*/}\n          <canvas\n            width={canvasWidth}\n            height={canvasHeight}\n            ref={mergeCanvasRef}\n            style={{\n              display: 'none',\n            }}\n          ></canvas>\n        </div>\n      </div>\n      <div>\n        <input type=\"file\" ref={fileRef} src={zipData ?? null} hidden />\n        {/* Recording Buttons - todo - style and include video controls */}\n        <button style={recordBtnStyle} ref={recordBtnRef} onClick={() => startRecording(cStream, recorder)}>\n          Record Gameplay\n        </button>\n        <button style={{ ...recordBtnStyle, display: isRecording ? 'block' : 'none' }} ref={recordBtnRef} onClick={() => stopRecording(recorder)}>\n          Stop Recording\n        </button>\n        <button style={{ ...showRecordBtnStyle }} ref={previewBtnRef} onClick={() => showPreview()}>\n          Show Recording\n        </button>\n        <button style={{ ...showRecordBtnStyle, display: showRecording ? 'block' : 'none' }} ref={previewBtnRef} onClick={() => hidePreview()}>\n          Show Game\n        </button>\n      </div>\n    </div>\n  );\n};\n\nWebGLView.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  SpritzProvider: PropTypes.object.isRequired,\n  class: PropTypes.string.isRequired,\n};\n\nexport default WebGLView;\n","export default function init(effectProgram) {\n  // Depth of Field Blur Effect\n  const gl = this.gl;\n\n  // console.log({ msg: 'made it' });\n\n  effectProgram.hblurBuffer = gl.createFramebuffer();\n  effectProgram.dofUniformBuffer = gl.createBuffer();\n\n  // Configure Shader\n  effectProgram.texelOffsetLocation = gl.getUniformLocation(effectProgram, 'uTexelOffset');\n  effectProgram.textureLocation = gl.getUniformLocation(effectProgram, 'uColor');\n  effectProgram.depthLocation = gl.getUniformLocation(effectProgram, 'uDepth');\n\n  effectProgram.quadArray = gl.createVertexArray();\n  gl.bindVertexArray(effectProgram.quadArray);\n\n  effectProgram.quadPositionBuffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, effectProgram.quadPositionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n      -1, 1,\n      -1, -1,\n      1, -1,\n      -1, 1,\n      1, -1,\n      1, 1,\n  ]), gl.STATIC_DRAW);\n  gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n  gl.enableVertexAttribArray(0);\n\n  effectProgram.depthTarget = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, effectProgram.depthTarget);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texStorage2D(gl.TEXTURE_2D, 1, gl.DEPTH_COMPONENT16, gl.drawingBufferWidth, gl.drawingBufferHeight);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, effectProgram.depthTarget, 0);\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, effectProgram.hblurBuffer);\n\n  effectProgram.hblurTarget = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, effectProgram.hblurTarget);\n  gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texStorage2D(gl.TEXTURE_2D, 1, gl.RGBA8, gl.drawingBufferWidth, gl.drawingBufferHeight);\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, effectProgram.hblurTarget, 0);\n\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n  // draw\n  effectProgram.draw = function () {\n    gl.uniform1i(effectProgram.depthLocation, 2);\n\n    ////////////////////\n    // HORIZONTAL BLUR\n    ////////////////////\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, effectProgram.hblurBuffer);\n    gl.bindVertexArray(effectProgram.quadArray);\n    gl.bindBufferBase(gl.UNIFORM_BUFFER, 2, effectProgram.dofUniformBuffer);\n    gl.bindBuffer(gl.UNIFORM_BUFFER, effectProgram.dofUniformBuffer);\n\n    gl.uniform1i(effectProgram.textureLocation, 1);\n    gl.uniform2fv(effectProgram.texelOffsetLocation, [1.0, 0.0]);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n\n    ////////////////////\n    // VERTICAL BLUR\n    ////////////////////\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    gl.bindVertexArray(effectProgram.quadArray);\n    gl.uniform1i(effectProgram.textureLocation, 3);\n    gl.uniform2fv(effectProgram.texelOffsetLocation, [0.0, 1.0]);\n    gl.drawArrays(gl.TRIANGLES, 0, 6);\n  };\n\n  // return\n  return effectProgram;\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**             Calliope - Site Generator   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2021 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { Direction } from '@Engine/utils/enums.jsx';\nimport { Vector } from '@Engine/utils/math/vector.jsx';\nimport PixosLuaInterpreter from '@Engine/scripting/PixosLuaInterpreter.jsx';\n\n/**\n * Load Map Information\n * @param {*} json\n * @param {*} cells\n * @param {*} zip\n * @returns\n */\nexport async function loadMap(json, cells, zip) {\n  console.log('loading map....');\n\n  // read sprites & handle functions\n  let $sprites =\n    typeof json.sprites === 'string'\n      ? json.sprites\n      : json.sprites.map((sprite) => {\n          return {\n            id: sprite.id,\n            type: sprite.type,\n            pos: new Vector(...sprite.pos),\n            facing: Direction[sprite.facing],\n            zones: sprite.zones ?? null,\n          };\n        });\n\n  let $scenes = json.scenes.map((scene) => {\n    return {\n      id: scene.id,\n      actions: scene.actions.map((action) => {\n        if (action.trigger) {\n          return { trigger: action.trigger, scope: this };\n        } else {\n          return {\n            sprite: action.sprite,\n            action: action.action,\n            args: action.args,\n            scope: this,\n          };\n        }\n      }),\n      scope: this,\n    };\n  });\n\n  let $scripts = await Promise.all(\n    json.scripts.map(async (script) => {\n      // Lua Scripting\n      try {\n        let luaScript = await zip.file(`triggers/${script.trigger}.lua`).async('string');\n        console.log({ msg: 'lua script', luaScript });\n\n        // defer execution of lua until trigger is called\n        let result = ((_this) => {\n          let interpreter = new PixosLuaInterpreter(_this.engine);\n          interpreter.setScope({ _this });\n          interpreter.initLibrary();\n          interpreter.run('print(\"hello world lua - zone\")');\n          return {\n            id: script.id,\n            trigger: async () => {\n              console.log('running actual trigger');\n              return interpreter.run(luaScript);\n            },\n          };\n        }).bind(this)(this);\n        console.log({ msg: 'zone trigger Lua eval response', result });\n\n        return result;\n      } catch (e) {\n        console.error(e);\n      }\n    })\n  );\n\n  let $objects = json.objects.map((object) => {\n    return {\n      id: object.id,\n      type: object.type,\n      mtl: object.mtl,\n      useScale: object.useScale ? new Vector(...object.useScale) : null,\n      pos: object.pos ? new Vector(...object.pos) : null,\n      rotation: object.rotation ? new Vector(...object.rotation) : null,\n    };\n  });\n\n  // let $lights = json.lights.map((light) => {\n  //   console.log(light);\n  //   return {\n  //     id: light.id,\n  //     pos: light.pos ? new Vector(...light.pos) : null,\n  //     color: light.color ? new Vector(...light.color) : null,\n  //     direction: light.direction ? new Vector(...light.direction) : null,\n  //     attentuation: light.attentuation ? new Vector(...light.attentuation) : null,\n  //     enabled: light.enabled ?? false,\n  //   };\n  // });\n  // console.log('adding lights....' + $lights.length);\n\n  return {\n    // size of map\n    bounds: json.bounds,\n    // Determines the tileset to load\n    tileset: json.tileset,\n    // (0,0) -> (17,19) (X, Y) (20 Rows x 17 Column)\n    cells: cells,\n    // Sprites and Objects to be Loaded in the Scene & their Starting Points (includes effect tiles)\n    sprites: $sprites,\n    // Scenes + Scenarios\n    scenes: $scenes,\n    // Scripts / Triggers for the Zone\n    scripts: $scripts,\n    // objects // 3d\n    objects: $objects,\n    // lights\n    lights: json.lights,\n  };\n}\n\n/**\n * Generate Map Cells from Tileset\n * @param {*} cells\n * @param {*} Tileset\n * @returns\n */\nexport function dynamicCells(cells, Tileset) {\n  // handle cells generator\n  if (typeof cells === 'string') {\n    return cells;\n  }\n  let result = [];\n  cells.forEach((row, i) => {\n    let len = row.length;\n    row.forEach((cell, j) => {\n      result[i * len + j] = Tileset[cell];\n    });\n  });\n  return result;\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nimport { Direction, mergeDeep } from '@Engine/utils/enums.jsx';\nimport Resources from '@Engine/utils/resources.jsx';\nimport ActionQueue from '@Engine/core/queue/index.jsx';\nimport { Vector } from '@Engine/utils/math/vector.jsx';\nimport { EventLoader, SpriteLoader, TilesetLoader, ActionLoader, ObjectLoader } from '@Engine/utils/loaders/index.jsx';\nimport { loadMap, dynamicCells } from '@Engine/dynamic/map.jsx';\nimport Loadable from '@Engine/core/queue/loadable.jsx';\nimport PixosLuaInterpreter from '@Engine/scripting/PixosLuaInterpreter.jsx';\n\nexport default class Zone extends Loadable {\n  /**\n   * Zones represent Map Sections either standalone or part of a set\n   * @param {string} zoneId\n   * @param {World} world\n   */\n  constructor(zoneId, world) {\n    super();\n    this.spritzName = world.id;\n    this.id = zoneId;\n    this.objId = Math.round(Math.random() * 1000000);\n    this.world = world;\n    this.data = {};\n    this.spriteDict = {};\n    this.spriteList = [];\n    this.objectDict = {};\n    this.objectList = [];\n    this.lights = [];\n    this.spritz = [];\n    this.lastKey = Date.now();\n    this.engine = world.engine;\n    this.onLoadActions = new ActionQueue();\n    this.spriteLoader = new SpriteLoader(world.engine);\n    this.objectLoader = new ObjectLoader(world.engine);\n    this.EventLoader = EventLoader;\n    this.tsLoader = new TilesetLoader(world.engine);\n    this.audio = null;\n    // bind\n    this.onTilesetDefinitionLoaded = this.onTilesetDefinitionLoaded.bind(this);\n    this.onTilesetOrSpriteLoaded = this.onTilesetOrSpriteLoaded.bind(this);\n    this.loadObjectFromZip = this.loadObjectFromZip.bind(this, this);\n    this.loadSpriteFromZip = this.loadSpriteFromZip.bind(this, this);\n    this.loadSprite = this.loadSprite.bind(this, this);\n    this.playCutScene = this.playCutScene.bind(this, this);\n    this.loadObject = this.loadObject.bind(this, this);\n    this.checkInput = this.checkInput.bind(this);\n  }\n\n  /**\n   * Load Map Resource from URL\n   */\n  async loadRemote() {\n    const fileResponse = await fetch(Resources.zoneRequestUrl(this.id));\n    if (fileResponse.ok) {\n      try {\n        // Extract and Read in Information\n        let data = await fileResponse.json();\n        this.bounds = data.bounds;\n        this.size = [data.bounds[2] - data.bounds[0], data.bounds[3] - data.bounds[1]];\n        // cells\n        this.cells = typeof data.cells == 'function' ? data.cells(this.bounds, this) : data.cells;\n        // sprites\n        this.sprites = typeof data.sprites == 'function' ? data.sprites(this.bounds, this) : data.sprites;\n        // Load tileset and create level geometry & trigger updates\n        this.tileset = await this.tsLoader.load(data.tileset, this.spritzName);\n        this.tileset.runWhenDefinitionLoaded(this.onTilesetDefinitionLoaded.bind(this));\n        this.tileset.runWhenLoaded(this.onTilesetOrSpriteLoaded.bind(this));\n        // Load sprites from tileset\n        if (data.sprites) await Promise.all(data.sprites.map(this.loadSprite.bind(this)));\n        if (data.objects) await Promise.all(data.objects.map(this.loadObject.bind(this)));\n        // Notify the zone sprites when the new sprite has loaded\n        this.spriteList.forEach((sprite) => sprite.runWhenLoaded(this.onTilesetOrSpriteLoaded.bind(this)));\n        this.objectList.forEach((object) => object.runWhenLoaded(this.onTilesetOrSpriteLoaded.bind(this)));\n      } catch (e) {\n        console.error('Error parsing zone ' + this.id);\n        console.error(e);\n      }\n    }\n  }\n\n  /**\n   * Load Tileset Directly (precompiled)\n   */\n  async load() {\n    try {\n      // Extract and Read in Information\n      let data = require('@Spritz/' + this.spritzName + '/maps/' + this.id + '/map.jsx')['default'];\n      Object.assign(this, data);\n      // handle cells generator\n      if (typeof this.cells == 'function') {\n        this.cells = this.cells(this.bounds, this);\n      }\n      // audio loader\n      if (this.audioSrc) {\n        this.audio = this.engine.resourceManager.audioLoader.load(this.audioSrc, true); // loop background music\n      }\n      // Load tileset and create level geometry & trigger updates\n      this.size = [this.bounds[2] - this.bounds[0], this.bounds[3] - this.bounds[1]];\n      this.tileset = await this.tsLoader.load(this.tileset, this.spritzName);\n      this.tileset.runWhenDefinitionLoaded(this.onTilesetDefinitionLoaded.bind(this));\n      this.tileset.runWhenLoaded(this.onTilesetOrSpriteLoaded.bind(this));\n      // Load sprites\n      if (typeof this.sprites == 'function') {\n        this.sprites = this.sprites(this.bounds, this);\n      }\n      let self = this;\n      await Promise.all(self.sprites.map(self.loadSprite));\n      await Promise.all(self.objects.map(self.loadObject));\n      // Notify the zone sprites when the new sprite has loaded\n      self.spriteList.forEach((sprite) => sprite.runWhenLoaded(self.onTilesetOrSpriteLoaded));\n      self.objectList.forEach((object) => object.runWhenLoaded(self.onTilesetOrSpriteLoaded));\n    } catch (e) {\n      console.error('Error parsing zone ' + this.id);\n      console.error(e);\n    }\n  }\n\n  /**\n   * load trigger scripts from zip\n   * @param {string} trigger\n   * @param {Zip} zip\n   * @returns\n   */\n  async loadTriggerFromZip(trigger, zip) {\n    // lua scripting\n    try {\n      let luaScript = await zip.file(`triggers/${trigger}.lua`).async('string');\n      console.log({ msg: 'lua script', luaScript });\n\n      return (_this, subject) => {\n        let interpreter = new PixosLuaInterpreter(_this.engine);\n        interpreter.setScope({ _this, subject });\n        interpreter.initLibrary();\n        interpreter.run('print(\"hello world lua - zone trigger from zip\")');\n        return interpreter.run(luaScript);\n      };\n    } catch (e) {\n      console.error({ msg: 'error loading lua script', e });\n    }\n\n    // JS scripting\n    let triggerScript = await zip.file(`triggers/${trigger}.js`).async('string');\n    return eval.call(this, triggerScript);\n  }\n\n  /**\n   * Load from Json components -- For more Dynamic Evaluation\n   * todo --- NEEDS TO access the JSON from the World Level to Load New Instances\n   * as it is reading everything from the prebundled zip\n   * @param {*} zoneJson\n   * @param {*} cellJson\n   * @param {Zip} zip\n   * @param {boolean} skipCache\n   */\n  async loadZoneFromZip(zoneJson, cellJson, zip, skipCache = false) {\n    let self = this;\n    console.log('loading zip');\n\n    try {\n      // zone extensions\n      if (zoneJson.extends) {\n        console.log('extendings');\n        let extension = {};\n        console.log({ zoneJson, cellJson, zip });\n        await Promise.all(\n          zoneJson.extends.map(async (file) => {\n            let stringD = JSON.parse(await zip.file('maps/' + file + '/map.json').async('string'));\n            extension = mergeDeep(extension, stringD);\n            console.log(JSON.parse(JSON.stringify(extension)));\n          })\n        );\n        // unset\n        zoneJson.extends = null;\n        Object.assign(extension, zoneJson);\n        zoneJson = extension;\n      }\n      console.log({ zoneJson });\n      // cell extensions\n      if (cellJson.extends) {\n        let cells = [];\n        await Promise.all(\n          cellJson.extends.map(async (file) => {\n            let stringD = JSON.parse(await zip.file('maps/' + file + '/cells.json').async('string'));\n            if (stringD.cells) {\n              cells = cells.concat(stringD.cells);\n            } else {\n              cells = cells.concat(stringD);\n            }\n          })\n        );\n        cellJson = cells.concat(cellJson.cells);\n      }\n      console.log({ cellJson });\n      // load game menus & pause usually\n      if (zoneJson.menu) {\n        let menus = {};\n        await Promise.all(\n          Object.keys(zoneJson.menu).map(async (id) => {\n            let menu = zoneJson.menu[id];\n            menu.id = id;\n            if (menu.onOpen) {\n              menu.onOpen = (await self.loadTriggerFromZip(menu.onOpen, zip)).bind(self, self);\n            }\n            if (menu.trigger) {\n              menu.trigger = (await self.loadTriggerFromZip(menu.trigger, zip)).bind(self, self);\n            }\n            menus[id] = menu;\n          })\n        );\n        // launch the start menu\n        this.menus = menus;\n        this.world.startMenu(this.menus);\n      }\n\n      try {\n        // Extract and Read in Information\n        var tileset = await this.tsLoader.loadFromZip(zip, zoneJson.tileset, this.spritzName);\n        console.log('tileset');\n        var cells = dynamicCells(cellJson, tileset.tiles);\n        console.log('cells');\n        var map = await loadMap.call(this, zoneJson, cells, zip);\n        console.log('map');\n        Object.assign(this, map);\n        console.log('map assign');\n      } catch (e) {\n        console.log(this);\n        console.error({ msg: 'error reading in zone & cell data', e });\n      }\n\n      // handle cells generator\n      try {\n        if (typeof this.cells === 'string') {\n          this.cells = eval.call(this, this.cells).call(this, this.bounds, this);\n        }\n      } catch (e) {\n        console.error({ msg: 'error loading cell function', e });\n      }\n\n      // load audio\n      try {\n        console.log({ msg: 'audio....', src: zoneJson.audioSrc, scope: this });\n        if (zoneJson.audioSrc) {\n          this.audio = await this.engine.resourceManager.audioLoader.loadFromZip(zip, zoneJson.audioSrc, true); // loop background music\n        }\n      } catch (e) {\n        console.error({ msg: 'error loading audio track', e });\n      }\n\n      // load lights\n      try {\n        this.lights = zoneJson.lights ?? [];\n        this.lights.forEach((light) =>\n          this.engine.renderManager.lightManager.addLight(\n            light.id,\n            light.pos,\n            light.color,\n            light.attenuation,\n            light.direction,\n            light.density,\n            light.scatteringCoefficients,\n            light.enabled\n          )\n        );\n        console.log({ msg: 'lights....', lm: this.engine.renderManager.lightManager });\n      } catch (e) {\n        console.error({ msg: 'error loading lights', e });\n      }\n\n      // Load tileset and create level geometry & trigger updates\n      try {\n        this.tileset = tileset;\n        console.log({ msg: 'tileset....', tileset: this.tileset });\n        this.size = [this.bounds[2] - this.bounds[0], this.bounds[3] - this.bounds[1]];\n      } catch (e) {\n        console.error({ msg: 'error loading tileset', e });\n      }\n\n      // Load sprites (todo -- allow for generator scripts much like triggers)\n      try {\n        if (typeof this.sprites === 'string') {\n          this.sprites = eval.call(self, self.sprites).call(self, self.bounds, self);\n        }\n      } catch (e) {\n        console.error({ msg: 'error loading sprite function', e });\n      }\n\n      // sprites from zip\n      try {\n        await Promise.all(\n          self.sprites.map(async (sprite) => {\n            let sprit = await self.loadSpriteFromZip(sprite, zip, skipCache);\n            return sprit;\n          })\n        );\n      } catch (e) {\n        console.error({ msg: 'error loading sprites from map', e });\n      }\n\n      // objects from zip\n      try {\n        await Promise.all(self.objects.map((object) => self.loadObjectFromZip(object, zip)));\n      } catch (e) {\n        console.error({ msg: 'error loading objects from map', e });\n      }\n\n      // notify when tilesets are loaded\n      this.tileset.runWhenDefinitionLoaded(this.onTilesetDefinitionLoaded.bind(this));\n      this.tileset.runWhenLoaded(this.onTilesetOrSpriteLoaded.bind(this));\n\n      // Notify the zone sprites when the new sprite has loaded\n      self.spriteList.forEach((sprite) => sprite.runWhenLoaded(self.onTilesetOrSpriteLoaded));\n\n      // load objects and notify others\n      self.objectList.forEach((object) => object.runWhenLoaded(self.onTilesetOrSpriteLoaded));\n    } catch (e) {\n      console.error('Error parsing json zone ' + this.id);\n      console.error(e);\n    }\n  }\n\n  /**\n   * tear down\n   */\n  runWhenDeleted() {\n    // remove lights associated with zone\n    this.lights.forEach((light) => this.engine.renderManager.lightManager.removeLight(light.id));\n  }\n\n  /**\n   * When tileset loads\n   */\n  onTilesetDefinitionLoaded() {\n    this.vertexPosBuf = [];\n    this.vertexTexBuf = [];\n    this.walkability = [];\n    // Determine Walkability and Load Vertices\n    for (let j = 0, k = 0; j < this.size[1]; j++) {\n      let vertices = [];\n      let vertexTexCoords = [];\n      // Loop over Tiles\n      for (let i = 0; i < this.size[0]; i++, k++) {\n        let cell = this.cells[k];\n        this.walkability[k] = Direction.All;\n        let n = Math.floor(cell.length / 3);\n        // Calc Walk, Vertex positions and Textures for each cell\n        for (let l = 0; l < n; l++) {\n          let tilePos = [this.bounds[0] + i, this.bounds[1] + j, cell[3 * l + 2]];\n          this.walkability[k] &= this.tileset.getWalkability(cell[3 * l]);\n          vertices = vertices.concat(this.tileset.getTileVertices(cell[3 * l], tilePos));\n          vertexTexCoords = vertexTexCoords.concat(this.tileset.getTileTexCoords(cell[3 * l], cell[3 * l + 1]));\n        }\n        // Custom walkability\n        if (cell.length == 3 * n + 1) this.walkability[k] = cell[3 * n];\n      }\n      this.vertexPosBuf[j] = this.engine.renderManager.createBuffer(vertices, this.engine.gl.STATIC_DRAW, 3);\n      this.vertexTexBuf[j] = this.engine.renderManager.createBuffer(vertexTexCoords, this.engine.gl.STATIC_DRAW, 2);\n    }\n  }\n\n  /**\n   * run after each tileset / sprite is loaded\n   * @returns\n   */\n  onTilesetOrSpriteLoaded() {\n    if (this.loaded || !this.tileset.loaded || !this.spriteList.every((sprite) => sprite.loaded) || !this.objectList.every((object) => object.loaded))\n      return;\n    // loaded\n    this.loaded = true;\n    this.loadScripts(true);\n    this.onLoadActions.run();\n  }\n\n  /**\n   * trigger scripts to load (useful for pausing game to show menu, etc.)\n   * @param {boolean} refresh\n   * @returns\n   */\n  loadScripts(refresh = false) {\n    // Load Spritz Triggers\n    if (this.world.isPaused) {\n      return;\n    }\n\n    let zone = this;\n    this.scripts.forEach((x) => {\n      if (x.id === 'load-spritz' && refresh) {\n        this.runWhenLoaded(x.trigger.bind(zone));\n      }\n    });\n  }\n\n  /**\n   * load obj model\n   * @param {*} _this\n   * @param {*} data\n   */\n  async loadObject(_this, data) {\n    data.zone = _this;\n    if (!this.objectDict[data.id] && !_this.objectDict[data.id]) {\n      let newObject = await this.objectLoader.load(data, (object) => object.onLoad(object));\n      this.world.objectDict[data.id] = this.objectDict[data.id] = newObject;\n      this.objectList.push(newObject);\n      this.world.objectList.push(newObject);\n    }\n  }\n\n  /**\n   * load obj model from zip bundle\n   * @param {*} _this\n   * @param {*} data\n   * @param {Zip} zip\n   */\n  async loadObjectFromZip(_this, data, zip) {\n    data.zone = _this;\n    if (!this.objectDict[data.id] && !_this.objectDict[data.id]) {\n      let newObject = await this.objectLoader.loadFromZip(zip, data, async (object) => await object.onLoadFromZip(object, zip));\n      this.world.objectDict[data.id] = this.objectDict[data.id] = newObject;\n      this.objectList.push(newObject);\n      this.world.objectList.push(newObject);\n    }\n  }\n\n  /**\n   * Load Sprite\n   * @param {*} _this\n   * @param {*} data\n   */\n  async loadSprite(_this, data) {\n    data.zone = _this;\n    if (!this.spriteDict[data.id] && !_this.spriteDict[data.id]) {\n      let newSprite = await this.spriteLoader.load(data.type, this.spritzName, (sprite) => sprite.onLoad(data));\n      this.world.spriteDict[data.id] = this.spriteDict[data.id] = newSprite;\n      this.spriteList.push(newSprite);\n      this.world.spriteList.push(newSprite);\n    }\n  }\n\n  /**\n   * Load Sprite from zip bundle\n   * @param {*} _this\n   * @param {*} data\n   * @param {Zip} zip\n   */\n  async loadSpriteFromZip(_this, data, zip) {\n    data.zone = _this;\n    if (!this.spriteDict[data.id] && !_this.spriteDict[data.id]) {\n      let newSprite = await this.spriteLoader.loadFromZip(zip, data.type, this.spritzName, async (sprite) => await sprite.onLoadFromZip(data, zip));\n      this.world.spriteDict[data.id] = this.spriteDict[data.id] = newSprite;\n      this.spriteList.push(newSprite);\n      this.world.spriteList.push(newSprite);\n    }\n  }\n\n  /**\n   * Add an existing sprite to the zone\n   * @param {Sprite} sprite\n   */\n  addSprite(sprite) {\n    sprite.zone = this;\n    this.world.spriteDict[sprite.id] = this.spriteDict[sprite.id] = sprite;\n    this.spriteList.push(sprite);\n    this.world.spriteList.push(sprite);\n  }\n\n  /**\n   * Remove an sprite from the zone\n   * @param {string} id\n   */\n  removeSprite(id) {\n    this.spriteList = this.spriteList.filter((sprite) => {\n      if (sprite.id !== id) {\n        return true;\n      } else {\n        sprite.removeAllActions();\n      }\n    });\n    this.world.spriteList = this.world.spriteList.filter((sprite) => {\n      if (sprite.id !== id) {\n        return true;\n      } else {\n        sprite.removeAllActions();\n      }\n    });\n    delete this.spriteDict[id];\n    delete this.world.spriteDict[id];\n  }\n\n  /**\n   * Remove all sprites from the zone\n   */\n  removeAllSprites() {\n    foreach(this.spriteList, (sprite) => {\n      this.removeSprite(sprite.id);\n    });\n  }\n\n  /**\n   * Remove an sprite from the zone\n   * @param {string} id\n   * @returns\n   */\n  getSpriteById(id) {\n    return this.spriteDict[id];\n  }\n\n  /**\n   * add portal to provide list of sprites\n   * @param {Sprites[]} sprites\n   * @param {number} x\n   * @param {number} y\n   * @returns\n   */\n  addPortal(sprites, x, y) {\n    if (this.portals.length > 0 && this.getHeight(x, y) === 0) {\n      let portal = this.portals.pop();\n      portal.pos = new Vector(...[x, y, this.getHeight(x, y)]);\n      sprites.push(portal);\n    } else if (this.portals.length > 0 && (x * y) % Math.abs(3) && this.getHeight(x, y) === 0) {\n      let portal = this.portals.shift();\n      portal.pos = new Vector(...[x, y, this.getHeight(x, y)]);\n      sprites.push(portal);\n    }\n    return sprites;\n  }\n\n  /**\n   * Calculate the height of a point in the zone\n   * @param {number} x\n   * @param {number} y\n   * @returns\n   */\n  getHeight(x, y) {\n    if (!this.isInZone(x, y)) {\n      console.error('Requesting height for [' + x + ', ' + y + '] outside zone bounds');\n      return 0;\n    }\n\n    let i = Math.floor(x);\n    let j = Math.floor(y);\n    let dp = [x - i, y - j];\n\n    // Calculate point inside a triangle\n    let getUV = (t, p) => {\n      // Vectors relative to first vertex\n      let u = [t[1][0] - t[0][0], t[1][1] - t[0][1]];\n      let v = [t[2][0] - t[0][0], t[2][1] - t[0][1]];\n\n      // Calculate basis transformation\n      let d = 1 / (u[0] * v[1] - u[1] * v[0]);\n      let T = [d * v[1], -d * v[0], -d * u[1], d * u[0]];\n\n      // Return new coords\n      u = (p[0] - t[0][0]) * T[0] + (p[1] - t[0][1]) * T[1];\n      v = (p[0] - t[0][0]) * T[2] + (p[1] - t[0][1]) * T[3];\n      return [u, v];\n    };\n\n    // Check if any of the tiles defines a custom walk polygon\n    let cell = this.cells[(j - this.bounds[1]) * this.size[0] + i - this.bounds[0]];\n    let n = Math.floor(cell.length / 3);\n    for (let l = 0; l < n; l++) {\n      let poly = this.tileset.getTileWalkPoly(cell[3 * l]);\n      if (!poly) continue;\n\n      // Loop over triangles\n      for (let p = 0; p < poly.length; p++) {\n        let uv = getUV(poly[p], dp);\n        let w = uv[0] + uv[1];\n        if (w <= 1) return cell[3 * l + 2] + (1 - w) * poly[p][0][2] + uv[0] * poly[p][1][2] + uv[1] * poly[p][2][2];\n      }\n    }\n\n    // Use the height of the first tile in the cell\n    return cell[2];\n  }\n\n  /**\n   * Draw Row of Zone\n   * @param {*} row\n   */\n  drawRow(row) {\n    // vertice positions\n    this.engine.renderManager.bindBuffer(this.vertexPosBuf[row], this.engine.renderManager.shaderProgram.aVertexPosition);\n    // texture positions\n    this.engine.renderManager.bindBuffer(this.vertexTexBuf[row], this.engine.renderManager.shaderProgram.aTextureCoord);\n\n    // texturize\n    this.tileset.texture.attach();\n\n    // set picking id shader\n    this.engine.renderManager.effectPrograms['picker'].setMatrixUniforms({ id: this.getPickingId() });\n    this.engine.renderManager.shaderProgram.setMatrixUniforms({});\n    // draw triangles\n    this.engine.gl.drawArrays(this.engine.gl.TRIANGLES, 0, this.vertexPosBuf[row].numItems);\n  }\n\n  /**\n   * Return id for picking\n   * @returns\n   */\n  getPickingId() {\n    const id = [\n      ((this.objId >> 0) & 0xff) / 0xff,\n      ((this.objId >> 8) & 0xff) / 0xff,\n      ((this.objId >> 16) & 0xff) / 0xff,\n      ((this.objId >> 24) & 0xff) / 0xff,\n    ];\n    return id;\n  }\n\n  /**\n   * Draw Frame\n   * @returns\n   */\n  draw() {\n    if (!this.loaded) return;\n    // Organize by Depth\n    this.spriteList?.sort((a, b) => a.pos.y - b.pos.y);\n    this.objectList?.sort((a, b) => a.pos.y - b.pos.y);\n    this.engine.renderManager.mvPushMatrix();\n    this.engine.renderManager.camera.setCamera();\n    // Draw tile terrain row by row (back to front) (Needs work -- NOT WORKING RIGHT YET)\n    let k = 0;\n    let z = 0;\n    switch (this.engine.renderManager.camera.cameraDir) {\n      case 'N':\n      case 'NE':\n      case 'NW':\n      case 'E':\n        for (let j = 0; j < this.size[1]; j++) {\n          this.drawRow(j);\n          while (z < this.objectList.length && this.objectList[z].pos.y - this.bounds[1] <= j) {\n            this.objectList[z++].draw();\n          }\n          // draw each sprite in front of floor tiles if positioned in front\n          // todo -- needs some work - needs to adjust with the camera angle. The position is camera dependent\n          while (k < this.spriteList.length && this.spriteList[k].pos.y - this.bounds[1] <= j) {\n            this.spriteList[k++].draw(this.engine);\n          }\n        }\n        break;\n      case 'W':\n      case 'S':\n      case 'SW':\n      case 'SE':\n        for (let j = this.size[1] - 1; j >= 0; j--) {\n          this.drawRow(j);\n          while (z < this.objectList.length && this.bounds[1] - this.objectList[z].pos.y <= j) {\n            this.objectList[z++].draw();\n          }\n          // draw each sprite in front of floor tiles if positioned in front\n          // todo -- needs some work - needs to adjust with the camera angle. The position is camera dependent\n          while (k < this.spriteList.length && this.bounds[1] - this.spriteList[k].pos.y <= j) {\n            this.spriteList[k++].draw(this.engine);\n          }\n        }\n        break;\n    }\n\n    while (z < this.objectList.length) {\n      this.objectList[z++].draw();\n    }\n    // draw each sprite (fixes tearing)\n    while (k < this.spriteList.length) {\n      this.spriteList[k++].draw(this.engine);\n    }\n    this.engine.renderManager.mvPopMatrix();\n  }\n\n  /**\n   * Update\n   * @param {number} time\n   * @param {boolean} isPaused\n   * @returns\n   */\n  tick(time, isPaused) {\n    if (!this.loaded || isPaused) return;\n    this.checkInput(time);\n    this.spriteList.forEach(async (sprite) => sprite.tickOuter(time));\n  }\n\n  /**\n   * read input\n   * @param {number} time\n   */\n  async checkInput(time) {\n    if (time > this.lastKey + 100) {\n      let touchmap = this.engine.gamepad.checkInput();\n      this.lastKey = time;\n      switch (this.engine.keyboard.lastPressedKey('o')) {\n        case 'o':\n          await this.moveSprite('monster', [7, 7, this.getHeight(7, 7)], false);\n          if (this.audio) {\n            console.log(this.audio);\n            this.audio.playAudio();\n          }\n          break;\n      } // play audio\n    }\n  }\n\n  /**\n   * Check for zone inclusion\n   * @param {number} x\n   * @param {number} y\n   * @returns\n   */\n  isInZone(x, y) {\n    return x >= this.bounds[0] && y >= this.bounds[1] && x < this.bounds[2] && y < this.bounds[3];\n  }\n\n  /**\n   *\n   * @param {number} x\n   * @param {number} y\n   * @param {number} direction\n   * @returns\n   */\n  isWalkable(x, y, direction) {\n    if (!this.isInZone(x, y)) return null;\n    for (let sprite in this.spriteDict) {\n      if (\n        // if sprite bypass & override\n        !this.spriteDict[sprite].walkable &&\n        this.spriteDict[sprite].pos.x === x &&\n        this.spriteDict[sprite].pos.y === y &&\n        !this.spriteDict[sprite].blocking &&\n        this.spriteDict[sprite].override\n      )\n        return true;\n\n      if (\n        // else if sprite blocking\n        !this.spriteDict[sprite].walkable &&\n        this.spriteDict[sprite].pos.x === x &&\n        this.spriteDict[sprite].pos.y === y &&\n        this.spriteDict[sprite].blocking\n      )\n        return false;\n    }\n    for (let object in this.objectDict) {\n      if (\n        // if sprite bypass & override\n        !this.objectDict[object].walkable &&\n        this.within(\n          x,\n          this.objectDict[object].pos.x - this.objectDict[object].scale.x * (this.objectDict[object].size.x / 2),\n          this.objectDict[object].pos.x\n        ) &&\n        this.within(\n          y,\n          this.objectDict[object].pos.y - this.objectDict[object].scale.y * (this.objectDict[object].size.y / 2),\n          this.objectDict[object].pos.y\n        ) &&\n        !this.objectDict[object].blocking &&\n        this.objectDict[object].override\n      )\n        return true;\n\n      if (\n        // else if object blocking\n        !this.objectDict[object].walkable &&\n        ((this.objectDict[object].pos.x === x && this.objectDict[object].pos.y === y) ||\n          (this.within(\n            x,\n            this.objectDict[object].pos.x - this.objectDict[object].scale.x * (this.objectDict[object].size.x / 2),\n            this.objectDict[object].pos.x,\n            true\n          ) &&\n            this.within(\n              y,\n              this.objectDict[object].pos.y - this.objectDict[object].scale.y * (this.objectDict[object].size.y / 2),\n              this.objectDict[object].pos.y,\n              true\n            ))) &&\n        this.objectDict[object].blocking\n      )\n        return false;\n    }\n    // else tile specific\n    return (this.walkability[(y - this.bounds[1]) * this.size[0] + x - this.bounds[0]] & direction) != 0;\n  }\n\n  /**\n   * check cells for position inclusion\n   * @param {number} x\n   * @param {number} a\n   * @param {number} b\n   * @param {boolean} include\n   * @returns\n   */\n  within(x, a, b, include = false) {\n    if (include && x >= a && x <= b) return true;\n    if (!include && x > a && x < b) return true;\n    return false;\n  }\n\n  /**\n   * Trigger Script\n   * @param {string} id\n   */\n  triggerScript(id) {\n    this.scripts.forEach((x) => {\n      if (x.id === id) {\n        this.runWhenLoaded(x.trigger.bind(this));\n      }\n    });\n  }\n\n  /**\n   * Move the sprite\n   * @param {string} id\n   * @param {number[]} location\n   * @param {*} running\n   * @returns\n   */\n  async moveSprite(id, location, running = false) {\n    return new Promise(async (resolve, reject) => {\n      console.log({ msg: 'moving sprite', id, location, running });\n      let sprite = this.getSpriteById(id);\n      await sprite.addAction(new ActionLoader(this.engine, 'patrol', [sprite.pos.toArray(), location, running ? 200 : 600, this], sprite, resolve));\n    });\n  }\n\n  /**\n   * Sprite Dialogue\n   * @param {string} id\n   * @param {string} dialogue\n   * @param {*} options\n   * @returns\n   */\n  async spriteDialogue(id, dialogue, options = { autoclose: true }) {\n    return new Promise(async (resolve, reject) => {\n      console.log({ msg: 'sprite dialogue', id, dialogue, options });\n      let sprite = this.getSpriteById(id);\n      await sprite.addAction(new ActionLoader(this.engine, 'dialogue', [dialogue, false, options], sprite, resolve));\n    });\n  }\n\n  /**\n   * Run Action configuration from JSON description\n   * @param {*} actions\n   * @returns\n   */\n  async runActions(actions) {\n    let self = this;\n    return await actions.reduce(async (prev, action) => {\n      return await prev\n        .then(\n          async () =>\n            new Promise(async (resolve, reject) => {\n              if (!action) resolve();\n              try {\n                if (!action.scope) action.scope = self;\n                if (action.sprite) {\n                  let sprite = action.scope.getSpriteById(action.sprite);\n                  // apply action\n                  if (sprite && action.action) {\n                    let args = action.args;\n                    let options = args.pop();\n                    await sprite.addAction(new ActionLoader(self.engine, action.action, [...args, { ...options }], sprite, () => resolve(self)));\n                  }\n                }\n                // trigger script\n                if (action.trigger) {\n                  let sprite = action.scope.getSpriteById('avatar');\n                  if (sprite && action.trigger) {\n                    await sprite.addAction(new ActionLoader(self.engine, 'script', [action.trigger, action.scope, () => resolve(self)], sprite));\n                  }\n                }\n              } catch (e) {\n                reject(e);\n              }\n            })\n        )\n        .catch((err) => {\n          console.warn('err', err.message);\n        });\n    }, Promise.resolve());\n  }\n\n  /**\n   * Play a spritz\n   * @param {string} id\n   * @param {*} spritz\n   */\n  async playCutScene(id, spritz = null) {\n    let self = this;\n    if (!spritz) {\n      spritz = self.spritz;\n    }\n    spritz.forEach(async function runSpritz(x) {\n      try {\n        if (!x.currentStep) {\n          x.currentStep = 0; // Starting\n        }\n        if (x.currentStep > spritz.length) {\n          return; // spritz finished\n        }\n        if (x.id === id) {\n          // found spritz\n          await self.runActions(x.actions);\n        }\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport Zone from './zone.jsx';\nimport ActionQueue from '../queue/index.jsx';\nimport { Direction } from '@Engine/utils/enums.jsx';\nimport { EventLoader } from '@Engine/utils/loaders/index.jsx';\n\nexport default class World {\n  constructor(engine, id) {\n    this.id = id;\n    this.objId = Math.round(Math.random() * 1000000) + 11111;\n    this.engine = engine;\n    this.zoneDict = {};\n    this.zoneList = [];\n    this.spriteDict = {};\n    this.spriteList = [];\n    this.objectDict = {};\n    this.objectList = [];\n    this.tilesetDict = {};\n    this.tilesetList = [];\n    this.eventList = [];\n    this.eventDict = {};\n    this.lastKey = new Date().getTime();\n    this.isPaused = true;\n    this.afterTickActions = new ActionQueue();\n    this.sortZones = this.sortZones.bind(this);\n    this.getZoneById = this.getZoneById.bind(this);\n    this.canWalk = this.canWalk.bind(this);\n    this.pathFind = this.pathFind.bind(this);\n    this.menuConfig = {\n      start: {\n        onOpen: (menu) => {\n          // auto-close - do nothing\n          menu.completed = true;\n        },\n      },\n    };\n  }\n\n  /**\n   * push action into next frame\n   * @param {*} action\n   */\n  runAfterTick(action) {\n    this.afterTickActions.add(action);\n  }\n\n  /**\n   * Sort zones for correct render order\n   */\n  sortZones() {\n    this.zoneList.sort((a, b) => a.bounds[1] - b.bounds[1]);\n  }\n\n  /**\n   * Fetch and Load Zone\n   * @param {string} zoneId\n   * @param {Zip} zip\n   * @param {*} skipCache\n   * @returns\n   */\n  async loadZoneFromZip(zoneId, zip, skipCache = false) {\n    // check cache ?\n    if (!skipCache && this.zoneDict[zoneId]) return this.zoneDict[zoneId];\n\n    console.log('Loading Zone from Zip:', zoneId);\n\n    let zoneJson = JSON.parse(await zip.file('maps/' + zoneId + '/map.json').async('string')); // main map file (/zip/maps/{zoneId}/map.json)\n    let cellJson = JSON.parse(await zip.file('maps/' + zoneId + '/cells.json').async('string')); // cells (/zip/maps/{zoneId}/cells.json)\n\n    // Fetch Zone Remotely (allows for custom maps - with approved sprites / actions)\n    let z = new Zone(zoneId, this);\n    await z.loadZoneFromZip(zoneJson, cellJson, zip);\n\n    // audio\n    this.zoneList.map((x) => {\n      if (x.audio) {\n        x.audio.pauseAudio();\n      }\n    });\n    if (z.audio) {\n      console.log(z.audio);\n      z.audio.playAudio();\n    }\n    // add zone\n    this.zoneDict[zoneId] = z;\n    this.zoneList.push(z);\n\n    // Sort for correct render order\n    z.runWhenLoaded(this.sortZones);\n    return z;\n  }\n\n  /**\n   * Fetch and Load Zone\n   * @param {string} zoneId\n   * @param {boolean} remotely\n   * @param {boolean} skipCache\n   * @returns\n   */\n  async loadZone(zoneId, remotely = false, skipCache = false) {\n    if (!skipCache && this.zoneDict[zoneId]) return this.zoneDict[zoneId];\n    // Fetch Zone Remotely (allows for custom maps - with approved sprites / actions)\n    let z = new Zone(zoneId, this);\n    if (remotely) await z.loadRemote();\n    else await z.load();\n    // audio\n    this.zoneList.map((x) => {\n      if (x.audio) {\n        x.audio.pauseAudio();\n      }\n    });\n    if (z.audio) {\n      console.log(z.audio);\n      z.audio.playAudio();\n    }\n    // add zone\n    this.zoneDict[zoneId] = z;\n    this.zoneList.push(z);\n    // Sort for correct render order\n    z.runWhenLoaded(this.sortZones);\n    return z;\n  }\n\n  /**\n   * Remove Zone\n   * @param {string} zoneId\n   */\n  removeZone(zoneId) {\n    this.zoneList = this.zoneList.filter((zone) => {\n      if (zone.id !== zoneId) {\n        return true;\n      } else {\n        if (zone.audio) {\n          zone.audio.pauseAudio();\n        }\n        zone.removeAllSprites();\n        zone.runWhenDeleted();\n      }\n    });\n    delete this.zoneDict[zoneId];\n  }\n\n  /**\n   * Remove Zones\n   */\n  removeAllZones() {\n    this.zoneList.map((z) => {\n      if (z.audio) {\n        z.audio.pauseAudio();\n      }\n      z.removeAllSprites();\n      z.runWhenDeleted();\n    });\n    this.zoneList = [];\n    this.zoneDict = {};\n  }\n\n  /**\n   * Update\n   * @param {number} time\n   */\n  tick(time) {\n    for (let z in this.zoneDict) this.zoneDict[z]?.tick(time, this.isPaused);\n    this.afterTickActions.run(time);\n  }\n\n  /**\n   * read input (HIGHEST LEVEL)\n   * @param {number} time\n   */\n  checkInput(time) {\n    if (time > this.lastKey + 200) {\n      let touchmap = this.engine.gamepad.checkInput();\n      this.lastKey = time;\n      // start\n      if (this.engine.gamepad.keyPressed('start')) {\n        touchmap['start'] = 0;\n      }\n      // select\n      if (this.engine.gamepad.keyPressed('select')) {\n        touchmap['select'] = 0;\n        this.engine.toggleFullscreen();\n      }\n    }\n  }\n\n  /**\n   * open start menu\n   * @param {*} menuConfig\n   * @param {string[]} defaultMenus\n   */\n  startMenu(menuConfig, defaultMenus = ['start']) {\n    this.addEvent(\n      new EventLoader(this.engine, 'menu', [menuConfig ?? this.menuConfig, defaultMenus, false, { autoclose: false, closeOnEnter: true }], this)\n    );\n  }\n\n  /**\n   * Add Event to Queue\n   * @param {*} event\n   */\n  addEvent(event) {\n    if (this.eventDict[event.id]) this.removeAction(event.id);\n    this.eventDict[event.id] = event;\n    this.eventList.push(event);\n  }\n\n  /**\n   * Remove Action\n   * @param {string} id\n   */\n  removeAction(id) {\n    this.eventList = this.eventList.filter((event) => event.id !== id);\n    delete this.eventDict[id];\n  }\n\n  /**\n   * Remove All Actions\n   */\n  removeAllActions() {\n    this.eventList = [];\n    this.eventDict = {};\n  }\n\n  /**\n   * Outer Tick Handler - run events, actions and ticks for zones\n   * @param {number} time\n   */\n  tickOuter(time) {\n    // read input\n    this.checkInput(time);\n    // Sort activities by increasing startTime, then by id\n    this.eventList.sort((a, b) => {\n      let dt = a.startTime - b.startTime;\n      if (!dt) return dt;\n      return a.id > b.id ? 1 : -1;\n    });\n    // Run & Queue for Removal when complete\n    let toRemove = [];\n    this.eventList.forEach((event) => {\n      if (!event.loaded || event.startTime > time || (event.pausable && this.isPaused)) return;\n      if (event.tick(time)) {\n        toRemove.push(event); // remove from backlog\n        event.onComplete(); // call completion handler\n      }\n    });\n    // clear completed activities\n    toRemove.forEach((event) => this.removeAction(event.id));\n    // tick\n    if (this.tick && !this.isPaused) this.tick(time);\n  }\n\n  /**\n   * Draw Each Zone\n   */\n  draw() {\n    for (let z in this.zoneDict) this.zoneDict[z].draw(this.engine);\n  }\n\n  /**\n   * Check for Cell inclusion\n   * @param {number} x\n   * @param {number} y\n   * @returns\n   */\n  zoneContaining(x, y) {\n    for (let z in this.zoneDict) {\n      let zone = this.zoneDict[z];\n      if (zone.loaded && zone.isInZone(x, y)) return zone;\n    }\n    return null;\n  }\n\n  /**\n   * Finds a path if one exists between two points on the world\n   * @param {Vector} from\n   * @param {Vector} to\n   * @returns\n   */\n  pathFind(from, to) {\n    // memory\n    let steps = [],\n      visited = [],\n      found = false,\n      world = this,\n      x = from[0],\n      y = from[1];\n    // loop through tiles\n    function buildPath(neighbour, path) {\n      let jsonNeighbour = JSON.stringify([neighbour[0], neighbour[1]]);\n      if (found) return false; // ignore anything further\n      if (neighbour[0] == to[0] && neighbour[1] == to[1]) {\n        // found it\n        found = true;\n        // if final location is blocked, stop in front\n        if (!world.canWalk(neighbour, jsonNeighbour, visited)) {\n          return [found, [...path]];\n        }\n        // otherwise return whole path\n        return [found, [...path, to]];\n      }\n      // Check walkability\n      if (!world.canWalk(neighbour, jsonNeighbour, visited)) return false;\n      // Visit Node & continue Search\n      visited.push(jsonNeighbour);\n      return world\n        .getNeighbours(...neighbour)\n        .sort((a, b) => Math.min(Math.abs(to[0] - a[0]) - Math.abs(to[0] - b[0]), Math.abs(to[1] - a[1]) - Math.abs(to[1] - b[1])))\n        .map((neigh) => buildPath(neigh, [...path, [neighbour[0], neighbour[1], 600]]))\n        .filter((x) => x)\n        .flat();\n    }\n    // Fetch Steps\n    steps = world\n      .getNeighbours(x, y)\n      .sort((a, b) => Math.min(Math.abs(to[0] - a[0]) - Math.abs(to[0] - b[0]), Math.abs(to[1] - a[1]) - Math.abs(to[1] - b[1])))\n      .map((neighbour) => buildPath(neighbour, [[from[0], from[1], 600]]))\n      .filter((x) => x[0]);\n    // Flatten Path from Segments\n    return steps.flat();\n  }\n\n  /**\n   * Get Zone by ID\n   * @param {string} id\n   * @returns\n   */ \n  getZoneById(id) {\n    return this.zoneDict[id];\n  }\n\n  /**\n   *  Gets adjacencies\n   * @param {int} x\n   * @param {int} y\n   * @returns\n   */\n  getNeighbours(x, y) {\n    let top = [x, y + 1, Direction.Up],\n      bottom = [x, y - 1, Direction.Down],\n      left = [x - 1, y, Direction.Left],\n      right = [x + 1, y, Direction.Right];\n    return [top, left, right, bottom];\n  }\n\n  /**\n   * Should we skip?\n   * @param {*} neighbour\n   * @param {*} jsonNeighbour\n   * @param {*} visited\n   * @returns\n   */\n  canWalk(neighbour, jsonNeighbour, visited) {\n    let zone = this.zoneContaining(...neighbour);\n    if (\n      visited.indexOf(jsonNeighbour) >= 0 ||\n      !zone ||\n      !zone.isWalkable(...neighbour) ||\n      !zone.isWalkable(neighbour[0], neighbour[1], Direction.reverse(neighbour[2]))\n    ) {\n      return false;\n    }\n    return true;\n  }\n}\n\n// Pathfinding Algorithm (Note: Needs some work -- has some issues, and is not efficient)\n// ---------------------\n// Start Point\n// Goal\n\n// Path []\n// Current Point\n\n// --- Func\n//\n// Get Neighbours - Foreach Neighbour\n//  - Check Neighbour\n//    - Check Goal\n//        - Found it - Return Path\n//        - Else\n//          - Get Neighbours\n\n// ----\n\n// GetNeighbours (x, y){\n//    results = []\n//    top = (x,y+1)\n//    bottom = (x,y-1)\n//    left = (x-1,y)\n//    right = (x+1,y)\n//\n//    for each above\n//      if (isWalkable()) add to results\n//\n//    return results\n// }\n\n// ----\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport { saveAs } from 'file-saver';\nimport * as JSZip from 'jszip';\n\n// Shaders\nimport fs from '@Engine/shaders/fs.jsx';\nimport vs from '@Engine/shaders/vs.jsx';\nimport blurFs from '@Engine/shaders/blur/fs.jsx';\nimport blurVs from '@Engine/shaders/blur/vs.jsx';\nimport blurInit from '@Engine/shaders/blur/init.jsx';\nimport World from '@Engine/core/scene/world.jsx';\n\n// Spritz Object\nexport default class Spritz {\n  /**\n   * Spritz represent an individual Pixospritz\n   * @returns\n   */\n  constructor() {\n    this.shaders = {\n      fs: fs(),\n      vs: vs(),\n    };\n    this.effects = {\n      // todo - make more dynamic and support for custom effects\n      blur: {\n        id: 'blur',\n        fs: blurFs(),\n        vs: blurVs(),\n        init: blurInit,\n      },\n    };\n    this.effectPrograms = {};\n\n    if (!Spritz._instance) {\n      Spritz._instance = this;\n    }\n    return Spritz._instance;\n  }\n\n  /**\n   * Init Spritz\n   * @param {*} engine\n   */\n  init = async (engine) => {\n    // game Engine & Timing\n    Spritz._instance.engine = engine;\n    // Init Game Engine Components\n    let world = (Spritz._instance.world = new World(engine, 'spritz'));\n    // Load Zones - TODO - Add injection / Props to make more Dynamic\n    world.zoneList.forEach((z) => z.runWhenLoaded(() => console.log('loading...done')));\n    // show start menu\n    world.startMenu({\n      start: {\n        text: 'Start Game',\n        prompt: 'Please press the button to start...',\n        x: engine.screenSize().width / 2 - 75,\n        y: engine.screenSize().height / 2 - 50,\n        w: 150,\n        h: 75,\n        quittable: false,\n        colours: {\n          top: '#333',\n          bottom: '#777',\n          background: '#999',\n        },\n        onOpen: (menu) => {\n          // tood - needs a way to trigger on open\n          this.isPaused = true;\n        },\n        trigger: (menu) => {\n          // Unpause Gameplay\n          menu.world.isPaused = false;\n          // Exit Menu\n          menu.completed = true;\n        },\n      },\n    });\n  };\n\n  /**\n   * Todo - Load spritz remotely\n   * @param {string} src\n   */\n  loadSpritzManifest = async (src) => {\n    // Put up loading Screen\n    //\n    // Fetch Manifest Remotely from Src\n    //\n    // Parse & Read in Zones\n    //\n    // Load Zones and Then once ready Remove Loading\n    //\n    // Start\n  };\n\n  /**\n   * Todo - Load avatar into spritz\n   * @param {string} src\n   * @param {string} zoneId\n   */\n  loadAvatar = async (src, zoneId) => {\n    // Put up loading Screen\n    //\n    // Fetch Avatar Remotely from Src\n    //\n    // Parse & Read in & initialized\n    //\n    // Add to Zone\n  };\n\n  /**\n   * Todo - Load avatar into spritz\n   */\n  exportAvatar = async () => {\n    let zip = new JSZip();\n    let avatar = {}; // todo;\n    // store in zip\n    zip.folder('pixos').file('avatar.json', JSON.stringify(avatar));\n    // save\n    let blob = await zip.generateAsync({ type: 'blob' });\n    saveAs(blob, 'avatar.zip');\n  };\n\n  /**\n   * Render Loop\n   * @param {*} engine\n   * @param {number} now\n   */\n  render = (engine, now) => {\n    // Build\n    Spritz._instance.world.tickOuter(now);\n    // use core shader\n    // Spritz._instance.engine.renderManager.activateShaderProgram();\n\n    // Draw Frame\n    this.draw(engine);\n\n    // effect rendering - ex) blur depth of field -- todo - revisit\n    // Object.keys(this.effects).map((id) => {\n    //   Spritz._instance.engine.renderManager.activateShaderEffectProgram(id);\n    //   this.effectPrograms[id]?.draw();\n    // });\n  };\n\n  /**\n   * Draw Spritz\n   * @param {*} engine\n   */\n  draw = (engine) => {\n    Spritz._instance.world.draw(engine);\n  };\n\n  /**\n   * Keyboard event handler for Spritz\n   * @param {*} e\n   */\n  onKeyEvent = (e) => {\n    if (e.type === 'keydown') {\n      Spritz._instance.engine.keyboard.onKeyDown(e);\n    } else Spritz._instance.engine.keyboard.onKeyUp(e);\n  };\n\n  /**\n   * Mobile Touch event handler for Spritz\n   * @param {*} e\n   */\n  onTouchEvent = (e) => {\n    switch (e.type) {\n      case 'mousedown':\n      case 'mouseup':\n      case 'mousemove':\n      case 'touchstart':\n      case 'touchend':\n      case 'touchmove':\n      case 'touchcancel':\n      default:\n        Spritz._instance.engine.touch(e);\n        break;\n    }\n  };\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nexport default function fs() {\n  return `\n  precision mediump int;\n  precision mediump float;\n\n  const float Near = 0.1;\n  const float Far = 50.0;\n\n  struct PointLight {\n    float enabled;\n    vec3 color;\n    vec3 position;\n    vec3 attenuation;\n    vec3 direction;\n    vec3 scatteringCoefficients;\n    float density;\n  };\n\n  float unpack(vec4 color) {\n    const vec4 bitShifts = vec4(1.0, 1.0 / 255.0, 1.0 / (255.0 * 255.0), 1.0 / (255.0 * 255.0 * 255.0));\n    return dot(color, bitShifts);\n  }\n\n  varying vec4 vWorldVertex;\n  varying vec3 vWorldNormal;\n  varying vec3 vTransformedNormal;\n  varying vec4 vPosition;\n  varying vec2 vTextureCoord;\n\n  varying vec3 vLighting;\n\n  uniform PointLight uLights[32];\n  uniform sampler2D uDepthMap;\n\n  uniform float runTransition;\n  uniform float useSampler;\n  uniform float useDiffuse;\n  uniform sampler2D uSampler;\n  uniform sampler2D uDiffuseMap;\n\n  uniform vec3 uDiffuse;\n  uniform vec3 uSpecular;\n  uniform float uSpecularExponent;\n\n  uniform vec3 uLightColor;\n  varying vec3 vFragPos;\n  varying vec3 vLightDir;\n  varying vec3 vViewDir;\n\n  float getAttenuation(PointLight light) {\n    float distance_from_light;\n    vec3 to_light;\n\n    to_light = light.position - vPosition.xyz;\n    distance_from_light = length(to_light);\n    \n    float attenuation = 1.0 / (\n        1.0 + light.attenuation.x\n        + light.attenuation.y * distance_from_light \n        + light.attenuation.z * pow(distance_from_light, 2.0)\n      );\n    return attenuation;\n  }\n\n  vec3 getReflectedLightColor(vec3 color) {\n    vec3 reflectedLightColor = vec3(0.0);\n  \n    for(int i = 0; i < 32; i++) {\n      if(uLights[i].enabled <= 0.5) continue;\n  \n      vec3 specular_color;\n      vec3 diffuse_color;\n      vec3 to_light;\n      vec3 reflection;\n      vec3 to_camera;\n      float cos_angle;\n      float attenuation;\n      vec3 normal;\n  \n      // Calculate a vector from the fragment location to the light source\n      to_light = normalize(uLights[i].position - vFragPos);\n      normal = normalize(vWorldNormal);\n  \n      // DIFFUSE calculations\n      if (useSampler == 1.0) {\n        cos_angle = 0.67; // billboard sprites\n        cos_angle += dot(to_camera, to_light);\n      } else {\n        cos_angle = dot(normal, to_light);\n        cos_angle = clamp(cos_angle, 0.0, 1.0);\n      }\n  \n      // Scale the color of this fragment based on its angle to the light.\n      diffuse_color = uLights[i].color * cos_angle;\n  \n      // SPECULAR calculations\n      reflection = 2.0 * dot(normal, to_light) * normal - to_light;\n      reflection = normalize(reflection);\n  \n      to_camera = normalize(vViewDir);\n  \n      cos_angle = dot(reflection, to_camera);\n      cos_angle = clamp(cos_angle, 0.0, 1.0);\n      specular_color = uLights[i].color * cos_angle;\n  \n      // ATTENUATION calculations\n      attenuation = getAttenuation(uLights[i]);\n  \n      // Combine and attenuate the colors from this light source\n      reflectedLightColor += attenuation * (diffuse_color + specular_color);\n    }\n  \n    return clamp(0.5 * color + reflectedLightColor, 0.0, 1.0);\n  }\n\n  // Diffuse Colour Calculation\n  vec3 calculateDiffuse() {\n    vec4 texelColors = texture2D(uDiffuseMap, vTextureCoord);\n    vec3 color = uDiffuse;\n    if(useDiffuse == 1.0) {\n      if(texelColors != vec4(0.0, 0.0, 0.0, 0.0)) {\n        color = texelColors.rgb + color;\n      }\n    }\n    return color;\n  }\n\n  // Sampler Texture Colour Calculation\n  vec3 calculateSampler(vec4 texelColors) {\n    vec3 color = texelColors.rgb;\n    if(texelColors.a < 0.1) discard;\n    return color;\n  }\n\n  // linearize depth\n  float LinearizeDepth(float depth) {\n    float z = depth * 2.0 - 1.0; // back to NDC \n    return (2.0 * Near * Far) / (Far + Near - z * (Far - Near));\n  }\n\n  // fog effect based on depth\n  vec4 fogEffect(vec4 color4) {\n    float depth = LinearizeDepth(gl_FragCoord.z) / Far;\n    vec4 depthVec4 = vec4(vec3(pow(depth, 1.4)), 1.0);\n    return (color4 * (1.0 - depth)) + depthVec4;\n  }\n\n  // Volumetric Calculation\n  vec4 volumetricCalculation(vec4 color4) {\n    vec3 finalColor;\n\n    for(int i = 0; i < 32; i++) {\n      if(uLights[i].enabled <= 0.5) continue;\n        \n      // Calculate the distance from the fragment to the light\n      float distance = length(uLights[i].position - vec3(vWorldVertex));\n\n      // directional lighting - not working atm\n      // if(length(uLights[i].direction) > 0.0){\n      //   // Calculate the angle between the light direction and the fragment\n      //   float cos_angle = dot(normalize(uLights[i].direction), normalize(vFragPos - uLights[i].position));\n      //   // If the fragment is not within the light cone, skip this light\n      //   if(cos_angle <= 0.0) continue;\n      // }\n\n      // Calculate the scattering effect\n      float scattering = exp(-uLights[i].density * distance);\n      vec3 scatteredLight = uLights[i].color * scattering * uLights[i].scatteringCoefficients;\n      // Combine the scattered light with the existing lighting\n      finalColor += scatteredLight;\n    }\n\n    return color4 * vec4(finalColor, 1.0);\n  }\n\n  void main(void) {\n    if(runTransition == 1.0) {\n      gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n      return;\n    }\n\n    if(useSampler == 1.0) { // sampler\n      vec4 texelColors = texture2D(uSampler, vTextureCoord);\n      vec3 color = calculateSampler(texelColors);\n      vec4 color4 = vec4(getReflectedLightColor(color), texelColors.a);\n      gl_FragColor = volumetricCalculation(vec4(color, texelColors.a)) * fogEffect(color4);\n    } else { // diffuse\n      vec3 color = calculateDiffuse();\n      vec4 color4 = vec4((getReflectedLightColor(color)), 1.0);\n      gl_FragColor = volumetricCalculation(vec4(color,1.0)) * fogEffect(color4);\n    }\n  }\n`;\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default function vs() {\n  return `\n  precision mediump float;\n\n  attribute vec3 aVertexPosition;\n  attribute vec3 aVertexNormal;\n  attribute vec2 aTextureCoord;\n  \n  uniform mat4 uModelMatrix;\n  uniform mat4 uViewMatrix;\n  uniform mat4 uProjectionMatrix;\n  uniform mat3 uNormalMatrix;\n  uniform mat3 uCamPos;\n\n  uniform vec3 uLightDirection;\n  uniform vec3 uCameraPosition;\n  varying vec3 vFragPos;\n  varying vec3 vLightDir;\n  varying vec3 vViewDir;\n\n  varying vec4 vWorldVertex;\n  varying vec3 vWorldNormal;\n  varying vec3 vTransformedNormal;\n  varying vec4 vPosition;\n  varying vec2 vTextureCoord;\n\n  uniform vec3 u_scale;\n\n  void main(void) {\n    vec3 scaledPosition = aVertexPosition * u_scale;\n\n    vWorldVertex = uModelMatrix * vec4(aVertexPosition, 1.0);\n    vPosition = uModelMatrix * vec4(scaledPosition, 1.0);\n    vTextureCoord = aTextureCoord;\n    vTransformedNormal = uNormalMatrix * aVertexNormal;\n    vWorldNormal = normalize(mat3(uModelMatrix) * aVertexNormal);\n\n    // Pass fragment position to fragment shader\n    vFragPos = vec3(uModelMatrix * vec4(scaledPosition, 1.0));\n    \n    // Calculate view direction and pass to fragment shader\n    vViewDir = normalize(uCameraPosition - vFragPos);\n\n    gl_Position = uProjectionMatrix * uViewMatrix * vPosition;\n  }\n`;\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\nexport default function fs() {\n  return `\n  precision highp float;\n  \n  const float MAX_BLUR = 20.0;\n  const float NEAR = 0.1;\n  const float FAR = 10.0;\n  const float FOCAL_LENGTH = 1.0;\n  const float FOCUS_DISTANCE = 2.0;\n  const float MAGNIFICATION = FOCAL_LENGTH / abs(FOCUS_DISTANCE - FOCAL_LENGTH);\n  const float FSTOP = 2.8;\n  const float BLUR_COEFFICIENT = (FOCAL_LENGTH * MAGNIFICATION) / FSTOP;\n  const float PPM = sqrt(480.0 * 480.0 + 600.0 * 600.0) / 35.0;\n  const vec2 DEPTH_RANGE = vec2(NEAR, FAR);\n  \n  uniform vec2 uResolution;\n  uniform vec2 uTexelOffset;\n  \n  uniform sampler2D uColor;\n  uniform sampler2D uDepth;\n  \n  void main() {\n      vec2 fragCoord = gl_FragCoord.xy;\n      vec2 resolution = uResolution - vec2(1.0);\n  \n      // Convert to linear depth\n      float ndc = 2.0 * texture2D(uDepth, fragCoord / resolution).r - 1.0;\n      float depth = -(2.0 * 0.5 * DEPTH_RANGE.y * DEPTH_RANGE.x) / (ndc * (DEPTH_RANGE.y - DEPTH_RANGE.x) - DEPTH_RANGE.y - DEPTH_RANGE.x);\n      float deltaDepth = abs(FOCUS_DISTANCE - depth);\n  \n      // Blur more quickly in the foreground.\n      float xdd = depth < FOCUS_DISTANCE ? abs(FOCUS_DISTANCE - deltaDepth) : abs(FOCUS_DISTANCE + deltaDepth);\n      float blurRadius = min(floor(BLUR_COEFFICIENT * (deltaDepth / xdd) * PPM), MAX_BLUR);\n  \n      vec4 color = vec4(0.0);\n      if (blurRadius > 1.0) {\n          float halfBlur = blurRadius * 0.5;\n  \n          float count = 0.0;\n  \n          for (float i = 0.0; i <= MAX_BLUR; ++i) {\n              if (i > blurRadius) {\n                  break;\n              }\n  \n              // Clamp sample coordinates\n              vec2 sampleCoord = clamp(fragCoord + ((i - halfBlur) * uTexelOffset), vec2(0.0), resolution);\n              color += texture2D(uColor, sampleCoord / resolution);\n  \n              ++count;\n          }\n  \n          color /= count;\n      } else {\n          color = texture2D(uColor, fragCoord / resolution);\n      }\n  \n      gl_FragColor = color;\n  }\n`;\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nexport default function vs() {\n  return `\n  attribute vec4 aVertexPosition;\n  \n  void main() {\n      gl_Position = aVertexPosition;\n  }  \n`;\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\n// Shaders\nimport Spritz from '@Engine/core/scene/spritz.jsx';\nimport World from '@Engine/core/scene/world.jsx';\nimport JSZip from 'jszip';\n\n// Spritz Object\nexport default class ExampleDynamicSpritz extends Spritz {\n  // Init Spritz\n  init = async (engine) => {\n    // game Engine & Timing\n    Spritz._instance.engine = engine;\n    // Init Game Engine Components\n    let world = (Spritz._instance.world = new World(engine, 'dynamic'));\n\n    // load spritz\n    async function loadSpritz(menu) {\n      try {\n        // read zip from uploaded file\n        let file = engine.fileUpload.files[0];\n        let zip = await JSZip.loadAsync(file);\n\n        // find manifest and read\n        let manifest = JSON.parse(await zip.file('manifest.json').async('string'));\n        console.log(manifest);\n\n        // load initial zone from zip file\n        manifest.initialZones.forEach((zone) => {\n          world.loadZoneFromZip(zone, zip, true);\n        });\n\n        // start\n        menu.world.isPaused = false;\n\n        // Exit Menu\n        menu.completed = true;\n      } catch (e) {\n        console.error(e);\n        return;\n      }\n    }\n\n    // if no file don't go any further and prompt\n    function loadZipFile(menu, skipClick = false) {\n      if (!skipClick || engine.fileUpload.files.length === 0) {\n        engine.fileUpload.click();\n        engine.fileUpload.onchange = (e) => loadSpritz(menu);\n        return;\n      } else {\n        // autoload if passed in\n        loadSpritz(null);\n      }\n    }\n\n    // show start menu\n    world.startMenu({\n      start: {\n        pausable: false,\n        text: 'Load Game File',\n        prompt: 'Please select a file to load...',\n        x: engine.screenSize().width / 2 - 75,\n        y: engine.screenSize().height / 2 - 50,\n        w: 150,\n        h: 75,\n        quittable: false,\n        colours: {\n          top: '#333',\n          bottom: '#777',\n          background: '#999',\n        },\n        onEnter: true,\n        onOpen: (menu) => {\n          // tood - needs a way to trigger on open\n          this.isPaused = true;\n          // loadZipFile(true);\n        },\n        trigger: async (menu) => {\n          loadZipFile(menu);\n        },\n      },\n    });\n  };\n}\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\n// Shaders\nimport DynamicSpritz from '@Engine/dynamic/spritz.jsx';\n\n// Spritz Object\nexport default class ExampleDynamicSpritz extends DynamicSpritz {}\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./pixos.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./pixos.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*                                                 *\\\n** ----------------------------------------------- **\n**          Calliope - Pixos Game Engine   \t       **\n** ----------------------------------------------- **\n**  Copyright (c) 2020-2023 - Kyle Derby MacInnis  **\n**                                                 **\n**    Any unauthorized distribution or transfer    **\n**       of this work is strictly prohibited.      **\n**                                                 **\n**               All Rights Reserved.              **\n** ----------------------------------------------- **\n\\*                                                 */\n\nimport React, { Component } from 'react';\nimport { collect } from 'react-recollect';\n// WebGL Component\nimport WebGLView from '@Components/WebGLView.jsx';\n// Pixos Spritz Provider\nimport SpritzProvider from '@Spritz/player.jsx';\n// Style Plugin\nimport '../css/pixos.css';\n\nclass Pixos extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      spritz: new SpritzProvider(),\n      updated: Date.now(),\n      zipData: props.zipData,\n    };\n  }\n\n  // Update world on Edit\n  componentWillReceiveProps(nextProps) {\n    if (JSON.stringify(this.props.networkString) != JSON.stringify(nextProps.networkString)) {\n      this.setState({\n        networkString: nextProps.networkString,\n        updated: Date.now(),\n      });\n    }\n  }\n\n  // Render World as Passed in String or FlatLand (Default)\n  render() {\n    const { updated, spritz, zipData } = this.state;\n    return (\n      <div style={{ margin: 0, minHeight: '480px', maxHeight: '1080px' }}>\n        <WebGLView class=\"pixos\" key={`pixos-${updated}`} width={'480px'} height={'640px'} SpritzProvider={spritz} zipData={zipData ?? ''} />\n      </div>\n    );\n  }\n}\n\nexport default collect(Pixos);\n"],"names":["padLeft","module","exports","string","start","delim","lines","split","totalDigits","String","length","map","line","i","c","digits","join","str","atob","init","untilFrame","finish","console","log","msg","this","tick","time","loaded","facing","sprite","setFacing","endTime","startTime","frac","newFrame","Math","floor","animFrame","setFrame","fromZoneId","from","toZoneId","to","zone","world","loadZone","fromZone","toZone","Vector","Direction","round","x","y","set","pos","lerp","isInZone","removeSprite","id","runAfterTick","addSprite","bind","hx","hotspotOffset","hy","switchRenderZone","z","getHeight","prompt","scrolling","options","engine","text","completed","lastKey","Date","getTime","autoclose","checkInput","textbox","hud","scrollText","skipChar","keyboard","lastPressedCode","arr","pop","setGreeting","speech","clearHud","speechbox","loadImage","char","lastPressedKey","moveLength","resourceManager","audioLoader","loadFromZip","zip","danceSound","audio","pauseAudio","playAudio","fbc_array","Uint8Array","analyser","frequencyBinCount","getByteFrequencyData","bar_height","addAction","faceDir","then","lastPressed","displayText","shift","lastText","speechOutput","duration","speak","onClose","window","speechSynthesis","cancel","gamepad","keyPressed","greeting","offset","zoneContaining","spriteList","filter","objectList","object","interact","Promise","all","faceChange","objectDict","spriteDict","result","onStep","direction","patrolSound","pathFind","hasMoves","moveList","moveIndex","move","last","currentAction","ActionLoader","isWalkable","toArray","resolve","menu","activeMenus","listenerId","attachListener","hookListener","touches","menuDict","selectedMenu","selectedMenuId","isTouched","Object","keys","key","includes","section","colors","colours","active","drawButton","w","h","unhookListener","removeListener","touchstart","self","trigger","children","touchmove","touchend","mousedown","mousemove","mouseup","triggerId","onCompleted","triggerScript","scripts","call","ActionQueue","actions","action","push","args","arguments","Loadable","onLoadActions","add","data","assign","cameraAction","renderManager","camera","cameraVector","cameraDir","closeOnEnter","onOpen","quittable","onvoiceschanged","onEnter","PixosLuaLibrary","luainjs","envScope","lua","Table","get_caller","_this","get_subject","subject","get_map","get_world","spritz","remove_all_zones","removeAllZones","load_zone_from_zip","loadZoneFromZip","play_cutscene","cutscene","playCutscene","sprite_dialogue","spriteId","dialogue","spriteDialogue","move_sprite","location","running","moveSprite","utils","ensureArray","toObject","load_scripts","loadScripts","set_camera","setCamera","get_camera_vector","look_at","trgt","up","position","target","upDir","lookAt","pan_camera","addEvent","EventLoader","_pan","radians","PI","panCCW","CoerceArgToFloat","panCW","pitch","pitchCCW","pitchCW","tilt","tiltCCW","tiltCW","vector","tbl","vec_sub","a","b","sub","sync","p","as_obj","as_array","as_table","obj","table","entries","value","callback_finish","success","tcache","u_inspect","JSON","stringify","sprintf","Array","t","o","argidx","idx","Vnum","pad","m","charCodeAt","O","isnum","radix","bytes","sign","flags","alt","indexOf","parseInt","width","charAt","substr","prec","arg","len","repeat","cc","fromCharCode","Number","l","isNaN","toString","abs","toLowerCase","Error","message","errno","valueOf","prototype","toUpperCase","pow","d1","di","substring","isf","isFinite","E","toExponential","sg","toFixed","replace","ac","ai","am","match","ae","_f","doit","fmt","out","infmt","fmtparam","fmtflags","fmtwidth","fmtprec","fmtlen","L","tokenize","LuaError","constructor","super","initialiser","numValues","undefined","strValues","values","metatable","isArray","insert","get","rawget","mm","v","index","tostring","getMetaMethod","name","rawset","setFn","K","outputAsArray","getn","propValue","vals","j","FLOATING_POINT_PATTERN","HEXIDECIMAL_CONSTANT_PATTERN","type","Function","valToStr","coerceToString","prefix","s","random","posrelat","throwCoerceError","val","errorMessage","coerceToBoolean","coerceToNumber","Infinity","NaN","V","parseFloat","exponent","mantissa","n","coerceArg","coerceFunc","typ","funcName","coerceArgToNumber","coerceArgToString","coerceArgToTable","coerceArgToFunction","hasOwnProperty","freeze","__proto__","Scope","variables","_variables","parent","setLocal","setVarargs","_varargs","getVarargs","extend","innerVars","create","scope","isBlock","node","MemExpr","base","property","UNI_OP_MAP","not","BIN_OP_MAP","generate","label","parseExpressions","clauses","clause","expression","condition","parseBody","parseAssignments","getFuncDef","params","paramStr","body","findIndex","parameters","param","nodeToScope","identifier","isLocal","indexer","unshift","varName","variable","end","step","cond","after","varInit","iterators","_","pre","dec","fields","field","ExpressionReturnsArray","operator","argument","left","right","functionName","parseExpressionList","header","scopeDef","scopeToParentScope","statement","goto","nodeToGoto","gotoHeader","gotoParent","gotoToParentGoto","expressions","valFns","useTempVar","every","isLiteral","initStr","setStr","isCallExpression","Map","parse","ast","comments","luaVersion","encodingMode","gotoInfo","gotoScope","gotoScopeMap","getNextGotoScope","check","createGotoScope","find","slice","forEach","sort","labelI","locals","checkGoto","scopeID","gotoID","visitProp","prevScope","prevGoto","nextScope","nextGoto","isNewScope","VP","partOfBlock","S","visitNode","setExtraInfo","ROSETTA_STONE","translatePattern","pattern","tPattern","RegExp","nestingLevel","character","libString","byte","I","J","B","plain","P","INIT","regex","search","format","formatstring","precision","modifier","test","gmatch","reg","matches","groups","exec","gsub","repl","N","REPL","strs","ret","lastMatch","count","lower","patt","ini","rep","sep","num","SEP","fill","reverse","upper","__index","CHARS","ipairsIterator","nextIndex","_VERSION","assert","collectgarbage","error","getmetatable","ipairs","next","TABLE","found","pairs","pcall","f","e","rawequal","v1","v2","rawlen","trunc","setmetatable","tonumber","trim","BASE","xpcall","msgh","binaryArithmetic","metaMethodName","callback","binaryBooleanArithmetic","bool","eq","lt","r","le","operators","and","or","unm","bnot","mul","mod","absR","div","idiv","band","bor","bxor","shl","shr","concat","neq","gt","ge","maxinteger","MAX_SAFE_INTEGER","mininteger","MIN_SAFE_INTEGER","pi","randomSeed","getRandom","atan","Y","X","atan2","exp","tointeger","libMath","acos","asin","ceil","cos","cosh","deg","fmod","frexp","delta","huge","ldexp","M","log10","max","ARGS","min","modf","intValue","rad","firstArg","MIN","MAX","randomseed","sin","sinh","sqrt","tan","tanh","ult","toUnsigned","maxn","libTable","splice","POS","VALUE","a1","a2","A1","F","T","A2","pack","remove","comp","sortFunc","COMP","unpack","DAYS","MONTHS","DAYS_IN_MONTH","DATE_FORMAT_HANDLERS","date","utc","getUTCFullYear","getFullYear","getUTCMonth","getMonth","U","getWeekOfYear","W","getUTCDate","getDate","month","year","reduce","sum","d","A","getUTCDay","getDay","H","getUTCHours","getHours","getUTCMinutes","getMinutes","getUTCSeconds","getSeconds","toLocaleString","timeZone","Z","isDST","jan","getTimezoneOffset","firstDay","dayOfYear","jan1","input","setTime","day","hour","sec","wday","yday","isdst","setlocale","locale","now","difftime","t2","t1","getLibOS","cfg","exit","code","osExit","CODE","getLibPackage","execModule","LUA_PATH","config","preload","searchpath","path","fileExists","NAME","PATH","REP","paths","template","searchers","moduleName","res","libPackage","loadFile","_require","modname","MODNAME","searcherFns","fn","searcher","loader","stringTable","execChunk","_G","chunk","chunkName","globalScope","createEnv","stdin","stdout","load","_chunkname","_mode","env","parsed","C","loadfile","filename","mode","FILENAME","dofile","print","output","select","createG","content","loadLib","parse$1","script","parseFile","PixosLuaInterpreter","library","pixosLib","getLibrary","initLibrary","fs","shaderProgram","gl","aVertexPosition","getAttribLocation","enableVertexAttribArray","pMatrixUniform","getUniformLocation","mMatrixUniform","vMatrixUniform","scale","setMatrixUniforms","uniformMatrix4fv","uProjMat","uModelMat","uViewMat","uniform3fv","uniform4fv","vs","degToRad","degrees","None","Right","Up","Left","Down","All","fromOffset","dp","toOffset","dir","rotate","ccw","Top","adjustCameraDirection","vec","spriteSequence","drawOffset","cross","objectSequence","isObject","item","mergeDeep","sources","source","loopOnThresolds","onLoop","minValidThresold","thresold","noop","minThresold","stop","generateObjectModel","defaultValue","analyzer","getLowPassSource","buffer","OfflineContext","numberOfChannels","sampleRate","context","createBufferSource","createBiquadFilter","connect","destination","findPeaksAtThresold","peaks","computeBPM","peaksFound","identifyIntervals","groupByTempo","getTopCandidates","state","candidates","intervals","peak","interval","some","intervalCount","intervalCounts","tempoCounts","theoreticalTempo","tempoCount","tempo","RealTimeBPMAnalyzer","debug","scriptNode","bufferSize","continuousAnalysis","stabilizedBpmCount","computeBPMDelay","stabilizationTime","pushTime","pushCallback","_bpm","onBpmStabilized","clearValidPeaks","OfflineAudioContext","webkitOfflineAudioContext","logger","cumulatedPushTime","timeoutPushTime","timeoutStabilization","validPeaks","nextIndexPeaks","chunkCoeff","reset","analyze","event","currentMaxIndex","currentMinIndex","inputBuffer","offsetForNextPeak","atThresold","getChannelData","relativeChunkPeak","setTimeout","bpm","clearTimeout","AudioLoader","definitions","instances","src","loop","instance","AudioTrack","file","async","audioData","Blob","blob","url","URL","createObjectURL","playing","Audio","audioContext","AudioContext","createAnalyser","audioSource","createMediaElementSource","audioNode","createScriptProcessor","onAudioProcess","err","onaudioprocess","addEventListener","currentTime","play","audioPromise","info","pause","Tileset","sheetSize","tileSize","tiles","onDefinitionLoadActions","onTextureLoaded","k","definitionLoaded","run","texture","loadTexture","runWhenLoaded","bgColor","clearColor","loadTextureFromZip","geometry","vertices","poly","vertex","flat","texId","tileOffset","textures","size","surfaces","tileId","walkPoly","TilesetLoader","tilesets","spritzName","tileset","tilesetJson","tilesetGeometry","tilesetTiles","loadTilesetData","tilesetData","onJsonLoadedFromZip","Tiles","TilesetGeometry","stringD","geo","sheetOffsetX","sheetOffsetY","Sprite","objId","templateLoaded","fixed","actionDict","actionList","gender","portrait","getTexCoords","inventory","onTilesetOrTextureLoaded","blocking","override","isLit","lightIndex","lightColor","density","voice","SpeechSynthesisUtterance","instanceData","frames","attenuation","scatteringCoefficients","rotation","zones","stepParent","vertexTexBuf","createBuffer","DYNAMIC_DRAW","enableSpeech","loadSpeech","mipmap","speechTexBuf","getSpeechBubbleTexture","portraitSrc","lightManager","addLight","runWhenDefinitionLoaded","onTilesetDefinitionLoaded","update","normTile","verts","vertexPosBuf","STATIC_DRAW","speechVerBuf","getSpeechBubbleVertices","writeText","sequence","ss","ts","bl","tr","updateLight","mvPushMatrix","translate","cameraAngle","bindBuffer","aTextureCoord","attach","effectPrograms","getPickingId","depthFunc","ALWAYS","drawArrays","TRIANGLES","numItems","LESS","mvPopMatrix","frame","updateBuffer","removeAction","dt","toRemove","onComplete","fetch","response","ok","processJson","json","showBubble","lang","rate","volume","voices","getVoices","DynamicAvatar","bindCamera","Avatar","handleWalk","avatar","cameraPosition","menuConfig","defaultMenus","touchmap","openMenu","main","top","bottom","background","moveTime","startTransition","DynamicSprite","old","new","states","stateMachine","loadActionDynamically","luaCallback","interpreter","setScope","actionToLoad","animate","_finish","stepTrigger","luaScript","DynamicAnimatedSprite","randomJitter","triggerTime","lastTime","accumTime","frameTime","DynamicAnimatedTile","SpriteLoader","afterLoad","runConfigure","loadJson","ModelObject","maxX","maxY","maxZ","mesh","minX","minY","minZ","useScale","objLoader","initMeshBuffers","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","uniform1i","diffuseMapUniform","indicesPerMaterial","materialsByIndex","vertexBuffer","textureBuffer","normalBuffer","aVertexNormal","uDiffuse","diffuse","uniform1f","uSpecularExponent","specularExponent","mapDiffuse","glTexture","uSpecular","specular","bufferInfo","_buildBuffer","ELEMENT_ARRAY_BUFFER","sampler","drawElements","UNSIGNED_SHORT","indexBuffer","disableVertexAttribArray","drawTexturedObj","drawObj","ObjectLoader","model","modelreq","mtl","mtlTextureRoot","downloadMtlTextures","enableWTextureCoord","downloadModelsFromZip","models","Action","creationArgs","apply","assets","onLoad","configure","require","Event","matrix","Float32Array","create3","perspective","fovy","aspect","near","far","nf","m1","m2","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","subtractVectors","axis","hypot","b00","b01","b02","b10","b11","b12","b20","b21","b22","mat","dest","normalFromMat4","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","det","normalize","Vector4","negate","vec2","tilesetRequestUrl","zoneRequestUrl","artResourceUrl","art","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","Arr","_byteLength","curByte","revLookup","fromByteArray","uint8","extraBytes","parts","maxChunkLength","len2","encodeChunk","lookup","base64","ieee754","customInspectSymbol","Symbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","RangeError","buf","setPrototypeOf","encodingOrOffset","TypeError","allocUnsafe","encoding","isEncoding","actual","write","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","isBuffer","checked","numberIsNaN","fromObject","toPrimitive","assertSize","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","defineProperty","enumerable","poolSize","allocUnsafeSlow","_isBuffer","compare","list","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","BigInt","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","errors","sym","getMessage","Base","writable","configurable","stack","addNumericalSeparator","range","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","received","isInteger","INVALID_BASE64_RE","leadSurrogate","base64clean","dst","alphabet","i16","BufferBigIntNotDefined","___CSS_LOADER_EXPORT___","cssWithMappingToString","needLayer","modules","media","dedupe","supports","layer","alreadyImportedModules","_k","cssMapping","btoa","unescape","encodeURIComponent","sourceMapping","sourceURLs","sourceRoot","XMLHttpRequest","open","responseType","onload","g","onerror","send","status","dispatchEvent","MouseEvent","document","createEvent","initMouseEvent","global","navigator","userAgent","saveAs","HTMLAnchorElement","webkitURL","createElement","download","rel","href","origin","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","title","innerText","HTMLElement","safari","FileReader","onloadend","readAsDataURL","gl10","number","glConstants","shaderName","addLineNumbers","errLog","typeName","FRAGMENT_SHADER","longForm","shortForm","errorStrings","errorString","lineNo","long","short","createUniformWrapper","createAttributeWrapper","makeReflect","shaderCache","runtime","GLError","Shader","lastAttribCount","_vref","_fref","_relink","vertShader","fragShader","program","attributes","uniforms","types","compareAttributes","newAttribCount","getProgramParameter","ACTIVE_ATTRIBUTES","oldAttribCount","useProgram","dispose","vertSource","fragSource","fragment","wrapper","pvref","shader","VERTEX_SHADER","pfref","testProgram","createProgram","attachShader","linkProgram","LINK_STATUS","getProgramInfoLog","deleteProgram","attributeUnpacked","attributeNames","attributeLocations","attr","locVector","locations","curLocation","uniformLocations","relink","rawError","shortMessage","longMessage","locs","addVectorAttribute","addMatrixAttribute","ShaderAttribute","dimension","constFunc","_gl","_wrapper","_index","_locations","_dimension","_constFunc","pointer","normalized","stride","vertexAttribPointer","FLOAT","x0","x1","x2","x3","allFns","vertexAttrib1f","vertexAttrib1fv","vertexAttrib2f","vertexAttrib2fv","vertexAttrib3f","vertexAttrib3fv","vertexAttrib4f","vertexAttrib4fv","attrs","scratch","vertexAttrib","loc","coallesceUniforms","identity","makeVector","makeSetter","indices","enumerateIndices","objPath","k1","k2","vidx","prop","tprefix","storeProperty","child","processObject","getUniform","coallesced","useIndex","numUniforms","ACTIVE_UNIFORMS","getActiveUniform","getType","numAttributes","getActiveAttrib","GL_TO_GLSL_TYPES","GL_TABLE","typeNames","tn","getCache","getShaderReference","vref","fref","attribs","getProgram","formatCompilerError","CACHE","WeakMap","SHADER_COUNTER","ShaderReference","programs","cache","ContextCache","shaders","deleteShader","ctxCache","isShader","shaderObj","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","token","prog","isProgram","vshader","fshader","bindAttribLocation","__esModule","tokens","opt","total","NORMAL","col","isoperator","allBuiltins","builtins100","allLiterals","literals100","version","builtins300es","literals300es","builtinsDict","literalsDict","BLOCK_COMMENT","block_comment","LINE_COMMENT","PREPROCESSOR","preprocessor","OPERATOR","INTEGER","integer","HEX","hex","decimal","TOKEN","readtoken","WHITESPACE","whitespace","normal","EOF","column","determine_operator","is_composite_operator","contentstr","KEYWORD","BUILTIN","IDENT","v100","generator","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","KNOWN_STATICS","caller","callee","arity","MEMO_STATICS","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","u","encode","getTypeOf","decode","uint8array","compressedSize","uncompressedSize","crc32","compression","compressedContent","getContentWorker","pipe","uncompressWorker","on","streamInfo","data_length","getCompressedWorker","withStreamInfo","createWorkerFrom","compressWorker","STORE","magic","DEFLATE","binary","createFolders","compressionOptions","comment","unixPermissions","dosPermissions","lie","Uint16Array","Uint32Array","_pako","_pakoAction","_pakoOptions","meta","inherits","processChunk","_createPako","transformTo","flush","cleanUp","raw","level","onData","pako","utf8encode","fileRecord","R","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","bytesWritten","zipComment","zipPlatform","encodeFileName","streamFiles","accumulate","contentBuffer","dirRecords","currentSourceOffset","entriesCount","currentFile","_sources","percent","openedSource","closedSource","DATA_DESCRIPTOR","CENTRAL_DIRECTORY_END","prepareNextSource","previous","isPaused","resume","registerPrevious","generatedError","lock","generateWorker","platform","_compressWorker","files","root","clone","loadAsync","support","defaults","external","decompressed","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","isNode","isStream","reject","prepareContent","fileNameStr","fileCommentStr","_upstreamEnded","_bindStream","_stream","Readable","_helper","emit","_read","newBufferFrom","allocBuffer","folder","generateInternalStream","mimeType","checkSupport","generateAsync","generateNodeStream","toNodejsStream","stream","byteAt","zero","lastIndexOfSignature","readAndCheckSignature","readData","checkIndex","setIndex","skip","readInt","readString","readDate","UTC","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","destType","propName","dataIsReady","_tickScheduled","_tickAndRepeat","delay","isFinished","_tick","extraStreamInfo","isLocked","_listeners","mergeStreamInfo","nodestream","_internalType","_outputType","_mimeType","_worker","newBlob","objectMode","arraybuffer","nodebuffer","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","append","getBlob","leftOver","applyFromCharCode","Utf8DecodeWorker","Utf8EncodeWorker","stringifyByChunk","stringifyByChar","applyCanBeUsed","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","readAsArrayBuffer","loadOptions","checkSignature","reader","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","zip64ExtensibleData","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","prepareReader","isEncrypted","bitFlag","useUTF8","fileNameLength","fileName","compressionMethod","versionMadeBy","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","_data","_dataBinary","internalStream","_decompressWorker","nodeStream","MutationObserver","WebKitMutationObserver","createTextNode","observe","characterData","setImmediate","MessageChannel","onreadystatechange","parentNode","removeChild","documentElement","appendChild","port1","onmessage","port2","postMessage","queue","outcome","promise","onFulfilled","callFulfilled","otherCallFulfilled","onRejected","callRejected","otherCallRejected","finally","catch","race","immediate","method","chunkSize","windowBits","memLevel","strategy","gzip","ended","chunks","strm","avail_out","deflateInit2","deflateSetHeader","dictionary","string2buf","deflateSetDictionary","_dict_set","next_in","avail_in","Buf8","next_out","deflate","onEnd","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","deflateRaw","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","inflate","Z_NEED_DICT","inflateSetDictionary","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","Inflate","inflateRaw","ungzip","Int32Array","setTyped","Buf16","Buf32","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","D","pending","pending_buf","pending_out","total_out","_tr_flush_block","block_start","strstart","max_chain_length","prev_length","nice_match","w_size","w_mask","prev","good_match","lookahead","match_start","window_size","hash_size","head","wrap","adler","total_in","ins_h","hash_shift","hash_mask","match_length","_tr_tally","max_lazy_match","last_lit","prev_match","match_available","good_length","max_lazy","nice_length","max_chain","func","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","depth","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","G","data_type","_tr_init","deflateInit","deflateReset","deflateResetKeep","hcrc","extra","os","_tr_align","_tr_stored_block","deflateInfo","xflags","extra_len","done","dmax","wsize","whave","wnext","hold","bits","lencode","distcode","lenbits","distbits","sane","havedict","wbits","ncode","nlen","ndist","have","work","lendyn","distdyn","back","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","inflateInfo","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","q","factory","objectTypes","freeExports","nodeType","freeModule","freeGlobal","moduleExports","features","defaultOptions","wait","ranges","onCreateNode","onCreateScope","onDestroyScope","onLocalDeclaration","encodeUTF8","codepoint","highMask","checkChars","rx","raise","invalidCodeUnit","toHex","encodingModes","fixup","encodeByte","discardStrings","Punctuator","NilLiteral","VarargLiteral","tokenTypes","StringLiteral","Keyword","Identifier","NumericLiteral","BooleanLiteral","unexpected","unexpectedEOF","expected","expectedToken","unfinishedString","malformedNumber","decimalEscapeTooLarge","invalidEscape","hexadecimalDigitExpected","braceExpected","tooLargeCodepoint","unfinishedLongString","unfinishedLongComment","ambiguousSyntax","noLoopToBreak","labelAlreadyDefined","labelNotVisible","gotoJumpInLocalScope","cannotUseVararg","labelStatement","breakStatement","gotoStatement","returnStatement","ifStatement","ifClause","elseifClause","elseClause","whileStatement","doStatement","repeatStatement","localStatement","assignmentStatement","callStatement","functionStatement","forNumericStatement","forGenericStatement","literal","tableKey","tableKeyString","tableValue","tableConstructorExpression","binaryExpression","unaryExpression","memberExpression","indexExpression","callExpression","tableCallExpression","stringCallExpression","finishNode","trackLocations","complete","bless","element","previousToken","tokenStart","lineStart","scopes","scopeDepth","globals","fixupError","SyntaxError","tokenValue","raiseUnexpectedToken","lex","skipWhiteSpace","scanComment","beginLine","beginLineStart","charCode","extendedIdentifiers","isIdentifierStart","isIdentifierPart","labels","contextualGoto","isKeyword","scanIdentifierOrKeyword","delimiter","stringStart","isLineTerminator","beforeEscape","escapeValue","readEscapeSequence","lastLine","lastLineStart","scanStringLiteral","scanNumericLiteral","isDecDigit","scanPunctuator","bitwiseOperators","readLongString","integerDivision","consumeEOL","peekCharCode","digit","fractionStart","exponentStart","digitStart","fraction","binaryExponent","binarySign","isHexDigit","foundFraction","foundBinaryExponent","hasFractionPart","readHexLiteral","foundExponent","readDecLiteral","foundImaginaryUnit","imaginaryNumbers","readImaginaryUnitSuffix","integerSuffixes","readInt64Suffix","sequenceStart","frag","ddd","skipWhitespaceEscape","hexEscapes","unicodeEscapes","escStart","readUnicodeEscapeSequence","strictEscapes","isLong","commentStart","lineStartComment","lineComment","isComment","terminator","firstLine","consume","expect","isBlockFollow","createScope","destroyScope","scopeIdentifierName","scopeIdentifier","attachScope","indexOfObject","scopeHasName","createLocationMarker","Marker","markLocation","pushLocation","marker","FullFlowContext","pendingGotos","LoopFlowContext","loopLevels","makeFlowContext","parseBlock","flowContext","block","relaxedBreak","parseStatement","nameToken","parseIdentifier","addLabel","parseLabelStatement","emptyStatement","raiseDeferredErrors","declToken","addLocal","parseExpectedExpression","parseFunctionDeclaration","parseLocalStatement","pushScope","popScope","parseIfStatement","parseExpression","parseReturnStatement","parseFunctionName","parseWhileStatement","parseForStatement","parseRepeatStatement","isInLoop","parseDoStatement","parseGotoStatement","startMarker","lvalue","targets","both","parsePrefixExpressionPart","parseAssignmentOrCallStatement","gotoToken","addGoto","parameter","allowVararg","parsePrimaryExpression","parseTableConstructor","parseSubExpression","binaryPrecedence","minPrecedence","precedence","isUnary","newBase","parsePrefixExpression","parseCallExpression","isLoop","deferredGotos","theGoto","maxDepth","localCounts","currentScope","newGotos","localCount","bads","levels","levlen","_input","_options","versionFeatures","parseChunk","ch","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bigint","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","for","$$typeof","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","currentComponent","isBatchUpdating","isInBrowser","listeners","manualListeners","nextVersionMap","proxyIsMuted","redirectToNext","store","ORIGINAL","LS_KEYS","isMap","isSet","Set","isTarget","isInternal","toStringTag","isFunction","getValue","setValue","mutableTarget","getSize","updateDeep","updater","processLevel","updated","handleEntry","processed","setContents","clear","whileMuted","cb","joiner","makeUserString","propPath","makeInternalString","basePath","extendToUserString","addProp","hasLocalStorage","localStorage","setItem","DEBUG_ON","DEBUG_OFF","DEBUG","getItem","logGet","groupCollapsed","groupEnd","logSet","subscribers","dispatchUpdateInNextStore","addListener","pathString","components","createShallow","Proxy","targetObject","Reflect","nextVersion","applyTarget","finalTarget","newProxiedValue","has","notifyTarget","isArrayMutation","proxiedArgs","updateResult","rootPath","ownKeys","newValueProxy","deleteProperty","logDelete","changedPaths","targetPath","targetChangedSize","initialSize","newValue","thisPropPath","thisProp","thisValue","clone$1","userFriendlyPropPath","listenerPath","propsUpdated","_name","logUpdate","changedProps","renderedComponents","notifyByPath","componentStack","stopRecordingGetsForComponent","getStoreClone","shallowClone","ComponentToWrap","WrappedComponent","_isMounted","_isMounting","_isRendering","componentDidMount","componentDidUpdate","componentWillUnmount","componentToRemove","filteredComponents","existingComponent","setState","EnvPropTypes","__RR__","debugOn","debugOff","internals","re","not_string","not_bool","not_type","not_primitive","numeric_arg","not_json","modulo","placeholder","key_access","index_access","parse_tree","argv","ph","pad_character","pad_length","is_positive","cursor","tree_length","param_no","toPrecision","pad_char","align","sprintf_format","sprintf_cache","_fmt","arg_names","field_list","replacement_field","field_match","sprintf_parse","vsprintf","stylesInDOM","getIndexByIdentifier","modulesToDom","idCountMap","identifiers","indexByIdentifier","css","sourceMap","references","addElementStyle","byIndex","api","domAPI","newObj","lastIdentifiers","newList","newLastIdentifiers","_i","memo","style","styleTarget","querySelector","HTMLIFrameElement","contentDocument","getTarget","setAttributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","removeStyleElement","styleSheet","cssText","firstChild","hiddenStore","createStore","privates","fallback","webpackContext","req","webpackContextResolve","__webpack_require__","mesh_1","material_1","Material","MaterialLibrary","layout_1","Layout","TYPES","DuplicateAttributeException","Attribute","utils_1","downloadModels","downloadMeshes","deleteMeshBuffers","Mesh","extendStatics","__extends","__","__values","iterator","_super","attribute","sizeOfType","sizeInBytes","e_1","_a","e_2","_b","attributeMap","maxStrideMultiple","attributes_1","attributes_1_1","e_1_1","attributes_2","attributes_2_1","e_2_1","POSITION","TANGENT","BITANGENT","UV","MATERIAL_INDEX","SHORT","MATERIAL_ENABLED","AMBIENT","DIFFUSE","SPECULAR","SPECULAR_EXPONENT","EMISSIVE","TRANSMISSION_FILTER","DISSOLVE","ILLUMINATION","REFRACTION_INDEX","SHARPNESS","MAP_DIFFUSE","MAP_AMBIENT","MAP_SPECULAR","MAP_SPECULAR_EXPONENT","MAP_DISSOLVE","ANTI_ALIASING","MAP_BUMP","MAP_DISPLACEMENT","MAP_DECAL","MAP_EMISSIVE","__read","ar","ambient","emissive","transmissionFilter","dissolve","transparency","illumination","refractionIndex","sharpness","colorCorrection","horizontalBlending","verticalBlending","boostMipMapSharpness","modifyTextureMap","brightness","contrast","turbulence","clamp","textureResolution","bumpMultiplier","imfChan","mapAmbient","mapSpecular","mapSpecularExponent","mapDissolve","antiAliasing","mapBump","mapDisplacement","mapDecal","mapEmissive","mapReflections","SENTINEL_MATERIAL","currentMaterial","materials","parse_newmtl","parseColor","parse_Ka","parse_Kd","parse_Ks","parse_Ke","parse_Tf","parse_d","parse_illum","parse_Ni","parse_Ns","parse_sharpness","parse_cc","parse_blendu","parse_blendv","parse_boost","parse_mm","parse_ost","option","parse_o","parse_s","parse_t","parse_texres","parse_clamp","parse_bm","parse_imfchan","parse_type","reflectionType","parseOptions","optionsToValues","startsWith","optionMethod","parseMap","optionsString","parse_map_Ka","parse_map_Kd","parse_map_Ks","parse_map_Ke","parse_map_Ns","parse_map_d","parse_map_aat","parse_map_bump","parse_bump","parse_disp","parse_decal","parse_refl","lines_1","lines_1_1","directive","parseMethod","__generator","thisArg","sent","trys","ops","verb","op","__spreadArray","objectData","tangents","bitangents","vertexNormals","textureStride","vertNormals","materialNamesByIndex","materialIndicesByName","currentMaterialIndex","currentObjectByMaterialIndex","unpacked","norms","hashindices","materialIndices","VERTEX_RE","NORMAL_RE","TEXTURE_RE","FACE_RE","WHITESPACE_RE","USE_MATERIAL_RE","elements","coords","materialName","triangles","triangulate","triangles_1","triangles_1_1","triangle","eleLen","hash","normalIndex","vertexMaterialIndices","materialNames","calcTangentsAndBitangents","calculateTangentsAndBitangents","normals","uvs","i0","i1","i2","x_v0","y_v0","z_v0","x_uv0","y_uv0","x_v1","y_v1","z_v1","x_uv1","y_uv1","x_deltaPos1","y_deltaPos1","z_deltaPos1","x_deltaPos2","y_deltaPos2","z_deltaPos2","x_uvDeltaPos1","y_uvDeltaPos1","x_uvDeltaPos2","y_uvDeltaPos2","rInv","x_tangent","y_tangent","z_tangent","x_bitangent","y_bitangent","z_bitangent","x_n0","y_n0","z_n0","x_n1","y_n1","z_n1","x_n2","y_n2","z_n2","n0_dot_t","n1_dot_t","n2_dot_t","x_resTangent0","y_resTangent0","z_resTangent0","x_resTangent1","y_resTangent1","z_resTangent1","x_resTangent2","y_resTangent2","z_resTangent2","magTangent0","magTangent1","magTangent2","n0_dot_bt","n1_dot_bt","n2_dot_bt","x_resBitangent0","y_resBitangent0","z_resBitangent0","x_resBitangent1","y_resBitangent1","z_resBitangent1","x_resBitangent2","y_resBitangent2","z_resBitangent2","magBitangent0","magBitangent1","magBitangent2","makeBufferData","layout","e_3","dataView","DataView","vertexOffset","_c","setFloat32","setInt16","materialIndex","material","e_3_1","makeIndexBufferData","makeIndexBufferDataForMaterials","mtlIdx","addMaterialLibrary","name_1","create1PixelTexture","pixel","createTexture","texImage2D","RGBA","UNSIGNED_BYTE","mapAttributes","endsWith","_loop_1","mapData","image","Image","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","mapAttributes_1","mapAttributes_1_1","downloadMtlTexturesFromZip","imageData","getMtl","modelOptions","itemSize","ARRAY_BUFFER","bufferData","finished","_loop_2","namePromise","meshPromise","mtlPromise","mtl_1","models_1","models_1_1","ms","ms_1","ms_1_1","name_2","nameAndURLs","completionCallback","meshes","_loop_3","mesh_name","e_4","ms_2","ms_2_1","name_3","e_4_1","deleteBuffer","webpackEmptyContext","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","getter","definition","globalThis","nmd","nc","ControllerStick","ctx","radius","canvas","height","dx","dy","draw","fillStyle","joystick","beginPath","arc","closePath","dust","stick","ball","touch","dist","CanvasRenderingContext2D","roundRect","moveTo","arcTo","ControllerButtons","buttons_layout","button","color","hit","strokeStyle","lineWidth","stroke","textAlign","textBaseline","font","fillText","Controller","button_offset","buttons","GamePad","_instance","dirty","showTrace","showDebug","opacity","red","green","blue","purple","yellow","cyan","black","white","fontSize","gp","controller","initOptions","setOptions","resize","loadCanvas","listener","ready","debounce","getPosition","pageX","pageY","leftClick","rightClick","disableScroll","rotateSpeed","angleChange","changeAngle","which","changedTouches","enableScroll","clearRect","trace","xPosition","yPosition","offsetLeft","scrollLeft","clientLeft","offsetTop","scrollTop","clientTop","offsetParent","removeEventListener","preventDefault","passive","stopPropagation","Keyboard","activeKeys","activeCodes","keyCode","shiftKey","maxI","ignore","_global","extension","getProto","_hasOwn","hasOwn","setProp","functionOrGetSet","derive","Child","Parent","getPropertyDescriptor","_slice","origFunc","overridedFactory","asap$1","arrayToObject","extractor","nameAndValue","getByKeyPath","keyPath","rv","period","innerObj","setByKeyPath","isFrozen","currentKeyPath","remainingKeyPath","flatten","intrinsicTypeNames","intrinsicTypes","circularRefs","deepClone","innerDeepClone","iteratorSymbol","getIteratorOf","NO_CHAR_ARRAY","getArrayOf","arrayLike","it","isAsyncFunction","setDebug","libraryFilter","NEEDS_THROW_FOR_STACK","getErrorWithStack","prettyStack","exception","numIgnoredFrames","idbDomErrorNames","errorList","defaultTexts","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","DexieError","_e","getMultiErrorMessage","failures","ModifyError","successCount","failedKeys","BulkError","failuresByPos","_stack","errnames","BaseException","exceptions","fullName","msgOrInner","inner","Syntax","Type","Range","exceptionMap","fullNameExceptions","nop","mirror","pureFunctionChain","f1","f2","callBoth","on1","on2","hookCreatingChain","onsuccess","res2","hookDeletingChain","hookUpdatingChain","modifications","reverseStoppableEventChain","promisableChain","thiz","INTERNAL","resolvedNativePromise","nativePromiseProto","resolvedGlobalPromise","globalP","crypto","subtle","nativeP","digest","nativePromiseThen","NativePromise","patchGlobalPromise","stack_being_generated","schedulePhysicalTick","physicalTick","hiddenDiv","asap","microtickQueue","needsNewPhysicalTick","isOutsideMicroTick","unhandledErrors","rejectingErrors","currentFulfiller","rejectionMapper","globalPSD","ref","unhandleds","onunhandled","globalError","pgp","finalize","uh","PSD","numScheduledCalls","tickFinalizers","DexiePromise","onuncatched","_lib","psd","_PSD","_stackHolder","_prev","_numPrev","_state","_value","handleRejection","executePromiseTask","thenProp","microTaskId","totalEchoes","possibleAwait","cleanup","decrementExpectedAwaits","propagateToListener","Listener","nativeAwaitCompatibleWrap","linkToPreviousPromise","shouldExecuteTick","beginMicroTickScope","_then","propagateAllListeners","endMicroTickScope","ex","reason","_promise","origProp","tryCatch","addPossiblyUnhandledError","finalizePhysicalTick","callListener","markErrorAsHandled","getStack","stacks","errorName","failure","numPrev","wasRootExec","callbacks","unhandledErrs","finalizers","PromiseReject","errorCatcher","outerScope","switchToZone","handler","onFinally","timeout","handle","Timeout","snapShot","onPossibleParallellAsync","newPSD","newScope","usePSD","scheduler","follow","zoneProps","finalizer","run_at_end_of_this_or_next_physical_tick","allSettled","possiblePromises","results","AggregateError","task","awaits","echoes","taskCounter","zoneStack","zoneEchoes","zone_id_counter","globalEnv","PromiseProp","nthen","getPatchedPromiseThen","gthen","incrementExpectedAwaits","possiblePromise","rejection","zoneEnterEcho","targetZone","zoneLeaveEcho","bEnteringZone","currentZone","enqueueNativeMicroTask","GlobalPromise","targetEnv","a3","job","outerZone","origThen","onResolved","UNHANDLEDREJECTION","eventData","initEvent","CustomEvent","detail","PromiseRejectionEvent","onunhandledrejection","defaultPrevented","tempTransaction","db","storeNames","idbdb","openComplete","letThrough","_vip","trans","_createTransaction","_dbSchema","_completion","dbOpenError","isBeingOpened","autoOpen","dbReadyPromise","DEXIE_VERSION","maxString","minKey","INVALID_KEY_ARGUMENT","STRING_EXPECTED","connections","isIEOrEdge","hasIEDeleteObjectStoreBug","hangsOnDeleteLargeKeyRange","dexieStackFrameFilter","DBNAMES_DB","READONLY","READWRITE","combine","filter1","filter2","AnyRange","lowerOpen","upperOpen","workaroundForUndefinedPrimKey","_trans","writeLocked","_tx","tableName","checkTableInTransaction","schema","NotFound","idbtrans","transless","keyOrCrit","where","core","hook","reading","fire","indexOrCrit","WhereClause","keyPaths","compoundIndex","indexes","primKey","ix","compound","_maxKey","kp","idxByName","idb","_deps","indexedDB","cmp","filterFunction","prevIndex","prevFilterFn","multi","toCollection","thenShortcut","numRows","each","Collection","orderBy","mapToClass","mappedClass","readHook","unsubscribe","defineClass","auto","objToAdd","mutate","numFailures","lastResult","keyOrObject","modify","InvalidArgument","put","bulkGet","getMany","bulkAdd","objects","keysOrOptions","wantResults","allKeys","numObjects","objectsToAdd","bulkPut","objectsToPut","bulkDelete","numKeys","Events","evs","eventName","subscriber","subscribe","addEventType","chainFunction","defaultFunction","makeClassConstructor","isPlainKeyRange","ignoreLimitFilter","algorithm","justLimit","replayFilter","addFilter","addReplayFilter","isLimitFilter","curr","getIndexOrStore","coreSchema","isPrimKey","primaryKey","getIndexByKeyPath","Schema","openCursor","coreTable","keysOnly","unique","query","iter","coreTrans","union","advance","fail","_iterate","iterate","valueMapper","cursorPromise","wrappedFn","continue","advancer","ta","tb","al","compareUint8Arrays","getUint8Array","compareArrays","tsTag","_ctx","_write","_addAlgorithm","sortBy","lastPart","lastIndex","getval","order","sorter","aVal","bVal","rowsLeft","until","bIncludeStopEntry","isMatch","indexName","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","distinct","strKey","changes","modifyer","anythingModified","outbound","extractKey","modifyChunkSize","totalFailures","applyMutateResult","expectedCount","nextChunk","addValues","putValues","putKeys","deleteKeys","origValue","criteria","deleteCallback","changeSpec","coreRange","simpleCompare","simpleCompareReverse","collectionOrWhereClause","collection","emptyCollection","whereClause","rangeEqual","nextCasing","lowerKey","upperNeedle","lowerNeedle","llp","lwrKeyChar","addIgnoreCaseAlgorithm","needles","suffix","upperNeedles","lowerNeedles","nextKeySuffix","needlesLen","initDirection","upperFactory","lowerFactory","needleBounds","needle","nb","createRange","firstPossibleNeedle","lowestPossibleCasing","casing","between","includeLower","includeUpper","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","ascending","descending","_min","_max","sortDirection","rangeSorter","newRange","rangePos","keyIsBeyondCurrentEntry","keyIsBeforeCurrentEntry","checkKey","keyWithinCurrentRange","startsWithAnyOf","eventRejectHandler","DEXIE_STORAGE_MUTATED_EVENT_NAME","STORAGE_MUTATED_DOM_EVENT_NAME","globalEvents","Transaction","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","fnAndPSD","OpenFailed","transaction","durability","chromeTransactionDurability","ev","_reject","onabort","oncomplete","_resolve","storagemutated","bWriteLock","ReadOnly","_root","waitFor","promiseLike","_waitingFor","_waitingQueue","objectStore","spin","_spinCount","currentWaitPromise","abort","memoizedTables","_memoizedTables","tableSchema","transactionBoundTable","createIndexSpec","nameFromKeyPath","createTableSchema","getMaxKey","IdbKeyRange","only","getKeyExtractor","getSinglePathKeyExtractor","arrayify","_id_counter","getKeyPathAlias","generateMiddlewareStacks","_novip","tmpTrans","middlewares","IDBKeyRange","dbcore","stackImpl","down","createMiddlewareStack","makeIDBKeyRange","upperBound","lowerBound","bound","hasGetAll","tables","objectStoreNames","autoIncrement","indexByKeyPath","isPrimaryKey","indexNames","multiEntry","extractSchema","isAddOrPut","reqs","errorHandler","delete","args1","args2","keyCount","callbackCount","successHandler","_pos","request","nonInfinitLimit","idbKeyRange","getAll","getAllKeys","openKeyCursor","___id","_cursorContinue","_cursorContinuePrimaryKey","continuePrimaryKey","_cursorAdvance","doThrowCursorIsStopped","gotOne","iterationPromise","resolveIteration","rejectIteration","guardedCallback","createDbCoreTable","tableMap","MIN_KEY","MAX_KEY","createDBCore","createMiddlewareStacks","_middlewares","setApiOnPlace","objs","tableNames","dbschema","propDesc","removeTablesApi","lowerVersionFirst","_cfg","getSchemaDiff","oldSchema","newSchema","diff","del","change","oldDef","newDef","def","recreate","oldIndexes","newIndexes","idxName","oldIdx","newIdx","createTable","createObjectStore","addIndex","createIndex","buildGlobalSchema","globalSchema","storeName","idbindex","adjustToExistingIndexNames","_hasGetAll","dexieName","indexSpec","WorkerGlobalScope","Version","_parseStoresSpec","stores","outSchema","indexNum","storesSource","versions","_versions","storesSpec","_allTables","_storeNames","upgrade","upgradeFunction","contentUpgrade","getDbNamesTable","dbNamesDB","Dexie$1","addons","dbnames","hasDatabasesNative","databases","vip","idbReady","intervalId","userAgentData","tryIdb","setInterval","clearInterval","dexieOpen","openCanceller","throwIfCancelled","resolveDbReady","dbReadyResolve","upgradeTransaction","wasCreated","dbName","autoSchema","verno","onblocked","_fireOnBlocked","onupgradeneeded","allowEmptyDB","close","delreq","deleteDatabase","NoSuchDatabase","oldVer","oldVersion","idbUpgradeTrans","rejectTransaction","populate","anyContentUpgraderHasRun","tuple","Upgrade","deleteIndex","upgradeSchema","contentUpgradeIsAsync","returnValue","promiseFollowed","decrementor","deleteObjectStore","deleteRemovedTables","runQueue","contains","updateTablesAndIndexes","runUpgraders","readGlobalSchema","verifyInstalledSchema","onversionchange","vcFired","onclose","_onDatabaseCreated","onReadyBeingFired","fireRemainders","remainders","_close","awaitIterator","callNext","onSuccess","onError","throw","getNext","extractTransactionArgs","_tableArgs_","scopeFunc","enterTransactionScope","parentTransaction","scopeFuncIsAsync","PrematureCommit","virtualIndexMiddleware","indexLookup","allVirtualIndexes","addVirtualIndexes","keyTail","lowLevelIndex","keyPathAlias","indexList","keyLength","isVirtual","virtualIndex","translateRequest","virtualCursor","createVirtualCursor","getObjectDiff","prfx","ap","bp","apTypeName","hooksMiddleware","downCore","downTable","tableMiddleware","dxTrans","deleting","creating","updating","addPutOrDelete","deleteNextChunk","deleteRange","getEffectiveKeys","effectiveKeys","getExistingValues","existingValues","contexts","existingValue","generatedPrimaryKey","objectDiff","additionalChanges","requestedValue","getFromTransactionCache","cacheExistingValuesMiddleware","cachedResult","isEmptyRange","RangeSet","fromOrTree","addRange","rebalance","rightWasCutOff","mergeRanges","newSet","_addRangeSet","getRangeSetIterator","keyProvided","rootClone","oldRootRight","computeDepth","rangeSet","addKey","addKeys","observabilityMiddleware","FULL_RANGE","tableClone","mutatedParts","getRangeSet","part","pkRangeSet","delsRangeSet","newObjs","oldCache","oldObjs","addKeyOrKeys","oldKey","newKey","trackAffectedIndexes","getRange","readSubscribers","subscr","queriedIndex","queriedRanges","keysPromise","resultingKeys","pKeys","wantValues","pkey","deps","dependencies","cancelOpen","bSticky","keyRangeGenerator","keyRange","whereCtx","readingHook","createTableConstructor","wasActive","createTransactionConstructor","versionNumber","createVersionConstructor","orCollection","_IDBKeyRange","createWhereClauseConstructor","newVersion","use","addon","versionInstance","_whenReady","unuse","mw","hasArguments","doDelete","_onDatabaseDeleted","backendDB","isOpen","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","onlyIfCompatible","idbMode","SubTransaction","enterTransaction","InvalidTable","symbolObservable","observable","Observable","_subscribe","extendObservabilitySet","domDeps","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","Dexie","propagateLocally","updateParts","wasMe","propagatingLocally","databaseName","exists","getDatabaseNames","infos","ignoreTransaction","generatorFn","spawn","currentTransaction","promiseOrFunction","optionalTimeout","liveQuery","querier","observer","closed","accumMuts","currentObs","subscription","mutationListener","querying","startedListening","shouldNotify","rangeSet1","rangeSet2","nextResult1","nextResult2","rangesOverlap","doQuery","execute","delByKeyPath","semVer","maxKey","updatedParts","initCustomEvent","BroadcastChannel","bc","changedParts","trig","matchAll","includeUncontrolled","client","swContainer","serviceWorker","domError","Database","spirits","abilities","accounts","dht","dbAdd","dbGet","dbRemove","dbUpdate","Store","fetchStore","addStore","delStore","updateStore","minecraftia","FontFace","Hud","halfHeight","save","rect","clip","grad","createLinearGradient","addColorStop","globalAlpha","fillRect","partX","partY","alpha","restore","clientWidth","clientHeight","drawImage","txt","textScrollBox","scroll","maxScroll","scrollY","border","corner","scrollBox","fontStyle","cleanit","dontFitText","setFont","getTextPos","fitText","fontStr","textHeight","textPos","words","space","word","measureText","bw","lineJoin","strokeRect","barsize","drawBorder","drawPortrait","drawScrollBox","setTransform","Camera","renderingManager","fov","thetaLimits","cameraOffset","dTheta","zAxis","xAxis","yAxis","newViewMat","CameraManager","LightManager","lights","removeLight","attentuation","enabled","maxLights","light","PointLight","lightUniforms","uLights","RenderManager","vsSource","fsSource","vertexShader","loadShader","fragmentShader","nMatrixUniform","samplerUniform","runTransition","useSampler","useDiffuse","normalMat","uniformMatrix3fv","isTransitioning","OBJ","applyAttributePointers","attrName","layoutKey","effectProgram","effects","fullscreen","modelViewMatrixStack","initializedWebGl","transition","transitionParams","transitionTexture","transitionDuration","transitionTime","getMilliseconds","getInstance","createCamera","createLightManager","initShaderProgram","initShaderEffects","activateShaderProgram","activateShaderEffectProgram","clearDepth","enable","DEPTH_TEST","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","BLEND","initProjection","fieldOfView","viewport","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","exitFullscreen","gamepadcanvas","parentElement","requestFullscreen","contents","bufferSubData","Texture","onImageLoaded","Speech","getContext","pixelStorei","UNPACK_FLIP_Y_WEBGL","LINEAR","LINEAR_MIPMAP_NEAREST","generateMipmap","ResourceManager","speeches","dataUrl","GLEngine","hudcanvas","fileUpload","Utils","database","screenSize","listen","requestId","requestAnimationFrame","clearScreen","timestamp","activatePickerShaderProgram","selectedObj","getSelectedObject","sprites","cancelAnimationFrame","mouseX","mouseY","pixelX","pixelY","readPixels","globalStore","video","current","srcObject","WebGLView","SpritzProvider","zipData","useRef","hudRef","gamepadRef","fileRef","mmRef","recordBtnRef","previewBtnRef","recordingRef","mergeCanvasRef","previewRef","previewBoxRef","onKeyEvent","onTouchEvent","useState","isRecording","setRecording","showRecording","setPreview","recorder","setRecorder","cStream","setStream","dynamicWidth","innerWidth","dynamicHeight","innerHeight","getDimension","setDimension","loadFonts","fonts","stopTouchScrolling","captureVideoStreams","mergeCanvas","mergeContext","captureStream","streamToVideo","MediaRecorder","gameVideo","hudVideo","mergeStreams","useEffect","glEngine","wrapperHeight","canvasHeight","canvasWidth","showGamepad","recordBtnStyle","display","zIndex","padding","showRecordBtnStyle","marginLeft","marginRight","onKeyDownCapture","nativeEvent","onKeyUpCapture","tabIndex","maxHeight","className","onMouseUp","onMouseDown","onMouseMove","hidden","onTouchMoveCapture","onTouchCancelCapture","onTouchStartCapture","onTouchEndCapture","onClick","onstart","ondataavailable","onstop","vidURL","vid","controls","onend","startRecording","stopRecording","class","hblurBuffer","createFramebuffer","dofUniformBuffer","texelOffsetLocation","textureLocation","depthLocation","quadArray","createVertexArray","bindVertexArray","quadPositionBuffer","depthTarget","texStorage2D","DEPTH_COMPONENT16","drawingBufferWidth","drawingBufferHeight","framebufferTexture2D","FRAMEBUFFER","DEPTH_ATTACHMENT","bindFramebuffer","hblurTarget","RGBA8","COLOR_ATTACHMENT0","bindBufferBase","UNIFORM_BUFFER","uniform2fv","loadMap","cells","$sprites","$scenes","scenes","scene","$scripts","$objects","bounds","dynamicCells","row","cell","Zone","zoneId","spriteLoader","objectLoader","tsLoader","onTilesetOrSpriteLoaded","loadObjectFromZip","loadSpriteFromZip","loadSprite","playCutScene","loadObject","Resources","fileResponse","audioSrc","eval","zoneJson","cellJson","skipCache","menus","loadTriggerFromZip","startMenu","lm","sprit","walkability","vertexTexCoords","tilePos","getWalkability","getTileVertices","getTileTexCoords","refresh","newObject","onLoadFromZip","newSprite","removeAllActions","foreach","portals","portal","getUV","getTileWalkPoly","uv","drawRow","tickOuter","walkable","within","include","getSpriteById","currentStep","runActions","World","zoneDict","zoneList","tilesetDict","tilesetList","eventList","eventDict","afterTickActions","sortZones","getZoneById","canWalk","remotely","loadRemote","removeAllSprites","runWhenDeleted","toggleFullscreen","pausable","visited","buildPath","neighbour","jsonNeighbour","getNeighbours","neigh","Spritz","JSZip","onKeyDown","onKeyUp","blur","blurInit","ExampleDynamicSpritz","loadSpritz","loadZipFile","click","onchange","manifest","initialZones","DynamicSpritz","Pixos","nextProps","networkString","margin","minHeight","Component","collect"],"sourceRoot":""}