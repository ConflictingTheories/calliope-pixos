!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react-dom"),require("react")):"function"==typeof define&&define.amd?define(["exports","react-dom","react"],t):t((e=e||self).ReactRecollect={},e.ReactDOM,e.React)}(this,(function(e,t,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const o=Symbol("PATH"),n=Symbol("ORIGINAL"),s="RR_DEBUG",c={currentComponent:null,isBatchUpdating:!1,isInBrowser:"undefined"!=typeof window,listeners:new Map,manualListeners:[],nextVersionMap:new WeakMap,proxyIsMuted:!1,redirectToNext:!0,store:{}},i=e=>!!e&&"object"==typeof e&&e.constructor===Object,a=e=>Array.isArray(e),p=e=>e instanceof Map,l=e=>e instanceof Set,f=e=>i(e)||a(e)||p(e)||l(e),u=e=>e===o||"constructor"===e||"toJSON"===e||"@@toStringTag"===e||e===Symbol.toStringTag,d=e=>"function"==typeof e,y=e=>i(e)?Object.assign({},e):a(e)?e.slice():p(e)?new Map(e):l(e)?new Set(e):e,m=(e,t)=>p(e)?e.get(t):l(e)?t:(a(e),e[t]),g=(e,t,r)=>{if(i(e))e[t]=r;else if(a(e))e[t]=r;else if(p(e))e.set(t,r);else{if(!l(e))throw Error("Unexpected type");e.add(r)}},h=e=>{if(i(e))return Object.keys(e).length;if(a(e))return e.length;if(p(e)||l(e))return e.size;throw Error("Unexpected type")},b=(e,t)=>{const r=[],o=e=>{const n=t(e,r.slice()),s=void 0!==n?n:e,c=(e,t)=>{r.push(e);const n=o(t);r.pop(),g(s,e,n)};if(i(s))Object.entries(s).forEach(([e,t])=>{c(e,t)});else if(a(s)||p(s))s.forEach((e,t)=>{c(t,e)});else if(l(s)){const e=Array.from(s);s.clear(),e.forEach(e=>{c(e,e)})}return s};return o(e)},w=e=>{c.proxyIsMuted=!0;const t=e();return c.proxyIsMuted=!1,t},O=(e,t)=>e.map(e=>e.toString()).join(t),S=e=>O(e,"."),P=e=>O(e,"~~~"),x=(e,t)=>{const r=e[o]||[];return void 0===t?r:r.concat(t)},M=(e,t)=>S(x(e,t)),_=(e,t)=>{e&&Object.defineProperty(e,o,{value:t,writable:!0})},j=e=>e[o]||[],C="undefined"!=typeof window&&!!window.localStorage,R=(e,t)=>{if(C)try{const r="string"==typeof t?t:JSON.stringify(t);return localStorage.setItem(e,r)}catch(e){return}};let E=(e=>{if(!C)return;const t=localStorage.getItem(e);if(!t)return t;try{return JSON.parse(t)}catch(e){return t}})(s)||"off";"on"===E&&console.info("Recollect debugging is enabled. Type __RR__.debugOff() to turn it off.");const v=()=>{E="on",R(s,"on")},T=()=>{E="off",R(s,"off")},$=e=>{"on"===E&&e()},I=(e,t,r)=>{$(()=>{console.groupCollapsed(`GET: ${M(e,t)}`),console.info(`Component: <${c.currentComponent._name}>`),void 0!==r&&console.info("Value:",r),console.groupEnd()})},N=(e,t,r)=>{$(()=>{console.groupCollapsed(`SET: ${M(e,t)}`),console.info("From:",m(e,t)),console.info("To:  ",r),console.groupEnd()})},A={},U=e=>A.UpdateNextStore(e),F=e=>{if(!c.currentComponent)return;const t=P(e),r=c.listeners.get(t)||new Set;r.add(c.currentComponent),c.listeners.set(t,r)},k=e=>p(e)||l(e)?{get(e,t){if(t===n)return e;let r=Reflect.get(e,t);if(d(r)&&(r=r.bind(e)),c.proxyIsMuted||u(t))return r;if(!c.currentComponent&&c.redirectToNext){const r=c.nextVersionMap.get(e);if(r)return Reflect.get(r,t)}if("set"===t){return new Proxy(r,{apply:(r,o,[n,s])=>o.get(n)===s||U({target:o,prop:n,value:s,updater:(r,o)=>(N(e,t,o),Reflect.apply(r[t],r,[n,o]))})})}if("add"===t){return new Proxy(r,{apply:(r,o,[n])=>!!o.has(n)||U({target:o,notifyTarget:!0,value:n,updater:(r,o)=>(N(e,t,o),Reflect.apply(r[t],r,[o]))})})}if("clear"===t||"delete"===t){return new Proxy(r,{apply:(r,o,[n])=>!(!o.size||"delete"===t&&!o.has(n))&&U({target:o,notifyTarget:!0,updater:r=>(N(e,t),Reflect.apply(r[t],r,[n]))})})}if(!c.currentComponent)return r;if(p(e)&&"get"===t){return new Proxy(r,{apply:(t,r,o)=>(F(x(e,o[0])),Reflect.apply(t,r,o))})}return r}}:{get(e,t){if(t===n)return e;const r=Reflect.get(e,t);if(c.proxyIsMuted||u(t))return r;if(((e,t)=>a(e)&&["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"].includes(t))(e,t)){return new Proxy(r,{apply:(r,o,n)=>U({target:o,notifyTarget:!0,value:n,updater:(r,o)=>{N(e,t,o);const n=Reflect.apply(r[t],r,o),s=j(e);return b(r,(e,t)=>{f(e)&&_(e,[...s,...t])}),n}})})}if(d(e[t]))return r;if(c.currentComponent)a(e)&&"length"===t||(I(e,t,r),F(x(e,t)));else if(c.redirectToNext){const r=c.nextVersionMap.get(e);if(r)return Reflect.get(r,t)}return r},has(e,t){const r=Reflect.has(e,t);if(c.proxyIsMuted||u(t))return r;if(c.currentComponent)a(e)||(I(e,t),F(x(e,t)));else{const r=c.nextVersionMap.get(e);if(r)return Reflect.has(r,t)}return r},ownKeys(e){const t=Reflect.ownKeys(e);if(c.proxyIsMuted)return t;if(c.currentComponent)I(e),F(j(e));else{const t=c.nextVersionMap.get(e);if(t)return Reflect.ownKeys(t)}return t},set:(e,t,r)=>c.proxyIsMuted?Reflect.set(e,t,r):e[t]===r||U({target:e,prop:t,value:r,updater:(r,o)=>(N(e,t,o),Reflect.set(r,t,o))}),deleteProperty:(e,t)=>c.proxyIsMuted?Reflect.deleteProperty(e,t):U({target:e,prop:t,notifyTarget:!0,updater:r=>(((e,t)=>{$(()=>{console.groupCollapsed(`DELETE: ${M(e,t)}`),console.info("Property: ",M(e,t)),console.groupEnd()})})(e,t),Reflect.deleteProperty(r,t))})},D=e=>new Proxy(e,k(e));var L=t.unstable_batchedUpdates||(e=>{e()});const V={components:new Map,changedPaths:new Set},B=()=>{L(()=>{V.components.forEach((e,t)=>{((e,t)=>{$(()=>{console.groupCollapsed(`UPDATE:  <${e._name}>`),console.info("Changed properties:",t),console.groupEnd()})})(t,Array.from(e)),t.update()})}),c.manualListeners.forEach(e=>e({changedProps:Array.from(V.changedPaths),renderedComponents:Array.from(V.components.keys()),store:c.store})),V.components.clear(),V.changedPaths.clear()};c.store=D({});var z;z=({target:e,prop:t,value:r,notifyTarget:o=!1,updater:s})=>w(()=>{let i;const a=j(e),p=x(e,t);let l=!1;const u=h(e);let d=r;return f(d)&&(d=b(r,(e,t)=>{if(!f(e))return e;const r=y(e);return _(r,[...p,...t]),D(r)})),a.length?a.reduce((t,r,o)=>{const p=m(t,r);let f=y(p);return _(f,j(p)),f=D(f),g(t,r,f),o===a.length-1&&(i=s(f,d),l=h(f)!==u,c.nextVersionMap.set(e[n]||e,f)),f},c.store):(i=s(c.store,d),l=h(c.store)!==u),(e=>{const t=P(e),r=S(e);V.changedPaths.add(r),c.listeners.forEach((e,o)=>{""!==t&&t!==o||e.forEach(e=>{const t=V.components.get(e)||new Set;t.add(r),V.components.set(e,t)})}),c.isBatchUpdating||B()})(o||l?a:p),i}),A.UpdateNextStore=z;const W=e=>{c.isBatchUpdating=!0,e(),c.isBatchUpdating=!1,B()};function q(e,t){return e(t={exports:{}},t.exports),t.exports
/** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */}var G="function"==typeof Symbol&&Symbol.for,J=G?Symbol.for("react.element"):60103,K=G?Symbol.for("react.portal"):60106,H=G?Symbol.for("react.fragment"):60107,Y=G?Symbol.for("react.strict_mode"):60108,Q=G?Symbol.for("react.profiler"):60114,X=G?Symbol.for("react.provider"):60109,Z=G?Symbol.for("react.context"):60110,ee=G?Symbol.for("react.async_mode"):60111,te=G?Symbol.for("react.concurrent_mode"):60111,re=G?Symbol.for("react.forward_ref"):60112,oe=G?Symbol.for("react.suspense"):60113,ne=G?Symbol.for("react.suspense_list"):60120,se=G?Symbol.for("react.memo"):60115,ce=G?Symbol.for("react.lazy"):60116,ie=G?Symbol.for("react.block"):60121,ae=G?Symbol.for("react.fundamental"):60117,pe=G?Symbol.for("react.responder"):60118,le=G?Symbol.for("react.scope"):60119;function fe(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case J:switch(e=e.type){case ee:case te:case H:case Q:case Y:case oe:return e;default:switch(e=e&&e.$$typeof){case Z:case re:case ce:case se:case X:return e;default:return t}}case K:return t}}}function ue(e){return fe(e)===te}var de={AsyncMode:ee,ConcurrentMode:te,ContextConsumer:Z,ContextProvider:X,Element:J,ForwardRef:re,Fragment:H,Lazy:ce,Memo:se,Portal:K,Profiler:Q,StrictMode:Y,Suspense:oe,isAsyncMode:function(e){return ue(e)||fe(e)===ee},isConcurrentMode:ue,isContextConsumer:function(e){return fe(e)===Z},isContextProvider:function(e){return fe(e)===X},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===J},isForwardRef:function(e){return fe(e)===re},isFragment:function(e){return fe(e)===H},isLazy:function(e){return fe(e)===ce},isMemo:function(e){return fe(e)===se},isPortal:function(e){return fe(e)===K},isProfiler:function(e){return fe(e)===Q},isStrictMode:function(e){return fe(e)===Y},isSuspense:function(e){return fe(e)===oe},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===H||e===te||e===Q||e===Y||e===oe||e===ne||"object"==typeof e&&null!==e&&(e.$$typeof===ce||e.$$typeof===se||e.$$typeof===X||e.$$typeof===Z||e.$$typeof===re||e.$$typeof===ae||e.$$typeof===pe||e.$$typeof===le||e.$$typeof===ie)},typeOf:fe},ye=q((function(e,t){})),me=(ye.AsyncMode,ye.ConcurrentMode,ye.ContextConsumer,ye.ContextProvider,ye.Element,ye.ForwardRef,ye.Fragment,ye.Lazy,ye.Memo,ye.Portal,ye.Profiler,ye.StrictMode,ye.Suspense,ye.isAsyncMode,ye.isConcurrentMode,ye.isContextConsumer,ye.isContextProvider,ye.isElement,ye.isForwardRef,ye.isFragment,ye.isLazy,ye.isMemo,ye.isPortal,ye.isProfiler,ye.isStrictMode,ye.isSuspense,ye.isValidElementType,ye.typeOf,q((function(e){e.exports=de}))),ge={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},he={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},be={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},we={};function Oe(e){return me.isMemo(e)?be:we[e.$$typeof]||ge}we[me.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},we[me.Memo]=be;var Se=Object.defineProperty,Pe=Object.getOwnPropertyNames,xe=Object.getOwnPropertySymbols,Me=Object.getOwnPropertyDescriptor,_e=Object.getPrototypeOf,je=Object.prototype;var Ce=function e(t,r,o){if("string"!=typeof r){if(je){var n=_e(r);n&&n!==je&&e(t,n,o)}var s=Pe(r);xe&&(s=s.concat(xe(r)));for(var c=Oe(t),i=Oe(r),a=0;a<s.length;++a){var p=s[a];if(!(he[p]||o&&o[p]||i&&i[p]||c&&c[p])){var l=Me(r,p);try{Se(t,p,l)}catch(e){}}}}return t};const Re=[],Ee=()=>{c.isInBrowser&&($(()=>{console.groupEnd()}),Re.pop(),c.currentComponent=Re[Re.length-1]||null)},ve=()=>w(()=>{const e=Object.assign({},c.store);return c.nextVersionMap.set(e,c.store),D(e)});
/*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  */
var Te=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;function Ne(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}})()&&Object.assign,Function.call.bind(Object.prototype.hasOwnProperty);function Ae(){}function Ue(){}Ue.resetWarningCache=Ae;var Fe=q((function(e){e.exports=function(){function e(e,t,r,o,n,s){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==s){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ue,resetWarningCache:Ae};return r.PropTypes=r,r}()}));let ke;ke=Object.freeze({__proto__:null,default:Fe,__moduleExports:Fe});const De=ke,{store:Le}=c,Ve=c;"undefined"!=typeof window&&("Proxy"in window?window.__RR__={debugOn:v,debugOff:T,internals:c}:console.warn("This browser doesn't support the Proxy object, which react-recollect needs. See https://caniuse.com/#search=proxy to find out which browsers do support it")),e.PropTypes=De,e.afterChange=e=>{c.manualListeners.push(e)},e.batch=W,e.collect=e=>{const t=e.displayName||e.name||"NamelessComponent";class o extends r.PureComponent{constructor(){super(...arguments),this.state={store:ve()},this._isMounted=!1,this._isMounting=!0,this._isRendering=!1,this._name=t}componentDidMount(){this._isMounted=!0,this._isMounting=!1,Ee(),this._isRendering=!1}componentDidUpdate(){Ee(),this._isRendering=!1}componentWillUnmount(){var e;e=this,c.listeners.forEach((t,r)=>{const o=Array.from(t).filter(t=>t!==e);o.length?c.listeners.set(r,new Set(o)):c.listeners.delete(r)}),this._isMounted=!1}update(){(this._isMounted||this._isMounting)&&this.setState({store:ve()})}render(){var t;this._isRendering||(t=this,c.isInBrowser&&($(()=>{console.groupCollapsed(`RENDER: <${t._name}>`)}),c.currentComponent=t,Re.push(c.currentComponent)),this._isRendering=!0);const o=Object.assign(Object.assign({},this.props),{store:this.state.store});return r.createElement(e,Object.assign({},o))}}return o.displayName=`Collected(${t})`,Ce(o,e)},e.initStore=e=>{W(()=>{var t,r;t=c.store,(r=e)?(Object.entries(r).forEach(([e,r])=>{t[e]!==r&&(t[e]=r)}),Object.keys(t).forEach(e=>{e in r||delete t[e]})):Object.keys(t).forEach(e=>{delete t[e]})})},e.internals=Ve,e.store=Le,e.useProps=e=>{e.includes(0)},Object.defineProperty(e,"__esModule",{value:!0})}));
